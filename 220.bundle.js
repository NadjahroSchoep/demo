"use strict";(self.webpackChunkchatwidget=self.webpackChunkchatwidget||[]).push([[220],{2220:(t,e,s)=>{s.r(e),s.d(e,{ChatComponent:()=>o});var i=s(1316),n=s(8676),a=s(4352),c=s(5552),h=s(6764),r=s(1132);let o=class{constructor(t,e,s,i,n){this.api=t,this.auth=e,this.chatService=s,this.channelService=i,this.streamI18nService=n}ngOnInit(){if(this.auth.isAuthenticated$){let t="";this.api.getToken().subscribe((e=>{const s=e.token;t=e.username,console.log(t),this.chatService.init("63bygjq8kbu4",t,s),this.streamI18nService.setTranslation(),this.channelService.init({type:"messaging",members:{$in:[t]}})}))}}};o=(0,i.UN)([(0,n.Component)({selector:"chatwidget-chat",standalone:!0,imports:[r.MD,c.QP],templateUrl:"./chat.component.html",styleUrls:["./chat.component.scss"]}),(0,i.YR)("design:paramtypes",[a.W,h.oj,c.Kc,c.mM,c.iY])],o)}}]);