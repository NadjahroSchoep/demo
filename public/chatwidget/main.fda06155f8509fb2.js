(self.webpackChunkchatwidget=self.webpackChunkchatwidget||[]).push([[179],{2226:(nt,_e,A)=>{"use strict";var T=A(1481),R=A(4650),t=A(7434);let z=(()=>{class Be{constructor(){this.title="chatwidget"}static#e=this.\u0275fac=function(Pe){return new(Pe||Be)};static#t=this.\u0275cmp=R.Xpm({type:Be,selectors:[["chatwidget-root"]],decls:1,vars:0,template:function(Pe,Te){1&Pe&&R._UZ(0,"router-outlet")},dependencies:[t.lC]})}return Be})();var W=A(6895),J=A(2409),ee=A(6665);function le(Be,Ne){if(1&Be){const Re=R.EpF();R.TgZ(0,"div")(1,"button",2),R.NdJ("click",function(){R.CHM(Re);const Te=R.oxw();return R.KtG(Te.logout())}),R._uU(2,"Logout"),R.qZA()()}}function we(Be,Ne){if(1&Be){const Re=R.EpF();R.TgZ(0,"button",2),R.NdJ("click",function(){R.CHM(Re);const Te=R.oxw();return R.KtG(Te.login())}),R._uU(1,"Login"),R.qZA(),R.TgZ(2,"button",2),R.NdJ("click",function(){R.CHM(Re);const Te=R.oxw();return R.KtG(Te.signup())}),R._uU(3,"Sign up"),R.qZA()}}let ge=(()=>{class Be{constructor(Re,Pe,Te){this.auth=Re,this.api=Pe,this.doc=Te,this.isAuthenticated$=this.auth.isAuthenticated$}login(){this.auth.loginWithRedirect({appState:{target:"/chat"},authorizationParams:{prompt:"login"}})}logout(){this.auth.logout({logoutParams:{returnTo:this.doc.location.origin}})}signup(){this.auth.loginWithRedirect({authorizationParams:{screen_hint:"signup"}})}static#e=this.\u0275fac=function(Pe){return new(Pe||Be)(R.Y36(J.e8),R.Y36(ee.s),R.Y36(W.K0))};static#t=this.\u0275cmp=R.Xpm({type:Be,selectors:[["chatwidget-auth"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loginButton",""],[3,"click"]],template:function(Pe,Te){if(1&Pe&&(R.YNc(0,le,3,0,"div",0),R.ALo(1,"async"),R.YNc(2,we,4,0,"ng-template",null,1,R.W1O)),2&Pe){const st=R.MAs(3);R.Q6J("ngIf",R.lcZ(1,2,Te.auth.isAuthenticated$))("ngIfElse",st)}},dependencies:[W.O5,W.Ov],encapsulation:2})}return Be})(),de=(()=>{class Be{constructor(Re){this.auth=Re}ngOnInit(){console.log("Called back"),this.auth.handleRedirectCallback().subscribe()}static#e=this.\u0275fac=function(Pe){return new(Pe||Be)(R.Y36(J.e8))};static#t=this.\u0275cmp=R.Xpm({type:Be,selectors:[["chatwidget-callback"]],decls:2,vars:0,template:function(Pe,Te){1&Pe&&(R.TgZ(0,"div"),R._uU(1,"Logging in..."),R.qZA())},encapsulation:2})}return Be})();var fe=A(7126),at=A(7898),ye=A(529);const ut=[{path:"",component:ge},{path:"callback",component:de},{path:"chat",loadComponent:()=>A.e(593).then(A.bind(A,7593)).then(Be=>Be.ChatComponent),canActivate:[J.a1]}];let xe=(()=>{class Be{static#e=this.\u0275fac=function(Pe){return new(Pe||Be)};static#t=this.\u0275mod=R.oAB({type:Be,bootstrap:[z]});static#n=this.\u0275inj=R.cJS({providers:[{provide:ye.TP,useClass:J.Gf,multi:!0}],imports:[T.b2,t.Bz.forRoot(ut),J.ny.forRoot({domain:"dev-xmsy4k5t5v2yf225.us.auth0.com",clientId:"6D8v8qqa3okykI4CW56GH8O2NNK2XThM",authorizationParams:{redirect_uri:"http://localhost:4200/callback",audience:"https://hello-world.com"},httpInterceptor:{allowedList:["https://localhost:7183*"]}}),fe.aw.forRoot(),at.$e,at.tL,ye.JF]})}return Be})();T.q6().bootstrapModule(xe).catch(Be=>console.error(Be))},6665:(nt,_e,A)=>{"use strict";A.d(_e,{s:()=>z});var T=A(4650),R=A(529),t=A(2409);let z=(()=>{class W{constructor(ee,le){this.http=ee,this.auth=le,this.baseUrl="https://localhost:7183"}getToken(){return this.http.get(`${this.baseUrl}/api/stream/token`,{responseType:"json"})}getChannel(ee,le,we,ge){return this.http.get(`${this.baseUrl}/api/stream/channel?channelType=${ee}&channelId=${le}&user1=${we}&user2=${ge}`)}getUserChannels(ee){return this.http.get(`${this.baseUrl}/api/stream/channels?user=${ee}`)}addUser(ee){this.http.post(`${this.baseUrl}/api/stream/user?username=${ee}`,{headers:{"Content-Type":"application/json"}}).subscribe(we=>{console.log(we)},we=>{console.error("Error:",we)})}login(){this.http.get(`${this.baseUrl}/api/auth/login`).subscribe(ee=>{console.log(ee)},ee=>{console.error("Error:",ee)})}getUser(){this.http.get(`${this.baseUrl}/api/auth/user`).subscribe(ee=>{console.log(ee)},ee=>{console.error("Error:",ee)})}addMessage(ee,le,we,ge){return this.http.get(`${this.baseUrl}/api/stream/message?channelType=${ee}&channelId=${le}&user=${we}&message=${ge}`,{headers:{"Content-Type":"application/json"}})}static#e=this.\u0275fac=function(le){return new(le||W)(T.LFG(R.eN),T.LFG(t.e8))};static#t=this.\u0275prov=T.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},5343:(nt,_e)=>{"use strict";_e.JQ=function at(ye){for(var Oe,ut=ye.length,xe=ut%3,Be=[],Re=0,Pe=ut-xe;Re<Pe;Re+=16383)Be.push(fe(ye,Re,Re+16383>Pe?Pe:Re+16383));return 1===xe?Be.push(T[(Oe=ye[ut-1])>>2]+T[Oe<<4&63]+"=="):2===xe&&Be.push(T[(Oe=(ye[ut-2]<<8)+ye[ut-1])>>10]+T[Oe>>4&63]+T[Oe<<2&63]+"="),Be.join("")};for(var T=[],R=[],z=(typeof Uint8Array<"u"&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),W=0,J=z.length;W<J;++W)T[W]=z[W],R[z.charCodeAt(W)]=W;function de(ye){return T[ye>>18&63]+T[ye>>12&63]+T[ye>>6&63]+T[63&ye]}function fe(ye,Oe,ut){for(var Be=[],Ne=Oe;Ne<ut;Ne+=3)Be.push(de((ye[Ne]<<16&16711680)+(ye[Ne+1]<<8&65280)+(255&ye[Ne+2])));return Be.join("")}R["-".charCodeAt(0)]=62,R["_".charCodeAt(0)]=63},1764:function(nt){nt.exports=function(){"use strict";var A=6e4,T=36e5,R="millisecond",t="second",z="minute",W="hour",J="day",ee="week",le="month",we="quarter",ge="year",de="date",fe="Invalid Date",at=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ye=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(je){var Le=["th","st","nd","rd"],Ee=je%100;return"["+je+(Le[(Ee-20)%10]||Le[Ee]||Le[0])+"]"}},ut=function(je,Le,Ee){var rt=String(je);return!rt||rt.length>=Le?je:""+Array(Le+1-rt.length).join(Ee)+je},xe={s:ut,z:function(je){var Le=-je.utcOffset(),Ee=Math.abs(Le),rt=Math.floor(Ee/60),ie=Ee%60;return(Le<=0?"+":"-")+ut(rt,2,"0")+":"+ut(ie,2,"0")},m:function je(Le,Ee){if(Le.date()<Ee.date())return-je(Ee,Le);var rt=12*(Ee.year()-Le.year())+(Ee.month()-Le.month()),ie=Le.clone().add(rt,le),Ce=Ee-ie<0,V=Le.clone().add(rt+(Ce?-1:1),le);return+(-(rt+(Ee-ie)/(Ce?ie-V:V-ie))||0)},a:function(je){return je<0?Math.ceil(je)||0:Math.floor(je)},p:function(je){return{M:le,y:ge,w:ee,d:J,D:de,h:W,m:z,s:t,ms:R,Q:we}[je]||String(je||"").toLowerCase().replace(/s$/,"")},u:function(je){return void 0===je}},Be="en",Ne={};Ne[Be]=Oe;var Re="$isDayjsObject",Pe=function(je){return je instanceof it||!(!je||!je[Re])},Te=function je(Le,Ee,rt){var ie;if(!Le)return Be;if("string"==typeof Le){var Ce=Le.toLowerCase();Ne[Ce]&&(ie=Ce),Ee&&(Ne[Ce]=Ee,ie=Ce);var V=Le.split("-");if(!ie&&V.length>1)return je(V[0])}else{var qe=Le.name;Ne[qe]=Le,ie=qe}return!rt&&ie&&(Be=ie),ie||!rt&&Be},st=function(je,Le){if(Pe(je))return je.clone();var Ee="object"==typeof Le?Le:{};return Ee.date=je,Ee.args=arguments,new it(Ee)},ht=xe;ht.l=Te,ht.i=Pe,ht.w=function(je,Le){return st(je,{locale:Le.$L,utc:Le.$u,x:Le.$x,$offset:Le.$offset})};var it=function(){function je(Ee){this.$L=Te(Ee.locale,null,!0),this.parse(Ee),this.$x=this.$x||Ee.x||{},this[Re]=!0}var Le=je.prototype;return Le.parse=function(Ee){this.$d=function(rt){var ie=rt.date,Ce=rt.utc;if(null===ie)return new Date(NaN);if(ht.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if("string"==typeof ie&&!/Z$/i.test(ie)){var V=ie.match(at);if(V){var qe=V[2]-1||0,vt=(V[7]||"0").substring(0,3);return Ce?new Date(Date.UTC(V[1],qe,V[3]||1,V[4]||0,V[5]||0,V[6]||0,vt)):new Date(V[1],qe,V[3]||1,V[4]||0,V[5]||0,V[6]||0,vt)}}return new Date(ie)}(Ee),this.init()},Le.init=function(){var Ee=this.$d;this.$y=Ee.getFullYear(),this.$M=Ee.getMonth(),this.$D=Ee.getDate(),this.$W=Ee.getDay(),this.$H=Ee.getHours(),this.$m=Ee.getMinutes(),this.$s=Ee.getSeconds(),this.$ms=Ee.getMilliseconds()},Le.$utils=function(){return ht},Le.isValid=function(){return this.$d.toString()!==fe},Le.isSame=function(Ee,rt){var ie=st(Ee);return this.startOf(rt)<=ie&&ie<=this.endOf(rt)},Le.isAfter=function(Ee,rt){return st(Ee)<this.startOf(rt)},Le.isBefore=function(Ee,rt){return this.endOf(rt)<st(Ee)},Le.$g=function(Ee,rt,ie){return ht.u(Ee)?this[rt]:this.set(ie,Ee)},Le.unix=function(){return Math.floor(this.valueOf()/1e3)},Le.valueOf=function(){return this.$d.getTime()},Le.startOf=function(Ee,rt){var ie=this,Ce=!!ht.u(rt)||rt,V=ht.p(Ee),qe=function(Ie,H){var Me=ht.w(ie.$u?Date.UTC(ie.$y,H,Ie):new Date(ie.$y,H,Ie),ie);return Ce?Me:Me.endOf(J)},vt=function(Ie,H){return ht.w(ie.toDate()[Ie].apply(ie.toDate("s"),(Ce?[0,0,0,0]:[23,59,59,999]).slice(H)),ie)},Q=this.$W,he=this.$M,me=this.$D,U="set"+(this.$u?"UTC":"");switch(V){case ge:return Ce?qe(1,0):qe(31,11);case le:return Ce?qe(1,he):qe(0,he+1);case ee:var Qe=this.$locale().weekStart||0,I=(Q<Qe?Q+7:Q)-Qe;return qe(Ce?me-I:me+(6-I),he);case J:case de:return vt(U+"Hours",0);case W:return vt(U+"Minutes",1);case z:return vt(U+"Seconds",2);case t:return vt(U+"Milliseconds",3);default:return this.clone()}},Le.endOf=function(Ee){return this.startOf(Ee,!1)},Le.$set=function(Ee,rt){var ie,Ce=ht.p(Ee),V="set"+(this.$u?"UTC":""),qe=(ie={},ie[J]=V+"Date",ie[de]=V+"Date",ie[le]=V+"Month",ie[ge]=V+"FullYear",ie[W]=V+"Hours",ie[z]=V+"Minutes",ie[t]=V+"Seconds",ie[R]=V+"Milliseconds",ie)[Ce],vt=Ce===J?this.$D+(rt-this.$W):rt;if(Ce===le||Ce===ge){var Q=this.clone().set(de,1);Q.$d[qe](vt),Q.init(),this.$d=Q.set(de,Math.min(this.$D,Q.daysInMonth())).$d}else qe&&this.$d[qe](vt);return this.init(),this},Le.set=function(Ee,rt){return this.clone().$set(Ee,rt)},Le.get=function(Ee){return this[ht.p(Ee)]()},Le.add=function(Ee,rt){var ie,Ce=this;Ee=Number(Ee);var V=ht.p(rt),qe=function(he){var me=st(Ce);return ht.w(me.date(me.date()+Math.round(he*Ee)),Ce)};if(V===le)return this.set(le,this.$M+Ee);if(V===ge)return this.set(ge,this.$y+Ee);if(V===J)return qe(1);if(V===ee)return qe(7);var vt=(ie={},ie[z]=A,ie[W]=T,ie[t]=1e3,ie)[V]||1,Q=this.$d.getTime()+Ee*vt;return ht.w(Q,this)},Le.subtract=function(Ee,rt){return this.add(-1*Ee,rt)},Le.format=function(Ee){var rt=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||fe;var Ce=Ee||"YYYY-MM-DDTHH:mm:ssZ",V=ht.z(this),qe=this.$H,vt=this.$m,Q=this.$M,he=ie.weekdays,me=ie.months,Qe=function(H,Me,Ae,Ye){return H&&(H[Me]||H(rt,Ce))||Ae[Me].slice(0,Ye)},I=function(H){return ht.s(qe%12||12,H,"0")},Ie=ie.meridiem||function(H,Me,Ae){var Ye=H<12?"AM":"PM";return Ae?Ye.toLowerCase():Ye};return Ce.replace(ye,function(H,Me){return Me||function(Ae){switch(Ae){case"YY":return String(rt.$y).slice(-2);case"YYYY":return ht.s(rt.$y,4,"0");case"M":return Q+1;case"MM":return ht.s(Q+1,2,"0");case"MMM":return Qe(ie.monthsShort,Q,me,3);case"MMMM":return Qe(me,Q);case"D":return rt.$D;case"DD":return ht.s(rt.$D,2,"0");case"d":return String(rt.$W);case"dd":return Qe(ie.weekdaysMin,rt.$W,he,2);case"ddd":return Qe(ie.weekdaysShort,rt.$W,he,3);case"dddd":return he[rt.$W];case"H":return String(qe);case"HH":return ht.s(qe,2,"0");case"h":return I(1);case"hh":return I(2);case"a":return Ie(qe,vt,!0);case"A":return Ie(qe,vt,!1);case"m":return String(vt);case"mm":return ht.s(vt,2,"0");case"s":return String(rt.$s);case"ss":return ht.s(rt.$s,2,"0");case"SSS":return ht.s(rt.$ms,3,"0");case"Z":return V}return null}(H)||V.replace(":","")})},Le.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Le.diff=function(Ee,rt,ie){var Ce,V=this,qe=ht.p(rt),vt=st(Ee),Q=(vt.utcOffset()-this.utcOffset())*A,he=this-vt,me=function(){return ht.m(V,vt)};switch(qe){case ge:Ce=me()/12;break;case le:Ce=me();break;case we:Ce=me()/3;break;case ee:Ce=(he-Q)/6048e5;break;case J:Ce=(he-Q)/864e5;break;case W:Ce=he/T;break;case z:Ce=he/A;break;case t:Ce=he/1e3;break;default:Ce=he}return ie?Ce:ht.a(Ce)},Le.daysInMonth=function(){return this.endOf(le).$D},Le.$locale=function(){return Ne[this.$L]},Le.locale=function(Ee,rt){if(!Ee)return this.$L;var ie=this.clone(),Ce=Te(Ee,rt,!0);return Ce&&(ie.$L=Ce),ie},Le.clone=function(){return ht.w(this.$d,this)},Le.toDate=function(){return new Date(this.valueOf())},Le.toJSON=function(){return this.isValid()?this.toISOString():null},Le.toISOString=function(){return this.$d.toISOString()},Le.toString=function(){return this.$d.toUTCString()},je}(),dt=it.prototype;return st.prototype=dt,[["$ms",R],["$s",t],["$m",z],["$H",W],["$W",J],["$M",le],["$y",ge],["$D",de]].forEach(function(je){dt[je[1]]=function(Le){return this.$g(Le,je[0],je[1])}}),st.extend=function(je,Le){return je.$i||(je(Le,it,st),je.$i=!0),st},st.locale=Te,st.isDayjs=Pe,st.unix=function(je){return st(1e3*je)},st.en=Ne[Be],st.Ls=Ne,st.p={},st}()},563:function(nt){nt.exports=function(){"use strict";return function(_e,A,T){var R="h:mm A",t={lastDay:"[Yesterday at] "+R,sameDay:"[Today at] "+R,nextDay:"[Tomorrow at] "+R,nextWeek:"dddd [at] "+R,lastWeek:"[Last] dddd [at] "+R,sameElse:"MM/DD/YYYY"};A.prototype.calendar=function(z,W){var J=W||this.$locale().calendar||t,ee=T(z||void 0).startOf("d"),le=this.diff(ee,"d",!0),we="sameElse",ge=le<-6?we:le<-1?"lastWeek":le<0?"lastDay":le<1?"sameDay":le<2?"nextDay":le<7?"nextWeek":we,de=J[ge]||t[ge];return"function"==typeof de?de.call(this,T()):this.format(de)}}}()},2243:function(nt){nt.exports=function(){"use strict";return function(_e,A,T){_e=_e||{};var R=A.prototype,t={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function z(J,ee,le,we){return R.fromToBase(J,ee,le,we)}T.en.relativeTime=t,R.fromToBase=function(J,ee,le,we,ge){for(var de,fe,at,ye=le.$locale().relativeTime||t,Oe=_e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],ut=Oe.length,xe=0;xe<ut;xe+=1){var Be=Oe[xe];Be.d&&(de=we?T(J).diff(le,Be.d,!0):le.diff(J,Be.d,!0));var Ne=(_e.rounding||Math.round)(Math.abs(de));if(at=de>0,Ne<=Be.r||!Be.r){Ne<=1&&xe>0&&(Be=Oe[xe-1]);var Re=ye[Be.l];ge&&(Ne=ge(""+Ne)),fe="string"==typeof Re?Re.replace("%d",Ne):Re(Ne,ee,Be.l,at);break}}if(ee)return fe;var Pe=at?ye.future:ye.past;return"function"==typeof Pe?Pe(fe):Pe.replace("%s",fe)},R.to=function(J,ee){return z(J,ee,this,!0)},R.from=function(J,ee){return z(J,ee,this)};var W=function(J){return J.$u?T.utc():T()};R.toNow=function(J){return this.to(W(this),J)},R.fromNow=function(J){return this.from(W(this),J)}}}()},593:nt=>{nt.exports="object"==typeof self?self.FormData:window.FormData},9151:nt=>{var _e=null;typeof WebSocket<"u"?_e=WebSocket:typeof MozWebSocket<"u"?_e=MozWebSocket:typeof global<"u"?_e=global.WebSocket||global.MozWebSocket:typeof window<"u"?_e=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(_e=self.WebSocket||self.MozWebSocket),nt.exports=_e},2711:nt=>{var _e=1/0,A="[object Symbol]",T=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,W=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),ee="object"==typeof global&&global&&global.Object===Object&&global,le="object"==typeof self&&self&&self.Object===Object&&self,we=ee||le||Function("return this")(),de=function ge(Te){return function(st){return Te?.[st]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"ss"}),at=Object.prototype.toString,ye=we.Symbol,Oe=ye?ye.prototype:void 0,ut=Oe?Oe.toString:void 0;nt.exports=function Pe(Te){return(Te=function Re(Te){return null==Te?"":function xe(Te){if("string"==typeof Te)return Te;if(function Ne(Te){return"symbol"==typeof Te||function Be(Te){return!!Te&&"object"==typeof Te}(Te)&&at.call(Te)==A}(Te))return ut?ut.call(Te):"";var st=Te+"";return"0"==st&&1/Te==-_e?"-0":st}(Te)}(Te))&&Te.replace(T,de).replace(W,"")}},3431:nt=>{"use strict";const _e=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],A=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],T=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],R=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],t=(z,W,J)=>{let ee=z;return"string"==typeof W||Array.isArray(W)?ee=z.toLocaleString(W,J):(!0===W||void 0!==J)&&(ee=z.toLocaleString(void 0,J)),ee};nt.exports=(z,W)=>{if(!Number.isFinite(z))throw new TypeError(`Expected a finite number, got ${typeof z}: ${z}`);const J=(W=Object.assign({bits:!1,binary:!1},W)).bits?W.binary?R:T:W.binary?A:_e;if(W.signed&&0===z)return` 0 ${J[0]}`;const ee=z<0,le=ee?"-":W.signed?"+":"";let we;if(ee&&(z=-z),void 0!==W.minimumFractionDigits&&(we={minimumFractionDigits:W.minimumFractionDigits}),void 0!==W.maximumFractionDigits&&(we=Object.assign({maximumFractionDigits:W.maximumFractionDigits},we)),z<1)return le+t(z,W.locale,we)+" "+J[0];const ge=Math.min(Math.floor(W.binary?Math.log(z)/Math.log(1024):Math.log10(z)/3),J.length-1);return z/=Math.pow(W.binary?1024:1e3,ge),we||(z=z.toPrecision(3)),le+t(Number(z),W.locale,we)+" "+J[ge]}},1135:(nt,_e,A)=>{"use strict";A.d(_e,{X:()=>R});var T=A(7579);class R extends T.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const W=super._subscribe(z);return!W.closed&&z.next(this._value),W}getValue(){const{hasError:z,thrownError:W,_value:J}=this;if(z)throw W;return this._throwIfClosed(),J}next(z){super.next(this._value=z)}}},9751:(nt,_e,A)=>{"use strict";A.d(_e,{y:()=>le});var T=A(930),R=A(727),t=A(8822),z=A(9635),W=A(2416),J=A(576),ee=A(2806);let le=(()=>{class fe{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const Oe=new fe;return Oe.source=this,Oe.operator=ye,Oe}subscribe(ye,Oe,ut){const xe=function de(fe){return fe&&fe instanceof T.Lv||function ge(fe){return fe&&(0,J.m)(fe.next)&&(0,J.m)(fe.error)&&(0,J.m)(fe.complete)}(fe)&&(0,R.Nn)(fe)}(ye)?ye:new T.Hp(ye,Oe,ut);return(0,ee.x)(()=>{const{operator:Be,source:Ne}=this;xe.add(Be?Be.call(xe,Ne):Ne?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(ye){try{return this._subscribe(ye)}catch(Oe){ye.error(Oe)}}forEach(ye,Oe){return new(Oe=we(Oe))((ut,xe)=>{const Be=new T.Hp({next:Ne=>{try{ye(Ne)}catch(Re){xe(Re),Be.unsubscribe()}},error:xe,complete:ut});this.subscribe(Be)})}_subscribe(ye){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(ye)}[t.L](){return this}pipe(...ye){return(0,z.U)(ye)(this)}toPromise(ye){return new(ye=we(ye))((Oe,ut)=>{let xe;this.subscribe(Be=>xe=Be,Be=>ut(Be),()=>Oe(xe))})}}return fe.create=at=>new fe(at),fe})();function we(fe){var at;return null!==(at=fe??W.v.Promise)&&void 0!==at?at:Promise}},4707:(nt,_e,A)=>{"use strict";A.d(_e,{t:()=>t});var T=A(7579),R=A(6063);class t extends T.x{constructor(W=1/0,J=1/0,ee=R.l){super(),this._bufferSize=W,this._windowTime=J,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=J===1/0,this._bufferSize=Math.max(1,W),this._windowTime=Math.max(1,J)}next(W){const{isStopped:J,_buffer:ee,_infiniteTimeWindow:le,_timestampProvider:we,_windowTime:ge}=this;J||(ee.push(W),!le&&ee.push(we.now()+ge)),this._trimBuffer(),super.next(W)}_subscribe(W){this._throwIfClosed(),this._trimBuffer();const J=this._innerSubscribe(W),{_infiniteTimeWindow:ee,_buffer:le}=this,we=le.slice();for(let ge=0;ge<we.length&&!W.closed;ge+=ee?1:2)W.next(we[ge]);return this._checkFinalizedStatuses(W),J}_trimBuffer(){const{_bufferSize:W,_timestampProvider:J,_buffer:ee,_infiniteTimeWindow:le}=this,we=(le?1:2)*W;if(W<1/0&&we<ee.length&&ee.splice(0,ee.length-we),!le){const ge=J.now();let de=0;for(let fe=1;fe<ee.length&&ee[fe]<=ge;fe+=2)de=fe;de&&ee.splice(0,de+1)}}}},7579:(nt,_e,A)=>{"use strict";A.d(_e,{x:()=>ee});var T=A(9751),R=A(727);const z=(0,A(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=A(8737),J=A(2806);let ee=(()=>{class we extends T.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const fe=new le(this,this);return fe.operator=de,fe}_throwIfClosed(){if(this.closed)throw new z}next(de){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(de)}})}error(de){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:fe}=this;for(;fe.length;)fe.shift().error(de)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:fe,isStopped:at,observers:ye}=this;return fe||at?R.Lc:(this.currentObservers=null,ye.push(de),new R.w0(()=>{this.currentObservers=null,(0,W.P)(ye,de)}))}_checkFinalizedStatuses(de){const{hasError:fe,thrownError:at,isStopped:ye}=this;fe?de.error(at):ye&&de.complete()}asObservable(){const de=new T.y;return de.source=this,de}}return we.create=(ge,de)=>new le(ge,de),we})();class le extends ee{constructor(ge,de){super(),this.destination=ge,this.source=de}next(ge){var de,fe;null===(fe=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===fe||fe.call(de,ge)}error(ge){var de,fe;null===(fe=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===fe||fe.call(de,ge)}complete(){var ge,de;null===(de=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===de||de.call(ge)}_subscribe(ge){var de,fe;return null!==(fe=null===(de=this.source)||void 0===de?void 0:de.subscribe(ge))&&void 0!==fe?fe:R.Lc}}},930:(nt,_e,A)=>{"use strict";A.d(_e,{Hp:()=>ut,Lv:()=>fe});var T=A(576),R=A(727),t=A(2416),z=A(7849),W=A(5032);const J=we("C",void 0,void 0);function we(Pe,Te,st){return{kind:Pe,value:Te,error:st}}var ge=A(3410),de=A(2806);class fe extends R.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,R.Nn)(Te)&&Te.add(this)):this.destination=Re}static create(Te,st,ht){return new ut(Te,st,ht)}next(Te){this.isStopped?Ne(function le(Pe){return we("N",Pe,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ne(function ee(Pe){return we("E",void 0,Pe)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ne(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function ye(Pe,Te){return at.call(Pe,Te)}class Oe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:st}=this;if(st.next)try{st.next(Te)}catch(ht){xe(ht)}}error(Te){const{partialObserver:st}=this;if(st.error)try{st.error(Te)}catch(ht){xe(ht)}else xe(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(st){xe(st)}}}class ut extends fe{constructor(Te,st,ht){let it;if(super(),(0,T.m)(Te)||!Te)it={next:Te??void 0,error:st??void 0,complete:ht??void 0};else{let dt;this&&t.v.useDeprecatedNextContext?(dt=Object.create(Te),dt.unsubscribe=()=>this.unsubscribe(),it={next:Te.next&&ye(Te.next,dt),error:Te.error&&ye(Te.error,dt),complete:Te.complete&&ye(Te.complete,dt)}):it=Te}this.destination=new Oe(it)}}function xe(Pe){t.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(Pe):(0,z.h)(Pe)}function Ne(Pe,Te){const{onStoppedNotification:st}=t.v;st&&ge.z.setTimeout(()=>st(Pe,Te))}const Re={closed:!0,next:W.Z,error:function Be(Pe){throw Pe},complete:W.Z}},727:(nt,_e,A)=>{"use strict";A.d(_e,{Lc:()=>J,w0:()=>W,Nn:()=>ee});var T=A(576);const t=(0,A(3888).d)(we=>function(de){we(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((fe,at)=>`${at+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var z=A(8737);class W{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const ye of de)ye.remove(this);else de.remove(this);const{initialTeardown:fe}=this;if((0,T.m)(fe))try{fe()}catch(ye){ge=ye instanceof t?ye.errors:[ye]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const ye of at)try{le(ye)}catch(Oe){ge=ge??[],Oe instanceof t?ge=[...ge,...Oe.errors]:ge.push(Oe)}}if(ge)throw new t(ge)}}add(ge){var de;if(ge&&ge!==this)if(this.closed)le(ge);else{if(ge instanceof W){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ge)}}_hasParent(ge){const{_parentage:de}=this;return de===ge||Array.isArray(de)&&de.includes(ge)}_addParent(ge){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ge),de):de?[de,ge]:ge}_removeParent(ge){const{_parentage:de}=this;de===ge?this._parentage=null:Array.isArray(de)&&(0,z.P)(de,ge)}remove(ge){const{_finalizers:de}=this;de&&(0,z.P)(de,ge),ge instanceof W&&ge._removeParent(this)}}W.EMPTY=(()=>{const we=new W;return we.closed=!0,we})();const J=W.EMPTY;function ee(we){return we instanceof W||we&&"closed"in we&&(0,T.m)(we.remove)&&(0,T.m)(we.add)&&(0,T.m)(we.unsubscribe)}function le(we){(0,T.m)(we)?we():we.unsubscribe()}},2416:(nt,_e,A)=>{"use strict";A.d(_e,{v:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(nt,_e,A)=>{"use strict";A.d(_e,{a:()=>ge});var T=A(9751),R=A(4742),t=A(2076),z=A(4671),W=A(3268),J=A(3269),ee=A(1810),le=A(5403),we=A(9672);function ge(...at){const ye=(0,J.yG)(at),Oe=(0,J.jO)(at),{args:ut,keys:xe}=(0,R.D)(at);if(0===ut.length)return(0,t.D)([],ye);const Be=new T.y(function de(at,ye,Oe=z.y){return ut=>{fe(ye,()=>{const{length:xe}=at,Be=new Array(xe);let Ne=xe,Re=xe;for(let Pe=0;Pe<xe;Pe++)fe(ye,()=>{const Te=(0,t.D)(at[Pe],ye);let st=!1;Te.subscribe((0,le.x)(ut,ht=>{Be[Pe]=ht,st||(st=!0,Re--),Re||ut.next(Oe(Be.slice()))},()=>{--Ne||ut.complete()}))},ut)},ut)}}(ut,ye,xe?Ne=>(0,ee.n)(xe,Ne):z.y));return Oe?Be.pipe((0,W.Z)(Oe)):Be}function fe(at,ye,Oe){at?(0,we.f)(Oe,at,ye):ye()}},7272:(nt,_e,A)=>{"use strict";A.d(_e,{z:()=>W});var T=A(8189),t=A(3269),z=A(2076);function W(...J){return function R(){return(0,T.J)(1)}()((0,z.D)(J,(0,t.yG)(J)))}},9770:(nt,_e,A)=>{"use strict";A.d(_e,{P:()=>t});var T=A(9751),R=A(8421);function t(z){return new T.y(W=>{(0,R.Xf)(z()).subscribe(W)})}},515:(nt,_e,A)=>{"use strict";A.d(_e,{E:()=>R});const R=new(A(9751).y)(W=>W.complete())},2076:(nt,_e,A)=>{"use strict";A.d(_e,{D:()=>ht});var T=A(8421),R=A(9672),t=A(4482),z=A(5403);function W(it,dt=0){return(0,t.e)((je,Le)=>{je.subscribe((0,z.x)(Le,Ee=>(0,R.f)(Le,it,()=>Le.next(Ee),dt),()=>(0,R.f)(Le,it,()=>Le.complete(),dt),Ee=>(0,R.f)(Le,it,()=>Le.error(Ee),dt)))})}function J(it,dt=0){return(0,t.e)((je,Le)=>{Le.add(it.schedule(()=>je.subscribe(Le),dt))})}var we=A(9751),de=A(2202),fe=A(576);function ye(it,dt){if(!it)throw new Error("Iterable cannot be null");return new we.y(je=>{(0,R.f)(je,dt,()=>{const Le=it[Symbol.asyncIterator]();(0,R.f)(je,dt,()=>{Le.next().then(Ee=>{Ee.done?je.complete():je.next(Ee.value)})},0,!0)})})}var Oe=A(3670),ut=A(8239),xe=A(1144),Be=A(6495),Ne=A(2206),Re=A(4532),Pe=A(3260);function ht(it,dt){return dt?function st(it,dt){if(null!=it){if((0,Oe.c)(it))return function ee(it,dt){return(0,T.Xf)(it).pipe(J(dt),W(dt))}(it,dt);if((0,xe.z)(it))return function ge(it,dt){return new we.y(je=>{let Le=0;return dt.schedule(function(){Le===it.length?je.complete():(je.next(it[Le++]),je.closed||this.schedule())})})}(it,dt);if((0,ut.t)(it))return function le(it,dt){return(0,T.Xf)(it).pipe(J(dt),W(dt))}(it,dt);if((0,Ne.D)(it))return ye(it,dt);if((0,Be.T)(it))return function at(it,dt){return new we.y(je=>{let Le;return(0,R.f)(je,dt,()=>{Le=it[de.h](),(0,R.f)(je,dt,()=>{let Ee,rt;try{({value:Ee,done:rt}=Le.next())}catch(ie){return void je.error(ie)}rt?je.complete():je.next(Ee)},0,!0)}),()=>(0,fe.m)(Le?.return)&&Le.return()})}(it,dt);if((0,Pe.L)(it))return function Te(it,dt){return ye((0,Pe.Q)(it),dt)}(it,dt)}throw(0,Re.z)(it)}(it,dt):(0,T.Xf)(it)}},8421:(nt,_e,A)=>{"use strict";A.d(_e,{Xf:()=>at});var T=A(7582),R=A(1144),t=A(8239),z=A(9751),W=A(3670),J=A(2206),ee=A(4532),le=A(6495),we=A(3260),ge=A(576),de=A(7849),fe=A(8822);function at(Pe){if(Pe instanceof z.y)return Pe;if(null!=Pe){if((0,W.c)(Pe))return function ye(Pe){return new z.y(Te=>{const st=Pe[fe.L]();if((0,ge.m)(st.subscribe))return st.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,R.z)(Pe))return function Oe(Pe){return new z.y(Te=>{for(let st=0;st<Pe.length&&!Te.closed;st++)Te.next(Pe[st]);Te.complete()})}(Pe);if((0,t.t)(Pe))return function ut(Pe){return new z.y(Te=>{Pe.then(st=>{Te.closed||(Te.next(st),Te.complete())},st=>Te.error(st)).then(null,de.h)})}(Pe);if((0,J.D)(Pe))return Be(Pe);if((0,le.T)(Pe))return function xe(Pe){return new z.y(Te=>{for(const st of Pe)if(Te.next(st),Te.closed)return;Te.complete()})}(Pe);if((0,we.L)(Pe))return function Ne(Pe){return Be((0,we.Q)(Pe))}(Pe)}throw(0,ee.z)(Pe)}function Be(Pe){return new z.y(Te=>{(function Re(Pe,Te){var st,ht,it,dt;return(0,T.mG)(this,void 0,void 0,function*(){try{for(st=(0,T.KL)(Pe);!(ht=yield st.next()).done;)if(Te.next(ht.value),Te.closed)return}catch(je){it={error:je}}finally{try{ht&&!ht.done&&(dt=st.return)&&(yield dt.call(st))}finally{if(it)throw it.error}}Te.complete()})})(Pe,Te).catch(st=>Te.error(st))})}},6451:(nt,_e,A)=>{"use strict";A.d(_e,{T:()=>J});var T=A(8189),R=A(8421),t=A(515),z=A(3269),W=A(2076);function J(...ee){const le=(0,z.yG)(ee),we=(0,z._6)(ee,1/0),ge=ee;return ge.length?1===ge.length?(0,R.Xf)(ge[0]):(0,T.J)(we)((0,W.D)(ge,le)):t.E}},9646:(nt,_e,A)=>{"use strict";A.d(_e,{of:()=>t});var T=A(3269),R=A(2076);function t(...z){const W=(0,T.yG)(z);return(0,R.D)(z,W)}},2843:(nt,_e,A)=>{"use strict";A.d(_e,{_:()=>t});var T=A(9751),R=A(576);function t(z,W){const J=(0,R.m)(z)?z:()=>z,ee=le=>le.error(J());return new T.y(W?le=>W.schedule(ee,0,le):ee)}},5403:(nt,_e,A)=>{"use strict";A.d(_e,{x:()=>R});var T=A(930);function R(z,W,J,ee,le){return new t(z,W,J,ee,le)}class t extends T.Lv{constructor(W,J,ee,le,we,ge){super(W),this.onFinalize=we,this.shouldUnsubscribe=ge,this._next=J?function(de){try{J(de)}catch(fe){W.error(fe)}}:super._next,this._error=le?function(de){try{le(de)}catch(fe){W.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(de){W.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},262:(nt,_e,A)=>{"use strict";A.d(_e,{K:()=>z});var T=A(8421),R=A(5403),t=A(4482);function z(W){return(0,t.e)((J,ee)=>{let ge,le=null,we=!1;le=J.subscribe((0,R.x)(ee,void 0,void 0,de=>{ge=(0,T.Xf)(W(de,z(W)(J))),le?(le.unsubscribe(),le=null,ge.subscribe(ee)):we=!0})),we&&(le.unsubscribe(),le=null,ge.subscribe(ee))})}},4351:(nt,_e,A)=>{"use strict";A.d(_e,{b:()=>t});var T=A(5577),R=A(576);function t(z,W){return(0,R.m)(W)?(0,T.z)(z,W,1):(0,T.z)(z,1)}},6590:(nt,_e,A)=>{"use strict";A.d(_e,{d:()=>t});var T=A(4482),R=A(5403);function t(z){return(0,T.e)((W,J)=>{let ee=!1;W.subscribe((0,R.x)(J,le=>{ee=!0,J.next(le)},()=>{ee||J.next(z),J.complete()}))})}},1884:(nt,_e,A)=>{"use strict";A.d(_e,{x:()=>z});var T=A(4671),R=A(4482),t=A(5403);function z(J,ee=T.y){return J=J??W,(0,R.e)((le,we)=>{let ge,de=!0;le.subscribe((0,t.x)(we,fe=>{const at=ee(fe);(de||!J(ge,at))&&(de=!1,ge=at,we.next(fe))}))})}function W(J,ee){return J===ee}},9300:(nt,_e,A)=>{"use strict";A.d(_e,{h:()=>t});var T=A(4482),R=A(5403);function t(z,W){return(0,T.e)((J,ee)=>{let le=0;J.subscribe((0,R.x)(ee,we=>z.call(W,we,le++)&&ee.next(we)))})}},590:(nt,_e,A)=>{"use strict";A.d(_e,{P:()=>ee});var T=A(6805),R=A(9300),t=A(5698),z=A(6590),W=A(8068),J=A(4671);function ee(le,we){const ge=arguments.length>=2;return de=>de.pipe(le?(0,R.h)((fe,at)=>le(fe,at,de)):J.y,(0,t.q)(1),ge?(0,z.d)(we):(0,W.T)(()=>new T.K))}},4004:(nt,_e,A)=>{"use strict";A.d(_e,{U:()=>t});var T=A(4482),R=A(5403);function t(z,W){return(0,T.e)((J,ee)=>{let le=0;J.subscribe((0,R.x)(ee,we=>{ee.next(z.call(W,we,le++))}))})}},9718:(nt,_e,A)=>{"use strict";A.d(_e,{h:()=>R});var T=A(4004);function R(t){return(0,T.U)(()=>t)}},8189:(nt,_e,A)=>{"use strict";A.d(_e,{J:()=>t});var T=A(5577),R=A(4671);function t(z=1/0){return(0,T.z)(R.y,z)}},5577:(nt,_e,A)=>{"use strict";A.d(_e,{z:()=>le});var T=A(4004),R=A(8421),t=A(4482),z=A(9672),W=A(5403),ee=A(576);function le(we,ge,de=1/0){return(0,ee.m)(ge)?le((fe,at)=>(0,T.U)((ye,Oe)=>ge(fe,ye,at,Oe))((0,R.Xf)(we(fe,at))),de):("number"==typeof ge&&(de=ge),(0,t.e)((fe,at)=>function J(we,ge,de,fe,at,ye,Oe,ut){const xe=[];let Be=0,Ne=0,Re=!1;const Pe=()=>{Re&&!xe.length&&!Be&&ge.complete()},Te=ht=>Be<fe?st(ht):xe.push(ht),st=ht=>{ye&&ge.next(ht),Be++;let it=!1;(0,R.Xf)(de(ht,Ne++)).subscribe((0,W.x)(ge,dt=>{at?.(dt),ye?Te(dt):ge.next(dt)},()=>{it=!0},void 0,()=>{if(it)try{for(Be--;xe.length&&Be<fe;){const dt=xe.shift();Oe?(0,z.f)(ge,Oe,()=>st(dt)):st(dt)}Pe()}catch(dt){ge.error(dt)}}))};return we.subscribe((0,W.x)(ge,Te,()=>{Re=!0,Pe()})),()=>{ut?.()}}(fe,at,we,de)))}},5026:(nt,_e,A)=>{"use strict";A.d(_e,{R:()=>z});var T=A(4482),R=A(5403);function z(W,J){return(0,T.e)(function t(W,J,ee,le,we){return(ge,de)=>{let fe=ee,at=J,ye=0;ge.subscribe((0,R.x)(de,Oe=>{const ut=ye++;at=fe?W(at,Oe,ut):(fe=!0,Oe),le&&de.next(at)},we&&(()=>{fe&&de.next(at),de.complete()})))}}(W,J,arguments.length>=2,!0))}},3099:(nt,_e,A)=>{"use strict";A.d(_e,{B:()=>W});var T=A(8421),R=A(7579),t=A(930),z=A(4482);function W(ee={}){const{connector:le=(()=>new R.x),resetOnError:we=!0,resetOnComplete:ge=!0,resetOnRefCountZero:de=!0}=ee;return fe=>{let at,ye,Oe,ut=0,xe=!1,Be=!1;const Ne=()=>{ye?.unsubscribe(),ye=void 0},Re=()=>{Ne(),at=Oe=void 0,xe=Be=!1},Pe=()=>{const Te=at;Re(),Te?.unsubscribe()};return(0,z.e)((Te,st)=>{ut++,!Be&&!xe&&Ne();const ht=Oe=Oe??le();st.add(()=>{ut--,0===ut&&!Be&&!xe&&(ye=J(Pe,de))}),ht.subscribe(st),!at&&ut>0&&(at=new t.Hp({next:it=>ht.next(it),error:it=>{Be=!0,Ne(),ye=J(Re,we,it),ht.error(it)},complete:()=>{xe=!0,Ne(),ye=J(Re,ge),ht.complete()}}),(0,T.Xf)(Te).subscribe(at))})(fe)}}function J(ee,le,...we){if(!0===le)return void ee();if(!1===le)return;const ge=new t.Hp({next:()=>{ge.unsubscribe(),ee()}});return le(...we).subscribe(ge)}},4782:(nt,_e,A)=>{"use strict";A.d(_e,{d:()=>t});var T=A(4707),R=A(3099);function t(z,W,J){let ee,le=!1;return z&&"object"==typeof z?({bufferSize:ee=1/0,windowTime:W=1/0,refCount:le=!1,scheduler:J}=z):ee=z??1/0,(0,R.B)({connector:()=>new T.t(ee,W,J),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:le})}},3900:(nt,_e,A)=>{"use strict";A.d(_e,{w:()=>z});var T=A(8421),R=A(4482),t=A(5403);function z(W,J){return(0,R.e)((ee,le)=>{let we=null,ge=0,de=!1;const fe=()=>de&&!we&&le.complete();ee.subscribe((0,t.x)(le,at=>{we?.unsubscribe();let ye=0;const Oe=ge++;(0,T.Xf)(W(at,Oe)).subscribe(we=(0,t.x)(le,ut=>le.next(J?J(at,ut,Oe,ye++):ut),()=>{we=null,fe()}))},()=>{de=!0,fe()}))})}},5698:(nt,_e,A)=>{"use strict";A.d(_e,{q:()=>z});var T=A(515),R=A(4482),t=A(5403);function z(W){return W<=0?()=>T.E:(0,R.e)((J,ee)=>{let le=0;J.subscribe((0,t.x)(ee,we=>{++le<=W&&(ee.next(we),W<=le&&ee.complete())}))})}},2722:(nt,_e,A)=>{"use strict";A.d(_e,{R:()=>W});var T=A(4482),R=A(5403),t=A(8421),z=A(5032);function W(J){return(0,T.e)((ee,le)=>{(0,t.Xf)(J).subscribe((0,R.x)(le,()=>le.complete(),z.Z)),!le.closed&&ee.subscribe(le)})}},8505:(nt,_e,A)=>{"use strict";A.d(_e,{b:()=>W});var T=A(576),R=A(4482),t=A(5403),z=A(4671);function W(J,ee,le){const we=(0,T.m)(J)||ee||le?{next:J,error:ee,complete:le}:J;return we?(0,R.e)((ge,de)=>{var fe;null===(fe=we.subscribe)||void 0===fe||fe.call(we);let at=!0;ge.subscribe((0,t.x)(de,ye=>{var Oe;null===(Oe=we.next)||void 0===Oe||Oe.call(we,ye),de.next(ye)},()=>{var ye;at=!1,null===(ye=we.complete)||void 0===ye||ye.call(we),de.complete()},ye=>{var Oe;at=!1,null===(Oe=we.error)||void 0===Oe||Oe.call(we,ye),de.error(ye)},()=>{var ye,Oe;at&&(null===(ye=we.unsubscribe)||void 0===ye||ye.call(we)),null===(Oe=we.finalize)||void 0===Oe||Oe.call(we)}))}):z.y}},8068:(nt,_e,A)=>{"use strict";A.d(_e,{T:()=>z});var T=A(6805),R=A(4482),t=A(5403);function z(J=W){return(0,R.e)((ee,le)=>{let we=!1;ee.subscribe((0,t.x)(le,ge=>{we=!0,le.next(ge)},()=>we?le.complete():le.error(J())))})}function W(){return new T.K}},6063:(nt,_e,A)=>{"use strict";A.d(_e,{l:()=>T});const T={now:()=>(T.delegate||Date).now(),delegate:void 0}},3410:(nt,_e,A)=>{"use strict";A.d(_e,{z:()=>T});const T={setTimeout(R,t,...z){const{delegate:W}=T;return W?.setTimeout?W.setTimeout(R,t,...z):setTimeout(R,t,...z)},clearTimeout(R){const{delegate:t}=T;return(t?.clearTimeout||clearTimeout)(R)},delegate:void 0}},2202:(nt,_e,A)=>{"use strict";A.d(_e,{h:()=>R});const R=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,_e,A)=>{"use strict";A.d(_e,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(nt,_e,A)=>{"use strict";A.d(_e,{K:()=>R});const R=(0,A(3888).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(nt,_e,A)=>{"use strict";A.d(_e,{_6:()=>J,jO:()=>z,yG:()=>W});var T=A(576),R=A(3532);function t(ee){return ee[ee.length-1]}function z(ee){return(0,T.m)(t(ee))?ee.pop():void 0}function W(ee){return(0,R.K)(t(ee))?ee.pop():void 0}function J(ee,le){return"number"==typeof t(ee)?ee.pop():le}},4742:(nt,_e,A)=>{"use strict";A.d(_e,{D:()=>W});const{isArray:T}=Array,{getPrototypeOf:R,prototype:t,keys:z}=Object;function W(ee){if(1===ee.length){const le=ee[0];if(T(le))return{args:le,keys:null};if(function J(ee){return ee&&"object"==typeof ee&&R(ee)===t}(le)){const we=z(le);return{args:we.map(ge=>le[ge]),keys:we}}}return{args:ee,keys:null}}},8737:(nt,_e,A)=>{"use strict";function T(R,t){if(R){const z=R.indexOf(t);0<=z&&R.splice(z,1)}}A.d(_e,{P:()=>T})},3888:(nt,_e,A)=>{"use strict";function T(R){const z=R(W=>{Error.call(W),W.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}A.d(_e,{d:()=>T})},1810:(nt,_e,A)=>{"use strict";function T(R,t){return R.reduce((z,W,J)=>(z[W]=t[J],z),{})}A.d(_e,{n:()=>T})},2806:(nt,_e,A)=>{"use strict";A.d(_e,{O:()=>z,x:()=>t});var T=A(2416);let R=null;function t(W){if(T.v.useDeprecatedSynchronousErrorHandling){const J=!R;if(J&&(R={errorThrown:!1,error:null}),W(),J){const{errorThrown:ee,error:le}=R;if(R=null,ee)throw le}}else W()}function z(W){T.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=W)}},9672:(nt,_e,A)=>{"use strict";function T(R,t,z,W=0,J=!1){const ee=t.schedule(function(){z(),J?R.add(this.schedule(null,W)):this.unsubscribe()},W);if(R.add(ee),!J)return ee}A.d(_e,{f:()=>T})},4671:(nt,_e,A)=>{"use strict";function T(R){return R}A.d(_e,{y:()=>T})},1144:(nt,_e,A)=>{"use strict";A.d(_e,{z:()=>T});const T=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(nt,_e,A)=>{"use strict";A.d(_e,{D:()=>R});var T=A(576);function R(t){return Symbol.asyncIterator&&(0,T.m)(t?.[Symbol.asyncIterator])}},576:(nt,_e,A)=>{"use strict";function T(R){return"function"==typeof R}A.d(_e,{m:()=>T})},3670:(nt,_e,A)=>{"use strict";A.d(_e,{c:()=>t});var T=A(8822),R=A(576);function t(z){return(0,R.m)(z[T.L])}},6495:(nt,_e,A)=>{"use strict";A.d(_e,{T:()=>t});var T=A(2202),R=A(576);function t(z){return(0,R.m)(z?.[T.h])}},8239:(nt,_e,A)=>{"use strict";A.d(_e,{t:()=>R});var T=A(576);function R(t){return(0,T.m)(t?.then)}},3260:(nt,_e,A)=>{"use strict";A.d(_e,{L:()=>z,Q:()=>t});var T=A(7582),R=A(576);function t(W){return(0,T.FC)(this,arguments,function*(){const ee=W.getReader();try{for(;;){const{value:le,done:we}=yield(0,T.qq)(ee.read());if(we)return yield(0,T.qq)(void 0);yield yield(0,T.qq)(le)}}finally{ee.releaseLock()}})}function z(W){return(0,R.m)(W?.getReader)}},3532:(nt,_e,A)=>{"use strict";A.d(_e,{K:()=>R});var T=A(576);function R(t){return t&&(0,T.m)(t.schedule)}},4482:(nt,_e,A)=>{"use strict";A.d(_e,{A:()=>R,e:()=>t});var T=A(576);function R(z){return(0,T.m)(z?.lift)}function t(z){return W=>{if(R(W))return W.lift(function(J){try{return z(J,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(nt,_e,A)=>{"use strict";A.d(_e,{Z:()=>z});var T=A(4004);const{isArray:R}=Array;function z(W){return(0,T.U)(J=>function t(W,J){return R(J)?W(...J):W(J)}(W,J))}},5032:(nt,_e,A)=>{"use strict";function T(){}A.d(_e,{Z:()=>T})},9635:(nt,_e,A)=>{"use strict";A.d(_e,{U:()=>t,z:()=>R});var T=A(4671);function R(...z){return t(z)}function t(z){return 0===z.length?T.y:1===z.length?z[0]:function(J){return z.reduce((ee,le)=>le(ee),J)}}},7849:(nt,_e,A)=>{"use strict";A.d(_e,{h:()=>t});var T=A(2416),R=A(3410);function t(z){R.z.setTimeout(()=>{const{onUnhandledError:W}=T.v;if(!W)throw z;W(z)})}},4532:(nt,_e,A)=>{"use strict";function T(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(_e,{z:()=>T})},7898:(nt,_e,A)=>{"use strict";A.d(_e,{L7:()=>I_,i_:()=>Xu,eY:()=>Wf,Tj:()=>ar,bR:()=>ms,RQ:()=>Ur,KF:()=>Qf,ZP:()=>hc,$e:()=>tp,tL:()=>ep,QH:()=>Zf,kp:()=>Xf});var T={};A.r(T),A.d(T,{hasBrowserEnv:()=>Ue,hasStandardBrowserEnv:()=>_t,hasStandardBrowserWebWorkerEnv:()=>Ct});var R=A(7582),t=A(4650),z=A(1135),W=A(4707),J=A(9841),ee=A(7579),le=A(9751),we=A(727);class ge extends we.w0{constructor(l,e){super()}schedule(l,e=0){return this}}const de={setInterval(o,l,...e){const{delegate:r}=de;return r?.setInterval?r.setInterval(o,l,...e):setInterval(o,l,...e)},clearInterval(o){const{delegate:l}=de;return(l?.clearInterval||clearInterval)(o)},delegate:void 0};var fe=A(8737),ye=A(6063);class Oe{constructor(l,e=Oe.now){this.schedulerActionCtor=l,this.now=e}schedule(l,e=0,r){return new this.schedulerActionCtor(this,l).schedule(r,e)}}Oe.now=ye.l.now;const xe=new class ut extends Oe{constructor(l,e=Oe.now){super(l,e),this.actions=[],this._active=!1}flush(l){const{actions:e}=this;if(this._active)return void e.push(l);let r;this._active=!0;do{if(r=l.execute(l.state,l.delay))break}while(l=e.shift());if(this._active=!1,r){for(;l=e.shift();)l.unsubscribe();throw r}}}(class at extends ge{constructor(l,e){super(l,e),this.scheduler=l,this.work=e,this.pending=!1}schedule(l,e=0){var r;if(this.closed)return this;this.state=l;const a=this.id,d=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(d,a,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(d,this.id,e),this}requestAsyncId(l,e,r=0){return de.setInterval(l.flush.bind(l,this),r)}recycleAsyncId(l,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&de.clearInterval(e)}execute(l,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(l,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l,e){let a,r=!1;try{this.work(l)}catch(d){r=!0,a=d||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:l,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(r,this),null!=l&&(this.id=this.recycleAsyncId(e,l,null)),this.delay=null,super.unsubscribe()}}}),Be=xe;var Ne=A(3532);function Pe(o=0,l,e=Be){let r=-1;return null!=l&&((0,Ne.K)(l)?e=l:r=l),new le.y(a=>{let d=function Re(o){return o instanceof Date&&!isNaN(o)}(o)?+o-e.now():o;d<0&&(d=0);let h=0;return e.schedule(function(){a.closed||(a.next(h++),0<=r?this.schedule(void 0,r):a.complete())},d)})}var Te=A(5343);function st(){return st=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var e=arguments[l];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r])}return o},st.apply(this,arguments)}function ht(o){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(o)}function dt(o,l){if(null==o)return{};var r,a,e=function it(o,l){if(null==o)return{};var a,d,e={},r=Object.keys(o);for(d=0;d<r.length;d++)!(l.indexOf(a=r[d])>=0)&&(e[a]=o[a]);return e}(o,l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);for(a=0;a<d.length;a++)!(l.indexOf(r=d[a])>=0)&&Object.prototype.propertyIsEnumerable.call(o,r)&&(e[r]=o[r])}return e}function je(o,l){(null==l||l>o.length)&&(l=o.length);for(var e=0,r=new Array(l);e<l;e++)r[e]=o[e];return r}function rt(o,l){if(o){if("string"==typeof o)return je(o,l);var e=Object.prototype.toString.call(o).slice(8,-1);if("Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e)return Array.from(o);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return je(o,l)}}function Ce(o){return function Le(o){if(Array.isArray(o))return je(o)}(o)||function Ee(o){if(typeof Symbol<"u"&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(o)||rt(o)||function ie(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V=A(5861);function qe(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function Q(o){var l=function vt(o,l){if("object"!==ht(o)||null===o)return o;var e=o[Symbol.toPrimitive];if(void 0!==e){var r=e.call(o,l||"default");if("object"!==ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(o)}(o,"string");return"symbol"===ht(l)?l:String(l)}function he(o,l){for(var e=0;e<l.length;e++){var r=l[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,Q(r.key),r)}}function me(o,l,e){return l&&he(o.prototype,l),e&&he(o,e),Object.defineProperty(o,"prototype",{writable:!1}),o}function U(o,l,e){return(l=Q(l))in o?Object.defineProperty(o,l,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[l]=e,o}var Qe=A(4687),I=A.n(Qe);function Ie(o,l){return function(){return o.apply(l,arguments)}}const{toString:H}=Object.prototype,{getPrototypeOf:Me}=Object,Ae=(o=Object.create(null),l=>{const e=H.call(l);return o[e]||(o[e]=e.slice(8,-1).toLowerCase())}),Ye=o=>(o=o.toLowerCase(),l=>Ae(l)===o),mt=o=>l=>typeof l===o,{isArray:xt}=Array,Gt=mt("undefined");var o;const dn=Ye("ArrayBuffer"),sn=mt("string"),qt=mt("function"),ii=mt("number"),kt=o=>null!==o&&"object"==typeof o,Oi=o=>{if("object"!==Ae(o))return!1;const l=Me(o);return!(null!==l&&l!==Object.prototype&&null!==Object.getPrototypeOf(l)||Symbol.toStringTag in o||Symbol.iterator in o)},Qn=Ye("Date"),yi=Ye("File"),lr=Ye("Blob"),$t=Ye("FileList"),ri=Ye("URLSearchParams");function gn(o,l,{allOwnKeys:e=!1}={}){if(null===o||typeof o>"u")return;let r,a;if("object"!=typeof o&&(o=[o]),xt(o))for(r=0,a=o.length;r<a;r++)l.call(null,o[r],r,o);else{const d=e?Object.getOwnPropertyNames(o):Object.keys(o),h=d.length;let p;for(r=0;r<h;r++)p=d[r],l.call(null,o[p],p,o)}}function zn(o,l){l=l.toLowerCase();const e=Object.keys(o);let a,r=e.length;for(;r-- >0;)if(a=e[r],l===a.toLowerCase())return a;return null}const Mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ji=o=>!Gt(o)&&o!==Mn,He=(o=>l=>o&&l instanceof o)(typeof Uint8Array<"u"&&Me(Uint8Array)),ot=Ye("HTMLFormElement"),jt=(({hasOwnProperty:o})=>(l,e)=>o.call(l,e))(Object.prototype),hn=Ye("RegExp"),pn=(o,l)=>{const e=Object.getOwnPropertyDescriptors(o),r={};gn(e,(a,d)=>{let h;!1!==(h=l(a,d,o))&&(r[d]=h||a)}),Object.defineProperties(o,r)},yn="abcdefghijklmnopqrstuvwxyz",Ft="0123456789",pe={DIGIT:Ft,ALPHA:yn,ALPHA_DIGIT:yn+yn.toUpperCase()+Ft},Ve=Ye("AsyncFunction"),Se={isArray:xt,isArrayBuffer:dn,isBuffer:function an(o){return null!==o&&!Gt(o)&&null!==o.constructor&&!Gt(o.constructor)&&qt(o.constructor.isBuffer)&&o.constructor.isBuffer(o)},isFormData:o=>{let l;return o&&("function"==typeof FormData&&o instanceof FormData||qt(o.append)&&("formdata"===(l=Ae(o))||"object"===l&&qt(o.toString)&&"[object FormData]"===o.toString()))},isArrayBufferView:function bn(o){let l;return l=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer&&dn(o.buffer),l},isString:sn,isNumber:ii,isBoolean:o=>!0===o||!1===o,isObject:kt,isPlainObject:Oi,isUndefined:Gt,isDate:Qn,isFile:yi,isBlob:lr,isRegExp:hn,isFunction:qt,isStream:o=>kt(o)&&qt(o.pipe),isURLSearchParams:ri,isTypedArray:He,isFileList:$t,forEach:gn,merge:function tn(){const{caseless:o}=Ji(this)&&this||{},l={},e=(r,a)=>{const d=o&&zn(l,a)||a;l[d]=Oi(l[d])&&Oi(r)?tn(l[d],r):Oi(r)?tn({},r):xt(r)?r.slice():r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&gn(arguments[r],e);return l},extend:(o,l,e,{allOwnKeys:r}={})=>(gn(l,(a,d)=>{o[d]=e&&qt(a)?Ie(a,e):a},{allOwnKeys:r}),o),trim:o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:o=>(65279===o.charCodeAt(0)&&(o=o.slice(1)),o),inherits:(o,l,e,r)=>{o.prototype=Object.create(l.prototype,r),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:l.prototype}),e&&Object.assign(o.prototype,e)},toFlatObject:(o,l,e,r)=>{let a,d,h;const p={};if(l=l||{},null==o)return l;do{for(a=Object.getOwnPropertyNames(o),d=a.length;d-- >0;)h=a[d],(!r||r(h,o,l))&&!p[h]&&(l[h]=o[h],p[h]=!0);o=!1!==e&&Me(o)}while(o&&(!e||e(o,l))&&o!==Object.prototype);return l},kindOf:Ae,kindOfTest:Ye,endsWith:(o,l,e)=>{o=String(o),(void 0===e||e>o.length)&&(e=o.length);const r=o.indexOf(l,e-=l.length);return-1!==r&&r===e},toArray:o=>{if(!o)return null;if(xt(o))return o;let l=o.length;if(!ii(l))return null;const e=new Array(l);for(;l-- >0;)e[l]=o[l];return e},forEachEntry:(o,l)=>{const r=(o&&o[Symbol.iterator]).call(o);let a;for(;(a=r.next())&&!a.done;){const d=a.value;l.call(o,d[0],d[1])}},matchAll:(o,l)=>{let e;const r=[];for(;null!==(e=o.exec(l));)r.push(e);return r},isHTMLForm:ot,hasOwnProperty:jt,hasOwnProp:jt,reduceDescriptors:pn,freezeMethods:o=>{pn(o,(l,e)=>{if(qt(o)&&-1!==["arguments","caller","callee"].indexOf(e))return!1;if(qt(o[e])){if(l.enumerable=!1,"writable"in l)return void(l.writable=!1);l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},toObjectSet:(o,l)=>{const e={},r=a=>{a.forEach(d=>{e[d]=!0})};return xt(o)?r(o):r(String(o).split(l)),e},toCamelCase:o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,r,a){return r.toUpperCase()+a}),noop:()=>{},toFiniteNumber:(o,l)=>(o=+o,Number.isFinite(o)?o:l),findKey:zn,global:Mn,isContextDefined:Ji,ALPHABET:pe,generateString:(o=16,l=pe.ALPHA_DIGIT)=>{let e="";const{length:r}=l;for(;o--;)e+=l[Math.random()*r|0];return e},isSpecCompliantForm:function Y(o){return!!(o&&qt(o.append)&&"FormData"===o[Symbol.toStringTag]&&o[Symbol.iterator])},toJSONObject:o=>{const l=new Array(10),e=(r,a)=>{if(kt(r)){if(l.indexOf(r)>=0)return;if(!("toJSON"in r)){l[a]=r;const d=xt(r)?[]:{};return gn(r,(h,p)=>{const _=e(h,a+1);!Gt(_)&&(d[p]=_)}),l[a]=void 0,d}}return r};return e(o,0)},isAsyncFn:Ve,isThenable:o=>o&&(kt(o)||qt(o))&&qt(o.then)&&qt(o.catch)};function Cn(o,l,e,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=o,this.name="AxiosError",l&&(this.code=l),e&&(this.config=e),r&&(this.request=r),a&&(this.response=a)}Se.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Yn=Cn.prototype,pi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{pi[o]={value:o}}),Object.defineProperties(Cn,pi),Object.defineProperty(Yn,"isAxiosError",{value:!0}),Cn.from=(o,l,e,r,a,d)=>{const h=Object.create(Yn);return Se.toFlatObject(o,h,function(_){return _!==Error.prototype},p=>"isAxiosError"!==p),Cn.call(h,o.message,l,e,r,a),h.cause=o,h.name=o.name,d&&Object.assign(h,d),h};const Xt=Cn;function Qi(o){return Se.isPlainObject(o)||Se.isArray(o)}function cr(o){return Se.endsWith(o,"[]")?o.slice(0,-2):o}function es(o,l,e){return o?o.concat(l).map(function(a,d){return a=cr(a),!e&&d?"["+a+"]":a}).join(e?".":""):l}const on=Se.toFlatObject(Se,{},null,function(l){return/^is[A-Z]/.test(l)}),Hn=function Xn(o,l,e){if(!Se.isObject(o))throw new TypeError("target must be an object");l=l||new FormData;const r=(e=Se.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ke,Ge){return!Se.isUndefined(Ge[ke])})).metaTokens,a=e.visitor||O,d=e.dots,h=e.indexes,_=(e.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(l);if(!Se.isFunction(a))throw new TypeError("visitor must be a function");function b(ne){if(null===ne)return"";if(Se.isDate(ne))return ne.toISOString();if(!_&&Se.isBlob(ne))throw new Xt("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(ne)||Se.isTypedArray(ne)?_&&"function"==typeof Blob?new Blob([ne]):Buffer.from(ne):ne}function O(ne,ke,Ge){let Dt=ne;if(ne&&!Ge&&"object"==typeof ne)if(Se.endsWith(ke,"{}"))ke=r?ke:ke.slice(0,-2),ne=JSON.stringify(ne);else if(Se.isArray(ne)&&function Ui(o){return Se.isArray(o)&&!o.some(Qi)}(ne)||(Se.isFileList(ne)||Se.endsWith(ke,"[]"))&&(Dt=Se.toArray(ne)))return ke=cr(ke),Dt.forEach(function(Zt,Ut){!Se.isUndefined(Zt)&&null!==Zt&&l.append(!0===h?es([ke],Ut,d):null===h?ke:ke+"[]",b(Zt))}),!1;return!!Qi(ne)||(l.append(es(Ge,ke,d),b(ne)),!1)}const Z=[],X=Object.assign(on,{defaultVisitor:O,convertValue:b,isVisitable:Qi});if(!Se.isObject(o))throw new TypeError("data must be an object");return function se(ne,ke){if(!Se.isUndefined(ne)){if(-1!==Z.indexOf(ne))throw Error("Circular reference detected in "+ke.join("."));Z.push(ne),Se.forEach(ne,function(Dt,tt){!0===(!(Se.isUndefined(Dt)||null===Dt)&&a.call(l,Dt,Se.isString(tt)?tt.trim():tt,ke,X))&&se(Dt,ke?ke.concat(tt):[tt])}),Z.pop()}}(o),l};function $r(o){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(r){return l[r]})}function oe(o,l){this._pairs=[],o&&Hn(o,this,l)}const j=oe.prototype;j.append=function(l,e){this._pairs.push([l,e])},j.toString=function(l){const e=l?function(r){return l.call(this,r,$r)}:$r;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};const k=oe;function $(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function re(o,l,e){if(!l)return o;const r=e&&e.encode||$,a=e&&e.serialize;let d;if(d=a?a(l,e):Se.isURLSearchParams(l)?l.toString():new k(l,e).toString(r),d){const h=o.indexOf("#");-1!==h&&(o=o.slice(0,h)),o+=(-1===o.indexOf("?")?"?":"&")+d}return o}const $e=class ve{constructor(){this.handlers=[]}use(l,e,r){return this.handlers.push({fulfilled:l,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){Se.forEach(this.handlers,function(r){null!==r&&l(r)})}},We={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ft={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:k,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Ue=typeof window<"u"&&typeof document<"u",_t=(o=>Ue&&["ReactNative","NativeScript","NS"].indexOf(o)<0)(typeof navigator<"u"&&navigator.product),Ct=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ht={...T,...ft},Mt=function cn(o){function l(e,r,a,d){let h=e[d++];if("__proto__"===h)return!0;const p=Number.isFinite(+h),_=d>=e.length;return h=!h&&Se.isArray(a)?a.length:h,_?(a[h]=Se.hasOwnProp(a,h)?[a[h],r]:r,!p):((!a[h]||!Se.isObject(a[h]))&&(a[h]=[]),l(e,r,a[h],d)&&Se.isArray(a[h])&&(a[h]=function mn(o){const l={},e=Object.keys(o);let r;const a=e.length;let d;for(r=0;r<a;r++)d=e[r],l[d]=o[d];return l}(a[h])),!p)}if(Se.isFormData(o)&&Se.isFunction(o.entries)){const e={};return Se.forEachEntry(o,(r,a)=>{l(function Vt(o){return Se.matchAll(/\w+|\[(\w*)]/g,o).map(l=>"[]"===l[0]?"":l[1]||l[0])}(r),a,e,0)}),e}return null},Pn={transitional:We,adapter:["xhr","http"],transformRequest:[function(l,e){const r=e.getContentType()||"",a=r.indexOf("application/json")>-1,d=Se.isObject(l);if(d&&Se.isHTMLForm(l)&&(l=new FormData(l)),Se.isFormData(l))return a&&a?JSON.stringify(Mt(l)):l;if(Se.isArrayBuffer(l)||Se.isBuffer(l)||Se.isStream(l)||Se.isFile(l)||Se.isBlob(l))return l;if(Se.isArrayBufferView(l))return l.buffer;if(Se.isURLSearchParams(l))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let p;if(d){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function Bt(o,l){return Hn(o,new Ht.classes.URLSearchParams,Object.assign({visitor:function(e,r,a,d){return Ht.isNode&&Se.isBuffer(e)?(this.append(r,e.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},l))}(l,this.formSerializer).toString();if((p=Se.isFileList(l))||r.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return Hn(p?{"files[]":l}:l,_&&new _,this.formSerializer)}}return d||a?(e.setContentType("application/json",!1),function Wn(o,l,e){if(Se.isString(o))try{return(l||JSON.parse)(o),Se.trim(o)}catch(r){if("SyntaxError"!==r.name)throw r}return(e||JSON.stringify)(o)}(l)):l}],transformResponse:[function(l){const e=this.transitional||Pn.transitional,r=e&&e.forcedJSONParsing,a="json"===this.responseType;if(l&&Se.isString(l)&&(r&&!this.responseType||a)){const h=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(l)}catch(p){if(h)throw"SyntaxError"===p.name?Xt.from(p,Xt.ERR_BAD_RESPONSE,this,null,this.response):p}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],o=>{Pn.headers[o]={}});const fn=Pn,Xi=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ds=Symbol("internals");function Sr(o){return o&&String(o).trim().toLowerCase()}function Hr(o){return!1===o||null==o?o:Se.isArray(o)?o.map(Hr):String(o)}function Bs(o,l,e,r,a){if(Se.isFunction(r))return r.call(this,l,e);if(a&&(l=e),Se.isString(l)){if(Se.isString(r))return-1!==l.indexOf(r);if(Se.isRegExp(r))return r.test(l)}}class Vr{constructor(l){l&&this.set(l)}set(l,e,r){const a=this;function d(p,_,b){const O=Sr(_);if(!O)throw new Error("header name must be a non-empty string");const Z=Se.findKey(a,O);(!Z||void 0===a[Z]||!0===b||void 0===b&&!1!==a[Z])&&(a[Z||_]=Hr(p))}const h=(p,_)=>Se.forEach(p,(b,O)=>d(b,O,_));return Se.isPlainObject(l)||l instanceof this.constructor?h(l,e):Se.isString(l)&&(l=l.trim())&&!(o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim()))(l)?h((o=>{const l={};let e,r,a;return o&&o.split("\n").forEach(function(h){a=h.indexOf(":"),e=h.substring(0,a).trim().toLowerCase(),r=h.substring(a+1).trim(),!(!e||l[e]&&Xi[e])&&("set-cookie"===e?l[e]?l[e].push(r):l[e]=[r]:l[e]=l[e]?l[e]+", "+r:r)}),l})(l),e):null!=l&&d(e,l,r),this}get(l,e){if(l=Sr(l)){const r=Se.findKey(this,l);if(r){const a=this[r];if(!e)return a;if(!0===e)return function Zr(o){const l=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=e.exec(o);)l[r[1]]=r[2];return l}(a);if(Se.isFunction(e))return e.call(this,a,r);if(Se.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,e){if(l=Sr(l)){const r=Se.findKey(this,l);return!(!r||void 0===this[r]||e&&!Bs(0,this[r],r,e))}return!1}delete(l,e){const r=this;let a=!1;function d(h){if(h=Sr(h)){const p=Se.findKey(r,h);p&&(!e||Bs(0,r[p],p,e))&&(delete r[p],a=!0)}}return Se.isArray(l)?l.forEach(d):d(l),a}clear(l){const e=Object.keys(this);let r=e.length,a=!1;for(;r--;){const d=e[r];(!l||Bs(0,this[d],d,l,!0))&&(delete this[d],a=!0)}return a}normalize(l){const e=this,r={};return Se.forEach(this,(a,d)=>{const h=Se.findKey(r,d);if(h)return e[h]=Hr(a),void delete e[d];const p=l?function Nn(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,e,r)=>e.toUpperCase()+r)}(d):String(d).trim();p!==d&&delete e[d],e[p]=Hr(a),r[p]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const e=Object.create(null);return Se.forEach(this,(r,a)=>{null!=r&&!1!==r&&(e[a]=l&&Se.isArray(r)?r.join(", "):r)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,e])=>l+": "+e).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...e){const r=new this(l);return e.forEach(a=>r.set(a)),r}static accessor(l){const r=(this[Ds]=this[Ds]={accessors:{}}).accessors,a=this.prototype;function d(h){const p=Sr(h);r[p]||(function ci(o,l){const e=Se.toCamelCase(" "+l);["get","set","has"].forEach(r=>{Object.defineProperty(o,r+e,{value:function(a,d,h){return this[r].call(this,l,a,d,h)},configurable:!0})})}(a,h),r[p]=!0)}return Se.isArray(l)?l.forEach(d):d(l),this}}Vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Se.reduceDescriptors(Vr.prototype,({value:o},l)=>{let e=l[0].toUpperCase()+l.slice(1);return{get:()=>o,set(r){this[e]=r}}}),Se.freezeMethods(Vr);const wi=Vr;function ts(o,l){const e=this||fn,r=l||e,a=wi.from(r.headers);let d=r.data;return Se.forEach(o,function(p){d=p.call(e,d,a.normalize(),l?l.status:void 0)}),a.normalize(),d}function oi(o){return!(!o||!o.__CANCEL__)}function to(o,l,e){Xt.call(this,o??"canceled",Xt.ERR_CANCELED,l,e),this.name="CanceledError"}Se.inherits(to,Xt,{__CANCEL__:!0});const no=to,Fo=Ht.hasStandardBrowserEnv?{write(o,l,e,r,a,d){const h=[o+"="+encodeURIComponent(l)];Se.isNumber(e)&&h.push("expires="+new Date(e).toGMTString()),Se.isString(r)&&h.push("path="+r),Se.isString(a)&&h.push("domain="+a),!0===d&&h.push("secure"),document.cookie=h.join("; ")},read(o){const l=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ro(o,l){return o&&!function io(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}(l)?function Ea(o,l){return l?o.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):o}(o,l):l}const ko=Ht.hasStandardBrowserEnv?function(){const l=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function a(d){let h=d;return l&&(e.setAttribute("href",h),h=e.href),e.setAttribute("href",h),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=a(window.location.href),function(h){const p=Se.isString(h)?a(h):h;return p.protocol===r.protocol&&p.host===r.host}}():function(){return!0},_l=function ns(o,l){o=o||10;const e=new Array(o),r=new Array(o);let h,a=0,d=0;return l=void 0!==l?l:1e3,function(_){const b=Date.now(),O=r[d];h||(h=b),e[a]=_,r[a]=b;let Z=d,X=0;for(;Z!==a;)X+=e[Z++],Z%=o;if(a=(a+1)%o,a===d&&(d=(d+1)%o),b-h<l)return;const se=O&&b-O;return se?Math.round(1e3*X/se):void 0}};function vl(o,l){let e=0;const r=_l(50,250);return a=>{const d=a.loaded,h=a.lengthComputable?a.total:void 0,p=d-e,_=r(p);e=d;const O={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:_||void 0,estimated:_&&h&&d<=h?(h-d)/_:void 0,event:a};O[l?"download":"upload"]=!0,o(O)}}const so={http:null,xhr:typeof XMLHttpRequest<"u"&&function(o){return new Promise(function(e,r){let a=o.data;const d=wi.from(o.headers).normalize();let _,O,{responseType:h,withXSRFToken:p}=o;function b(){o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}if(Se.isFormData(a))if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)d.setContentType(!1);else if(!1!==(O=d.getContentType())){const[ke,...Ge]=O?O.split(";").map(Dt=>Dt.trim()).filter(Boolean):[];d.setContentType([ke||"multipart/form-data",...Ge].join("; "))}let Z=new XMLHttpRequest;if(o.auth){const ke=o.auth.username||"",Ge=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";d.set("Authorization","Basic "+btoa(ke+":"+Ge))}const X=ro(o.baseURL,o.url);function se(){if(!Z)return;const ke=wi.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders());(function $s(o,l,e){const r=e.config.validateStatus;e.status&&r&&!r(e.status)?l(new Xt("Request failed with status code "+e.status,[Xt.ERR_BAD_REQUEST,Xt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e)):o(e)})(function(Zt){e(Zt),b()},function(Zt){r(Zt),b()},{data:h&&"text"!==h&&"json"!==h?Z.response:Z.responseText,status:Z.status,statusText:Z.statusText,headers:ke,config:o,request:Z}),Z=null}if(Z.open(o.method.toUpperCase(),re(X,o.params,o.paramsSerializer),!0),Z.timeout=o.timeout,"onloadend"in Z?Z.onloadend=se:Z.onreadystatechange=function(){!Z||4!==Z.readyState||0===Z.status&&(!Z.responseURL||0!==Z.responseURL.indexOf("file:"))||setTimeout(se)},Z.onabort=function(){Z&&(r(new Xt("Request aborted",Xt.ECONNABORTED,o,Z)),Z=null)},Z.onerror=function(){r(new Xt("Network Error",Xt.ERR_NETWORK,o,Z)),Z=null},Z.ontimeout=function(){let Ge=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";o.timeoutErrorMessage&&(Ge=o.timeoutErrorMessage),r(new Xt(Ge,(o.transitional||We).clarifyTimeoutError?Xt.ETIMEDOUT:Xt.ECONNABORTED,o,Z)),Z=null},Ht.hasStandardBrowserEnv&&(p&&Se.isFunction(p)&&(p=p(o)),p||!1!==p&&ko(X))){const ke=o.xsrfHeaderName&&o.xsrfCookieName&&Fo.read(o.xsrfCookieName);ke&&d.set(o.xsrfHeaderName,ke)}void 0===a&&d.setContentType(null),"setRequestHeader"in Z&&Se.forEach(d.toJSON(),function(Ge,Dt){Z.setRequestHeader(Dt,Ge)}),Se.isUndefined(o.withCredentials)||(Z.withCredentials=!!o.withCredentials),h&&"json"!==h&&(Z.responseType=o.responseType),"function"==typeof o.onDownloadProgress&&Z.addEventListener("progress",vl(o.onDownloadProgress,!0)),"function"==typeof o.onUploadProgress&&Z.upload&&Z.upload.addEventListener("progress",vl(o.onUploadProgress)),(o.cancelToken||o.signal)&&(_=ke=>{Z&&(r(!ke||ke.type?new no(null,o,Z):ke),Z.abort(),Z=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const ne=function Ro(o){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return l&&l[1]||""}(X);ne&&-1===Ht.protocols.indexOf(ne)?r(new Xt("Unsupported protocol "+ne+":",Xt.ERR_BAD_REQUEST,o)):Z.send(a||null)})}};Se.forEach(so,(o,l)=>{if(o){try{Object.defineProperty(o,"name",{value:l})}catch{}Object.defineProperty(o,"adapterName",{value:l})}});const Lo=o=>`- ${o}`,oo=o=>Se.isFunction(o)||null===o||!1===o,Po={getAdapter:o=>{o=Se.isArray(o)?o:[o];const{length:l}=o;let e,r;const a={};for(let d=0;d<l;d++){let h;if(e=o[d],r=e,!oo(e)&&(r=so[(h=String(e)).toLowerCase()],void 0===r))throw new Xt(`Unknown adapter '${h}'`);if(r)break;a[h||"#"+d]=r}if(!r){const d=Object.entries(a).map(([p,_])=>`adapter ${p} `+(!1===_?"is not supported by the environment":"is not available in the build"));let h=l?d.length>1?"since :\n"+d.map(Lo).join("\n"):" "+Lo(d[0]):"as no adapter specified";throw new Xt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:so};function ws(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new no(null,o)}function ao(o){return ws(o),o.headers=wi.from(o.headers),o.data=ts.call(o,o.transformRequest),-1!==["post","put","patch"].indexOf(o.method)&&o.headers.setContentType("application/x-www-form-urlencoded",!1),Po.getAdapter(o.adapter||fn.adapter)(o).then(function(r){return ws(o),r.data=ts.call(o,o.transformResponse,r),r.headers=wi.from(r.headers),r},function(r){return oi(r)||(ws(o),r&&r.response&&(r.response.data=ts.call(o,o.transformResponse,r.response),r.response.headers=wi.from(r.response.headers))),Promise.reject(r)})}const No=o=>o instanceof wi?o.toJSON():o;function Bi(o,l){l=l||{};const e={};function r(b,O,Z){return Se.isPlainObject(b)&&Se.isPlainObject(O)?Se.merge.call({caseless:Z},b,O):Se.isPlainObject(O)?Se.merge({},O):Se.isArray(O)?O.slice():O}function a(b,O,Z){return Se.isUndefined(O)?Se.isUndefined(b)?void 0:r(void 0,b,Z):r(b,O,Z)}function d(b,O){if(!Se.isUndefined(O))return r(void 0,O)}function h(b,O){return Se.isUndefined(O)?Se.isUndefined(b)?void 0:r(void 0,b):r(void 0,O)}function p(b,O,Z){return Z in l?r(b,O):Z in o?r(void 0,b):void 0}const _={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(b,O)=>a(No(b),No(O),!0)};return Se.forEach(Object.keys(Object.assign({},o,l)),function(O){const Z=_[O]||a,X=Z(o[O],l[O],O);Se.isUndefined(X)&&Z!==p||(e[O]=X)}),e}const Uo="1.6.5",zr={};["object","boolean","number","function","string","symbol"].forEach((o,l)=>{zr[o]=function(r){return typeof r===o||"a"+(l<1?"n ":" ")+o}});const bs={};zr.transitional=function(l,e,r){function a(d,h){return"[Axios v"+Uo+"] Transitional option '"+d+"'"+h+(r?". "+r:"")}return(d,h,p)=>{if(!1===l)throw new Xt(a(h," has been removed"+(e?" in "+e:"")),Xt.ERR_DEPRECATED);return e&&!bs[h]&&(bs[h]=!0,console.warn(a(h," has been deprecated since v"+e+" and will be removed in the near future"))),!l||l(d,h,p)}};const xa={assertOptions:function yl(o,l,e){if("object"!=typeof o)throw new Xt("options must be an object",Xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(o);let a=r.length;for(;a-- >0;){const d=r[a],h=l[d];if(h){const p=o[d],_=void 0===p||h(p,d,o);if(!0!==_)throw new Xt("option "+d+" must be "+_,Xt.ERR_BAD_OPTION_VALUE)}else if(!0!==e)throw new Xt("Unknown option "+d,Xt.ERR_BAD_OPTION)}},validators:zr},Mr=xa.validators;class lo{constructor(l){this.defaults=l,this.interceptors={request:new $e,response:new $e}}request(l,e){"string"==typeof l?(e=e||{}).url=l:e=l||{},e=Bi(this.defaults,e);const{transitional:r,paramsSerializer:a,headers:d}=e;void 0!==r&&xa.assertOptions(r,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),null!=a&&(Se.isFunction(a)?e.paramsSerializer={serialize:a}:xa.assertOptions(a,{encode:Mr.function,serialize:Mr.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let h=d&&Se.merge(d.common,d[e.method]);d&&Se.forEach(["delete","get","head","post","put","patch","common"],ne=>{delete d[ne]}),e.headers=wi.concat(h,d);const p=[];let _=!0;this.interceptors.request.forEach(function(ke){"function"==typeof ke.runWhen&&!1===ke.runWhen(e)||(_=_&&ke.synchronous,p.unshift(ke.fulfilled,ke.rejected))});const b=[];this.interceptors.response.forEach(function(ke){b.push(ke.fulfilled,ke.rejected)});let O,X,Z=0;if(!_){const ne=[ao.bind(this),void 0];for(ne.unshift.apply(ne,p),ne.push.apply(ne,b),X=ne.length,O=Promise.resolve(e);Z<X;)O=O.then(ne[Z++],ne[Z++]);return O}X=p.length;let se=e;for(Z=0;Z<X;){const ne=p[Z++],ke=p[Z++];try{se=ne(se)}catch(Ge){ke.call(this,Ge);break}}try{O=ao.call(this,se)}catch(ne){return Promise.reject(ne)}for(Z=0,X=b.length;Z<X;)O=O.then(b[Z++],b[Z++]);return O}getUri(l){return re(ro((l=Bi(this.defaults,l)).baseURL,l.url),l.params,l.paramsSerializer)}}Se.forEach(["delete","get","head","options"],function(l){lo.prototype[l]=function(e,r){return this.request(Bi(r||{},{method:l,url:e,data:(r||{}).data}))}}),Se.forEach(["post","put","patch"],function(l){function e(r){return function(d,h,p){return this.request(Bi(p||{},{method:l,headers:r?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}lo.prototype[l]=e(),lo.prototype[l+"Form"]=e(!0)});const xr=lo;class Hs{constructor(l){if("function"!=typeof l)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(d){e=d});const r=this;this.promise.then(a=>{if(!r._listeners)return;let d=r._listeners.length;for(;d-- >0;)r._listeners[d](a);r._listeners=null}),this.promise.then=a=>{let d;const h=new Promise(p=>{r.subscribe(p),d=p}).then(a);return h.cancel=function(){r.unsubscribe(d)},h},l(function(d,h,p){r.reason||(r.reason=new no(d,h,p),e(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){this.reason?l(this.reason):this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const e=this._listeners.indexOf(l);-1!==e&&this._listeners.splice(e,1)}static source(){let l;return{token:new Hs(function(a){l=a}),cancel:l}}}const Ia=Hs,ui={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ui).forEach(([o,l])=>{ui[l]=o});const ei=ui,An=function ur(o){const l=new xr(o),e=Ie(xr.prototype.request,l);return Se.extend(e,xr.prototype,l,{allOwnKeys:!0}),Se.extend(e,l,null,{allOwnKeys:!0}),e.create=function(a){return ur(Bi(o,a))},e}(fn);An.Axios=xr,An.CanceledError=no,An.CancelToken=Ia,An.isCancel=oi,An.VERSION=Uo,An.toFormData=Hn,An.AxiosError=Xt,An.Cancel=An.CanceledError,An.all=function(l){return Promise.all(l)},An.spread=function ki(o){return function(e){return o.apply(null,e)}},An.isAxiosError=function Zs(o){return Se.isObject(o)&&!0===o.isAxiosError},An.mergeConfig=Bi,An.AxiosHeaders=wi,An.formToJSON=o=>Mt(Se.isHTMLForm(o)?new FormData(o):o),An.getAdapter=Po.getAdapter,An.HttpStatusCode=ei,An.default=An;const di=An;function bi(o,l){return function Aa(o){if(Array.isArray(o))return o}(o)||function Ts(o,l){var e=null==o?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(null!=e){var r,a,d,h,p=[],_=!0,b=!1;try{if(d=(e=e.call(o)).next,0===l){if(Object(e)!==e)return;_=!1}else for(;!(_=(r=d.call(e)).done)&&(p.push(r.value),p.length!==l);_=!0);}catch(O){b=!0,a=O}finally{try{if(!_&&null!=e.return&&(h=e.return(),Object(h)!==h))return}finally{if(b)throw a}}return p}}(o,l)||rt(o,l)||function is(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rs=A(593),Gr=A.n(rs),Oa=A(9151),Ir=A.n(Oa);function dr(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function $i(o,l){return($i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r})(o,l)}function Vs(o){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function co(o,l,e){return(co=function ka(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(a,d,h){var p=[null];p.push.apply(p,d);var b=new(Function.bind.apply(a,p));return h&&$i(b,h.prototype),b}).apply(null,arguments)}function uo(o){var l="function"==typeof Map?new Map:void 0;return uo=function(r){if(null===r||!function Fa(o){return-1!==Function.toString.call(o).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(typeof l<"u"){if(l.has(r))return l.get(r);l.set(r,a)}function a(){return co(r,arguments,Vs(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),$i(a,r)},uo(o)}function Un(o){return"string"==typeof o}function ho(o,l){return!!l&&Un(o)}var nn=function(l){return(0,Te.JQ)(new Uint8Array(function Ke(o,l){var e=[];if(Un(o)&&ho(o,l)){for(var r=0,a=o.length;r<a;r++)if(o.charAt(r)){var h=l(o.charAt(r),r,o);e[r]=h}}else if(!Un(o)&&!ho(o,l))for(var p=0,_=o.length;p<_;p++)if(p in o){var O=l(o[p],p,o);e[p]=O}return e}(l,function(e){return e.charCodeAt(0)})))},La=null;function ai(o,l){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);l&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,r)}return e}function xi(o){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?ai(Object(e),!0).forEach(function(r){U(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):ai(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}var zs=function(){function o(l){var r,e=this;qe(this,o),U(this,"_channel",void 0),U(this,"watcher_count",void 0),U(this,"typing",void 0),U(this,"read",void 0),U(this,"pinnedMessages",void 0),U(this,"pending_messages",void 0),U(this,"threads",void 0),U(this,"mutedUsers",void 0),U(this,"watchers",void 0),U(this,"members",void 0),U(this,"unreadCount",void 0),U(this,"membership",void 0),U(this,"last_message_at",void 0),U(this,"isUpToDate",void 0),U(this,"messageSets",[]),U(this,"setIsUpToDate",function(a){e.isUpToDate=a}),U(this,"removeMessageFromArray",function(a,d){var h=a.filter(function(p){return!(p.id&&d.id&&p.id===d.id)});return{removed:h.length<a.length,result:h}}),U(this,"updateUserMessages",function(a){var d=function(_,b){for(var O=0;O<_.length;O++){var Z,X=_[O];(null===(Z=X.user)||void 0===Z?void 0:Z.id)===b.id&&(_[O]=xi(xi({},X),{},{user:b}))}};for(var h in e.messageSets.forEach(function(p){return d(p.messages,a)}),e.threads)d(e.threads[h],a);d(e.pinnedMessages,a)}),U(this,"deleteUserMessages",function(a){var d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=function(b,O){for(var Z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],X=0;X<b.length;X++){var se,ne=b[X];(null===(se=ne.user)||void 0===se?void 0:se.id)===O.id&&(b[X]=Z?{cid:ne.cid,created_at:ne.created_at,deleted_at:O.deleted_at,id:ne.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:ne.parent_id,reply_count:ne.reply_count,status:ne.status,thread_participants:ne.thread_participants,type:"deleted",updated_at:ne.updated_at,user:ne.user}:xi(xi({},ne),{},{type:"deleted",deleted_at:O.deleted_at}))}};for(var p in e.messageSets.forEach(function(_){return h(_.messages,a,d)}),e.threads)h(e.threads[p],a,d);h(e.pinnedMessages,a,d)}),this._channel=l,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=null!=(null==l||null===(r=l.state)||void 0===r?void 0:r.last_message_at)?new Date(l.state.last_message_at):null}return me(o,[{key:"messages",get:function(){var e;return(null===(e=this.messageSets.find(function(r){return r.isCurrent}))||void 0===e?void 0:e.messages)||[]},set:function(e){var r=this.messageSets.findIndex(function(a){return a.isCurrent});this.messageSets[r].messages=e}},{key:"latestMessages",get:function(){var e;return(null===(e=this.messageSets.find(function(r){return r.isLatest}))||void 0===e?void 0:e.messages)||[]},set:function(e){var r=this.messageSets.findIndex(function(a){return a.isLatest});this.messageSets[r].messages=e}},{key:"addMessageSorted",value:function(e){return this.addMessagesSorted([e],arguments.length>1&&void 0!==arguments[1]&&arguments[1],!1,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"latest")}},{key:"formatMessage",value:function(e){return xi(xi({},e),{},{__html:e.html,pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received"})}},{key:"addMessagesSorted",value:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],p=this.findTargetMessageSet(e,d,arguments.length>4&&void 0!==arguments[4]?arguments[4]:"current"),_=p.messagesToAdd,b=p.targetMessageSetIndex,O=0;O<_.length;O+=1)if(!_[O].shadowed){var ne,se=void 0;_[O].created_at instanceof Date?se=_[O]:((se=this.formatMessage(_[O])).user&&null!==(ne=this._channel)&&void 0!==ne&&ne.cid&&this._channel.getClient().state.updateUserReference(se.user,this._channel.cid),a&&se.id&&this.threads[se.id]&&delete this.threads[se.id],this.last_message_at||(this.last_message_at=new Date(se.created_at.getTime())),se.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(se.created_at.getTime())));var ke=se.parent_id;if((!ke||se.show_in_channel)&&-1!==b&&(this.messageSets[b].messages=this._addToMessageList(this.messageSets[b].messages,se,r,"created_at",d)),ke&&!a){var Dt=this._addToMessageList(this.threads[ke]||[],se,r,"created_at",d);this.threads[ke]=Dt}}return{messageSet:this.messageSets[b]}}},{key:"addPinnedMessages",value:function(e){for(var r=0;r<e.length;r+=1)this.addPinnedMessage(e[r])}},{key:"addPinnedMessage",value:function(e){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(e),!1,"pinned_at")}},{key:"removePinnedMessage",value:function(e){var r=this.removeMessageFromArray(this.pinnedMessages,e);this.pinnedMessages=r.result}},{key:"addReaction",value:function(e,r,a){var d=this;if(r){var h=r;return this._updateMessage(r,function(p){return h.own_reactions=d._addOwnReactionToMessage(p.own_reactions,e,a),d.formatMessage(h)}),h}}},{key:"_addOwnReactionToMessage",value:function(e,r,a){return e=(e=a?[]:this._removeOwnReactionFromMessage(e,r))||[],this._channel.getClient().userID===r.user_id&&e.push(r),e}},{key:"_removeOwnReactionFromMessage",value:function(e,r){return e&&e.filter(function(a){return a.user_id!==r.user_id||a.type!==r.type})}},{key:"removeReaction",value:function(e,r){var a=this;if(r){var d=r;return this._updateMessage(r,function(h){return d.own_reactions=a._removeOwnReactionFromMessage(h.own_reactions,e),a.formatMessage(d)}),d}}},{key:"removeQuotedMessageReferences",value:function(e){var r=this,a=function(h){var p,_;return xi(xi({},h),{},{created_at:h.created_at.toISOString(),pinned_at:null===(p=h.pinned_at)||void 0===p?void 0:p.toISOString(),updated_at:null===(_=h.updated_at)||void 0===_?void 0:_.toISOString()})};this.messageSets.forEach(function(d){var h=d.messages.filter(function(p){return p.quoted_message_id===e.id}).map(a).map(function(p){return xi(xi({},p),{},{quoted_message:xi(xi({},e),{},{attachments:[]})})});r.addMessagesSorted(h,!0)})}},{key:"_updateMessage",value:function(e,r){var a=e.parent_id,d=e.show_in_channel,h=e.pinned;if(a&&this.threads[a]){var p=this.threads[a],_=p.findIndex(function(X){return X.id===e.id});-1!==_&&(p[_]=r(p[_]),this.threads[a]=p)}if(!d&&!a||d){var b=this.findMessageSetIndex(e);if(-1!==b){var O=this.messageSets[b].messages.findIndex(function(X){return X.id===e.id});-1!==O&&(this.messageSets[b].messages[O]=r(this.messageSets[b].messages[O]))}}if(h){var Z=this.pinnedMessages.findIndex(function(X){return X.id===e.id});-1!==Z&&(this.pinnedMessages[Z]=r(this.pinnedMessages[Z]))}}},{key:"_addToMessageList",value:function(e,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"created_at",p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4]||a,_=e;a&&(_=_.filter(function(ke){return!(ke.id&&r.id===ke.id)}));var b=_.length;if(0===b&&p)return _.concat(r);if(0===b)return Ce(_);var O=r[d].getTime(),Z=_[b-1][d].getTime()<O;if(Z&&p)return _.concat(r);if(Z)return Ce(_);for(var X=0,se=0,ne=b-1;X<=ne;)_[se=Math.floor((ne+X)/2)][d].getTime()<=O?X=se+1:ne=se-1;if(!a&&r.id){if(_[X]&&r.id===_[X].id)return _[X]=r,Ce(_);if(_[X-1]&&r.id===_[X-1].id)return _[X-1]=r,Ce(_)}return p&&_.splice(X,0,r),Ce(_)}},{key:"removeMessage",value:function(e){var r=!1;if(e.parent_id&&this.threads[e.parent_id]){var a=this.removeMessageFromArray(this.threads[e.parent_id],e),d=a.removed;this.threads[e.parent_id]=a.result,r=d}else{var p,_=null!==(p=e.messageSetIndex)&&void 0!==p?p:this.findMessageSetIndex(e);if(-1!==_){var b=this.removeMessageFromArray(this.messageSets[_].messages,e),O=b.removed;this.messageSets[_].messages=b.result,r=O}}return r}},{key:"filterErrorMessages",value:function(){var e=this.latestMessages.filter(function(r){return"error"!==r.type});this.latestMessages=e}},{key:"clean",value:function(){for(var e=new Date,r=0,a=Object.entries(this.typing);r<a.length;r++){var d=bi(a[r],2),h=d[0],p=d[1],_="string"==typeof p.received_at?new Date(p.received_at):p.received_at||new Date;e.getTime()-_.getTime()>7e3&&(delete this.typing[h],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:h}}))}}},{key:"clearMessages",value:function(){this.initMessages(),this.pinnedMessages=[]}},{key:"initMessages",value:function(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0}]}},{key:"loadMessageIntoState",value:(l=(0,V.Z)(I().mark(function r(a,d){var h,p,_,b,O,Z,X=arguments;return I().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(p=X.length>2&&void 0!==X[2]?X[2]:25,b=!1,O=!1,Z=d||a,"latest"!==a){ne.next=10;break}if(this.messages!==this.latestMessages){ne.next=7;break}return ne.abrupt("return");case 7:_=this.messageSets.findIndex(function(ke){return ke.isLatest}),ne.next=11;break;case 10:_=this.findMessageSetIndex({id:Z});case 11:if(-1!==_&&(this.switchToMessageSet(_),b=!0),O=!d||!(null===(h=this.threads[d])||void 0===h||!h.find(function(ke){return ke.id===a})),!b||!O){ne.next=15;break}return ne.abrupt("return");case 15:if(b){ne.next=18;break}return ne.next=18,this._channel.query({messages:{id_around:Z,limit:p}},"new");case 18:if(O||!d){ne.next=21;break}return ne.next=21,this._channel.getReplies(d,{id_around:a,limit:p});case 21:-1!==(_=this.findMessageSetIndex({id:Z}))&&this.switchToMessageSet(_);case 23:case"end":return ne.stop()}},r,this)})),function e(r,a){return l.apply(this,arguments)})},{key:"findMessage",value:function(e,r){if(r){var a=this.threads[r];return a?a.find(function(h){return h.id===e}):void 0}var d=this.findMessageSetIndex({id:e});if(-1!==d)return this.messageSets[d].messages.find(function(h){return h.id===e})}},{key:"switchToMessageSet",value:function(e){var r=this.messageSets.find(function(a){return a.isCurrent});r&&(r.isCurrent=!1,this.messageSets[e].isCurrent=!0)}},{key:"areMessageSetsOverlap",value:function(e,r){return e.some(function(a){return r.find(function(d){return a.id===d.id})})}},{key:"findMessageSetIndex",value:function(e){return this.messageSets.findIndex(function(r){return!!r.messages.find(function(a){return a.id===e.id})})}},{key:"findTargetMessageSet",value:function(e){var p,r=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",h=e;if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])p=this.findMessageSetIndex(e[0]);else{var _=this.messageSets.map(function(ne,ke){return ke}).filter(function(ne){return r.areMessageSetsOverlap(r.messageSets[ne].messages,e)});switch(d){case"new":_.length>0?p=_[0]:e.some(function(ne){return!ne.parent_id})&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1}),p=this.messageSets.length-1);break;case"current":p=this.messageSets.findIndex(function(ne){return ne.isCurrent});break;case"latest":p=this.messageSets.findIndex(function(ne){return ne.isLatest});break;default:p=-1}var b=_.splice(0,1)[0],O=Ce(_);if(void 0!==b&&b!==p&&O.push(p),O.length>0){var Z=this.messageSets[b],X=this.messageSets.filter(function(ne,ke){return-1!==O.indexOf(ke)});X.forEach(function(ne){Z.isLatest=Z.isLatest||ne.isLatest,Z.isCurrent=Z.isCurrent||ne.isCurrent,h=[].concat(Ce(h),Ce(ne.messages))}),X.forEach(function(ne){return r.messageSets.splice(r.messageSets.indexOf(ne),1)}),p=this.messageSets.findIndex(function(ne){return r.areMessageSetsOverlap(ne.messages,e)})}}return{targetMessageSetIndex:p,messagesToAdd:h}}}]),o;var l}();function Es(o,l){(null==l||l>o.length)&&(l=o.length);for(var e=0,r=new Array(l);e<l;e++)r[e]=o[e];return r}var Yr=function(l){return new Promise(function(e){return setTimeout(e,l)})};function ss(o){return o&&("[object Function]"===Object.prototype.toString.call(o)||"function"==typeof o||o instanceof Function)}var En={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function Na(o){return{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,invisible:!0,roles:!0}[o]}function Hi(o){var a,l=[],r=function hr(o,l){var e=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!e){if(Array.isArray(o)||(e=function Bo(o,l){if(o){if("string"==typeof o)return Es(o,l);var e=Object.prototype.toString.call(o).slice(8,-1);if("Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e)return Array.from(o);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Es(o,l)}}(o))||l&&o&&"number"==typeof o.length){e&&(o=e);var r=0,a=function(){};return{s:a,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(_){function b(O){return _.apply(this,arguments)}return b.toString=function(){return _.toString()},b}(function(_){throw _}),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p,d=!0,h=!1;return{s:function(){e=e.call(o)},n:function(){var b=e.next();return d=b.done,b},e:function(_){function b(O){return _.apply(this,arguments)}return b.toString=function(){return _.toString()},b}(function(_){h=!0,p=_}),f:function(){try{!d&&null!=e.return&&e.return()}finally{if(h)throw p}}}}(Array.isArray(o)?o:[o]);try{for(r.s();!(a=r.n()).done;){var h=Object.entries(a.value);h.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(var p=0,_=h;p<_.length;p++){var b=bi(_[p],2);l.push({field:b[0],direction:b[1]})}}}catch(X){r.e(X)}finally{r.f()}return l}function os(o){var l=Math.min(500+2e3*o,25e3),e=Math.min(Math.max(250,2e3*(o-1)),25e3);return Math.floor(Math.random()*(l-e)+e)}function Ar(){return function Ss(){var o=function po(o){var l=new Uint8Array(o);return Ms(l),l}(16);return o[6]=15&o[6]|64,o[8]=191&o[8]|128,Or(o.subarray(0,4))+"-"+Or(o.subarray(4,6))+"-"+Or(o.subarray(6,8))+"-"+Or(o.subarray(8,10))+"-"+Or(o.subarray(10,16))}()}function Or(o){for(var l="",e=0;e<o.length;e++)l+=o[e].toString(16).padStart(2,"0");return l}function ja(o){for(var l=Math.pow(2,8*o.byteLength/o.length),e=0;e<o.length;e++)o[e]=Math.random()*l}var Ms=function(){var o;return typeof crypto<"u"&&typeof(null===(o=crypto)||void 0===o?void 0:o.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):ja}();function Ba(o){var l={};if(!o)return l;try{Object.getOwnPropertyNames(o).forEach(function(e){l[e]=Object.getOwnPropertyDescriptor(o,e)})}catch{return{error:"failed to serialize the error"}}return l}function $a(){var o=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return o?"boolean"!=typeof o.onLine||o.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function $o(o){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",o),window.addEventListener("online",o))}function go(o){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",o),window.removeEventListener("online",o))}var Ho=function(l){var e=[];for(var r in l)void 0!==l[r]&&(Array.isArray(l[r])||"object"===ht(l[r])?e.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(l[r])))):e.push("".concat(r,"=").concat(encodeURIComponent(l[r]))));return e.join("&")};function Gs(o,l){var e=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!e){if(Array.isArray(o)||(e=function Ha(o,l){if(o){if("string"==typeof o)return gi(o,l);var e=Object.prototype.toString.call(o).slice(8,-1);if("Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e)return Array.from(o);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gi(o,l)}}(o))||l&&o&&"number"==typeof o.length){e&&(o=e);var r=0,a=function(){};return{s:a,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(b){throw b},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p,d=!0,h=!1;return{s:function(){e=e.call(o)},n:function(){var b=e.next();return d=b.done,b},e:function(b){h=!0,p=b},f:function(){try{!d&&null!=e.return&&e.return()}finally{if(h)throw p}}}}function gi(o,l){(null==l||l>o.length)&&(l=o.length);for(var e=0,r=new Array(l);e<l;e++)r[e]=o[e];return r}function Wr(o,l){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);l&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,r)}return e}function St(o){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?Wr(Object(e),!0).forEach(function(r){U(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):Wr(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}var mo=function(){function o(l,e,r,a){var d=this;if(qe(this,o),U(this,"_client",void 0),U(this,"type",void 0),U(this,"id",void 0),U(this,"data",void 0),U(this,"_data",void 0),U(this,"cid",void 0),U(this,"listeners",void 0),U(this,"state",void 0),U(this,"initialized",void 0),U(this,"offlineMode",void 0),U(this,"lastKeyStroke",void 0),U(this,"lastTypingEvent",void 0),U(this,"isTyping",void 0),U(this,"disconnected",void 0),U(this,"create",function(){var _=(0,V.Z)(I().mark(function b(O){var Z;return I().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return Z=St(St({},O),{},{watch:!1,state:!1,presence:!1}),se.next=3,d.query(Z,"latest");case 3:return se.abrupt("return",se.sent);case 4:case"end":return se.stop()}},b)}));return function(b){return _.apply(this,arguments)}}()),U(this,"_callChannelListeners",function(_){var b=d,O=[];b.listeners.all&&O.push.apply(O,Ce(b.listeners.all)),b.listeners[_.type]&&O.push.apply(O,Ce(b.listeners[_.type]));for(var Z=0,X=O;Z<X.length;Z++){var se=X[Z];"string"!=typeof se&&se(_)}}),U(this,"_channelURL",function(){if(!d.id)throw new Error("channel id is not defined");return"".concat(d.getClient().baseURL,"/channels/").concat(d.type,"/").concat(d.id)}),!/^[\w_-]+$/.test(e))throw new Error("Invalid chat type ".concat(e,', letters, numbers and "_-" are allowed'));if("string"==typeof r&&!/^[\w!_-]+$/.test(r))throw new Error("Invalid chat id ".concat(r,', letters, numbers and "!-_" are allowed'));this._client=l,this.type=e,this.id=r,this.data=a,this._data=St({},a),this.cid="".concat(e,":").concat(r),this.listeners={},this.state=new zs(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1}return me(o,[{key:"getClient",value:function(){if(!0===this.disconnected)throw Error("You can't use a channel after client.disconnect() was called");return this._client}},{key:"getConfig",value:function(){return this.getClient().configs[this.cid]}},{key:"sendMessage",value:(l=(0,V.Z)(I().mark(function r(a,d){var h;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.getClient().post(this._channelURL()+"/message",St({message:a},d));case 2:return h=_.sent,this.state.unreadCount=0,_.abrupt("return",h);case 5:case"end":return _.stop()}},r,this)})),function e(r,a){return l.apply(this,arguments)})},{key:"sendFile",value:function(e,r,a,d){return this.getClient().sendFile("".concat(this._channelURL(),"/file"),e,r,a,d)}},{key:"sendImage",value:function(e,r,a,d){return this.getClient().sendFile("".concat(this._channelURL(),"/image"),e,r,a,d)}},{key:"deleteFile",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/file"),{url:e})}},{key:"deleteImage",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/image"),{url:e})}},{key:"sendEvent",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this._checkInitialized(),h.next=3,this.getClient().post(this._channelURL()+"/event",{event:a});case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"search",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(d=p.length>1&&void 0!==p[1]?p[1]:{}).offset||!d.next){b.next=3;break}throw Error("Cannot specify offset with next");case 3:if(h=St(St({filter_conditions:{cid:this.cid}},d),{},{sort:d.sort?Hi(d.sort):void 0}),"string"!=typeof a){b.next=8;break}h.query=a,b.next=13;break;case 8:if("object"!==ht(a)){b.next=12;break}h.message_filter_conditions=a,b.next=13;break;case 12:throw Error("Invalid type ".concat(ht(a)," for query parameter"));case 13:return b.next=15,this.getClient().wsPromise;case 15:return b.next=17,this.getClient().get(this.getClient().baseURL+"/search",{payload:h});case 17:return b.abrupt("return",b.sent);case 18:case"end":return b.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"queryMembers",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p,_,b,O,Z=arguments;return I().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return h=Z.length>1&&void 0!==Z[1]?Z[1]:[],p=Z.length>2&&void 0!==Z[2]?Z[2]:{},b=this.type,this.id?_=this.id:null!==(d=this.data)&&void 0!==d&&d.members&&Array.isArray(this.data.members)&&(O=this.data.members),se.next=6,this.getClient().get(this.getClient().baseURL+"/members",{payload:St({type:b,id:_,members:O,sort:Hi(h),filter_conditions:a},p)});case 6:return se.abrupt("return",se.sent);case 7:case"end":return se.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"sendReaction",value:function(){var l=(0,V.Z)(I().mark(function r(a,d,h){return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a){_.next=2;break}throw Error("Message id is missing");case 2:if(d&&0!==Object.keys(d).length){_.next=4;break}throw Error("Reaction object is missing");case 4:return _.next=6,this.getClient().post(this.getClient().baseURL+"/messages/".concat(a,"/reaction"),St({reaction:d},h));case 6:return _.abrupt("return",_.sent);case 7:case"end":return _.stop()}},r,this)}));return function e(r,a,d){return l.apply(this,arguments)}}()},{key:"deleteReaction",value:function(e,r,a){if(this._checkInitialized(),!r||!e)throw Error("Deleting a reaction requires specifying both the message and reaction type");var d=this.getClient().baseURL+"/messages/".concat(e,"/reaction/").concat(r);return a?this.getClient().delete(d,{user_id:a}):this.getClient().delete(d,{})}},{key:"update",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h,_=arguments;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return a=_.length>0&&void 0!==_[0]?_[0]:{},d=_.length>1?_[1]:void 0,h=_.length>2?_[2]:void 0,["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(function(Z){delete a[Z]}),O.next=7,this._update(St({message:d,data:a},h));case 7:return O.abrupt("return",O.sent);case 8:case"end":return O.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"updatePartial",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.getClient().patch(this._channelURL(),a);case 2:return this.data=(d=p.sent).channel,p.abrupt("return",d);case 5:case"end":return p.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"enableSlowMode",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.getClient().post(this._channelURL(),{cooldown:a});case 2:return this.data=(d=p.sent).channel,p.abrupt("return",d);case 5:case"end":return p.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"disableSlowMode",value:function(){var l=(0,V.Z)(I().mark(function r(){var a;return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.getClient().post(this._channelURL(),{cooldown:0});case 2:return this.data=(a=h.sent).channel,h.abrupt("return",a);case 5:case"end":return h.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"delete",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this.getClient().delete(this._channelURL(),St({},a));case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"truncate",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this.getClient().post(this._channelURL()+"/truncate",a);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"acceptInvite",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this._update(St({accept_invite:!0},a));case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"rejectInvite",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this._update(St({reject_invite:!0},a));case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"addMembers",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this._update(St({add_members:a,message:d},h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"addModerators",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this._update(St({add_moderators:a,message:d},h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"assignRoles",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this._update(St({assign_roles:a,message:d},h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"inviteMembers",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this._update(St({invites:a,message:d},h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"removeMembers",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this._update(St({remove_members:a,message:d},h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"demoteModerators",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this._update(St({demote_moderators:a,message:d},h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"_update",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.getClient().post(this._channelURL(),a);case 2:return this.data=(d=p.sent).channel,p.abrupt("return",d);case 5:case"end":return p.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"mute",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",St({channel_cid:this.cid},a));case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"unmute",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",St({channel_cid:this.cid},a));case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"muteStatus",value:function(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}},{key:"sendAction",value:function(e,r){if(this._checkInitialized(),!e)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+"/messages/".concat(e,"/action"),{message_id:e,form_data:r,id:this.id,type:this.type})}},{key:"keystroke",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(null!==(d=this.getConfig())&&void 0!==d&&d.typing_events){b.next=2;break}return b.abrupt("return");case 2:if(h=new Date,p=this.lastTypingEvent&&h.getTime()-this.lastTypingEvent.getTime(),this.lastKeyStroke=h,this.isTyping=!0,!(null===p||p>2e3)){b.next=10;break}return this.lastTypingEvent=new Date,b.next=10,this.sendEvent({type:"typing.start",parent_id:a});case 10:case"end":return b.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"stopTyping",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(null!==(d=this.getConfig())&&void 0!==d&&d.typing_events){p.next=2;break}return p.abrupt("return");case 2:return this.lastTypingEvent=null,this.isTyping=!1,p.next=6,this.sendEvent({type:"typing.stop",parent_id:a});case 6:case"end":return p.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"lastMessage",value:function(){var e=this.state.latestMessages.length-5;e<0&&(e=0);var a=this.state.latestMessages.slice(e,this.state.latestMessages.length+1);return a.sort(function(d,h){return h.created_at.getTime()-d.created_at.getTime()}),a[0]}},{key:"markRead",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(d=h.length>0&&void 0!==h[0]?h[0]:{},this._checkInitialized(),null!==(a=this.getConfig())&&void 0!==a&&a.read_events){_.next=4;break}return _.abrupt("return",Promise.resolve(null));case 4:return _.next=6,this.getClient().post(this._channelURL()+"/read",St({},d));case 6:return _.abrupt("return",_.sent);case 7:case"end":return _.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"markUnread",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this._checkInitialized(),null!==(d=this.getConfig())&&void 0!==d&&d.read_events){p.next=3;break}return p.abrupt("return",Promise.resolve(null));case 3:return p.next=5,this.getClient().post(this._channelURL()+"/unread",St({},a));case 5:return p.abrupt("return",p.sent);case 6:case"end":return p.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"clean",value:function(){this.lastKeyStroke&&(new Date).getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&function Pa(o,l){o.then().catch(function(e){console.warn("failed to do ".concat(l,", ran into error: "),e)})}(this.stopTyping(),"stop typing event"),this.state.clean()}},{key:"watch",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d={state:!0,watch:!0,presence:!1},b.next=3,this.getClient().wsPromise;case 3:return this.getClient()._hasConnectionID()||(d.watch=!1),h=St(St({},d),a),b.next=7,this.query(h,"latest");case 7:return p=b.sent,this.initialized=!0,this.data=p.channel,this._client.logger("info","channel:watch() - started watching channel ".concat(this.cid),{tags:["channel"],channel:this}),b.abrupt("return",p);case 12:case"end":return b.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"stopWatching",value:function(){var l=(0,V.Z)(I().mark(function r(){var a;return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.getClient().post(this._channelURL()+"/stop-watching",{});case 2:return a=h.sent,this._client.logger("info","channel:watch() - stopped watching channel ".concat(this.cid),{tags:["channel"],channel:this}),h.abrupt("return",a);case 5:case"end":return h.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"getReplies",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.getClient().get(this.getClient().baseURL+"/messages/".concat(a,"/replies"),St({},d));case 2:return(h=_.sent).messages&&this.state.addMessagesSorted(h.messages),_.abrupt("return",h);case 5:case"end":return _.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"getPinnedMessages",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:[],_.next=3,this.getClient().get(this.getClient().baseURL+"/channels/".concat(this.type,"/").concat(this.id,"/pinned_messages"),{payload:St(St({},a),{},{sort:Hi(d)})});case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"getReactions",value:function(e,r){return this.getClient().get(this.getClient().baseURL+"/messages/".concat(e,"/reactions"),St({},r))}},{key:"getMessagesById",value:function(e){return this.getClient().get(this._channelURL()+"/messages",{ids:e.join(",")})}},{key:"lastRead",value:function(){var r=this.getClient().userID;if(r)return this.state.read[r]?this.state.read[r].last_read:null}},{key:"_countMessageAsUnread",value:function(e){var r,a,d,h;return!(e.shadowed||e.silent||e.parent_id&&!e.show_in_channel||(null===(r=e.user)||void 0===r?void 0:r.id)===this.getClient().userID||null!==(a=e.user)&&void 0!==a&&a.id&&this.getClient().userMuteStatus(e.user.id)||"system"===e.type||Array.isArray(null===(d=this.data)||void 0===d?void 0:d.own_capabilities)&&(null===(h=this.data)||void 0===h||!h.own_capabilities.includes("read-events"))||this.muteStatus().muted)}},{key:"countUnread",value:function(e){if(!e)return this.state.unreadCount;for(var r=0,a=0;a<this.state.latestMessages.length;a+=1){var d=this.state.latestMessages[a];d.created_at>e&&this._countMessageAsUnread(d)&&r++}return r}},{key:"countUnreadMentions",value:function(){for(var e=this.lastRead(),r=this.getClient().userID,a=0,d=0;d<this.state.latestMessages.length;d+=1){var h,p=this.state.latestMessages[d];this._countMessageAsUnread(p)&&(!e||p.created_at>e)&&null!==(h=p.mentioned_users)&&void 0!==h&&h.some(function(_){return _.id===r})&&a++}return a}},{key:"query",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p,_,b,O,Z,X,se,ne,ke=arguments;return I().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return p=ke.length>1&&void 0!==ke[1]?ke[1]:"current",Dt.next=3,this.getClient().wsPromise;case 3:return _="".concat(this.getClient().baseURL,"/channels/").concat(this.type),this.id&&(_+="/".concat(this.id)),Dt.next=7,this.getClient().post(_+"/query",St({data:this._data,state:!0},a));case 7:return b=Dt.sent,this.id||(this.id=b.channel.id,this.cid=b.channel.cid,O=b.members.map(function(tt){var Zt;return tt.user_id||(null===(Zt=tt.user)||void 0===Zt?void 0:Zt.id)}).sort().join(","),(Z="".concat(this.type,":!members-").concat(O))in this.getClient().activeChannels&&delete this.getClient().activeChannels[Z],this.cid in this.getClient().activeChannels||(this.getClient().activeChannels[this.cid]=this)),this.getClient()._addChannelConfig(b.channel),X=this._initializeState(b,p),se=X.messageSet,ne=Ce(b.channel.own_capabilities||[]).sort().join()!==Ce(Array.isArray(null===(d=this.data)||void 0===d?void 0:d.own_capabilities)?null===(h=this.data)||void 0===h?void 0:h.own_capabilities:[]).sort().join(),this.data=b.channel,this.offlineMode=!1,ne&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:b.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[b],isLatestMessageSet:se.isLatest}}),Dt.abrupt("return",b);case 17:case"end":return Dt.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"banUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this._checkInitialized(),p.next=3,this.getClient().banUser(a,St(St({},d),{},{type:this.type,id:this.id}));case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"hide",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return a=h.length>0&&void 0!==h[0]?h[0]:null,d=h.length>1&&void 0!==h[1]&&h[1],this._checkInitialized(),_.next=5,this.getClient().post("".concat(this._channelURL(),"/hide"),{user_id:a,clear_history:d});case 5:return _.abrupt("return",_.sent);case 6:case"end":return _.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"show",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:null,this._checkInitialized(),p.next=4,this.getClient().post("".concat(this._channelURL(),"/show"),{user_id:a});case 4:return p.abrupt("return",p.sent);case 5:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"unbanUser",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this._checkInitialized(),h.next=3,this.getClient().unbanUser(a,{type:this.type,id:this.id});case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"shadowBan",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this._checkInitialized(),p.next=3,this.getClient().shadowBan(a,St(St({},d),{},{type:this.type,id:this.id}));case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"removeShadowBan",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this._checkInitialized(),h.next=3,this.getClient().removeShadowBan(a,{type:this.type,id:this.id});case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"createCall",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.getClient().post(this._channelURL()+"/call",a);case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"on",value:function(e,r){var a=this,d=r?e:"all",h=r||e;return d in this.listeners||(this.listeners[d]=[]),this._client.logger("info","Attaching listener for ".concat(d," event on channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[d].push(h),{unsubscribe:function(){a._client.logger("info","Removing listener for ".concat(d," event from channel ").concat(a.cid),{tags:["event","channel"],channel:a}),a.listeners[d]=a.listeners[d].filter(function(_){return _!==h})}}}},{key:"off",value:function(e,r){var a=r?e:"all",d=r||e;a in this.listeners||(this.listeners[a]=[]),this._client.logger("info","Removing listener for ".concat(a," event from channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[a]=this.listeners[a].filter(function(h){return h!==d})}},{key:"_handleChannelEvent",value:function(e){var r,a,d,h,p,_,b,O,Z,X,se,ne,ke=this;this._client.logger("info","channel:_handleChannelEvent - Received event of type { ".concat(e.type," } on ").concat(this.cid),{tags:["event","channel"],channel:this});var Ge=ke.state;switch(e.type){case"typing.start":null!==(r=e.user)&&void 0!==r&&r.id&&(Ge.typing[e.user.id]=e);break;case"typing.stop":null!==(a=e.user)&&void 0!==a&&a.id&&delete Ge.typing[e.user.id];break;case"message.read":var Dt,tt;null!==(d=e.user)&&void 0!==d&&d.id&&e.created_at&&(Ge.read[e.user.id]={last_read:new Date(e.created_at),last_read_message_id:e.last_read_message_id,user:e.user,unread_messages:0},(null===(Dt=e.user)||void 0===Dt?void 0:Dt.id)===(null===(tt=this.getClient().user)||void 0===tt?void 0:tt.id)&&(Ge.unreadCount=0));break;case"user.watching.start":case"user.updated":null!==(h=e.user)&&void 0!==h&&h.id&&(Ge.watchers[e.user.id]=e.user);break;case"user.watching.stop":null!==(p=e.user)&&void 0!==p&&p.id&&delete Ge.watchers[e.user.id];break;case"message.deleted":e.message&&(this._extendEventWithOwnReactions(e),e.hard_delete?Ge.removeMessage(e.message):Ge.addMessageSorted(e.message,!1,!1),Ge.removeQuotedMessageReferences(e.message),e.message.pinned&&Ge.removePinnedMessage(e.message));break;case"message.new":if(e.message){var Zt,Ut,Jt,Kt=(null===(Zt=e.user)||void 0===Zt?void 0:Zt.id)===(null===(Ut=this.getClient().user)||void 0===Ut?void 0:Ut.id);if((this.state.isUpToDate||e.message.parent_id&&!e.message.show_in_channel)&&Ge.addMessageSorted(e.message,Kt),e.message.pinned&&Ge.addPinnedMessage(e.message),null!==(Jt=e.user)&&void 0!==Jt&&Jt.id)for(var jn in Ge.read)jn===e.user.id?Ge.read[e.user.id]={last_read:new Date(e.created_at),user:e.user,unread_messages:0}:Ge.read[jn].unread_messages+=1;Kt?Ge.unreadCount=0:this._countMessageAsUnread(e.message)&&(Ge.unreadCount=Ge.unreadCount+1)}break;case"message.updated":e.message&&(this._extendEventWithOwnReactions(e),Ge.addMessageSorted(e.message,!1,!1),e.message.pinned?Ge.addPinnedMessage(e.message):Ge.removePinnedMessage(e.message));break;case"channel.truncated":if(null!==(_=e.channel)&&void 0!==_&&_.truncated_at){var Rn=+new Date(e.channel.truncated_at);Ge.messageSets.forEach(function(Wi,Dr){Wi.messages.forEach(function(wr){Rn>+wr.created_at&&Ge.removeMessage({id:wr.id,messageSetIndex:Dr})})}),Ge.pinnedMessages.forEach(function(Wi){Rn>+Wi.created_at&&Ge.removePinnedMessage({id:Wi.id})})}else Ge.clearMessages();Ge.unreadCount=0,e.message&&(Ge.addMessageSorted(e.message),e.message.pinned&&Ge.addPinnedMessage(e.message));break;case"member.added":case"member.updated":null!==(b=e.member)&&void 0!==b&&b.user_id&&(Ge.members[e.member.user_id]=e.member);break;case"member.removed":null!==(O=e.user)&&void 0!==O&&O.id&&delete Ge.members[e.user.id];break;case"channel.updated":var xn,Bn,fi,Sn,Gi,Yi,Ln,Mi;e.channel&&(void 0!==(null===(xn=e.channel)||void 0===xn?void 0:xn.frozen)&&e.channel.frozen!==(null===(Bn=ke.data)||void 0===Bn?void 0:Bn.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}}),ke.data=St(St({},e.channel),{},{hidden:null!==(fi=null===(Sn=e.channel)||void 0===Sn?void 0:Sn.hidden)&&void 0!==fi?fi:null===(Gi=ke.data)||void 0===Gi?void 0:Gi.hidden,own_capabilities:null!==(Yi=null===(Ln=e.channel)||void 0===Ln?void 0:Ln.own_capabilities)&&void 0!==Yi?Yi:null===(Mi=ke.data)||void 0===Mi?void 0:Mi.own_capabilities}));break;case"reaction.new":e.message&&e.reaction&&(e.message=Ge.addReaction(e.reaction,e.message));break;case"reaction.deleted":e.reaction&&(e.message=Ge.removeReaction(e.reaction,e.message));break;case"reaction.updated":e.reaction&&(e.message=Ge.addReaction(e.reaction,e.message,!0));break;case"channel.hidden":ke.data=St(St({},ke.data),{},{hidden:!0}),e.clear_history&&Ge.clearMessages();break;case"channel.visible":ke.data=St(St({},ke.data),{},{hidden:!1});break;case"user.banned":if(null===(Z=e.user)||void 0===Z||!Z.id)break;Ge.members[e.user.id]=St(St({},Ge.members[e.user.id]||{}),{},{shadow_banned:!!e.shadow,banned:!e.shadow,user:St(St({},(null===(X=Ge.members[e.user.id])||void 0===X?void 0:X.user)||{}),e.user)});break;case"user.unbanned":if(null===(se=e.user)||void 0===se||!se.id)break;Ge.members[e.user.id]=St(St({},Ge.members[e.user.id]||{}),{},{shadow_banned:!1,banned:!1,user:St(St({},(null===(ne=Ge.members[e.user.id])||void 0===ne?void 0:ne.user)||{}),e.user)})}void 0!==e.watcher_count&&(ke.state.watcher_count=e.watcher_count)}},{key:"_checkInitialized",value:function(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error("Channel ".concat(this.cid," hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve"))}},{key:"_initializeState",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",a=this.getClient(),d=a.state,h=a.user,p=a.userID;if(e.members){var b,_=Gs(e.members);try{for(_.s();!(b=_.n()).done;){var O=b.value;O.user&&d.updateUserReference(O.user,this.cid)}}catch(Kt){_.e(Kt)}finally{_.f()}}this.state.membership=e.membership||{};var Z=e.messages||[];this.state.messages||this.state.initMessages();var se=this.state.addMessagesSorted(Z,!1,!0,!0,r).messageSet;if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(e.pinned_messages||[]),e.pending_messages&&(this.state.pending_messages=e.pending_messages),void 0!==e.watcher_count&&(this.state.watcher_count=e.watcher_count),e.watchers){var ke,ne=Gs(e.watchers);try{for(ne.s();!(ke=ne.n()).done;){var Ge=ke.value;Ge&&(d.updateUserReference(Ge,this.cid),this.state.watchers[Ge.id]=Ge)}}catch(Kt){ne.e(Kt)}finally{ne.f()}}if(null!=p&&h&&(this.state.read[h.id]={user:h,last_read:this.state.last_message_at||new Date,unread_messages:0}),e.read){var Zt,tt=Gs(e.read);try{for(tt.s();!(Zt=tt.n()).done;){var Ut,Jt=Zt.value;this.state.read[Jt.user.id]={last_read:new Date(Jt.last_read),last_read_message_id:Jt.last_read_message_id,unread_messages:null!==(Ut=Jt.unread_messages)&&void 0!==Ut?Ut:0,user:Jt.user},Jt.user.id===h?.id&&(this.state.unreadCount=this.state.read[Jt.user.id].unread_messages)}}catch(Kt){tt.e(Kt)}finally{tt.f()}}return e.members&&(this.state.members=e.members.reduce(function(Kt,vn){return vn.user&&(Kt[vn.user.id]=vn),Kt},{})),{messageSet:se}}},{key:"_extendEventWithOwnReactions",value:function(e){if(e.message){var r=this.state.findMessage(e.message.id,e.message.parent_id);r&&(e.message.own_reactions=r.own_reactions)}}},{key:"_disconnect",value:function(){this._client.logger("info","channel:disconnect() - Disconnecting the channel ".concat(this.cid),{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}}]),o;var l}();function Zo(o,l){(null==l||l>o.length)&&(l=o.length);for(var e=0,r=new Array(l);e<l;e++)r[e]=o[e];return r}var Za=function(){function o(){qe(this,o),U(this,"users",void 0),U(this,"userChannelReferences",void 0),this.users={},this.userChannelReferences={}}return me(o,[{key:"updateUsers",value:function(e){var a,r=function Dl(o,l){var e=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!e){if(Array.isArray(o)||(e=function wl(o,l){if(o){if("string"==typeof o)return Zo(o,l);var e=Object.prototype.toString.call(o).slice(8,-1);if("Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e)return Array.from(o);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Zo(o,l)}}(o))||l&&o&&"number"==typeof o.length){e&&(o=e);var r=0,a=function(){};return{s:a,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(b){throw b},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p,d=!0,h=!1;return{s:function(){e=e.call(o)},n:function(){var b=e.next();return d=b.done,b},e:function(b){h=!0,p=b},f:function(){try{!d&&null!=e.return&&e.return()}finally{if(h)throw p}}}}(e);try{for(r.s();!(a=r.n()).done;)this.updateUser(a.value)}catch(h){r.e(h)}finally{r.f()}}},{key:"updateUser",value:function(e){null!=e&&(this.users[e.id]=e)}},{key:"updateUserReference",value:function(e,r){null!=e&&(this.updateUser(e),this.userChannelReferences[e.id]||(this.userChannelReferences[e.id]={}),this.userChannelReferences[e.id][r]=!0)}},{key:"deleteAllChannelReference",value:function(e){for(var r in this.userChannelReferences)delete this.userChannelReferences[r][e]}}]),o}();function D(o,l){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);l&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,r)}return e}function F(o){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?D(Object(e),!0).forEach(function(r){U(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):D(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}var S=function o(){qe(this,o),U(this,"connectionStartTimestamp",void 0),U(this,"wsConsecutiveFailures",void 0),U(this,"wsTotalFailures",void 0),U(this,"instanceClientId",void 0),this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=Ar()},P=function(){var o=(0,V.Z)(I().mark(function l(e,r){var a,d;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:a=3,d=0;case 2:if(!(d<a)){p.next=17;break}return p.prev=3,p.next=6,di.post("https://chat-insights.getstream.io/insights/".concat(e),r);case 6:p.next=13;break;case 8:return p.prev=8,p.t0=p.catch(3),p.next=12,Yr(3e3*(d+1));case 12:return p.abrupt("continue",14);case 13:return p.abrupt("break",17);case 14:d++,p.next=2;break;case 17:case"end":return p.stop()}},l,null,[[3,8]])}));return function(e,r){return o.apply(this,arguments)}}();function q(o,l){return F(F({},l),Fe(o))}function Fe(o){var l,e,r,a=o.client;return{ready_state:null===(l=o.ws)||void 0===l?void 0:l.readyState,url:o._buildUrl(),api_key:a.key,start_ts:a.insightMetrics.connectionStartTimestamp,end_ts:(new Date).getTime(),auth_type:a.getAuthType(),token:a.tokenManager.token,user_id:a.userID,user_details:a._user,device:a.options.device,client_id:o.connectionID,ws_details:o.ws,ws_consecutive_failures:a.insightMetrics.wsConsecutiveFailures,ws_total_failures:a.insightMetrics.wsTotalFailures,request_id:o.requestID,online:typeof navigator<"u"?null===(e=navigator)||void 0===e?void 0:e.onLine:null,user_agent:typeof navigator<"u"?null===(r=navigator)||void 0===r?void 0:r.userAgent:null,instance_client_id:a.insightMetrics.instanceClientId}}function ze(o){return Fe(o)}function Tt(o,l){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);l&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,r)}return e}var _n=function(l){return void 0!==l.code},Dn=function(l){return void 0!==l.error},rn=function(){function o(l){var e=this,r=l.client;qe(this,o),U(this,"client",void 0),U(this,"connectionID",void 0),U(this,"connectionOpen",void 0),U(this,"consecutiveFailures",void 0),U(this,"pingInterval",void 0),U(this,"healthCheckTimeoutRef",void 0),U(this,"isConnecting",void 0),U(this,"isDisconnected",void 0),U(this,"isHealthy",void 0),U(this,"isResolved",void 0),U(this,"lastEvent",void 0),U(this,"connectionCheckTimeout",void 0),U(this,"connectionCheckTimeoutRef",void 0),U(this,"rejectPromise",void 0),U(this,"requestID",void 0),U(this,"resolvePromise",void 0),U(this,"totalFailures",void 0),U(this,"ws",void 0),U(this,"wsID",void 0),U(this,"_buildUrl",function(){var a=encodeURIComponent(e.client._buildWSPayload(e.requestID)),d=e.client.tokenManager.getToken();return"".concat(e.client.wsBaseURL,"/connect?json=").concat(a,"&api_key=").concat(e.client.key,"&authorization=").concat(d,"&stream-auth-type=").concat(e.client.getAuthType(),"&X-Stream-Client=").concat(e.client.getUserAgent())}),U(this,"onlineStatusChanged",function(a){"offline"===a.type?(e._log("onlineStatusChanged() - Status changing to offline"),e._setHealth(!1)):"online"===a.type&&(e._log("onlineStatusChanged() - Status changing to online. isHealthy: ".concat(e.isHealthy)),e.isHealthy||e._reconnect({interval:10}))}),U(this,"onopen",function(a){e.wsID===a&&e._log("onopen() - onopen callback",{wsID:a})}),U(this,"onmessage",function(a,d){if(e.wsID===a){e._log("onmessage() - onmessage callback",{event:d,wsID:a});var h="string"==typeof d.data?JSON.parse(d.data):null;if(!e.isResolved&&h){var p,_;if(e.isResolved=!0,h.error)return void(null===(_=e.rejectPromise)||void 0===_||_.call(e,e._errorFromWSEvent(h,!1)));null===(p=e.resolvePromise)||void 0===p||p.call(e,h),e._setHealth(!0)}e.lastEvent=new Date,h&&"health.check"===h.type&&e.scheduleNextPing(),e.client.handleEvent(d),e.scheduleConnectionCheck()}}),U(this,"onclose",function(a,d){if(e.wsID===a)if(e._log("onclose() - onclose callback - "+d.code,{event:d,wsID:a}),d.code===En.WS_CLOSED_SUCCESS){var h,p=new Error("WS connection reject with error ".concat(d.reason));p.reason=d.reason,p.code=d.code,p.wasClean=d.wasClean,p.target=d.target,null===(h=e.rejectPromise)||void 0===h||h.call(e,p),e._log("onclose() - WS connection reject with error ".concat(d.reason),{event:d})}else{var _;e.consecutiveFailures+=1,e.totalFailures+=1,e._setHealth(!1),e.isConnecting=!1,null===(_=e.rejectPromise)||void 0===_||_.call(e,e._errorFromWSEvent(d)),e._log("onclose() - WS connection closed. Calling reconnect ...",{event:d}),e._reconnect()}}),U(this,"onerror",function(a,d){var h;e.wsID===a&&(e.consecutiveFailures+=1,e.totalFailures+=1,e._setHealth(!1),e.isConnecting=!1,null===(h=e.rejectPromise)||void 0===h||h.call(e,e._errorFromWSEvent(d)),e._log("onerror() - WS connection resulted into error",{event:d}),e._reconnect())}),U(this,"_setHealth",function(a){if(a!==e.isHealthy){if(e.isHealthy=a,e.isHealthy)return void e.client.dispatchEvent({type:"connection.changed",online:e.isHealthy});setTimeout(function(){e.isHealthy||e.client.dispatchEvent({type:"connection.changed",online:e.isHealthy})},5e3)}}),U(this,"_errorFromWSEvent",function(a){var h,p,_,d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_n(a)&&(h=a.code,p="unknown",_=a.reason),Dn(a)&&(h=a.error.code,p=a.error.StatusCode,_=a.error.message),e._log("_errorFromWSEvent() - WS failed with code ".concat(h),{event:a},"warn");var b=new Error("WS failed with code ".concat(h," and reason - ").concat(_));return b.code=h,b.StatusCode=p,b.isWSFailure=d,b}),U(this,"_setupConnectionPromise",function(){e.isResolved=!1,e.connectionOpen=new Promise(function(a,d){e.resolvePromise=a,e.rejectPromise=d})}),U(this,"scheduleNextPing",function(){e.healthCheckTimeoutRef&&clearTimeout(e.healthCheckTimeoutRef),e.healthCheckTimeoutRef=setTimeout(function(){var a=[{type:"health.check",client_id:e.client.clientID}];try{var d;null===(d=e.ws)||void 0===d||d.send(JSON.stringify(a))}catch{}},e.pingInterval)}),U(this,"scheduleConnectionCheck",function(){e.connectionCheckTimeoutRef&&clearTimeout(e.connectionCheckTimeoutRef),e.connectionCheckTimeoutRef=setTimeout(function(){e.lastEvent&&(new Date).getTime()-e.lastEvent.getTime()>e.connectionCheckTimeout&&(e._log("scheduleConnectionCheck - going to reconnect"),e._setHealth(!1),e._reconnect())},e.connectionCheckTimeout)}),this.client=r,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,$o(this.onlineStatusChanged)}return me(o,[{key:"_log",value:function(e){this.client.logger(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info","connection:"+e,function un(o){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?Tt(Object(e),!0).forEach(function(r){U(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):Tt(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}({tags:["connection"]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"setClient",value:function(e){this.client=e}},{key:"connect",value:(l=(0,V.Z)(I().mark(function r(){var a,d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a=h.length>0&&void 0!==h[0]?h[0]:15e3,!this.isConnecting){_.next=3;break}throw Error("You've called connect twice, can only attempt 1 connection at the time");case 3:return this.isDisconnected=!1,_.prev=4,_.next=7,this._connect();case 7:d=_.sent,this.consecutiveFailures=0,this._log("connect() - Established ws connection with healthcheck: ".concat(d)),_.next=23;break;case 12:if(_.prev=12,_.t0=_.catch(4),this.isHealthy=!1,this.consecutiveFailures+=1,_.t0.code!==En.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){_.next=21;break}this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}),_.next=23;break;case 21:if(_.t0.isWSFailure){_.next=23;break}throw new Error(JSON.stringify({code:_.t0.code,StatusCode:_.t0.StatusCode,message:_.t0.message,isWSFailure:_.t0.isWSFailure}));case 23:return _.next=25,this._waitForHealthy(a);case 25:return _.abrupt("return",_.sent);case 26:case"end":return _.stop()}},r,this,[[4,12]])})),function e(){return l.apply(this,arguments)})},{key:"_waitForHealthy",value:function(){var l=(0,V.Z)(I().mark(function r(){var d,a=this,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>0&&void 0!==h[0]?h[0]:15e3,_.abrupt("return",Promise.race([(0,V.Z)(I().mark(function b(){var O,Z;return I().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:O=50,Z=0;case 2:if(!(Z<=d)){se.next=18;break}return se.prev=3,se.next=6,a.connectionOpen;case 6:return se.abrupt("return",se.sent);case 9:if(se.prev=9,se.t0=se.catch(3),Z!==d){se.next=13;break}throw new Error(JSON.stringify({code:se.t0.code,StatusCode:se.t0.StatusCode,message:se.t0.message,isWSFailure:se.t0.isWSFailure}));case 13:return se.next=15,Yr(O);case 15:Z+=O,se.next=2;break;case 18:case"end":return se.stop()}},b,null,[[3,9]])}))(),(0,V.Z)(I().mark(function b(){return I().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,Yr(d);case 2:throw a.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}));case 4:case"end":return Z.stop()}},b)}))()]));case 2:case"end":return _.stop()}},r)}));return function e(){return l.apply(this,arguments)}}()},{key:"disconnect",value:function(e){var r=this;this._log("disconnect() - Closing the websocket connection for wsID ".concat(this.wsID)),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),go(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();var a,d=this.ws;return d&&d.close&&d.readyState===d.OPEN?(a=new Promise(function(h){var p=function(b){r._log("disconnect() - resolving isClosedPromise ".concat(b?"with":"without"," close frame"),{event:b}),h()};d.onclose=p,setTimeout(p,e??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),d.close(En.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),a=Promise.resolve()),delete this.ws,a}},{key:"_connect",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h,p;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)){b.next=2;break}return b.abrupt("return");case 2:return this.isConnecting=!0,this.requestID=Ar(),this.client.insightMetrics.connectionStartTimestamp=(new Date).getTime(),a=!1,b.prev=6,this._log("_connect() - waiting for token"),b.next=10,this.client.tokenManager.tokenReady();case 10:a=!0,b.next=15;break;case 13:b.prev=13,b.t0=b.catch(6);case 15:if(b.prev=15,a){b.next=20;break}return this._log("_connect() - tokenProvider failed before, so going to retry"),b.next=20,this.client.tokenManager.loadToken();case 20:return this._setupConnectionPromise(),d=this._buildUrl(),this._log("_connect() - Connecting to ".concat(d),{wsURL:d,requestID:this.requestID}),this.ws=new(Ir())(d),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID),b.next=30,this.connectionOpen;case 30:if(h=b.sent,this.isConnecting=!1,!h){b.next=36;break}return this.connectionID=h.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(P("ws_success_after_failure",ze(this)),this.client.insightMetrics.wsConsecutiveFailures=0),b.abrupt("return",h);case 36:b.next=44;break;case 38:throw b.prev=38,b.t1=b.catch(15),this.isConnecting=!1,this._log("_connect() - Error - ",b.t1),this.client.options.enableInsights&&(this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++,p=q(this,Ba(b.t1)),P?.("ws_fatal",p)),b.t1;case 44:case"end":return b.stop()}},r,this,[[6,13],[15,38]])}));return function e(){return l.apply(this,arguments)}}()},{key:"_reconnect",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a=h.length>0&&void 0!==h[0]?h[0]:{},this._log("_reconnect() - Initiating the reconnect"),!this.isConnecting&&!this.isHealthy){_.next=5;break}return this._log("_reconnect() - Abort (1) since already connecting or healthy"),_.abrupt("return");case 5:return(d=a.interval)||(d=os(this.consecutiveFailures)),_.next=9,Yr(d);case 9:if(!this.isConnecting&&!this.isHealthy){_.next=12;break}return this._log("_reconnect() - Abort (2) since already connecting or healthy"),_.abrupt("return");case 12:if(!this.isDisconnected||!this.client.options.enableWSFallback){_.next=15;break}return this._log("_reconnect() - Abort (3) since disconnect() is called"),_.abrupt("return");case 15:if(this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),!a.refreshToken){_.next=20;break}return _.next=20,this.client.tokenManager.loadToken();case 20:return _.prev=20,_.next=23,this._connect();case 23:return this._log("_reconnect() - Waiting for recoverCallBack"),_.next=26,this.client.recoverState();case 26:this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0,_.next=38;break;case 30:if(_.prev=30,_.t0=_.catch(20),this.isHealthy=!1,this.consecutiveFailures+=1,_.t0.code!==En.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){_.next=37;break}return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),_.abrupt("return",this._reconnect({refreshToken:!0}));case 37:_.t0.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect());case 38:this._log("_reconnect() - == END ==");case 39:case"end":return _.stop()}},r,this,[[20,30]])}));return function e(){return l.apply(this,arguments)}}()},{key:"_destroyCurrentWSConnection",value:function(){this.wsID+=1;try{var e,r;null==this||null===(e=this.ws)||void 0===e||e.removeAllListeners(),null==this||null===(r=this.ws)||void 0===r||r.close()}catch{}}}]),o;var l}(),Zn=null;function qn(o,l){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);l&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,r)}return e}function Ri(o,l){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof l)throw new TypeError("userId should be a string");throw function Zi(o){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?qn(Object(e),!0).forEach(function(r){U(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):qn(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}}({user_id:l},e),Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.")}function tr(o){var r=st({algorithm:"HS256",noTimestamp:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return Zn.sign({server:!0},o,r)}var Ys=function o(l){var e=this;qe(this,o),U(this,"loadTokenPromise",void 0),U(this,"type",void 0),U(this,"secret",void 0),U(this,"token",void 0),U(this,"tokenProvider",void 0),U(this,"user",void 0),U(this,"setTokenOrProvider",function(){var r=(0,V.Z)(I().mark(function a(d,h){return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return e.validateToken(d,h),e.user=h,ss(d)&&(e.tokenProvider=d,e.type="provider"),"string"==typeof d&&(e.token=d,e.type="static"),!d&&e.user&&e.secret&&(e.token=Ri(e.secret,h.id,{},{}),e.type="static"),_.next=7,e.loadToken();case 7:case"end":return _.stop()}},a)}));return function(a,d){return r.apply(this,arguments)}}()),U(this,"reset",function(){e.token=void 0,e.user=void 0,e.loadTokenPromise=null}),U(this,"validateToken",function(r,a){if(!a||!a.anon||r){if(!e.secret&&!r)throw new Error("User token can not be empty");if(r&&"string"!=typeof r&&!ss(r))throw new Error("user token should either be a string or a function");if("string"==typeof r){if(a.anon&&""===r)return;var d=function nr(o){var l=o.split(".");if(3!==l.length)return"";var r=function(l){var d,_,O,e={},r=String.fromCharCode,a=l.length,h=0,b=0,Z="";for(d=0;d<64;d++)e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d)]=d;for(_=0;_<a;_++)for(h=(h<<6)+e[l.charAt(_)],b+=6;b>=8;)((O=h>>>(b-=8)&255)||_<a-2)&&(Z+=r(O));return Z}(l[1]);return JSON.parse(r).user_id}(r);if(null!=r&&(null==d||""===d||d!==a.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}}),U(this,"tokenReady",function(){return e.loadTokenPromise}),U(this,"loadToken",function(){return e.loadTokenPromise=new Promise(function(){var r=(0,V.Z)(I().mark(function a(d,h){return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if("static"!==e.type){_.next=2;break}return _.abrupt("return",d(e.token));case 2:if(!e.tokenProvider||"string"==typeof e.tokenProvider){_.next=13;break}return _.prev=3,_.next=6,e.tokenProvider();case 6:e.token=_.sent,_.next=12;break;case 9:return _.prev=9,_.t0=_.catch(3),_.abrupt("return",h(new Error("Call to tokenProvider failed with message: ".concat(_.t0))));case 12:d(e.token);case 13:case"end":return _.stop()}},a,null,[[3,9]])}));return function(a,d){return r.apply(this,arguments)}}()),e.loadTokenPromise}),U(this,"getToken",function(){if(e.token||e.user&&e.user.anon&&!e.token)return e.token;if(e.secret)return tr(e.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")}),U(this,"isStatic",function(){return"static"===e.type}),this.loadTokenPromise=null,l&&(this.secret=l),this.type="static",this.secret&&(this.token=tr(this.secret))},Va={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function Vo(o){return void 0!==o.code}function bl(o){if(!o.code)return!1;var l=Va["".concat(o.code)];return!!l&&l.retryable}function zo(o){return 46===o.code}function za(o){if("boolean"==typeof o.isWSFailure)return o.isWSFailure;try{return JSON.parse(o.message).isWSFailure}catch{return!1}}function Yo(o,l){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);l&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,r)}return e}function Wo(o){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?Yo(Object(e),!0).forEach(function(r){U(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):Yo(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}var Jn=(()=>(function(o){o.Closed="CLOSED",o.Connected="CONNECTED",o.Connecting="CONNECTING",o.Disconnected="DISCONNECTED",o.Init="INIT"}(Jn||(Jn={})),Jn))(),Tl=function(){function o(l){var e=this,r=l.client;qe(this,o),U(this,"client",void 0),U(this,"state",void 0),U(this,"consecutiveFailures",void 0),U(this,"connectionID",void 0),U(this,"cancelToken",void 0),U(this,"_onlineStatusChanged",function(a){var d;if(e._log("_onlineStatusChanged() - ".concat(a.type)),"offline"===a.type)return e._setState(Jn.Closed),null===(d=e.cancelToken)||void 0===d||d.cancel("disconnect() is called"),void(e.cancelToken=void 0);"online"===a.type&&e.state===Jn.Closed&&e.connect(!0)}),U(this,"_req",function(){var a=(0,V.Z)(I().mark(function d(h,p,_){var b,O;return I().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return!e.cancelToken&&!h.close&&(e.cancelToken=di.CancelToken.source()),X.prev=1,X.next=4,e.client.doAxiosRequest("get",e.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:Wo(Wo({},p),{},{cancelToken:null===(b=e.cancelToken)||void 0===b?void 0:b.token}),params:h});case 4:return O=X.sent,e.consecutiveFailures=0,X.abrupt("return",O);case 9:if(X.prev=9,X.t0=X.catch(1),e.consecutiveFailures+=1,!_||!bl(X.t0)){X.next=17;break}return e._log("_req() - Retryable error, retrying request"),X.next=16,Yr(os(e.consecutiveFailures));case 16:return X.abrupt("return",e._req(h,p,_));case 17:throw X.t0;case 18:case"end":return X.stop()}},d,null,[[1,9]])}));return function(d,h,p){return a.apply(this,arguments)}}()),U(this,"_poll",(0,V.Z)(I().mark(function a(){var d,h,p;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(e.state!==Jn.Connected){b.next=25;break}return b.prev=1,b.next=4,e._req({},{timeout:3e4},!0);case 4:if(null!==(d=(h=b.sent).events)&&void 0!==d&&d.length)for(p=0;p<h.events.length;p++)e.client.dispatchEvent(h.events[p]);b.next=23;break;case 8:if(b.prev=8,b.t0=b.catch(1),!di.isCancel(b.t0)){b.next=13;break}return e._log("_poll() - axios canceled request"),b.abrupt("return");case 13:if(!zo(b.t0)){b.next=18;break}return e._log("_poll() - ConnectionID error, connecting without ID..."),e._setState(Jn.Disconnected),e.connect(!0),b.abrupt("return");case 18:if(!Vo(b.t0)||bl(b.t0)){b.next=21;break}return e._setState(Jn.Closed),b.abrupt("return");case 21:return b.next=23,Yr(os(e.consecutiveFailures));case 23:b.next=0;break;case 25:case"end":return b.stop()}},a,null,[[1,8]])}))),U(this,"connect",(0,V.Z)(I().mark(function a(){var d,p,_=arguments;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(d=_.length>0&&void 0!==_[0]&&_[0],e.state!==Jn.Connecting){O.next=4;break}return e._log("connect() - connecting already in progress",{reconnect:d},"warn"),O.abrupt("return");case 4:if(e.state!==Jn.Connected){O.next=7;break}return e._log("connect() - already connected and polling",{reconnect:d},"warn"),O.abrupt("return");case 7:return e._setState(Jn.Connecting),e.connectionID=void 0,O.prev=9,O.next=12,e._req({json:e.client._buildWSPayload()},{timeout:8e3},d);case 12:return p=O.sent.event,e._setState(Jn.Connected),e.connectionID=p.connection_id,e.client.dispatchEvent(p),e._poll(),d&&e.client.recoverState(),O.abrupt("return",p);case 22:throw O.prev=22,O.t0=O.catch(9),e._setState(Jn.Closed),O.t0;case 26:case"end":return O.stop()}},a,null,[[9,22]])}))),U(this,"isHealthy",function(){return!!e.connectionID&&e.state===Jn.Connected}),U(this,"disconnect",(0,V.Z)(I().mark(function a(){var d,h,p,_=arguments;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return h=_.length>0&&void 0!==_[0]?_[0]:2e3,go(e._onlineStatusChanged),e._setState(Jn.Disconnected),null===(d=e.cancelToken)||void 0===d||d.cancel("disconnect() is called"),e.cancelToken=void 0,p=e.connectionID,e.connectionID=void 0,O.prev=7,O.next=10,e._req({close:!0,connection_id:p},{timeout:h},!1);case 10:e._log("disconnect() - Closed connectionID"),O.next=16;break;case 13:O.prev=13,O.t0=O.catch(7),e._log("disconnect() - Failed",{err:O.t0},"error");case 16:case"end":return O.stop()}},a,null,[[7,13]])}))),this.client=r,this.state=Jn.Init,this.consecutiveFailures=0,$o(this._onlineStatusChanged)}return me(o,[{key:"_log",value:function(e){this.client.logger(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info","WSConnectionFallback:"+e,Wo({tags:["connection_fallback","connection"]},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"_setState",value:function(e){this._log("_setState() - ".concat(e)),this.state===Jn.Connecting&&e===Jn.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===Jn.Closed||e===Jn.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}]),o}();var qo=function(o){!function Yt(o,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),l&&$i(o,l)}(e,o);var l=function Fr(o){var l=function wc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Vs(o);if(l){var d=Vs(this).constructor;a=Reflect.construct(r,arguments,d)}else a=r.apply(this,arguments);return function jo(o,l){if(l&&("object"===ht(l)||"function"==typeof l))return l;if(void 0!==l)throw new TypeError("Derived constructors may only return object or undefined");return dr(o)}(this,a)}}(e);function e(){var r;qe(this,e);for(var a=arguments.length,d=new Array(a),h=0;h<a;h++)d[h]=arguments[h];return U(dr(r=l.call.apply(l,[this].concat(d))),"code",void 0),U(dr(r),"response",void 0),U(dr(r),"status",void 0),r}return e}(uo(Error)),Ga=["created_at","updated_at","last_active","online"],Ii=["params","headers"];function xs(o,l){var e=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!e){if(Array.isArray(o)||(e=function _o(o,l){if(o){if("string"==typeof o)return El(o,l);var e=Object.prototype.toString.call(o).slice(8,-1);if("Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e)return Array.from(o);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return El(o,l)}}(o))||l&&o&&"number"==typeof o.length){e&&(o=e);var r=0,a=function(){};return{s:a,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(b){throw b},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p,d=!0,h=!1;return{s:function(){e=e.call(o)},n:function(){var b=e.next();return d=b.done,b},e:function(b){h=!0,p=b},f:function(){try{!d&&null!=e.return&&e.return()}finally{if(h)throw p}}}}function El(o,l){(null==l||l>o.length)&&(l=o.length);for(var e=0,r=new Array(l);e<l;e++)r[e]=o[e];return r}function Ya(o,l){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);l&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,r)}return e}function yt(o){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?Ya(Object(e),!0).forEach(function(r){U(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):Ya(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}function Ws(o){return"string"==typeof o||o instanceof String}var Sl=function(){function o(l,e,r){var d,a=this;qe(this,o),U(this,"_user",void 0),U(this,"activeChannels",void 0),U(this,"anonymous",void 0),U(this,"persistUserOnConnectionFailure",void 0),U(this,"axiosInstance",void 0),U(this,"baseURL",void 0),U(this,"browser",void 0),U(this,"cleaningIntervalRef",void 0),U(this,"clientID",void 0),U(this,"configs",void 0),U(this,"key",void 0),U(this,"listeners",void 0),U(this,"logger",void 0),U(this,"recoverStateOnReconnect",void 0),U(this,"mutedChannels",void 0),U(this,"mutedUsers",void 0),U(this,"node",void 0),U(this,"options",void 0),U(this,"secret",void 0),U(this,"setUserPromise",void 0),U(this,"state",void 0),U(this,"tokenManager",void 0),U(this,"user",void 0),U(this,"userAgent",void 0),U(this,"userID",void 0),U(this,"wsBaseURL",void 0),U(this,"wsConnection",void 0),U(this,"wsFallback",void 0),U(this,"wsPromise",void 0),U(this,"consecutiveFailures",void 0),U(this,"insightMetrics",void 0),U(this,"defaultWSTimeoutWithFallback",void 0),U(this,"defaultWSTimeout",void 0),U(this,"nextRequestAbortController",null),U(this,"_getConnectionID",function(){var p,_;return(null===(p=a.wsConnection)||void 0===p?void 0:p.connectionID)||(null===(_=a.wsFallback)||void 0===_?void 0:_.connectionID)}),U(this,"_hasConnectionID",function(){return Boolean(a._getConnectionID())}),U(this,"connectUser",function(){var p=(0,V.Z)(I().mark(function _(b,O){var Z,X;return I().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(b.id){ne.next=2;break}throw new Error('The "id" field on the user is missing');case 2:if(a.userID!==b.id||!a.setUserPromise){ne.next=5;break}return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),ne.abrupt("return",a.setUserPromise);case 5:if(!a.userID){ne.next=7;break}throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");case 7:return(a._isUsingServerAuth()||a.node)&&!a.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),a.userID=b.id,a.anonymous=!1,Z=a._setToken(b,O),a._setUser(b),X=a.openConnection(),a.setUserPromise=Promise.all([Z,X]).then(function(ke){return ke[1]}),ne.prev=14,ne.next=17,a.setUserPromise;case 17:return ne.abrupt("return",ne.sent);case 20:throw ne.prev=20,ne.t0=ne.catch(14),a.persistUserOnConnectionFailure?a.closeConnection():a.disconnectUser(),ne.t0;case 24:case"end":return ne.stop()}},_,null,[[14,20]])}));return function(_,b){return p.apply(this,arguments)}}()),U(this,"setUser",this.connectUser),U(this,"_setToken",function(p,_){return a.tokenManager.setTokenOrProvider(_,p)}),U(this,"closeConnection",function(){var p=(0,V.Z)(I().mark(function _(b){var O,Z;return I().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return null!=a.cleaningIntervalRef&&(clearInterval(a.cleaningIntervalRef),a.cleaningIntervalRef=void 0),se.next=3,Promise.all([null===(O=a.wsConnection)||void 0===O?void 0:O.disconnect(b),null===(Z=a.wsFallback)||void 0===Z?void 0:Z.disconnect(b)]);case 3:return se.abrupt("return",Promise.resolve());case 4:case"end":return se.stop()}},_)}));return function(_){return p.apply(this,arguments)}}()),U(this,"openConnection",(0,V.Z)(I().mark(function p(){var _,b,O;return I().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(a.userID){X.next=2;break}throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");case 2:if(null===(_=a.wsConnection)||void 0===_||!_.isConnecting||!a.wsPromise){X.next=5;break}return a.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),X.abrupt("return",a.wsPromise);case 5:if(!(null!==(b=a.wsConnection)&&void 0!==b&&b.isHealthy||null!==(O=a.wsFallback)&&void 0!==O&&O.isHealthy())||!a._hasConnectionID()){X.next=8;break}return a.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]}),X.abrupt("return",Promise.resolve());case 8:return a.clientID="".concat(a.userID,"--").concat(Ar()),a.wsPromise=a.connect(),a._startCleaning(),X.abrupt("return",a.wsPromise);case 12:case"end":return X.stop()}},p)}))),U(this,"_setupConnection",this.openConnection),U(this,"_normalizeDate",function(p){if(p instanceof Date&&(p=p.toISOString()),""===p)throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return p}),U(this,"disconnectUser",function(){var p=(0,V.Z)(I().mark(function _(b){var O,Z,X;return I().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:for(a.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete a.user,delete a._user,delete a.userID,a.anonymous=!1,O=a.closeConnection(b),Z=0,X=Object.values(a.activeChannels);Z<X.length;Z++)X[Z]._disconnect();return a.activeChannels={},a.state=new Za,setTimeout(a.tokenManager.reset),ke.abrupt("return",O);case 11:case"end":return ke.stop()}},_)}));return function(_){return p.apply(this,arguments)}}()),U(this,"disconnect",this.disconnectUser),U(this,"connectAnonymousUser",function(){(a._isUsingServerAuth()||a.node)&&!a.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),a.anonymous=!0,a.userID=Ar();var p={id:a.userID,anon:!0};return a._setToken(p,""),a._setUser(p),a._setupConnection()}),U(this,"setAnonymousUser",this.connectAnonymousUser),U(this,"doAxiosRequest",function(){var p=(0,V.Z)(I().mark(function _(b,O,Z){var X,se,ne,ke,Ge=arguments;return I().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return X=Ge.length>3&&void 0!==Ge[3]?Ge[3]:{},tt.next=3,a.tokenManager.tokenReady();case 3:se=a._enrichAxiosOptions(X),tt.prev=4,a._logApiRequest(b,O,Z,se),tt.t0=b,tt.next="get"===tt.t0?9:"delete"===tt.t0?13:"post"===tt.t0?17:"postForm"===tt.t0?21:"put"===tt.t0?25:"patch"===tt.t0?29:"options"===tt.t0?33:37;break;case 9:return tt.next=11,a.axiosInstance.get(O,se);case 11:case 15:case 19:case 23:case 27:case 31:case 35:return ne=tt.sent,tt.abrupt("break",38);case 13:return tt.next=15,a.axiosInstance.delete(O,se);case 17:return tt.next=19,a.axiosInstance.post(O,Z,se);case 21:return tt.next=23,a.axiosInstance.postForm(O,Z,se);case 25:return tt.next=27,a.axiosInstance.put(O,Z,se);case 29:return tt.next=31,a.axiosInstance.patch(O,Z,se);case 33:return tt.next=35,a.axiosInstance.options(O,se);case 37:throw new Error("Invalid request type");case 38:return a._logApiResponse(b,O,ne),a.consecutiveFailures=0,tt.abrupt("return",a.handleResponse(ne));case 43:if(tt.prev=43,tt.t1=tt.catch(4),tt.t1.client_request_id=null===(ke=se.headers)||void 0===ke?void 0:ke["x-client-request-id"],a._logApiError(b,O,tt.t1),a.consecutiveFailures+=1,!tt.t1.response){tt.next=60;break}if(tt.t1.response.data.code!==En.TOKEN_EXPIRED||a.tokenManager.isStatic()){tt.next=57;break}if(!(a.consecutiveFailures>1)){tt.next=53;break}return tt.next=53,Yr(os(a.consecutiveFailures));case 53:return a.tokenManager.loadToken(),tt.next=56,a.doAxiosRequest(b,O,Z,X);case 56:return tt.abrupt("return",tt.sent);case 57:return tt.abrupt("return",a.handleResponse(tt.t1.response));case 60:throw tt.t1;case 61:case"end":return tt.stop()}},_,null,[[4,43]])}));return function(_,b,O){return p.apply(this,arguments)}}()),U(this,"dispatchEvent",function(p){p.received_at||(p.received_at=new Date);var _=a._handleClientEvent(p),b=p.cid,O=b?a.activeChannels[b]:void 0;O&&O._handleChannelEvent(p),a._callClientListeners(p),O&&O._callChannelListeners(p),_.forEach(function(Z){return Z()})}),U(this,"handleEvent",function(p){var b=JSON.parse(p.data);a.dispatchEvent(b)}),U(this,"_updateMemberWatcherReferences",function(p){var _=a.state.userChannelReferences[p.id]||{};for(var b in _){var O=a.activeChannels[b];null!=O&&O.state&&(O.state.members[p.id]&&(O.state.members[p.id].user=p),O.state.watchers[p.id]&&(O.state.watchers[p.id]=p),O.state.read[p.id]&&(O.state.read[p.id].user=p))}}),U(this,"_updateUserReferences",this._updateMemberWatcherReferences),U(this,"_updateUserMessageReferences",function(p){var _=a.state.userChannelReferences[p.id]||{};for(var b in _)a.activeChannels[b].state?.updateUserMessages(p)}),U(this,"_deleteUserMessageReference",function(p){var _=arguments.length>1&&void 0!==arguments[1]&&arguments[1],b=a.state.userChannelReferences[p.id]||{};for(var O in b)a.activeChannels[O].state?.deleteUserMessages(p,_)}),U(this,"_handleUserEvent",function(p){if(p.user){if("user.presence.changed"===p.type||"user.updated"===p.type){if(p.user.id===a.userID){var _=yt({},a.user||{}),b=yt({},a._user||{});for(var O in a.user)O in p.user||Na(O)||(delete _[O],delete b[O]);for(var Z in p.user)b&&Z in b&&(b[Z]=p.user[Z]);a._user=yt({},b),a.user=yt(yt({},_),p.user)}a.state.updateUser(p.user),a._updateMemberWatcherReferences(p.user)}"user.updated"===p.type&&a._updateUserMessageReferences(p.user),"user.deleted"===p.type&&p.user.deleted_at&&(p.mark_messages_deleted||p.hard_delete)&&a._deleteUserMessageReference(p.user,p.hard_delete)}}),U(this,"_callClientListeners",function(p){var _=a,b=[];_.listeners.all&&b.push.apply(b,Ce(_.listeners.all)),_.listeners[p.type]&&b.push.apply(b,Ce(_.listeners[p.type]));for(var O=0,Z=b;O<Z.length;O++)(0,Z[O])(p)}),U(this,"recoverState",(0,V.Z)(I().mark(function p(){var _;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(a.logger("info","client:recoverState() - Start of recoverState with connectionID ".concat(a._getConnectionID()),{tags:["connection"]}),!(_=Object.keys(a.activeChannels)).length||!a.recoverStateOnReconnect){O.next=10;break}return a.logger("info","client:recoverState() - Start the querying of ".concat(_.length," channels"),{tags:["connection","client"]}),O.next=6,a.queryChannels({cid:{$in:_}},{last_message_at:-1},{limit:30});case 6:a.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),a.dispatchEvent({type:"connection.recovered"}),O.next=11;break;case 10:a.dispatchEvent({type:"connection.recovered"});case 11:a.wsPromise=Promise.resolve(),a.setUserPromise=Promise.resolve();case 13:case"end":return O.stop()}},p)}))),U(this,"getChannelByMembers",function(p,_){var b=Ce(_.members||[]).sort().join(","),O="".concat(p,":!members-").concat(b);if(!b)throw Error("Please specify atleast one member when creating unique conversation");for(var Z in a.activeChannels){var X=a.activeChannels[Z];if(!X.disconnected){if(Z===O)return X;if(0===Z.indexOf("".concat(p,":!members-"))&&Object.keys(X.state.members).sort().join(",")===b)return X}}var ne=new mo(a,p,void 0,_);return a.activeChannels[O]=ne,ne}),U(this,"getChannelById",function(p,_,b){if("string"==typeof _&&~_.indexOf(":"))throw Error("Invalid channel id ".concat(_,", can't contain the : character"));var O="".concat(p,":").concat(_);if(O in a.activeChannels&&!a.activeChannels[O].disconnected){var Z=a.activeChannels[O];return Object.keys(b).length>0&&(Z.data=b,Z._data=b),Z}var X=new mo(a,p,_,b);return a.activeChannels[X.cid]=X,X}),U(this,"updateUsers",this.upsertUsers),U(this,"updateUser",this.upsertUser),U(this,"_unblockMessage",this.unblockMessage),U(this,"markAllRead",this.markChannelsRead),U(this,"_isUsingServerAuth",function(){return!!a.secret}),U(this,"_buildWSPayload",function(p){return JSON.stringify({user_id:a.userID,user_details:a._user,device:a.options.device,client_request_id:p})}),this.key=l,this.listeners={},this.state=new Za,this.mutedChannels=[],this.mutedUsers=[],e&&Ws(e)&&(this.secret=e);var h=r||(e&&!Ws(e)?e:{});this.browser=typeof h.browser<"u"?h.browser:typeof window<"u",this.node=!this.browser,this.options=yt({timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0},h),this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new La.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=di.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+process.env.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=null===(d=this.options)||void 0===d?void 0:d.persistUserOnConnectionFailure,this.tokenManager=new Ys(this.secret),this.consecutiveFailures=0,this.insightMetrics=new S,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.axiosInstance.defaults.paramsSerializer=Ho,this.logger=ss(h.logger)?h.logger:function(){return null},this.recoverStateOnReconnect=this.options.recoverStateOnReconnect}return me(o,[{key:"devToken",value:function(e){return function as(o){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",nn(JSON.stringify({user_id:o})),"devtoken"].join(".")}(e)}},{key:"getAuthType",value:function(){return this.anonymous?"anonymous":"jwt"}},{key:"setBaseURL",value:function(e){this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}},{key:"_setUser",value:function(e){this.user=e,this.userID=e.id,this._user=yt({},e)}},{key:"updateAppSettings",value:(l=(0,V.Z)(I().mark(function r(a){var d;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return null!=(d=a.apn_config)&&d.p12_cert&&(a=yt(yt({},a),{},{apn_config:yt(yt({},d),{},{p12_cert:Buffer.from(d.p12_cert).toString("base64")})})),p.next=4,this.patch(this.baseURL+"/app",a);case 4:return p.abrupt("return",p.sent);case 5:case"end":return p.stop()}},r,this)})),function e(r){return l.apply(this,arguments)})},{key:"revokeTokens",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(a)});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"revokeUserToken",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.revokeUsersToken([a],d);case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"revokeUsersToken",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p,_;return I().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:d=void 0===d?(new Date).toISOString():this._normalizeDate(d),h=[],p=xs(a);try{for(p.s();!(_=p.n()).done;)h.push({id:_.value,set:{revoke_tokens_issued_before:d}})}catch(X){p.e(X)}finally{p.f()}return Z.next=6,this.partialUpdateUsers(h);case 6:return Z.abrupt("return",Z.sent);case 7:case"end":return Z.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"getAppSettings",value:function(){var l=(0,V.Z)(I().mark(function r(){return I().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.get(this.baseURL+"/app");case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"testPushSettings",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/check_push",yt(yt(yt(yt(yt(yt(yt({user_id:a},d.messageID?{message_id:d.messageID}:{}),d.apnTemplate?{apn_template:d.apnTemplate}:{}),d.firebaseTemplate?{firebase_template:d.firebaseTemplate}:{}),d.firebaseDataTemplate?{firebase_data_template:d.firebaseDataTemplate}:{}),d.skipDevices?{skip_devices:!0}:{}),d.pushProviderName?{push_provider_name:d.pushProviderName}:{}),d.pushProviderType?{push_provider_type:d.pushProviderType}:{}));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"testSQSSettings",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this.post(this.baseURL+"/check_sqs",a);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"testSNSSettings",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this.post(this.baseURL+"/check_sns",a);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"setGuestUser",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,p;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return this.anonymous=!0,b.prev=1,b.next=4,this.post(this.baseURL+"/guest",{user:a});case 4:d=b.sent,b.next=11;break;case 7:throw b.prev=7,b.t0=b.catch(1),this.anonymous=!1,b.t0;case 11:return this.anonymous=!1,p=dt(d.user,Ga),b.next=15,this.connectUser(p,d.access_token);case 15:return b.abrupt("return",b.sent);case 16:case"end":return b.stop()}},r,this,[[1,7]])}));return function e(r){return l.apply(this,arguments)}}()},{key:"createToken",value:function(e,r,a){if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");var d={};return r&&(d.exp=r),a&&(d.iat=a),Ri(this.secret,e,d,{})}},{key:"on",value:function(e,r){var a=this,d=r?e:"all",h=r||e;return d in this.listeners||(this.listeners[d]=[]),this.logger("info","Attaching listener for ".concat(d," event"),{tags:["event","client"]}),this.listeners[d].push(h),{unsubscribe:function(){a.logger("info","Removing listener for ".concat(d," event"),{tags:["event","client"]}),a.listeners[d]=a.listeners[d].filter(function(_){return _!==h})}}}},{key:"off",value:function(e,r){var a=r?e:"all",d=r||e;a in this.listeners||(this.listeners[a]=[]),this.logger("info","Removing listener for ".concat(a," event"),{tags:["event","client"]}),this.listeners[a]=this.listeners[a].filter(function(h){return h!==d})}},{key:"_logApiRequest",value:function(e,r,a,d){this.logger("info","client: ".concat(e," - Request - ").concat(r),{tags:["api","api_request","client"],url:r,payload:a,config:d})}},{key:"_logApiResponse",value:function(e,r,a){this.logger("info","client:".concat(e," - Response - url: ").concat(r," > status ").concat(a.status),{tags:["api","api_response","client"],url:r,response:a})}},{key:"_logApiError",value:function(e,r,a){this.logger("error","client:".concat(e," - Error - url: ").concat(r),{tags:["api","api_response","client"],url:r,error:a})}},{key:"get",value:function(e,r){return this.doAxiosRequest("get",e,null,{params:r})}},{key:"put",value:function(e,r){return this.doAxiosRequest("put",e,r)}},{key:"post",value:function(e,r){return this.doAxiosRequest("post",e,r)}},{key:"patch",value:function(e,r){return this.doAxiosRequest("patch",e,r)}},{key:"delete",value:function(e,r){return this.doAxiosRequest("delete",e,null,{params:r})}},{key:"sendFile",value:function(e,r,a,d,h){var p=function Ua(o,l,e){var r=new(Gr());return function fr(o){return null!==o&&"object"===ht(o)&&(o.readable||"function"==typeof o._read)}(o)||function fo(o){return null!=o&&null!=o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o)}(o)||function er(o){return typeof window<"u"&&"File"in window&&o instanceof File}(o)||function Cl(o){return typeof window<"u"&&"Blob"in window&&o instanceof Blob}(o)?l?r.append("file",o,l):r.append("file",o):r.append("file",{uri:o,name:l||o.split("/").reverse()[0],contentType:e||void 0,type:e||void 0}),r}(r,a,d||"multipart/form-data");return null!=h&&p.append("user",JSON.stringify(h)),this.doAxiosRequest("postForm",e,p,{headers:p.getHeaders?p.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}},{key:"errorFromResponse",value:function(e){var r;return r=new qo("StreamChat error HTTP code: ".concat(e.status)),e.data&&e.data.code&&((r=new Error("StreamChat error code ".concat(e.data.code,": ").concat(e.data.message))).code=e.data.code),r.response=e,r.status=e.status,r}},{key:"handleResponse",value:function(e){var r=e.data;if(function Go(o){return!o.status||o.status<200||300<=o.status}(e))throw this.errorFromResponse(e);return r}},{key:"_handleClientEvent",value:function(e){var r,d,Z,a=this,h=this,p=[];if(this.logger("info","client:_handleClientEvent - Received event of type { ".concat(e.type," }"),{tags:["event","client"],event:e}),("user.presence.changed"===e.type||"user.updated"===e.type||"user.deleted"===e.type)&&this._handleUserEvent(e),"health.check"===e.type&&e.me&&(h.user=e.me,h.state.updateUser(e.me),h.mutedChannels=e.me.channel_mutes,h.mutedUsers=e.me.mutes),e.channel&&"notification.message_new"===e.type&&this._addChannelConfig(e.channel),"notification.channel_mutes_updated"===e.type&&null!==(r=e.me)&&void 0!==r&&r.channel_mutes){var _=[],b=[];this.mutedChannels.forEach(function(X){return X.channel&&_.push(X.channel.cid)}),e.me.channel_mutes.forEach(function(X){return X.channel&&b.push(X.channel.cid)}),_.forEach(function(X){!b.includes(X)&&a.activeChannels[X]&&(a.activeChannels[X].state.unreadCount=0)}),this.mutedChannels=e.me.channel_mutes}return"notification.mutes_updated"===e.type&&null!==(d=e.me)&&void 0!==d&&d.mutes&&(this.mutedUsers=e.me.mutes),"notification.mark_read"===e.type&&0===e.unread_channels&&Object.keys(this.activeChannels).forEach(function(X){return a.activeChannels[X].state.unreadCount=0}),"channel.deleted"!==e.type&&"notification.channel_deleted"!==e.type||!e.cid||(h.state.deleteAllChannelReference(e.cid),null===(Z=this.activeChannels[e.cid])||void 0===Z||Z._disconnect(),p.push(function(){e.cid&&delete a.activeChannels[e.cid]})),p}},{key:"_muteStatus",value:function(e){for(var r,a=0;a<this.mutedChannels.length;a++){var d,h=this.mutedChannels[a];if((null===(d=h.channel)||void 0===d?void 0:d.cid)===e){r={muted:!h.expires||new Date(h.expires).getTime()>(new Date).getTime(),createdAt:h.created_at?new Date(h.created_at):new Date,expiresAt:h.expires?new Date(h.expires):null};break}}return r||{muted:!1,createdAt:null,expiresAt:null}}},{key:"connect",value:function(){var l=(0,V.Z)(I().mark(function r(){return I().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.userID&&this._user){d.next=2;break}throw Error("Call connectUser or connectAnonymousUser before starting the connection");case 2:if(this.wsBaseURL){d.next=4;break}throw Error("Websocket base url not set");case 4:if(this.clientID){d.next=6;break}throw Error("clientID is not set");case 6:if(!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new rn({client:this}),d.prev=8,!this.wsFallback){d.next=13;break}return d.next=12,this.wsFallback.connect();case 12:case 15:case 28:return d.abrupt("return",d.sent);case 13:return d.next=15,this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout);case 18:if(d.prev=18,d.t0=d.catch(8),!(this.options.enableWSFallback&&za(d.t0)&&$a())){d.next=29;break}return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new Tl({client:this}),d.next=28,this.wsFallback.connect();case 29:throw d.t0;case 30:case"end":return d.stop()}},r,this,[[8,18]])}));return function e(){return l.apply(this,arguments)}}()},{key:"_sayHi",value:function(){var e=this,r=Ar();this.doAxiosRequest("get",this.baseURL+"/hi",null,{headers:{"x-client-request-id":r}}).catch(function(d){e.options.enableInsights&&P("http_hi_failed",{api_key:e.key,err:d,client_request_id:r})})}},{key:"queryUsers",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p,_,b=arguments;return I().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return d=b.length>1&&void 0!==b[1]?b[1]:[],h=b.length>2&&void 0!==b[2]?b[2]:{},p={presence:!1},Z.next=5,this.wsPromise;case 5:return this._hasConnectionID()||(p.presence=!1),Z.next=8,this.get(this.baseURL+"/users",{payload:yt(yt({filter_conditions:a,sort:Hi(d)},p),h)});case 8:return this.state.updateUsers((_=Z.sent).users),Z.abrupt("return",_);case 11:case"end":return Z.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"queryBannedUsers",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a=p.length>0&&void 0!==p[0]?p[0]:{},d=p.length>1&&void 0!==p[1]?p[1]:[],h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=5,this.get(this.baseURL+"/query_banned_users",{payload:yt({filter_conditions:a,sort:Hi(d)},h)});case 5:return b.abrupt("return",b.sent);case 6:case"end":return b.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"queryMessageFlags",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return a=h.length>0&&void 0!==h[0]?h[0]:{},d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=4,this.get(this.baseURL+"/moderation/flags/message",{payload:yt({filter_conditions:a},d)});case 4:return _.abrupt("return",_.sent);case 5:case"end":return _.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"queryChannels",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p,_,b,O,Z=arguments;return I().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return d=Z.length>1&&void 0!==Z[1]?Z[1]:[],h=Z.length>2&&void 0!==Z[2]?Z[2]:{},p=Z.length>3&&void 0!==Z[3]?Z[3]:{},_={state:!0,watch:!0,presence:!1},se.next=6,this.wsPromise;case 6:return this._hasConnectionID()||(_.watch=!1),b=yt(yt({filter_conditions:a,sort:Hi(d)},_),h),se.next=10,this.post(this.baseURL+"/channels",b);case 10:return this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:(O=se.sent).channels,isLatestMessageSet:!0}}),se.abrupt("return",this.hydrateActiveChannels(O.channels,p));case 13:case"end":return se.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"hydrateActiveChannels",value:function(){var _,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.skipInitialization,d=r.offlineMode,h=void 0!==d&&d,p=xs(e);try{for(p.s();!(_=p.n()).done;)this._addChannelConfig(_.value.channel)}catch(ke){p.e(ke)}finally{p.f()}var X,O=[],Z=xs(e);try{for(Z.s();!(X=Z.n()).done;){var se=X.value,ne=this.channel(se.channel.type,se.channel.id);ne.data=se.channel,ne.offlineMode=h,ne.initialized=!h,void 0===a?ne._initializeState(se,"latest"):a.includes(se.channel.id)||(ne.state.clearMessages(),ne._initializeState(se,"latest")),O.push(ne)}}catch(ke){Z.e(ke)}finally{Z.f()}return O}},{key:"search",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p,_=arguments;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(h=_.length>2&&void 0!==_[2]?_[2]:{}).offset||!h.next){O.next=3;break}throw Error("Cannot specify offset with next");case 3:if(p=yt(yt({filter_conditions:a},h),{},{sort:h.sort?Hi(h.sort):void 0}),"string"!=typeof d){O.next=8;break}p.query=d,O.next=13;break;case 8:if("object"!==ht(d)){O.next=12;break}p.message_filter_conditions=d,O.next=13;break;case 12:throw Error("Invalid type ".concat(ht(d)," for query parameter"));case 13:return O.next=15,this.wsPromise;case 15:return O.next=17,this.get(this.baseURL+"/search",{payload:p});case 17:return O.abrupt("return",O.sent);case 18:case"end":return O.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"setLocalDevice",value:function(e){var r,a,d;if(null!==(r=this.wsConnection)&&void 0!==r&&r.isConnecting&&this.wsPromise||(null!==(a=this.wsConnection)&&void 0!==a&&a.isHealthy||null!==(d=this.wsFallback)&&void 0!==d&&d.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=e}},{key:"addDevice",value:function(){var l=(0,V.Z)(I().mark(function r(a,d,h,p){return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.post(this.baseURL+"/devices",yt(yt({id:a,push_provider:d},null!=h?{user_id:h}:{}),null!=p?{push_provider_name:p}:{}));case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},r,this)}));return function e(r,a,d,h){return l.apply(this,arguments)}}()},{key:"getDevices",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.get(this.baseURL+"/devices",a?{user_id:a}:{});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"getUnreadCount",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.get(this.baseURL+"/unread",a?{user_id:a}:{});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"removeDevice",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.delete(this.baseURL+"/devices",yt({id:a},d?{user_id:d}:{}));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"getRateLimits",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,O;return I().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",this.get(this.baseURL+"/rate_limits",{server_side:(d=a||{}).serverSide,web:d.web,android:d.android,ios:d.ios,endpoints:(O=d.endpoints)?O.join(","):void 0}));case 2:case"end":return X.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"_addChannelConfig",value:function(e){this.configs[e.cid]=e.config}},{key:"channel",value:function(e,r){var a,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~e.indexOf(":"))throw Error("Invalid channel group ".concat(e,", can't contain the : character"));return r&&"object"===ht(r)?this.getChannelByMembers(e,r):!r&&"object"===ht(d)&&null!==(a=d.members)&&void 0!==a&&a.length?this.getChannelByMembers(e,d):r?this.getChannelById(e,r,d):new mo(this,e,void 0,d)}},{key:"partialUpdateUser",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.partialUpdateUsers([a]);case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"upsertUsers",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h,p,_;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:d={},h=xs(a),O.prev=2,h.s();case 4:if((p=h.n()).done){O.next=11;break}if((_=p.value).id){O.next=8;break}throw Error("User ID is required when updating a user");case 8:d[_.id]=_;case 9:O.next=4;break;case 11:O.next=16;break;case 13:O.prev=13,O.t0=O.catch(2),h.e(O.t0);case 16:return O.prev=16,h.f(),O.finish(16);case 19:return O.next=21,this.post(this.baseURL+"/users",{users:d});case 21:return O.abrupt("return",O.sent);case 22:case"end":return O.stop()}},r,this,[[2,13,16,19]])}));return function e(r){return l.apply(this,arguments)}}()},{key:"upsertUser",value:function(e){return this.upsertUsers([e])}},{key:"partialUpdateUsers",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:d=xs(a),b.prev=1,d.s();case 3:if((h=d.n()).done){b.next=9;break}if(h.value.id){b.next=7;break}throw Error("User ID is required when updating a user");case 7:b.next=3;break;case 9:b.next=14;break;case 11:b.prev=11,b.t0=b.catch(1),d.e(b.t0);case 14:return b.prev=14,d.f(),b.finish(14);case 17:return b.next=19,this.patch(this.baseURL+"/users",{users:a});case 19:return b.abrupt("return",b.sent);case 20:case"end":return b.stop()}},r,this,[[1,11,14,17]])}));return function e(r){return l.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.delete(this.baseURL+"/users/".concat(a),d);case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"restoreUsers",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.post(this.baseURL+"/users/restore",{user_ids:a});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"reactivateUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post(this.baseURL+"/users/".concat(a,"/reactivate"),yt({},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"reactivateUsers",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post(this.baseURL+"/users/reactivate",yt({user_ids:a},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"deactivateUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post(this.baseURL+"/users/".concat(a,"/deactivate"),yt({},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"deactivateUsers",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post(this.baseURL+"/users/deactivate",yt({user_ids:a},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"exportUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.get(this.baseURL+"/users/".concat(a,"/export"),yt({},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"banUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post(this.baseURL+"/moderation/ban",yt({target_user_id:a},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"unbanUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.delete(this.baseURL+"/moderation/ban",yt({target_user_id:a},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"shadowBan",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.banUser(a,yt({shadow:!0},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"removeShadowBan",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.unbanUser(a,yt({shadow:!0},d));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"muteUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this.post(this.baseURL+"/moderation/mute",yt(yt({target_id:a},d?{user_id:d}:{}),h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"unmuteUser",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post(this.baseURL+"/moderation/unmute",yt({target_id:a},d?{user_id:d}:{}));case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"userMuteStatus",value:function(e){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(var r=0;r<this.mutedUsers.length;r+=1)if(this.mutedUsers[r].target.id===e)return!0;return!1}},{key:"flagMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/moderation/flag",yt({target_message_id:a},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"flagUser",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/moderation/flag",yt({target_user_id:a},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"unflagMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/moderation/unflag",yt({target_message_id:a},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"unflagUser",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/moderation/unflag",yt({target_user_id:a},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"getCallToken",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/calls/".concat(a),yt({},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"_queryFlags",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return a=h.length>0&&void 0!==h[0]?h[0]:{},d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=4,this.post(this.baseURL+"/moderation/flags",yt({filter_conditions:a},d));case 4:return _.abrupt("return",_.sent);case 5:case"end":return _.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"_queryFlagReports",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return a=h.length>0&&void 0!==h[0]?h[0]:{},d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=4,this.post(this.baseURL+"/moderation/reports",yt({filter_conditions:a},d));case 4:return _.abrupt("return",_.sent);case 5:case"end":return _.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"_reviewFlagReport",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h,p=arguments;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=p.length>2&&void 0!==p[2]?p[2]:{},b.next=3,this.patch(this.baseURL+"/moderation/reports/".concat(a),yt({review_result:d},h));case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"unblockMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/moderation/unblock_message",yt({target_message_id:a},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"markChannelsRead",value:function(){var l=(0,V.Z)(I().mark(function r(){var a,d=arguments;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:{},p.next=3,this.post(this.baseURL+"/channels/read",yt({},a));case 3:case"end":return p.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"createCommand",value:function(e){return this.post(this.baseURL+"/commands",e)}},{key:"getCommand",value:function(e){return this.get(this.baseURL+"/commands/".concat(e))}},{key:"updateCommand",value:function(e,r){return this.put(this.baseURL+"/commands/".concat(e),r)}},{key:"deleteCommand",value:function(e){return this.delete(this.baseURL+"/commands/".concat(e))}},{key:"listCommands",value:function(){return this.get(this.baseURL+"/commands")}},{key:"createChannelType",value:function(e){var r=st({},{commands:["all"]},e);return this.post(this.baseURL+"/channeltypes",r)}},{key:"getChannelType",value:function(e){return this.get(this.baseURL+"/channeltypes/".concat(e))}},{key:"updateChannelType",value:function(e,r){return this.put(this.baseURL+"/channeltypes/".concat(e),r)}},{key:"deleteChannelType",value:function(e){return this.delete(this.baseURL+"/channeltypes/".concat(e))}},{key:"listChannelTypes",value:function(){return this.get(this.baseURL+"/channeltypes")}},{key:"translateMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post(this.baseURL+"/messages/".concat(a,"/translate"),{language:d});case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"_normalizeExpiration",value:function(e){var r=null;if("number"==typeof e){var a=new Date;a.setSeconds(a.getSeconds()+e),r=a.toISOString()}else Ws(e)?r=e:e instanceof Date&&(r=e.toISOString());return r}},{key:"_validateAndGetMessageId",value:function(e,r){var a;if("string"==typeof e)a=e;else{if(!e.id)throw Error(r);a=e.id}return a}},{key:"pinMessage",value:function(e,r,a,d){var h=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(h,{set:{pinned:!0,pin_expires:this._normalizeExpiration(r),pinned_at:this._normalizeExpiration(d)}},a)}},{key:"unpinMessage",value:function(e,r){var a=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(a,{set:{pinned:!1}},r)}},{key:"updateMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a,d,h){var p;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(a.id){O.next=2;break}throw Error("Please specify the message id when calling updateMessage");case 2:return delete(p=st({},a)).id,["command","created_at","html","latest_reactions","own_reactions","quoted_message","reaction_counts","reply_count","type","updated_at","user","__html"].forEach(function(Z){null!=p[Z]&&delete p[Z]}),null!=d&&(Ws(d)?p.user_id=d:p.user={id:d.id}),Array.isArray(p.mentioned_users)&&!Ws(p.mentioned_users[0])&&(p.mentioned_users=p.mentioned_users.map(function(Z){return Z.id})),O.next=10,this.post(this.baseURL+"/messages/".concat(a.id),yt({message:p},h));case 10:return O.abrupt("return",O.sent);case 11:case"end":return O.stop()}},r,this)}));return function e(r,a,d){return l.apply(this,arguments)}}()},{key:"partialUpdateMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a,d,h,p){var _;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(a){O.next=2;break}throw Error("Please specify the message id when calling partialUpdateMessage");case 2:return _=h,null!=h&&Ws(h)&&(_={id:h}),O.next=6,this.put(this.baseURL+"/messages/".concat(a),yt(yt(yt({},d),p),{},{user:_}));case 6:return O.abrupt("return",O.sent);case 7:case"end":return O.stop()}},r,this)}));return function e(r,a,d,h){return l.apply(this,arguments)}}()},{key:"deleteMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h={},d&&(h={hard:!0}),_.next=4,this.delete(this.baseURL+"/messages/".concat(a),h);case 4:return _.abrupt("return",_.sent);case 5:case"end":return _.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"getMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.get(this.baseURL+"/messages/".concat(encodeURIComponent(a)));case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"getUserAgent",value:function(){return this.userAgent||"stream-chat-javascript-client-".concat(this.node?"node":"browser","-","8.14.4")}},{key:"setUserAgent",value:function(e){this.userAgent=e}},{key:"_enrichAxiosOptions",value:function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}},a=this._getToken(),d=a?{Authorization:a}:void 0,h=null;null!==this.nextRequestAbortController&&(h=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),null!==(e=r.headers)&&void 0!==e&&e["x-client-request-id"]||(r.headers=yt(yt({},r.headers),{},{"x-client-request-id":Ar()}));var p=this.options.axiosRequestConfig||{},_=p.params,b=p.headers,O=dt(p,Ii);return yt(yt(yt({params:yt(yt({user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key},r.params),_||{}),headers:yt(yt(yt({},d),{},{"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent()},r.headers),b||{})},h?{signal:h}:{}),r.config),O||{})}},{key:"_getToken",value:function(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}},{key:"_startCleaning",value:function(){var e=this;null==this.cleaningIntervalRef&&(this.cleaningIntervalRef=setInterval(function(){for(var r=0,a=Object.values(e.activeChannels);r<a.length;r++)a[r].clean()},500))}},{key:"verifyWebhook",value:function(e,r){return!!this.secret&&function gr(o,l,e){var r=Buffer.from(l,"utf8"),a=null.createHmac("sha256",r).update(o).digest("hex");try{return null.timingSafeEqual(Buffer.from(a),Buffer.from(e))}catch{return!1}}(e,this.secret,r)}},{key:"getPermission",value:function(e){return this.get("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"createPermission",value:function(e){return this.post("".concat(this.baseURL,"/permissions"),yt({},e))}},{key:"updatePermission",value:function(e,r){return this.put("".concat(this.baseURL,"/permissions/").concat(e),yt({},r))}},{key:"deletePermission",value:function(e){return this.delete("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"listPermissions",value:function(){return this.get("".concat(this.baseURL,"/permissions"))}},{key:"createRole",value:function(e){return this.post("".concat(this.baseURL,"/roles"),{name:e})}},{key:"listRoles",value:function(){return this.get("".concat(this.baseURL,"/roles"))}},{key:"deleteRole",value:function(e){return this.delete("".concat(this.baseURL,"/roles/").concat(e))}},{key:"sync",value:function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.post("".concat(this.baseURL,"/sync"),yt({channel_cids:e,last_sync_at:r},a))}},{key:"sendUserCustomEvent",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.post("".concat(this.baseURL,"/users/").concat(a,"/event"),{event:d});case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"createBlockList",value:function(e){return this.post("".concat(this.baseURL,"/blocklists"),e)}},{key:"listBlockLists",value:function(){return this.get("".concat(this.baseURL,"/blocklists"))}},{key:"getBlockList",value:function(e){return this.get("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"updateBlockList",value:function(e,r){return this.put("".concat(this.baseURL,"/blocklists/").concat(e),r)}},{key:"deleteBlockList",value:function(e){return this.delete("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"exportChannels",value:function(e){var a=yt({channels:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.post("".concat(this.baseURL,"/export_channels"),a)}},{key:"exportUsers",value:function(e){return this.post("".concat(this.baseURL,"/export/users"),e)}},{key:"exportChannel",value:function(e,r){return this.exportChannels([e],r)}},{key:"getExportChannelStatus",value:function(e){return this.get("".concat(this.baseURL,"/export_channels/").concat(e))}},{key:"createSegment",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.post(this.baseURL+"/segments",{segment:a});case 2:return _.abrupt("return",_.sent.segment);case 5:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"querySegments",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.get(this.baseURL+"/segments",{payload:yt({filter_conditions:a},d)});case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"updateSegment",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.put(this.baseURL+"/segments/".concat(a),{segment:d});case 2:return b.abrupt("return",b.sent.segment);case 5:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"deleteSegment",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",this.delete(this.baseURL+"/segments/".concat(a)));case 1:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"createCampaign",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.post(this.baseURL+"/campaigns",{campaign:a});case 2:return _.abrupt("return",_.sent.campaign);case 5:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"queryCampaigns",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.get(this.baseURL+"/campaigns",{payload:yt({filter_conditions:a},d)});case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"updateCampaign",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.put(this.baseURL+"/campaigns/".concat(a),{campaign:d});case 2:return b.abrupt("return",b.sent.campaign);case 5:case"end":return b.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"deleteCampaign",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.abrupt("return",this.delete(this.baseURL+"/campaigns/".concat(a),d));case 2:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"scheduleCampaign",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h;return I().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return h=d.scheduledFor,O.next=3,this.patch(this.baseURL+"/campaigns/".concat(a,"/schedule"),{scheduled_for:h});case 3:return O.abrupt("return",O.sent.campaign);case 6:case"end":return O.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"stopCampaign",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.patch(this.baseURL+"/campaigns/".concat(a,"/stop"));case 2:return _.abrupt("return",_.sent.campaign);case 5:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"resumeCampaign",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.patch(this.baseURL+"/campaigns/".concat(a,"/resume"));case 2:return _.abrupt("return",_.sent.campaign);case 5:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"testCampaign",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){var h;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h=d.users,_.next=3,this.post(this.baseURL+"/campaigns/".concat(a,"/test"),{users:h});case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"queryRecipients",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.get(this.baseURL+"/recipients",{payload:yt({filter_conditions:a},d)});case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"enrichURL",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",this.get(this.baseURL+"/og",{url:a}));case 1:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"getTask",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",this.get("".concat(this.baseURL,"/tasks/").concat(a)));case 1:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"deleteChannels",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{},_.next=3,this.post(this.baseURL+"/channels/delete",yt({cids:a},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"deleteUsers",value:function(){var l=(0,V.Z)(I().mark(function r(a,d){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if("soft"===d?.user||"hard"===d?.user){p.next=2;break}throw new Error("Invalid delete user options. user must be one of [soft hard]");case 2:if(void 0===d.messages||"soft"===d.messages||"hard"===d.messages){p.next=4;break}throw new Error("Invalid delete user options. messages must be one of [soft hard]");case 4:if(void 0===d.conversations||"soft"===d.conversations||"hard"===d.conversations){p.next=6;break}throw new Error("Invalid delete user options. conversations must be one of [soft hard]");case 6:return p.next=8,this.post(this.baseURL+"/users/delete",yt({user_ids:a},d));case 8:return p.abrupt("return",p.sent);case 9:case"end":return p.stop()}},r,this)}));return function e(r,a){return l.apply(this,arguments)}}()},{key:"_createImportURL",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.post(this.baseURL+"/import_urls",{filename:a});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"_createImport",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h=arguments;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=h.length>1&&void 0!==h[1]?h[1]:{mode:"upsert"},_.next=3,this.post(this.baseURL+"/imports",yt({path:a},d));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"_getImport",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.get(this.baseURL+"/imports/".concat(a));case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"_listImports",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.get(this.baseURL+"/imports",a);case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"upsertPushProvider",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.post(this.baseURL+"/push_providers",{push_provider:a});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"deletePushProvider",value:function(){var l=(0,V.Z)(I().mark(function r(a){var d,h;return I().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return d=a.type,h=a.name,_.next=3,this.delete(this.baseURL+"/push_providers/".concat(d,"/").concat(h));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()},{key:"listPushProviders",value:function(){var l=(0,V.Z)(I().mark(function r(){return I().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.get(this.baseURL+"/push_providers");case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},r,this)}));return function e(){return l.apply(this,arguments)}}()},{key:"createAbortControllerForNextRequest",value:function(){return this.nextRequestAbortController=new AbortController}},{key:"commitMessage",value:function(){var l=(0,V.Z)(I().mark(function r(a){return I().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.post(this.baseURL+"/messages/".concat(a,"/commit"));case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},r,this)}));return function e(r){return l.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e,r,a){return o._instance||(o._instance="string"==typeof r?new o(e,r,a):new o(e,r)),o._instance}}]),o;var l}();U(Sl,"_instance",void 0);var Ko,Is="Allow",cs=["*"],Wa=["*"],Jo=function o(l,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cs,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Wa,d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Is;qe(this,o),U(this,"name",void 0),U(this,"action",void 0),U(this,"owner",void 0),U(this,"priority",void 0),U(this,"resources",void 0),U(this,"roles",void 0),this.name=l,this.action=h,this.owner=d,this.priority=e,this.resources=r,this.roles=a},kr=(new Jo("Allow all",999,cs,Wa,!1,Is),new Jo("Deny all",1,cs,Wa,!1,"Deny"),A(5698)),Kn=A(4782),mi=A(4004),_r=A(590),vo=A(9300),qr=A(8505),As=A(1884),Cp=A(4482),yo=A(5403),md=new Uint8Array(16);function _d(){if(!Ko&&!(Ko=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ko(md)}const vd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Cd=function yd(o){return"string"==typeof o&&vd.test(o)};for(var Ti=[],Os=0;Os<256;++Os)Ti.push((Os+256).toString(16).substr(1));const Qo=function li(o,l,e){var r=(o=o||{}).random||(o.rng||_d)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,l){e=e||0;for(var a=0;a<16;++a)l[e+a]=r[a];return l}return function Dd(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Ti[o[l+0]]+Ti[o[l+1]]+Ti[o[l+2]]+Ti[o[l+3]]+"-"+Ti[o[l+4]]+Ti[o[l+5]]+"-"+Ti[o[l+6]]+Ti[o[l+7]]+"-"+Ti[o[l+8]]+Ti[o[l+9]]+"-"+Ti[o[l+10]]+Ti[o[l+11]]+Ti[o[l+12]]+Ti[o[l+13]]+Ti[o[l+14]]+Ti[o[l+15]]).toLowerCase();if(!Cd(e))throw TypeError("Stringified UUID is invalid");return e}(r)};var v=A(7126),y=A(6895),g=A(3431),w=A.n(g);function L(o){if(null==o)return window;if("[object Window]"!==o.toString()){var l=o.ownerDocument;return l&&l.defaultView||window}return o}function B(o){return o instanceof L(o).Element||o instanceof Element}function ce(o){return o instanceof L(o).HTMLElement||o instanceof HTMLElement}function Xe(o){return!(typeof ShadowRoot>"u")&&(o instanceof L(o).ShadowRoot||o instanceof ShadowRoot)}var bt=Math.max,At=Math.min,Wt=Math.round;function Fn(){var o=navigator.userAgentData;return null!=o&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Li(){return!/^((?!chrome|android).)*safari/i.test(Fn())}function Vi(o,l,e){void 0===l&&(l=!1),void 0===e&&(e=!1);var r=o.getBoundingClientRect(),a=1,d=1;l&&ce(o)&&(a=o.offsetWidth>0&&Wt(r.width)/o.offsetWidth||1,d=o.offsetHeight>0&&Wt(r.height)/o.offsetHeight||1);var p=(B(o)?L(o):window).visualViewport,_=!Li()&&e,b=(r.left+(_&&p?p.offsetLeft:0))/a,O=(r.top+(_&&p?p.offsetTop:0))/d,Z=r.width/a,X=r.height/d;return{width:Z,height:X,top:O,right:b+Z,bottom:O+X,left:b,x:b,y:O}}function Rr(o){var l=L(o);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function ir(o){return o?(o.nodeName||"").toLowerCase():null}function us(o){return((B(o)?o.ownerDocument:o.document)||window.document).documentElement}function Sc(o){return Vi(us(o)).left+Rr(o).scrollLeft}function Fs(o){return L(o).getComputedStyle(o)}function Ja(o){var l=Fs(o);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Mc(o,l,e){void 0===e&&(e=!1);var r=ce(l),a=ce(l)&&function Il(o){var l=o.getBoundingClientRect(),e=Wt(l.width)/o.offsetWidth||1,r=Wt(l.height)/o.offsetHeight||1;return 1!==e||1!==r}(l),d=us(l),h=Vi(o,a,e),p={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(r||!r&&!e)&&(("body"!==ir(l)||Ja(d))&&(p=function xl(o){return o!==L(o)&&ce(o)?function vr(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}(o):Rr(o)}(l)),ce(l)?((_=Vi(l,!0)).x+=l.clientLeft,_.y+=l.clientTop):d&&(_.x=Sc(d))),{x:h.left+p.scrollLeft-_.x,y:h.top+p.scrollTop-_.y,width:h.width,height:h.height}}function Co(o){var l=Vi(o),e=o.offsetWidth,r=o.offsetHeight;return Math.abs(l.width-e)<=1&&(e=l.width),Math.abs(l.height-r)<=1&&(r=l.height),{x:o.offsetLeft,y:o.offsetTop,width:e,height:r}}function Ka(o){return"html"===ir(o)?o:o.assignedSlot||o.parentNode||(Xe(o)?o.host:null)||us(o)}function Xo(o){return["html","body","#document"].indexOf(ir(o))>=0?o.ownerDocument.body:ce(o)&&Ja(o)?o:Xo(Ka(o))}function Qa(o,l){var e;void 0===l&&(l=[]);var r=Xo(o),a=r===(null==(e=o.ownerDocument)?void 0:e.body),d=L(r),h=a?[d].concat(d.visualViewport||[],Ja(r)?r:[]):r,p=l.concat(h);return a?p:p.concat(Qa(Ka(h)))}function wd(o){return["table","td","th"].indexOf(ir(o))>=0}function ea(o){return ce(o)&&"fixed"!==Fs(o).position?o.offsetParent:null}function ta(o){for(var l=L(o),e=ea(o);e&&wd(e)&&"static"===Fs(e).position;)e=ea(e);return e&&("html"===ir(e)||"body"===ir(e)&&"static"===Fs(e).position)?l:e||function Al(o){var l=/firefox/i.test(Fn());if(/Trident/i.test(Fn())&&ce(o)&&"fixed"===Fs(o).position)return null;var a=Ka(o);for(Xe(a)&&(a=a.host);ce(a)&&["html","body"].indexOf(ir(a))<0;){var d=Fs(a);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain||-1!==["transform","perspective"].indexOf(d.willChange)||l&&"filter"===d.willChange||l&&d.filter&&"none"!==d.filter)return a;a=a.parentNode}return null}(o)||l}var rr="top",Lr="bottom",Ai="right",Ei="left",xc="auto",Ol=[rr,Lr,Ai,Ei],Do="start",Xa="end",mv="clippingParents",bd="viewport",el="popper",Dp="reference",tl=Ol.reduce(function(o,l){return o.concat([l+"-"+Do,l+"-"+Xa])},[]),Ic=[].concat(Ol,[xc]).reduce(function(o,l){return o.concat([l,l+"-"+Do,l+"-"+Xa])},[]),Cv=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Oc(o){var l=new Map,e=new Set,r=[];function a(d){e.add(d.name),[].concat(d.requires||[],d.requiresIfExists||[]).forEach(function(p){if(!e.has(p)){var _=l.get(p);_&&a(_)}}),r.push(d)}return o.forEach(function(d){l.set(d.name,d)}),o.forEach(function(d){e.has(d.name)||a(d)}),r}function wv(o){var l;return function(){return l||(l=new Promise(function(e){Promise.resolve().then(function(){l=void 0,e(o())})})),l}}var Ep={placement:"bottom",modifiers:[],strategy:"absolute"};function Sp(){for(var o=arguments.length,l=new Array(o),e=0;e<o;e++)l[e]=arguments[e];return!l.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function Mp(o){void 0===o&&(o={});var e=o.defaultModifiers,r=void 0===e?[]:e,a=o.defaultOptions,d=void 0===a?Ep:a;return function(p,_,b){void 0===b&&(b=d);var O={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ep,d),modifiersData:{},elements:{reference:p,popper:_},attributes:{},styles:{}},Z=[],X=!1,se={state:O,setOptions:function(Dt){var tt="function"==typeof Dt?Dt(O.options):Dt;ke(),O.options=Object.assign({},d,O.options,tt),O.scrollParents={reference:B(p)?Qa(p):p.contextElement?Qa(p.contextElement):[],popper:Qa(_)};var Zt=function Dv(o){var l=Oc(o);return Cv.reduce(function(e,r){return e.concat(l.filter(function(a){return a.phase===r}))},[])}(function bv(o){var l=o.reduce(function(e,r){var a=e[r.name];return e[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,e},{});return Object.keys(l).map(function(e){return l[e]})}([].concat(r,O.options.modifiers)));return O.orderedModifiers=Zt.filter(function(Ut){return Ut.enabled}),function ne(){O.orderedModifiers.forEach(function(Ge){var tt=Ge.options,Ut=Ge.effect;if("function"==typeof Ut){var Jt=Ut({state:O,name:Ge.name,instance:se,options:void 0===tt?{}:tt});Z.push(Jt||function(){})}})}(),se.update()},forceUpdate:function(){if(!X){var Dt=O.elements,tt=Dt.reference,Zt=Dt.popper;if(Sp(tt,Zt)){O.rects={reference:Mc(tt,ta(Zt),"fixed"===O.options.strategy),popper:Co(Zt)},O.reset=!1,O.placement=O.options.placement,O.orderedModifiers.forEach(function(xn){return O.modifiersData[xn.name]=Object.assign({},xn.data)});for(var Ut=0;Ut<O.orderedModifiers.length;Ut++)if(!0!==O.reset){var Jt=O.orderedModifiers[Ut],Kt=Jt.fn,vn=Jt.options;"function"==typeof Kt&&(O=Kt({state:O,options:void 0===vn?{}:vn,name:Jt.name,instance:se})||O)}else O.reset=!1,Ut=-1}}},update:wv(function(){return new Promise(function(Ge){se.forceUpdate(),Ge(O)})}),destroy:function(){ke(),X=!0}};if(!Sp(p,_))return se;function ke(){Z.forEach(function(Ge){return Ge()}),Z=[]}return se.setOptions(b).then(function(Ge){!X&&b.onFirstUpdate&&b.onFirstUpdate(Ge)}),se}}var na={passive:!0};const Md={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Sd(o){var l=o.state,e=o.instance,r=o.options,a=r.scroll,d=void 0===a||a,h=r.resize,p=void 0===h||h,_=L(l.elements.popper),b=[].concat(l.scrollParents.reference,l.scrollParents.popper);return d&&b.forEach(function(O){O.addEventListener("scroll",e.update,na)}),p&&_.addEventListener("resize",e.update,na),function(){d&&b.forEach(function(O){O.removeEventListener("scroll",e.update,na)}),p&&_.removeEventListener("resize",e.update,na)}},data:{}};function Jr(o){return o.split("-")[0]}function zi(o){return o.split("-")[1]}function Fc(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function xd(o){var _,l=o.reference,e=o.element,r=o.placement,a=r?Jr(r):null,d=r?zi(r):null,h=l.x+l.width/2-e.width/2,p=l.y+l.height/2-e.height/2;switch(a){case rr:_={x:h,y:l.y-e.height};break;case Lr:_={x:h,y:l.y+l.height};break;case Ai:_={x:l.x+l.width,y:p};break;case Ei:_={x:l.x-e.width,y:p};break;default:_={x:l.x,y:l.y}}var b=a?Fc(a):null;if(null!=b){var O="y"===b?"height":"width";switch(d){case Do:_[b]=_[b]-(l[O]/2-e[O]/2);break;case Xa:_[b]=_[b]+(l[O]/2-e[O]/2)}}return _}const Id={name:"popperOffsets",enabled:!0,phase:"read",fn:function Ip(o){var l=o.state;l.modifiersData[o.name]=xd({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}};var kc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ad(o){var l,e=o.popper,r=o.popperRect,a=o.placement,d=o.variation,h=o.offsets,p=o.position,_=o.gpuAcceleration,b=o.adaptive,O=o.roundOffsets,Z=o.isFixed,X=h.x,se=void 0===X?0:X,ne=h.y,ke=void 0===ne?0:ne,Ge="function"==typeof O?O({x:se,y:ke}):{x:se,y:ke};se=Ge.x,ke=Ge.y;var Dt=h.hasOwnProperty("x"),tt=h.hasOwnProperty("y"),Zt=Ei,Ut=rr,Jt=window;if(b){var Kt=ta(e),vn="clientHeight",jn="clientWidth";Kt===L(e)&&"static"!==Fs(Kt=us(e)).position&&"absolute"===p&&(vn="scrollHeight",jn="scrollWidth"),(a===rr||(a===Ei||a===Ai)&&d===Xa)&&(Ut=Lr,ke-=(Z&&Kt===Jt&&Jt.visualViewport?Jt.visualViewport.height:Kt[vn])-r.height,ke*=_?1:-1),a!==Ei&&(a!==rr&&a!==Lr||d!==Xa)||(Zt=Ai,se-=(Z&&Kt===Jt&&Jt.visualViewport?Jt.visualViewport.width:Kt[jn])-r.width,se*=_?1:-1)}var Sn,Bn=Object.assign({position:p},b&&kc),fi=!0===O?function Ap(o,l){var r=o.y,a=l.devicePixelRatio||1;return{x:Wt(o.x*a)/a||0,y:Wt(r*a)/a||0}}({x:se,y:ke},L(e)):{x:se,y:ke};return se=fi.x,ke=fi.y,Object.assign({},Bn,_?((Sn={})[Ut]=tt?"0":"",Sn[Zt]=Dt?"0":"",Sn.transform=(Jt.devicePixelRatio||1)<=1?"translate("+se+"px, "+ke+"px)":"translate3d("+se+"px, "+ke+"px, 0)",Sn):((l={})[Ut]=tt?ke+"px":"",l[Zt]=Dt?se+"px":"",l.transform="",l))}const Od={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Op(o){var l=o.state,e=o.options,r=e.gpuAcceleration,a=void 0===r||r,d=e.adaptive,h=void 0===d||d,p=e.roundOffsets,_=void 0===p||p,b={placement:Jr(l.placement),variation:zi(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:a,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,Ad(Object.assign({},b,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:h,roundOffsets:_})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,Ad(Object.assign({},b,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}},sr={name:"applyStyles",enabled:!0,phase:"write",fn:function Fp(o){var l=o.state;Object.keys(l.elements).forEach(function(e){var r=l.styles[e]||{},a=l.attributes[e]||{},d=l.elements[e];!ce(d)||!ir(d)||(Object.assign(d.style,r),Object.keys(a).forEach(function(h){var p=a[h];!1===p?d.removeAttribute(h):d.setAttribute(h,!0===p?"":p)}))})},effect:function kp(o){var l=o.state,e={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,e.popper),l.styles=e,l.elements.arrow&&Object.assign(l.elements.arrow.style,e.arrow),function(){Object.keys(l.elements).forEach(function(r){var a=l.elements[r],d=l.attributes[r]||{},p=Object.keys(l.styles.hasOwnProperty(r)?l.styles[r]:e[r]).reduce(function(_,b){return _[b]="",_},{});!ce(a)||!ir(a)||(Object.assign(a.style,p),Object.keys(d).forEach(function(_){a.removeAttribute(_)}))})}},requires:["computeStyles"]},Lc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Fd(o){var l=o.state,r=o.name,a=o.options.offset,d=void 0===a?[0,0]:a,h=Ic.reduce(function(O,Z){return O[Z]=function Rc(o,l,e){var r=Jr(o),a=[Ei,rr].indexOf(r)>=0?-1:1,d="function"==typeof e?e(Object.assign({},l,{placement:o})):e,h=d[0],p=d[1];return h=h||0,p=(p||0)*a,[Ei,Ai].indexOf(r)>=0?{x:p,y:h}:{x:h,y:p}}(Z,l.rects,d),O},{}),p=h[l.placement],b=p.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=p.x,l.modifiersData.popperOffsets.y+=b),l.modifiersData[r]=h}};var Pi={left:"right",right:"left",bottom:"top",top:"bottom"};function qs(o){return o.replace(/left|right|bottom|top/g,function(l){return Pi[l]})}var kd={start:"end",end:"start"};function Pc(o){return o.replace(/start|end/g,function(l){return kd[l]})}function Ld(o,l){var e=l.getRootNode&&l.getRootNode();if(o.contains(l))return!0;if(e&&Xe(e)){var r=l;do{if(r&&o.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fl(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function Nc(o,l,e){return l===bd?Fl(function Rp(o,l){var e=L(o),r=us(o),a=e.visualViewport,d=r.clientWidth,h=r.clientHeight,p=0,_=0;if(a){d=a.width,h=a.height;var b=Li();(b||!b&&"fixed"===l)&&(p=a.offsetLeft,_=a.offsetTop)}return{width:d,height:h,x:p+Sc(o),y:_}}(o,e)):B(l)?function Lp(o,l){var e=Vi(o,!1,"fixed"===l);return e.top=e.top+o.clientTop,e.left=e.left+o.clientLeft,e.bottom=e.top+o.clientHeight,e.right=e.left+o.clientWidth,e.width=o.clientWidth,e.height=o.clientHeight,e.x=e.left,e.y=e.top,e}(l,e):Fl(function Rd(o){var l,e=us(o),r=Rr(o),a=null==(l=o.ownerDocument)?void 0:l.body,d=bt(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=bt(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),p=-r.scrollLeft+Sc(o),_=-r.scrollTop;return"rtl"===Fs(a||e).direction&&(p+=bt(e.clientWidth,a?a.clientWidth:0)-d),{width:d,height:h,x:p,y:_}}(us(o)))}function Rl(o){return Object.assign({},{top:0,right:0,bottom:0,left:0},o)}function Pd(o,l){return l.reduce(function(e,r){return e[r]=o,e},{})}function ks(o,l){void 0===l&&(l={});var r=l.placement,a=void 0===r?o.placement:r,d=l.strategy,h=void 0===d?o.strategy:d,p=l.boundary,_=void 0===p?mv:p,b=l.rootBoundary,O=void 0===b?bd:b,Z=l.elementContext,X=void 0===Z?el:Z,se=l.altBoundary,ne=void 0!==se&&se,ke=l.padding,Ge=void 0===ke?0:ke,Dt=Rl("number"!=typeof Ge?Ge:Pd(Ge,Ol)),Zt=o.rects.popper,Ut=o.elements[ne?X===el?Dp:el:X],Jt=function Np(o,l,e,r){var a="clippingParents"===l?function Pp(o){var l=Qa(Ka(o)),r=["absolute","fixed"].indexOf(Fs(o).position)>=0&&ce(o)?ta(o):o;return B(r)?l.filter(function(a){return B(a)&&Ld(a,r)&&"body"!==ir(a)}):[]}(o):[].concat(l),d=[].concat(a,[e]),p=d.reduce(function(_,b){var O=Nc(o,b,r);return _.top=bt(O.top,_.top),_.right=At(O.right,_.right),_.bottom=At(O.bottom,_.bottom),_.left=bt(O.left,_.left),_},Nc(o,d[0],r));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}(B(Ut)?Ut:Ut.contextElement||us(o.elements.popper),_,O,h),Kt=Vi(o.elements.reference),vn=xd({reference:Kt,element:Zt,strategy:"absolute",placement:a}),jn=Fl(Object.assign({},Zt,vn)),Rn=X===el?jn:Kt,xn={top:Jt.top-Rn.top+Dt.top,bottom:Rn.bottom-Jt.bottom+Dt.bottom,left:Jt.left-Rn.left+Dt.left,right:Rn.right-Jt.right+Dt.right},Bn=o.modifiersData.offset;if(X===el&&Bn){var fi=Bn[a];Object.keys(xn).forEach(function(Sn){var Gi=[Ai,Lr].indexOf(Sn)>=0?1:-1,Yi=[rr,Lr].indexOf(Sn)>=0?"y":"x";xn[Sn]+=fi[Yi]*Gi})}return xn}const jc={name:"flip",enabled:!0,phase:"main",fn:function Uc(o){var l=o.state,e=o.options,r=o.name;if(!l.modifiersData[r]._skip){for(var a=e.mainAxis,d=void 0===a||a,h=e.altAxis,p=void 0===h||h,_=e.fallbackPlacements,b=e.padding,O=e.boundary,Z=e.rootBoundary,X=e.altBoundary,se=e.flipVariations,ne=void 0===se||se,ke=e.allowedAutoPlacements,Ge=l.options.placement,Dt=Jr(Ge),Zt=_||(Dt!==Ge&&ne?function jp(o){if(Jr(o)===xc)return[];var l=qs(o);return[Pc(o),l,Pc(l)]}(Ge):[qs(Ge)]),Ut=[Ge].concat(Zt).reduce(function(ys,Br){return ys.concat(Jr(Br)===xc?function Up(o,l){void 0===l&&(l={});var a=l.boundary,d=l.rootBoundary,h=l.padding,p=l.flipVariations,_=l.allowedAutoPlacements,b=void 0===_?Ic:_,O=zi(l.placement),Z=O?p?tl:tl.filter(function(ne){return zi(ne)===O}):Ol,X=Z.filter(function(ne){return b.indexOf(ne)>=0});0===X.length&&(X=Z);var se=X.reduce(function(ne,ke){return ne[ke]=ks(o,{placement:ke,boundary:a,rootBoundary:d,padding:h})[Jr(ke)],ne},{});return Object.keys(se).sort(function(ne,ke){return se[ne]-se[ke]})}(l,{placement:Br,boundary:O,rootBoundary:Z,padding:b,flipVariations:ne,allowedAutoPlacements:ke}):Br)},[]),Jt=l.rects.reference,Kt=l.rects.popper,vn=new Map,jn=!0,Rn=Ut[0],xn=0;xn<Ut.length;xn++){var Bn=Ut[xn],fi=Jr(Bn),Sn=zi(Bn)===Do,Gi=[rr,Lr].indexOf(fi)>=0,Yi=Gi?"width":"height",Ln=ks(l,{placement:Bn,boundary:O,rootBoundary:Z,altBoundary:X,padding:b}),Mi=Gi?Sn?Ai:Ei:Sn?Lr:rr;Jt[Yi]>Kt[Yi]&&(Mi=qs(Mi));var jr=qs(Mi),Wi=[];if(d&&Wi.push(Ln[fi]<=0),p&&Wi.push(Ln[Mi]<=0,Ln[jr]<=0),Wi.every(function(ys){return ys})){Rn=Bn,jn=!1;break}vn.set(Bn,Wi)}if(jn)for(var wr=function(Br){var Us=Ut.find(function(br){var Xr=vn.get(br);if(Xr)return Xr.slice(0,Br).every(function(ti){return ti})});if(Us)return Rn=Us,"break"},vs=ne?3:1;vs>0&&"break"!==wr(vs);vs--);l.placement!==Rn&&(l.modifiersData[r]._skip=!0,l.placement=Rn,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ds(o,l,e){return bt(o,At(l,e))}const Bp={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ud(o){var l=o.state,e=o.options,r=o.name,a=e.mainAxis,d=void 0===a||a,h=e.altAxis,p=void 0!==h&&h,X=e.tether,se=void 0===X||X,ne=e.tetherOffset,ke=void 0===ne?0:ne,Ge=ks(l,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Dt=Jr(l.placement),tt=zi(l.placement),Zt=!tt,Ut=Fc(Dt),Jt=function Nd(o){return"x"===o?"y":"x"}(Ut),Kt=l.modifiersData.popperOffsets,vn=l.rects.reference,jn=l.rects.popper,Rn="function"==typeof ke?ke(Object.assign({},l.rects,{placement:l.placement})):ke,xn="number"==typeof Rn?{mainAxis:Rn,altAxis:Rn}:Object.assign({mainAxis:0,altAxis:0},Rn),Bn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,fi={x:0,y:0};if(Kt){if(d){var Sn,Gi="y"===Ut?rr:Ei,Yi="y"===Ut?Lr:Ai,Ln="y"===Ut?"height":"width",Mi=Kt[Ut],jr=Mi+Ge[Gi],Wi=Mi-Ge[Yi],Dr=se?-jn[Ln]/2:0,wr=tt===Do?vn[Ln]:jn[Ln],vs=tt===Do?-jn[Ln]:-vn[Ln],Rt=l.elements.arrow,ys=se&&Rt?Co(Rt):{width:0,height:0},Br=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Us=Br[Gi],br=Br[Yi],Xr=ds(0,vn[Ln],ys[Ln]),ti=Zt?vn[Ln]/2-Dr-Xr-Us-xn.mainAxis:wr-Xr-Us-xn.mainAxis,_c=Zt?-vn[Ln]/2+Dr+Xr+br+xn.mainAxis:vs+Xr+br+xn.mainAxis,Vn=l.elements.arrow&&ta(l.elements.arrow),nd=null!=(Sn=Bn?.[Ut])?Sn:0,L_=Mi+_c-nd,id=ds(se?At(jr,Mi+ti-nd-(Vn?"y"===Ut?Vn.clientTop||0:Vn.clientLeft||0:0)):jr,Mi,se?bt(Wi,L_):Wi);Kt[Ut]=id,fi[Ut]=id-Mi}if(p){var rd,Ao=Kt[Jt],vc="y"===Jt?"height":"width",sp=Ao+Ge["x"===Ut?rr:Ei],ba=Ao-Ge["x"===Ut?Lr:Ai],sd=-1!==[rr,Ei].indexOf(Dt),op=null!=(rd=Bn?.[Jt])?rd:0,ap=sd?sp:Ao-vn[vc]-jn[vc]-op+xn.altAxis,gl=sd?Ao+vn[vc]+jn[vc]-op-xn.altAxis:ba,od=se&&sd?function Bc(o,l,e){var r=ds(o,l,e);return r>e?e:r}(ap,Ao,gl):ds(se?ap:sp,Ao,se?gl:ba);Kt[Jt]=od,fi[Jt]=od-Ao}l.modifiersData[r]=fi}},requiresIfExists:["offset"]};const Zp={name:"arrow",enabled:!0,phase:"main",fn:function $p(o){var l,e=o.state,r=o.name,a=o.options,d=e.elements.arrow,h=e.modifiersData.popperOffsets,p=Jr(e.placement),_=Fc(p),O=[Ei,Ai].indexOf(p)>=0?"height":"width";if(d&&h){var Z=function(l,e){return Rl("number"!=typeof(l="function"==typeof l?l(Object.assign({},e.rects,{placement:e.placement})):l)?l:Pd(l,Ol))}(a.padding,e),X=Co(d),se="y"===_?rr:Ei,ne="y"===_?Lr:Ai,ke=e.rects.reference[O]+e.rects.reference[_]-h[_]-e.rects.popper[O],Ge=h[_]-e.rects.reference[_],Dt=ta(d),tt=Dt?"y"===_?Dt.clientHeight||0:Dt.clientWidth||0:0,Kt=tt/2-X[O]/2+(ke/2-Ge/2),vn=ds(Z[se],Kt,tt-X[O]-Z[ne]);e.modifiersData[r]=((l={})[_]=vn,l.centerOffset=vn-Kt,l)}},effect:function Hp(o){var l=o.state,r=o.options.element,a=void 0===r?"[data-popper-arrow]":r;null!=a&&("string"==typeof a&&!(a=l.elements.popper.querySelector(a))||Ld(l.elements.popper,a)&&(l.elements.arrow=a))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jd(o,l,e){return void 0===e&&(e={x:0,y:0}),{top:o.top-l.height-e.y,right:o.right-l.width+e.x,bottom:o.bottom-l.height+e.y,left:o.left-l.width-e.x}}function Bd(o){return[rr,Ai,Lr,Ei].some(function(l){return o[l]>=0})}var Hc=[Md,Id,Od,sr,Lc,jc,Bp,Zp,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Vp(o){var l=o.state,e=o.name,r=l.rects.reference,a=l.rects.popper,d=l.modifiersData.preventOverflow,h=ks(l,{elementContext:"reference"}),p=ks(l,{altBoundary:!0}),_=jd(h,r),b=jd(p,a,d),O=Bd(_),Z=Bd(b);l.modifiersData[e]={referenceClippingOffsets:_,popperEscapeOffsets:b,isReferenceHidden:O,hasPopperEscaped:Z},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":O,"data-popper-escaped":Z})}}],$d=Mp({defaultModifiers:Hc}),Zc=A(8421),Gp=A(5577),Yp=A(1144),Js=A(576),Hd=A(3268);const wo=["addListener","removeListener"],Zd=["addEventListener","removeEventListener"],Vd=["on","off"];function ia(o,l,e,r){if((0,Js.m)(e)&&(r=e,e=void 0),r)return ia(o,l,e).pipe((0,Hd.Z)(r));const[a,d]=function zd(o){return(0,Js.m)(o.addEventListener)&&(0,Js.m)(o.removeEventListener)}(o)?Zd.map(h=>p=>o[h](l,p,e)):function Ll(o){return(0,Js.m)(o.addListener)&&(0,Js.m)(o.removeListener)}(o)?wo.map(Wp(o,l)):function qp(o){return(0,Js.m)(o.on)&&(0,Js.m)(o.off)}(o)?Vd.map(Wp(o,l)):[];if(!a&&(0,Yp.z)(o))return(0,Gp.z)(h=>ia(h,l,e))((0,Zc.Xf)(o));if(!a)throw new TypeError("Invalid event target");return new le.y(h=>{const p=(..._)=>h.next(1<_.length?_:_[0]);return a(p),()=>d(p)})}function Wp(o,l){return e=>r=>o[e](l,r)}var Pr=A(2722);const Gd=["popperViewRef"];function Vc(o,l){if(1&o&&(t.TgZ(0,"div",5),t.Hsn(1),t.qZA()),2&o){const e=t.oxw();t.Q6J("innerHTML",e.text,t.oJD)}}function Yd(o,l){1&o&&(t.TgZ(0,"div",6),t.Hsn(1,1),t.qZA())}const nl=["*","*"];var hs=(()=>(function(o){o.TOP="top",o.BOTTOM="bottom",o.LEFT="left",o.RIGHT="right",o.TOPSTART="top-start",o.BOTTOMSTART="bottom-start",o.LEFTSTART="left-start",o.RIGHTSTART="right-start",o.TOPEND="top-end",o.BOTTOMEND="bottom-end",o.LEFTEND="left-end",o.RIGHTEND="right-end",o.AUTO="auto",o.AUTOSTART="auto-start",o.AUTOEND="auto-end"}(hs||(hs={})),hs))(),or=(()=>(function(o){o.click="click",o.hover="hover",o.mousedown="mousedown",o.none="none"}(or||(or={})),or))();let il=(()=>{class o{constructor(e,r,a){this.elRef=e,this._viewRef=r,this._changeDetectorRef=a,this.arrowColor=null,this.id="ngx_poppperjs_"+ ++o.nextId,this.isMouseOver=!1,this.onHidden=new t.vpe,this.popperOptions={disableAnimation:!1,disableDefaultStyling:!1,placement:hs.AUTO,boundariesElement:"",trigger:or.hover,positionFixed:!1,appendToBody:!1,popperModifiers:[]},this._baseModifiers=[{name:"offset",enabled:!0,options:{offset:[0,8]}},{name:"arrow",enabled:!0,options:{element:".ngxp__arrow",padding:3},requires:["arrow"]}],this._destroy$=new ee.x,this._styleId=`${this.id}_style`,this._toggleVisibility(!1)}clean(){this.toggleVisibility(!1),this.popperInstance&&this.popperInstance.destroy()}extractAppliedClassListExpr(e=[]){return(Array.isArray(e)?e:"string"==typeof e?e.replace(/ /,"").split(","):[]).reduce((a,d)=>(a[d]=!0,a),{})}hide(){this.popperInstance&&this.popperInstance.destroy(),this.toggleVisibility(!1),this.onHidden.emit()}ngOnDestroy(){this._destroy$.next(),this.clean(),this.popperOptions.appendTo&&this.elRef&&this.elRef.nativeElement&&this.elRef.nativeElement.parentNode&&(this._viewRef.detach(),this.elRef.nativeElement.parentNode.removeChild(this.elRef.nativeElement))}onDocumentResize(){this.update()}onMouseOver(){this.isMouseOver=!0}show(){if(!this.referenceObject)return;const e=this.popperOptions.appendTo&&document.querySelector(this.popperOptions.appendTo);e&&this.elRef.nativeElement.parentNode!==e&&(this.elRef.nativeElement.parentNode&&this.elRef.nativeElement.parentNode.removeChild(this.elRef.nativeElement),e.appendChild(this.elRef.nativeElement));const r={strategy:this.popperOptions.positionFixed?"fixed":"absolute",placement:this.popperOptions.placement,modifiers:this._baseModifiers};this.onUpdate&&(r.onFirstUpdate=this.onUpdate);const a=this.popperOptions.boundariesElement&&document.querySelector(this.popperOptions.boundariesElement);if(r.modifiers&&a&&r.modifiers.push({name:"preventOverflow",enabled:this.popperOptions.preventOverflow,options:{boundary:a}}),r.modifiers){const d=r.modifiers.find(h=>"preventOverflow"===h.name);if(d&&!d.enabled){const h=r.modifiers.find(p=>"preventOverflow"===p.name);h&&(h.enabled=!1)}}this._determineArrowColor(),r.modifiers=r.modifiers.concat(this.popperOptions.popperModifiers),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{this.popperInstance=$d(this.referenceObject,this.popperViewRef.nativeElement,r)})}),this.toggleVisibility(!0),ia(document,"resize").pipe((0,Pr.R)(this._destroy$)).subscribe({next:()=>this.onDocumentResize()})}showOnLeave(){this.isMouseOver=!1,(this.popperOptions.trigger===or.hover||this.popperOptions.hideOnMouseLeave)&&this.hide()}toggleVisibility(e){this._toggleVisibility(e),this._changeDetectorRef.destroyed||this._changeDetectorRef.detectChanges()}update(){this.popperInstance&&this.popperInstance.update()}_createArrowSelector(){return`div#${this.id}.ngxp__container > .ngxp__arrow.ngxp__force-arrow`}_determineArrowColor(){if(!this.popperOptions.styles||this.arrowColor)return!1;const e=this.popperOptions.styles["background-color"]||this.popperOptions.styles.backgroundColor;if(this.arrowColor===e)return!1;this.arrowColor=e;let r=document.querySelector(`#${this._styleId}`);const a=this.arrowColor?`${this._createArrowSelector()}:before { background-color: ${this.arrowColor}; }`:"";r||(r=document.createElement("style"),r.id=this._styleId,r.setAttribute("type","text/css"),document.head.appendChild(r)),r.styleSheet?r.styleSheet.cssText=a:r.innerHTML=a}_toggleVisibility(e){this.displayType=["none","block"][+e],this.opacity=+e,this.ariaHidden=`${!e}`,this.state=e}}return o.nextId=0,o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["popper-content"]],viewQuery:function(e,r){if(1&e&&t.Gf(Gd,7),2&e){let a;t.iGM(a=t.CRH())&&(r.popperViewRef=a.first)}},hostBindings:function(e,r){1&e&&t.NdJ("mouseover",function(){return r.onMouseOver()})("mouseleave",function(){return r.showOnLeave()})},exportAs:["ngxPopperjsContent"],ngContentSelectors:nl,decls:5,vars:19,consts:[[3,"ngStyle","ngClass"],["popperViewRef",""],["class","ngxp__inner",3,"innerHTML",4,"ngIf"],["class","ngxp__inner",4,"ngIf"],["data-popper-arrow","",1,"ngxp__arrow",3,"ngClass"],[1,"ngxp__inner",3,"innerHTML"],[1,"ngxp__inner"]],template:function(e,r){1&e&&(t.F$t(nl),t.TgZ(0,"div",0,1),t.YNc(2,Vc,2,1,"div",2),t.YNc(3,Yd,2,0,"div",3),t._UZ(4,"div",4),t.qZA()),2&e&&(t.Udp("display",r.displayType)("opacity",r.opacity),t.ekj("ngxp__container",!r.popperOptions.disableDefaultStyling)("ngxp__animation",!r.popperOptions.disableAnimation),t.Q6J("ngStyle",r.popperOptions.styles)("ngClass",r.extractAppliedClassListExpr(r.popperOptions.applyClass)),t.uIk("id",r.id)("aria-hidden",r.ariaHidden)("aria-describedby",r.popperOptions.ariaDescribe||null)("role",r.popperOptions.ariaRole),t.xp6(2),t.Q6J("ngIf",r.text),t.xp6(1),t.Q6J("ngIf",!r.text),t.xp6(1),t.ekj("ngxp__force-arrow",r.arrowColor),t.Q6J("ngClass",r.extractAppliedClassListExpr(r.popperOptions.applyArrowClass)))},dependencies:[y.mk,y.O5,y.PC],styles:['popper-content{position:relative;display:block}.ngxp__container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.ngxp__container.ngxp__animation{animation:ngxp-fadeIn .15s ease-out}.ngxp__container>.ngxp__arrow,.ngxp__container>.ngxp__arrow:before{position:absolute;width:10px;height:10px;z-index:-1}.ngxp__container>.ngxp__arrow:before{transform:rotate(45deg);content:"";background-color:#fff;top:0;left:0}.ngxp__container[data-popper-placement^=top]>.ngxp__arrow{bottom:-4px}.ngxp__container[data-popper-placement^=bottom]>.ngxp__arrow{top:-4px}.ngxp__container[data-popper-placement^=left]>.ngxp__arrow{right:-4px}.ngxp__container[data-popper-placement^=right]>.ngxp__arrow{left:-4px}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}\n'],encapsulation:2,changeDetection:0}),o})();const Pl=new t.OlP("NGX_POPPERJS_DEFAULTS");class zc{static coerceBooleanProperty(l){return null!=l&&"false"!=`${l}`}}class _i{constructor(l,e,r,a={}){this._changeDetectorRef=l,this._elementRef=e,this._vcr=r,this._popperDefaults=a,this.hideTimeout=0,this.popperOnHidden=new t.vpe,this.popperOnShown=new t.vpe,this.popperOnUpdate=new t.vpe,this.timeoutAfterShow=0,this._destroy$=new ee.x,this._globalEventListenersCtrl$=new ee.x,this._popperContentClass=il,this._scheduledHideTimeoutCtrl$=new ee.x,this._scheduledShowTimeoutCtrl$=new ee.x,this._shown=!1,_i.baseOptions={..._i.baseOptions,...this._popperDefaults}}set applyClass(l){l!==this._applyClass&&(this._applyClass=l,this._checkExisting("applyClass",l))}get applyClass(){return this._applyClass}set content(l){l!==this._content&&(this._content=l,this._popperContent&&("string"==typeof l?this._popperContent.text=l:this._popperContent=l))}get content(){return this._content}set disabled(l){l!==this._disabled&&(this._disabled=!!l,this._shown&&this.hide())}get disabled(){return this._disabled}set placement(l){this._popperPlacement=l,this._checkExisting("placement",l)}get placement(){return this._popperPlacement}set popperApplyArrowClass(l){if(l!==this._popperApplyArrowClass&&(this._popperApplyArrowClass=l,this._popperContent)){if(this._popperContent.popperOptions.applyArrowClass=l,!this._shown)return;this._popperContent.popperInstance.setOptions(this._popperContent.popperOptions)}}get popperApplyArrowClass(){return this._popperApplyArrowClass}set preventOverflow(l){this._popperPreventOverflow=zc.coerceBooleanProperty(l),this._checkExisting("preventOverflow",this._popperPreventOverflow)}get preventOverflow(){return this._popperPreventOverflow}static assignDefined(l,...e){for(const r of e)for(const a of Object.keys(r)){const d=r[a];void 0!==d&&(l[a]=d)}return l}applyTriggerListeners(){switch(this.showTrigger){case or.click:this._addListener("click",this.toggle.bind(this));break;case or.mousedown:this._addListener("mousedown",this.toggle.bind(this));break;case or.hover:this._addListener("mouseenter",this.scheduledShow.bind(this,this.showDelay)),["touchend","touchcancel","mouseleave"].forEach(l=>{this._addListener(l,this.scheduledHide.bind(this,null,this.hideTimeout))})}this.showTrigger!==or.hover&&this.hideOnMouseLeave&&["touchend","touchcancel","mouseleave"].forEach(l=>{this._addListener(l,this.scheduledHide.bind(this,null,this.hideTimeout))})}getRefElement(){return this.targetElement||this._elementRef.nativeElement}hide(){if(!this.disabled){if(!this._shown)return void this._scheduledShowTimeoutCtrl$.next();this._shown=!1,this._popperContentRef?this._popperContentRef.instance.hide():this._popperContent.hide(),this.popperOnHidden.emit(this),this._globalEventListenersCtrl$.next()}}hideOnClickOutsideHandler(l){this.disabled||!this.hideOnClickOutside||l.target===this._popperContent.elRef.nativeElement||this._popperContent.elRef.nativeElement.contains(l.target)||this.scheduledHide(l,this.hideTimeout)}hideOnScrollHandler(l){this.disabled||!this.hideOnScroll||this.scheduledHide(l,this.hideTimeout)}ngOnDestroy(){this._destroy$.next(),this._popperContent&&this._popperContent.clean()}ngOnInit(){this.hideOnClickOutside=typeof this.hideOnClickOutside>"u"?this.closeOnClickOutside:this.hideOnClickOutside,"string"==typeof this.content?(this._popperContent=this._constructContent(),this._popperContent.text=this.content):typeof this.content>"u"?(this._popperContent=this._constructContent(),this._popperContent.text=""):this._popperContent=this.content;const l=this._popperContent;l.referenceObject=this.getRefElement(),this._setContentProperties(l),this._setDefaults(),this.applyTriggerListeners(),this.showOnStart&&this.scheduledShow()}scheduledHide(l=null,e=this.hideTimeout){this.disabled||(this._scheduledShowTimeoutCtrl$.next(),Pe(e).pipe((0,Pr.R)(this._scheduledHideTimeoutCtrl$),(0,Pr.R)(this._destroy$)).subscribe({next:()=>{const r=l?l.toElement:null,a=!!this._popperContent.popperViewRef&&this._popperContent.popperViewRef.nativeElement;!a||a===r||a.contains(r)||this.content&&this.content.isMouseOver||(this.hide(),this._applyChanges())}}))}scheduledShow(l=this.showDelay){this.disabled||(this._scheduledHideTimeoutCtrl$.next(),Pe(l).pipe((0,Pr.R)(this._scheduledShowTimeoutCtrl$),(0,Pr.R)(this._destroy$)).subscribe({next:()=>{this.show(),this._applyChanges()}}))}show(){if(this._shown)return void this._scheduledHideTimeoutCtrl$.next();this._shown=!0;const l=this._popperContent,e=this.getRefElement();l.referenceObject!==e&&(l.referenceObject=e),this._setContentProperties(l),l.show(),this.popperOnShown.emit(this),this.timeoutAfterShow>0&&this.scheduledHide(null,this.timeoutAfterShow),ia(document,"click").pipe((0,Pr.R)(this._globalEventListenersCtrl$),(0,Pr.R)(this._destroy$)).subscribe({next:r=>this.hideOnClickOutsideHandler(r)}),ia(this._getScrollParent(this.getRefElement()),"scroll").pipe((0,Pr.R)(this._globalEventListenersCtrl$),(0,Pr.R)(this._destroy$)).subscribe({next:r=>{this.hideOnScrollHandler(r)}})}toggle(){this.disabled||(this._shown?this.scheduledHide(null,this.hideTimeout):this.scheduledShow())}_addListener(l,e){ia(this._elementRef.nativeElement,l).pipe((0,Pr.R)(this._destroy$)).subscribe({next:e})}_applyChanges(){this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges()}_checkExisting(l,e){if(this._popperContent){if(this._popperContent.popperOptions[l]=e,!this._shown)return;this._popperContent.popperInstance.setOptions(this._popperContent.popperOptions)}}_constructContent(){return this._popperContentRef=this._vcr.createComponent(this._popperContentClass),this._popperContentRef.instance}_getScrollParent(l){const r=l instanceof HTMLElement&&window.getComputedStyle(l).overflowY;return l?"visible"!==r&&"hidden"!==r&&l.scrollHeight>l.clientHeight?l:this._getScrollParent(l.parentNode)||document:null}_onPopperUpdate(l){this.popperOnUpdate.emit(l)}_setContentProperties(l){l.popperOptions=_i.assignDefined(l.popperOptions,_i.baseOptions,{showDelay:this.showDelay,disableAnimation:this.disableAnimation,disableDefaultStyling:this.disableStyle,placement:this.placement,boundariesElement:this.boundariesElement,trigger:this.showTrigger,positionFixed:this.positionFixed,popperModifiers:this.popperModifiers,ariaDescribe:this.ariaDescribe,ariaRole:this.ariaRole,applyClass:this.applyClass,applyArrowClass:this.popperApplyArrowClass,hideOnMouseLeave:this.hideOnMouseLeave,styles:this.styles,appendTo:this.popperAppendTo,preventOverflow:this.preventOverflow}),l.onUpdate=this._onPopperUpdate.bind(this),l.onHidden.pipe((0,Pr.R)(this._destroy$)).subscribe(this.hide.bind(this))}_setDefaults(){["showDelay","hideOnScroll","hideOnMouseLeave","hideOnClickOutside","ariaRole","ariaDescribe"].forEach(l=>{this[l]=void 0===this[l]?_i.baseOptions[l]:this[l]}),this.showTrigger=this.showTrigger||_i.baseOptions.trigger,this.styles=void 0===this.styles?{..._i.baseOptions.styles}:this.styles}}function Gc(o={}){return[{provide:Pl,useValue:o}]}_i.baseOptions={showDelay:0,placement:hs.AUTO,hideOnClickOutside:!0,hideOnMouseLeave:!1,hideOnScroll:!1,appendTo:void 0,ariaRole:"popper",ariaDescribe:"",styles:{},trigger:or.click},_i.\u0275fac=function(l){return new(l||_i)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(Pl))},_i.\u0275dir=t.lG2({type:_i,selectors:[["","popper",""]],inputs:{applyClass:["popperApplyClass","applyClass"],ariaDescribe:["popperAriaDescribeBy","ariaDescribe"],ariaRole:["popperAriaRole","ariaRole"],boundariesElement:["popperBoundaries","boundariesElement"],closeOnClickOutside:["popperCloseOnClickOutside","closeOnClickOutside"],content:["popper","content"],disableAnimation:["popperDisableAnimation","disableAnimation"],disabled:["popperDisabled","disabled"],disableStyle:["popperDisableStyle","disableStyle"],hideOnClickOutside:["popperHideOnClickOutside","hideOnClickOutside"],hideOnMouseLeave:["popperHideOnMouseLeave","hideOnMouseLeave"],hideOnScroll:["popperHideOnScroll","hideOnScroll"],hideTimeout:["popperTimeout","hideTimeout"],placement:["popperPlacement","placement"],popperAppendTo:"popperAppendTo",popperApplyArrowClass:"popperApplyArrowClass",popperModifiers:"popperModifiers",positionFixed:["popperPositionFixed","positionFixed"],preventOverflow:["popperPreventOverflow","preventOverflow"],showDelay:["popperDelay","showDelay"],showOnStart:["popperShowOnStart","showOnStart"],showTrigger:["popperTrigger","showTrigger"],styles:["popperStyles","styles"],targetElement:["popperTarget","targetElement"],timeoutAfterShow:["popperTimeoutAfterShow","timeoutAfterShow"]},outputs:{popperOnHidden:"popperOnHidden",popperOnShown:"popperOnShown",popperOnUpdate:"popperOnUpdate"},exportAs:["popper"]});let Jp=(()=>{class o{static forRoot(e){return{ngModule:o,providers:[Gc(e)]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Gc()],imports:[y.ez]}),o})();var Kp=A(1764),Yc=A.n(Kp),Wd=A(563),qd=A.n(Wd),Nl=A(2243),Wc=A.n(Nl),bo=A(2711);function qc(){return qc=Object.assign||function(o){for(var l=1;l<arguments.length;l++){var e=arguments[l];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r])}return o},qc.apply(this,arguments)}var Qp=/[|\\{}()[\]^$+*?.]/g,Ev=function(o){if("string"!=typeof o)throw new TypeError("Expected a string");return o.replace(Qp,"\\$&")};const Xp=[["\xdf","ss"],["\u1e9e","Ss"],["\xe4","ae"],["\xc4","Ae"],["\xf6","oe"],["\xd6","Oe"],["\xfc","ue"],["\xdc","Ue"],["\xc0","A"],["\xc1","A"],["\xc2","A"],["\xc3","A"],["\xc4","Ae"],["\xc5","A"],["\xc6","AE"],["\xc7","C"],["\xc8","E"],["\xc9","E"],["\xca","E"],["\xcb","E"],["\xcc","I"],["\xcd","I"],["\xce","I"],["\xcf","I"],["\xd0","D"],["\xd1","N"],["\xd2","O"],["\xd3","O"],["\xd4","O"],["\xd5","O"],["\xd6","Oe"],["\u0150","O"],["\xd8","O"],["\xd9","U"],["\xda","U"],["\xdb","U"],["\xdc","Ue"],["\u0170","U"],["\xdd","Y"],["\xde","TH"],["\xdf","ss"],["\xe0","a"],["\xe1","a"],["\xe2","a"],["\xe3","a"],["\xe4","ae"],["\xe5","a"],["\xe6","ae"],["\xe7","c"],["\xe8","e"],["\xe9","e"],["\xea","e"],["\xeb","e"],["\xec","i"],["\xed","i"],["\xee","i"],["\xef","i"],["\xf0","d"],["\xf1","n"],["\xf2","o"],["\xf3","o"],["\xf4","o"],["\xf5","o"],["\xf6","oe"],["\u0151","o"],["\xf8","o"],["\xf9","u"],["\xfa","u"],["\xfb","u"],["\xfc","ue"],["\u0171","u"],["\xfd","y"],["\xfe","th"],["\xff","y"],["\u1e9e","SS"],["\xe0","a"],["\xc0","A"],["\xe1","a"],["\xc1","A"],["\xe2","a"],["\xc2","A"],["\xe3","a"],["\xc3","A"],["\xe8","e"],["\xc8","E"],["\xe9","e"],["\xc9","E"],["\xea","e"],["\xca","E"],["\xec","i"],["\xcc","I"],["\xed","i"],["\xcd","I"],["\xf2","o"],["\xd2","O"],["\xf3","o"],["\xd3","O"],["\xf4","o"],["\xd4","O"],["\xf5","o"],["\xd5","O"],["\xf9","u"],["\xd9","U"],["\xfa","u"],["\xda","U"],["\xfd","y"],["\xdd","Y"],["\u0103","a"],["\u0102","A"],["\u0110","D"],["\u0111","d"],["\u0129","i"],["\u0128","I"],["\u0169","u"],["\u0168","U"],["\u01a1","o"],["\u01a0","O"],["\u01b0","u"],["\u01af","U"],["\u1ea1","a"],["\u1ea0","A"],["\u1ea3","a"],["\u1ea2","A"],["\u1ea5","a"],["\u1ea4","A"],["\u1ea7","a"],["\u1ea6","A"],["\u1ea9","a"],["\u1ea8","A"],["\u1eab","a"],["\u1eaa","A"],["\u1ead","a"],["\u1eac","A"],["\u1eaf","a"],["\u1eae","A"],["\u1eb1","a"],["\u1eb0","A"],["\u1eb3","a"],["\u1eb2","A"],["\u1eb5","a"],["\u1eb4","A"],["\u1eb7","a"],["\u1eb6","A"],["\u1eb9","e"],["\u1eb8","E"],["\u1ebb","e"],["\u1eba","E"],["\u1ebd","e"],["\u1ebc","E"],["\u1ebf","e"],["\u1ebe","E"],["\u1ec1","e"],["\u1ec0","E"],["\u1ec3","e"],["\u1ec2","E"],["\u1ec5","e"],["\u1ec4","E"],["\u1ec7","e"],["\u1ec6","E"],["\u1ec9","i"],["\u1ec8","I"],["\u1ecb","i"],["\u1eca","I"],["\u1ecd","o"],["\u1ecc","O"],["\u1ecf","o"],["\u1ece","O"],["\u1ed1","o"],["\u1ed0","O"],["\u1ed3","o"],["\u1ed2","O"],["\u1ed5","o"],["\u1ed4","O"],["\u1ed7","o"],["\u1ed6","O"],["\u1ed9","o"],["\u1ed8","O"],["\u1edb","o"],["\u1eda","O"],["\u1edd","o"],["\u1edc","O"],["\u1edf","o"],["\u1ede","O"],["\u1ee1","o"],["\u1ee0","O"],["\u1ee3","o"],["\u1ee2","O"],["\u1ee5","u"],["\u1ee4","U"],["\u1ee7","u"],["\u1ee6","U"],["\u1ee9","u"],["\u1ee8","U"],["\u1eeb","u"],["\u1eea","U"],["\u1eed","u"],["\u1eec","U"],["\u1eef","u"],["\u1eee","U"],["\u1ef1","u"],["\u1ef0","U"],["\u1ef3","y"],["\u1ef2","Y"],["\u1ef5","y"],["\u1ef4","Y"],["\u1ef7","y"],["\u1ef6","Y"],["\u1ef9","y"],["\u1ef8","Y"],["\u0621","e"],["\u0622","a"],["\u0623","a"],["\u0624","w"],["\u0625","i"],["\u0626","y"],["\u0627","a"],["\u0628","b"],["\u0629","t"],["\u062a","t"],["\u062b","th"],["\u062c","j"],["\u062d","h"],["\u062e","kh"],["\u062f","d"],["\u0630","dh"],["\u0631","r"],["\u0632","z"],["\u0633","s"],["\u0634","sh"],["\u0635","s"],["\u0636","d"],["\u0637","t"],["\u0638","z"],["\u0639","e"],["\u063a","gh"],["\u0640","_"],["\u0641","f"],["\u0642","q"],["\u0643","k"],["\u0644","l"],["\u0645","m"],["\u0646","n"],["\u0647","h"],["\u0648","w"],["\u0649","a"],["\u064a","y"],["\u064e\u200e","a"],["\u064f","u"],["\u0650\u200e","i"],["\u0660","0"],["\u0661","1"],["\u0662","2"],["\u0663","3"],["\u0664","4"],["\u0665","5"],["\u0666","6"],["\u0667","7"],["\u0668","8"],["\u0669","9"],["\u0686","ch"],["\u06a9","k"],["\u06af","g"],["\u067e","p"],["\u0698","zh"],["\u06cc","y"],["\u06f0","0"],["\u06f1","1"],["\u06f2","2"],["\u06f3","3"],["\u06f4","4"],["\u06f5","5"],["\u06f6","6"],["\u06f7","7"],["\u06f8","8"],["\u06f9","9"],["\u067c","p"],["\u0681","z"],["\u0685","c"],["\u0689","d"],["\ufeab","d"],["\ufead","r"],["\u0693","r"],["\ufeaf","z"],["\u0696","g"],["\u069a","x"],["\u06ab","g"],["\u06bc","n"],["\u06c0","e"],["\u06d0","e"],["\u06cd","ai"],["\u0679","t"],["\u0688","d"],["\u0691","r"],["\u06ba","n"],["\u06c1","h"],["\u06be","h"],["\u06d2","e"],["\u0410","A"],["\u0430","a"],["\u0411","B"],["\u0431","b"],["\u0412","V"],["\u0432","v"],["\u0413","G"],["\u0433","g"],["\u0414","D"],["\u0434","d"],["\u044a\u0435","ye"],["\u042a\u0435","Ye"],["\u044a\u0415","yE"],["\u042a\u0415","YE"],["\u0415","E"],["\u0435","e"],["\u0401","Yo"],["\u0451","yo"],["\u0416","Zh"],["\u0436","zh"],["\u0417","Z"],["\u0437","z"],["\u0418","I"],["\u0438","i"],["\u044b\u0439","iy"],["\u042b\u0439","Iy"],["\u042b\u0419","IY"],["\u044b\u0419","iY"],["\u0419","Y"],["\u0439","y"],["\u041a","K"],["\u043a","k"],["\u041b","L"],["\u043b","l"],["\u041c","M"],["\u043c","m"],["\u041d","N"],["\u043d","n"],["\u041e","O"],["\u043e","o"],["\u041f","P"],["\u043f","p"],["\u0420","R"],["\u0440","r"],["\u0421","S"],["\u0441","s"],["\u0422","T"],["\u0442","t"],["\u0423","U"],["\u0443","u"],["\u0424","F"],["\u0444","f"],["\u0425","Kh"],["\u0445","kh"],["\u0426","Ts"],["\u0446","ts"],["\u0427","Ch"],["\u0447","ch"],["\u0428","Sh"],["\u0448","sh"],["\u0429","Sch"],["\u0449","sch"],["\u042a",""],["\u044a",""],["\u042b","Y"],["\u044b","y"],["\u042c",""],["\u044c",""],["\u042d","E"],["\u044d","e"],["\u042e","Yu"],["\u044e","yu"],["\u042f","Ya"],["\u044f","ya"],["\u0103","a"],["\u0102","A"],["\u0219","s"],["\u0218","S"],["\u021b","t"],["\u021a","T"],["\u0163","t"],["\u0162","T"],["\u015f","s"],["\u015e","S"],["\xe7","c"],["\xc7","C"],["\u011f","g"],["\u011e","G"],["\u0131","i"],["\u0130","I"],["\u0561","a"],["\u0531","A"],["\u0562","b"],["\u0532","B"],["\u0563","g"],["\u0533","G"],["\u0564","d"],["\u0534","D"],["\u0565","ye"],["\u0535","Ye"],["\u0566","z"],["\u0536","Z"],["\u0567","e"],["\u0537","E"],["\u0568","y"],["\u0538","Y"],["\u0569","t"],["\u0539","T"],["\u056a","zh"],["\u053a","Zh"],["\u056b","i"],["\u053b","I"],["\u056c","l"],["\u053c","L"],["\u056d","kh"],["\u053d","Kh"],["\u056e","ts"],["\u053e","Ts"],["\u056f","k"],["\u053f","K"],["\u0570","h"],["\u0540","H"],["\u0571","dz"],["\u0541","Dz"],["\u0572","gh"],["\u0542","Gh"],["\u0573","tch"],["\u0543","Tch"],["\u0574","m"],["\u0544","M"],["\u0575","y"],["\u0545","Y"],["\u0576","n"],["\u0546","N"],["\u0577","sh"],["\u0547","Sh"],["\u0578","vo"],["\u0548","Vo"],["\u0579","ch"],["\u0549","Ch"],["\u057a","p"],["\u054a","P"],["\u057b","j"],["\u054b","J"],["\u057c","r"],["\u054c","R"],["\u057d","s"],["\u054d","S"],["\u057e","v"],["\u054e","V"],["\u057f","t"],["\u054f","T"],["\u0580","r"],["\u0550","R"],["\u0581","c"],["\u0551","C"],["\u0578\u0582","u"],["\u0548\u0552","U"],["\u0548\u0582","U"],["\u0583","p"],["\u0553","P"],["\u0584","q"],["\u0554","Q"],["\u0585","o"],["\u0555","O"],["\u0586","f"],["\u0556","F"],["\u0587","yev"],["\u10d0","a"],["\u10d1","b"],["\u10d2","g"],["\u10d3","d"],["\u10d4","e"],["\u10d5","v"],["\u10d6","z"],["\u10d7","t"],["\u10d8","i"],["\u10d9","k"],["\u10da","l"],["\u10db","m"],["\u10dc","n"],["\u10dd","o"],["\u10de","p"],["\u10df","zh"],["\u10e0","r"],["\u10e1","s"],["\u10e2","t"],["\u10e3","u"],["\u10e4","ph"],["\u10e5","q"],["\u10e6","gh"],["\u10e7","k"],["\u10e8","sh"],["\u10e9","ch"],["\u10ea","ts"],["\u10eb","dz"],["\u10ec","ts"],["\u10ed","tch"],["\u10ee","kh"],["\u10ef","j"],["\u10f0","h"],["\u010d","c"],["\u010f","d"],["\u011b","e"],["\u0148","n"],["\u0159","r"],["\u0161","s"],["\u0165","t"],["\u016f","u"],["\u017e","z"],["\u010c","C"],["\u010e","D"],["\u011a","E"],["\u0147","N"],["\u0158","R"],["\u0160","S"],["\u0164","T"],["\u016e","U"],["\u017d","Z"],["\u0780","h"],["\u0781","sh"],["\u0782","n"],["\u0783","r"],["\u0784","b"],["\u0785","lh"],["\u0786","k"],["\u0787","a"],["\u0788","v"],["\u0789","m"],["\u078a","f"],["\u078b","dh"],["\u078c","th"],["\u078d","l"],["\u078e","g"],["\u078f","gn"],["\u0790","s"],["\u0791","d"],["\u0792","z"],["\u0793","t"],["\u0794","y"],["\u0795","p"],["\u0796","j"],["\u0797","ch"],["\u0798","tt"],["\u0799","hh"],["\u079a","kh"],["\u079b","th"],["\u079c","z"],["\u079d","sh"],["\u079e","s"],["\u079f","d"],["\u07a0","t"],["\u07a1","z"],["\u07a2","a"],["\u07a3","gh"],["\u07a4","q"],["\u07a5","w"],["\u07a6","a"],["\u07a7","aa"],["\u07a8","i"],["\u07a9","ee"],["\u07aa","u"],["\u07ab","oo"],["\u07ac","e"],["\u07ad","ey"],["\u07ae","o"],["\u07af","oa"],["\u07b0",""],["\u03b1","a"],["\u03b2","v"],["\u03b3","g"],["\u03b4","d"],["\u03b5","e"],["\u03b6","z"],["\u03b7","i"],["\u03b8","th"],["\u03b9","i"],["\u03ba","k"],["\u03bb","l"],["\u03bc","m"],["\u03bd","n"],["\u03be","ks"],["\u03bf","o"],["\u03c0","p"],["\u03c1","r"],["\u03c3","s"],["\u03c4","t"],["\u03c5","y"],["\u03c6","f"],["\u03c7","x"],["\u03c8","ps"],["\u03c9","o"],["\u03ac","a"],["\u03ad","e"],["\u03af","i"],["\u03cc","o"],["\u03cd","y"],["\u03ae","i"],["\u03ce","o"],["\u03c2","s"],["\u03ca","i"],["\u03b0","y"],["\u03cb","y"],["\u0390","i"],["\u0391","A"],["\u0392","B"],["\u0393","G"],["\u0394","D"],["\u0395","E"],["\u0396","Z"],["\u0397","I"],["\u0398","TH"],["\u0399","I"],["\u039a","K"],["\u039b","L"],["\u039c","M"],["\u039d","N"],["\u039e","KS"],["\u039f","O"],["\u03a0","P"],["\u03a1","R"],["\u03a3","S"],["\u03a4","T"],["\u03a5","Y"],["\u03a6","F"],["\u03a7","X"],["\u03a8","PS"],["\u03a9","O"],["\u0386","A"],["\u0388","E"],["\u038a","I"],["\u038c","O"],["\u038e","Y"],["\u0389","I"],["\u038f","O"],["\u03aa","I"],["\u03ab","Y"],["\u0101","a"],["\u0113","e"],["\u0123","g"],["\u012b","i"],["\u0137","k"],["\u013c","l"],["\u0146","n"],["\u016b","u"],["\u0100","A"],["\u0112","E"],["\u0122","G"],["\u012a","I"],["\u0136","K"],["\u013b","L"],["\u0145","N"],["\u016a","U"],["\u010d","c"],["\u0161","s"],["\u017e","z"],["\u010c","C"],["\u0160","S"],["\u017d","Z"],["\u0105","a"],["\u010d","c"],["\u0119","e"],["\u0117","e"],["\u012f","i"],["\u0161","s"],["\u0173","u"],["\u016b","u"],["\u017e","z"],["\u0104","A"],["\u010c","C"],["\u0118","E"],["\u0116","E"],["\u012e","I"],["\u0160","S"],["\u0172","U"],["\u016a","U"],["\u040c","Kj"],["\u045c","kj"],["\u0409","Lj"],["\u0459","lj"],["\u040a","Nj"],["\u045a","nj"],["\u0422\u0441","Ts"],["\u0442\u0441","ts"],["\u0105","a"],["\u0107","c"],["\u0119","e"],["\u0142","l"],["\u0144","n"],["\u015b","s"],["\u017a","z"],["\u017c","z"],["\u0104","A"],["\u0106","C"],["\u0118","E"],["\u0141","L"],["\u0143","N"],["\u015a","S"],["\u0179","Z"],["\u017b","Z"],["\u0404","Ye"],["\u0406","I"],["\u0407","Yi"],["\u0490","G"],["\u0454","ye"],["\u0456","i"],["\u0457","yi"],["\u0491","g"],["\u0132","IJ"],["\u0133","ij"],["\xa2","c"],["\xa5","Y"],["\u07ff","b"],["\u09f3","t"],["\u0af1","Bo"],["\u0e3f","B"],["\u20a0","CE"],["\u20a1","C"],["\u20a2","Cr"],["\u20a3","F"],["\u20a5","m"],["\u20a6","N"],["\u20a7","Pt"],["\u20a8","Rs"],["\u20a9","W"],["\u20ab","s"],["\u20ac","E"],["\u20ad","K"],["\u20ae","T"],["\u20af","Dp"],["\u20b0","S"],["\u20b1","P"],["\u20b2","G"],["\u20b3","A"],["\u20b4","S"],["\u20b5","C"],["\u20b6","tt"],["\u20b7","S"],["\u20b8","T"],["\u20b9","R"],["\u20ba","L"],["\u20bd","P"],["\u20bf","B"],["\ufe69","$"],["\uffe0","c"],["\uffe5","Y"],["\uffe6","W"],["\u{1d400}","A"],["\u{1d401}","B"],["\u{1d402}","C"],["\u{1d403}","D"],["\u{1d404}","E"],["\u{1d405}","F"],["\u{1d406}","G"],["\u{1d407}","H"],["\u{1d408}","I"],["\u{1d409}","J"],["\u{1d40a}","K"],["\u{1d40b}","L"],["\u{1d40c}","M"],["\u{1d40d}","N"],["\u{1d40e}","O"],["\u{1d40f}","P"],["\u{1d410}","Q"],["\u{1d411}","R"],["\u{1d412}","S"],["\u{1d413}","T"],["\u{1d414}","U"],["\u{1d415}","V"],["\u{1d416}","W"],["\u{1d417}","X"],["\u{1d418}","Y"],["\u{1d419}","Z"],["\u{1d41a}","a"],["\u{1d41b}","b"],["\u{1d41c}","c"],["\u{1d41d}","d"],["\u{1d41e}","e"],["\u{1d41f}","f"],["\u{1d420}","g"],["\u{1d421}","h"],["\u{1d422}","i"],["\u{1d423}","j"],["\u{1d424}","k"],["\u{1d425}","l"],["\u{1d426}","m"],["\u{1d427}","n"],["\u{1d428}","o"],["\u{1d429}","p"],["\u{1d42a}","q"],["\u{1d42b}","r"],["\u{1d42c}","s"],["\u{1d42d}","t"],["\u{1d42e}","u"],["\u{1d42f}","v"],["\u{1d430}","w"],["\u{1d431}","x"],["\u{1d432}","y"],["\u{1d433}","z"],["\u{1d434}","A"],["\u{1d435}","B"],["\u{1d436}","C"],["\u{1d437}","D"],["\u{1d438}","E"],["\u{1d439}","F"],["\u{1d43a}","G"],["\u{1d43b}","H"],["\u{1d43c}","I"],["\u{1d43d}","J"],["\u{1d43e}","K"],["\u{1d43f}","L"],["\u{1d440}","M"],["\u{1d441}","N"],["\u{1d442}","O"],["\u{1d443}","P"],["\u{1d444}","Q"],["\u{1d445}","R"],["\u{1d446}","S"],["\u{1d447}","T"],["\u{1d448}","U"],["\u{1d449}","V"],["\u{1d44a}","W"],["\u{1d44b}","X"],["\u{1d44c}","Y"],["\u{1d44d}","Z"],["\u{1d44e}","a"],["\u{1d44f}","b"],["\u{1d450}","c"],["\u{1d451}","d"],["\u{1d452}","e"],["\u{1d453}","f"],["\u{1d454}","g"],["\u{1d456}","i"],["\u{1d457}","j"],["\u{1d458}","k"],["\u{1d459}","l"],["\u{1d45a}","m"],["\u{1d45b}","n"],["\u{1d45c}","o"],["\u{1d45d}","p"],["\u{1d45e}","q"],["\u{1d45f}","r"],["\u{1d460}","s"],["\u{1d461}","t"],["\u{1d462}","u"],["\u{1d463}","v"],["\u{1d464}","w"],["\u{1d465}","x"],["\u{1d466}","y"],["\u{1d467}","z"],["\u{1d468}","A"],["\u{1d469}","B"],["\u{1d46a}","C"],["\u{1d46b}","D"],["\u{1d46c}","E"],["\u{1d46d}","F"],["\u{1d46e}","G"],["\u{1d46f}","H"],["\u{1d470}","I"],["\u{1d471}","J"],["\u{1d472}","K"],["\u{1d473}","L"],["\u{1d474}","M"],["\u{1d475}","N"],["\u{1d476}","O"],["\u{1d477}","P"],["\u{1d478}","Q"],["\u{1d479}","R"],["\u{1d47a}","S"],["\u{1d47b}","T"],["\u{1d47c}","U"],["\u{1d47d}","V"],["\u{1d47e}","W"],["\u{1d47f}","X"],["\u{1d480}","Y"],["\u{1d481}","Z"],["\u{1d482}","a"],["\u{1d483}","b"],["\u{1d484}","c"],["\u{1d485}","d"],["\u{1d486}","e"],["\u{1d487}","f"],["\u{1d488}","g"],["\u{1d489}","h"],["\u{1d48a}","i"],["\u{1d48b}","j"],["\u{1d48c}","k"],["\u{1d48d}","l"],["\u{1d48e}","m"],["\u{1d48f}","n"],["\u{1d490}","o"],["\u{1d491}","p"],["\u{1d492}","q"],["\u{1d493}","r"],["\u{1d494}","s"],["\u{1d495}","t"],["\u{1d496}","u"],["\u{1d497}","v"],["\u{1d498}","w"],["\u{1d499}","x"],["\u{1d49a}","y"],["\u{1d49b}","z"],["\u{1d49c}","A"],["\u{1d49e}","C"],["\u{1d49f}","D"],["\u{1d4a2}","g"],["\u{1d4a5}","J"],["\u{1d4a6}","K"],["\u{1d4a9}","N"],["\u{1d4aa}","O"],["\u{1d4ab}","P"],["\u{1d4ac}","Q"],["\u{1d4ae}","S"],["\u{1d4af}","T"],["\u{1d4b0}","U"],["\u{1d4b1}","V"],["\u{1d4b2}","W"],["\u{1d4b3}","X"],["\u{1d4b4}","Y"],["\u{1d4b5}","Z"],["\u{1d4b6}","a"],["\u{1d4b7}","b"],["\u{1d4b8}","c"],["\u{1d4b9}","d"],["\u{1d4bb}","f"],["\u{1d4bd}","h"],["\u{1d4be}","i"],["\u{1d4bf}","j"],["\u{1d4c0}","h"],["\u{1d4c1}","l"],["\u{1d4c2}","m"],["\u{1d4c3}","n"],["\u{1d4c5}","p"],["\u{1d4c6}","q"],["\u{1d4c7}","r"],["\u{1d4c8}","s"],["\u{1d4c9}","t"],["\u{1d4ca}","u"],["\u{1d4cb}","v"],["\u{1d4cc}","w"],["\u{1d4cd}","x"],["\u{1d4ce}","y"],["\u{1d4cf}","z"],["\u{1d4d0}","A"],["\u{1d4d1}","B"],["\u{1d4d2}","C"],["\u{1d4d3}","D"],["\u{1d4d4}","E"],["\u{1d4d5}","F"],["\u{1d4d6}","G"],["\u{1d4d7}","H"],["\u{1d4d8}","I"],["\u{1d4d9}","J"],["\u{1d4da}","K"],["\u{1d4db}","L"],["\u{1d4dc}","M"],["\u{1d4dd}","N"],["\u{1d4de}","O"],["\u{1d4df}","P"],["\u{1d4e0}","Q"],["\u{1d4e1}","R"],["\u{1d4e2}","S"],["\u{1d4e3}","T"],["\u{1d4e4}","U"],["\u{1d4e5}","V"],["\u{1d4e6}","W"],["\u{1d4e7}","X"],["\u{1d4e8}","Y"],["\u{1d4e9}","Z"],["\u{1d4ea}","a"],["\u{1d4eb}","b"],["\u{1d4ec}","c"],["\u{1d4ed}","d"],["\u{1d4ee}","e"],["\u{1d4ef}","f"],["\u{1d4f0}","g"],["\u{1d4f1}","h"],["\u{1d4f2}","i"],["\u{1d4f3}","j"],["\u{1d4f4}","k"],["\u{1d4f5}","l"],["\u{1d4f6}","m"],["\u{1d4f7}","n"],["\u{1d4f8}","o"],["\u{1d4f9}","p"],["\u{1d4fa}","q"],["\u{1d4fb}","r"],["\u{1d4fc}","s"],["\u{1d4fd}","t"],["\u{1d4fe}","u"],["\u{1d4ff}","v"],["\u{1d500}","w"],["\u{1d501}","x"],["\u{1d502}","y"],["\u{1d503}","z"],["\u{1d504}","A"],["\u{1d505}","B"],["\u{1d507}","D"],["\u{1d508}","E"],["\u{1d509}","F"],["\u{1d50a}","G"],["\u{1d50d}","J"],["\u{1d50e}","K"],["\u{1d50f}","L"],["\u{1d510}","M"],["\u{1d511}","N"],["\u{1d512}","O"],["\u{1d513}","P"],["\u{1d514}","Q"],["\u{1d516}","S"],["\u{1d517}","T"],["\u{1d518}","U"],["\u{1d519}","V"],["\u{1d51a}","W"],["\u{1d51b}","X"],["\u{1d51c}","Y"],["\u{1d51e}","a"],["\u{1d51f}","b"],["\u{1d520}","c"],["\u{1d521}","d"],["\u{1d522}","e"],["\u{1d523}","f"],["\u{1d524}","g"],["\u{1d525}","h"],["\u{1d526}","i"],["\u{1d527}","j"],["\u{1d528}","k"],["\u{1d529}","l"],["\u{1d52a}","m"],["\u{1d52b}","n"],["\u{1d52c}","o"],["\u{1d52d}","p"],["\u{1d52e}","q"],["\u{1d52f}","r"],["\u{1d530}","s"],["\u{1d531}","t"],["\u{1d532}","u"],["\u{1d533}","v"],["\u{1d534}","w"],["\u{1d535}","x"],["\u{1d536}","y"],["\u{1d537}","z"],["\u{1d538}","A"],["\u{1d539}","B"],["\u{1d53b}","D"],["\u{1d53c}","E"],["\u{1d53d}","F"],["\u{1d53e}","G"],["\u{1d540}","I"],["\u{1d541}","J"],["\u{1d542}","K"],["\u{1d543}","L"],["\u{1d544}","M"],["\u{1d546}","N"],["\u{1d54a}","S"],["\u{1d54b}","T"],["\u{1d54c}","U"],["\u{1d54d}","V"],["\u{1d54e}","W"],["\u{1d54f}","X"],["\u{1d550}","Y"],["\u{1d552}","a"],["\u{1d553}","b"],["\u{1d554}","c"],["\u{1d555}","d"],["\u{1d556}","e"],["\u{1d557}","f"],["\u{1d558}","g"],["\u{1d559}","h"],["\u{1d55a}","i"],["\u{1d55b}","j"],["\u{1d55c}","k"],["\u{1d55d}","l"],["\u{1d55e}","m"],["\u{1d55f}","n"],["\u{1d560}","o"],["\u{1d561}","p"],["\u{1d562}","q"],["\u{1d563}","r"],["\u{1d564}","s"],["\u{1d565}","t"],["\u{1d566}","u"],["\u{1d567}","v"],["\u{1d568}","w"],["\u{1d569}","x"],["\u{1d56a}","y"],["\u{1d56b}","z"],["\u{1d56c}","A"],["\u{1d56d}","B"],["\u{1d56e}","C"],["\u{1d56f}","D"],["\u{1d570}","E"],["\u{1d571}","F"],["\u{1d572}","G"],["\u{1d573}","H"],["\u{1d574}","I"],["\u{1d575}","J"],["\u{1d576}","K"],["\u{1d577}","L"],["\u{1d578}","M"],["\u{1d579}","N"],["\u{1d57a}","O"],["\u{1d57b}","P"],["\u{1d57c}","Q"],["\u{1d57d}","R"],["\u{1d57e}","S"],["\u{1d57f}","T"],["\u{1d580}","U"],["\u{1d581}","V"],["\u{1d582}","W"],["\u{1d583}","X"],["\u{1d584}","Y"],["\u{1d585}","Z"],["\u{1d586}","a"],["\u{1d587}","b"],["\u{1d588}","c"],["\u{1d589}","d"],["\u{1d58a}","e"],["\u{1d58b}","f"],["\u{1d58c}","g"],["\u{1d58d}","h"],["\u{1d58e}","i"],["\u{1d58f}","j"],["\u{1d590}","k"],["\u{1d591}","l"],["\u{1d592}","m"],["\u{1d593}","n"],["\u{1d594}","o"],["\u{1d595}","p"],["\u{1d596}","q"],["\u{1d597}","r"],["\u{1d598}","s"],["\u{1d599}","t"],["\u{1d59a}","u"],["\u{1d59b}","v"],["\u{1d59c}","w"],["\u{1d59d}","x"],["\u{1d59e}","y"],["\u{1d59f}","z"],["\u{1d5a0}","A"],["\u{1d5a1}","B"],["\u{1d5a2}","C"],["\u{1d5a3}","D"],["\u{1d5a4}","E"],["\u{1d5a5}","F"],["\u{1d5a6}","G"],["\u{1d5a7}","H"],["\u{1d5a8}","I"],["\u{1d5a9}","J"],["\u{1d5aa}","K"],["\u{1d5ab}","L"],["\u{1d5ac}","M"],["\u{1d5ad}","N"],["\u{1d5ae}","O"],["\u{1d5af}","P"],["\u{1d5b0}","Q"],["\u{1d5b1}","R"],["\u{1d5b2}","S"],["\u{1d5b3}","T"],["\u{1d5b4}","U"],["\u{1d5b5}","V"],["\u{1d5b6}","W"],["\u{1d5b7}","X"],["\u{1d5b8}","Y"],["\u{1d5b9}","Z"],["\u{1d5ba}","a"],["\u{1d5bb}","b"],["\u{1d5bc}","c"],["\u{1d5bd}","d"],["\u{1d5be}","e"],["\u{1d5bf}","f"],["\u{1d5c0}","g"],["\u{1d5c1}","h"],["\u{1d5c2}","i"],["\u{1d5c3}","j"],["\u{1d5c4}","k"],["\u{1d5c5}","l"],["\u{1d5c6}","m"],["\u{1d5c7}","n"],["\u{1d5c8}","o"],["\u{1d5c9}","p"],["\u{1d5ca}","q"],["\u{1d5cb}","r"],["\u{1d5cc}","s"],["\u{1d5cd}","t"],["\u{1d5ce}","u"],["\u{1d5cf}","v"],["\u{1d5d0}","w"],["\u{1d5d1}","x"],["\u{1d5d2}","y"],["\u{1d5d3}","z"],["\u{1d5d4}","A"],["\u{1d5d5}","B"],["\u{1d5d6}","C"],["\u{1d5d7}","D"],["\u{1d5d8}","E"],["\u{1d5d9}","F"],["\u{1d5da}","G"],["\u{1d5db}","H"],["\u{1d5dc}","I"],["\u{1d5dd}","J"],["\u{1d5de}","K"],["\u{1d5df}","L"],["\u{1d5e0}","M"],["\u{1d5e1}","N"],["\u{1d5e2}","O"],["\u{1d5e3}","P"],["\u{1d5e4}","Q"],["\u{1d5e5}","R"],["\u{1d5e6}","S"],["\u{1d5e7}","T"],["\u{1d5e8}","U"],["\u{1d5e9}","V"],["\u{1d5ea}","W"],["\u{1d5eb}","X"],["\u{1d5ec}","Y"],["\u{1d5ed}","Z"],["\u{1d5ee}","a"],["\u{1d5ef}","b"],["\u{1d5f0}","c"],["\u{1d5f1}","d"],["\u{1d5f2}","e"],["\u{1d5f3}","f"],["\u{1d5f4}","g"],["\u{1d5f5}","h"],["\u{1d5f6}","i"],["\u{1d5f7}","j"],["\u{1d5f8}","k"],["\u{1d5f9}","l"],["\u{1d5fa}","m"],["\u{1d5fb}","n"],["\u{1d5fc}","o"],["\u{1d5fd}","p"],["\u{1d5fe}","q"],["\u{1d5ff}","r"],["\u{1d600}","s"],["\u{1d601}","t"],["\u{1d602}","u"],["\u{1d603}","v"],["\u{1d604}","w"],["\u{1d605}","x"],["\u{1d606}","y"],["\u{1d607}","z"],["\u{1d608}","A"],["\u{1d609}","B"],["\u{1d60a}","C"],["\u{1d60b}","D"],["\u{1d60c}","E"],["\u{1d60d}","F"],["\u{1d60e}","G"],["\u{1d60f}","H"],["\u{1d610}","I"],["\u{1d611}","J"],["\u{1d612}","K"],["\u{1d613}","L"],["\u{1d614}","M"],["\u{1d615}","N"],["\u{1d616}","O"],["\u{1d617}","P"],["\u{1d618}","Q"],["\u{1d619}","R"],["\u{1d61a}","S"],["\u{1d61b}","T"],["\u{1d61c}","U"],["\u{1d61d}","V"],["\u{1d61e}","W"],["\u{1d61f}","X"],["\u{1d620}","Y"],["\u{1d621}","Z"],["\u{1d622}","a"],["\u{1d623}","b"],["\u{1d624}","c"],["\u{1d625}","d"],["\u{1d626}","e"],["\u{1d627}","f"],["\u{1d628}","g"],["\u{1d629}","h"],["\u{1d62a}","i"],["\u{1d62b}","j"],["\u{1d62c}","k"],["\u{1d62d}","l"],["\u{1d62e}","m"],["\u{1d62f}","n"],["\u{1d630}","o"],["\u{1d631}","p"],["\u{1d632}","q"],["\u{1d633}","r"],["\u{1d634}","s"],["\u{1d635}","t"],["\u{1d636}","u"],["\u{1d637}","v"],["\u{1d638}","w"],["\u{1d639}","x"],["\u{1d63a}","y"],["\u{1d63b}","z"],["\u{1d63c}","A"],["\u{1d63d}","B"],["\u{1d63e}","C"],["\u{1d63f}","D"],["\u{1d640}","E"],["\u{1d641}","F"],["\u{1d642}","G"],["\u{1d643}","H"],["\u{1d644}","I"],["\u{1d645}","J"],["\u{1d646}","K"],["\u{1d647}","L"],["\u{1d648}","M"],["\u{1d649}","N"],["\u{1d64a}","O"],["\u{1d64b}","P"],["\u{1d64c}","Q"],["\u{1d64d}","R"],["\u{1d64e}","S"],["\u{1d64f}","T"],["\u{1d650}","U"],["\u{1d651}","V"],["\u{1d652}","W"],["\u{1d653}","X"],["\u{1d654}","Y"],["\u{1d655}","Z"],["\u{1d656}","a"],["\u{1d657}","b"],["\u{1d658}","c"],["\u{1d659}","d"],["\u{1d65a}","e"],["\u{1d65b}","f"],["\u{1d65c}","g"],["\u{1d65d}","h"],["\u{1d65e}","i"],["\u{1d65f}","j"],["\u{1d660}","k"],["\u{1d661}","l"],["\u{1d662}","m"],["\u{1d663}","n"],["\u{1d664}","o"],["\u{1d665}","p"],["\u{1d666}","q"],["\u{1d667}","r"],["\u{1d668}","s"],["\u{1d669}","t"],["\u{1d66a}","u"],["\u{1d66b}","v"],["\u{1d66c}","w"],["\u{1d66d}","x"],["\u{1d66e}","y"],["\u{1d66f}","z"],["\u{1d670}","A"],["\u{1d671}","B"],["\u{1d672}","C"],["\u{1d673}","D"],["\u{1d674}","E"],["\u{1d675}","F"],["\u{1d676}","G"],["\u{1d677}","H"],["\u{1d678}","I"],["\u{1d679}","J"],["\u{1d67a}","K"],["\u{1d67b}","L"],["\u{1d67c}","M"],["\u{1d67d}","N"],["\u{1d67e}","O"],["\u{1d67f}","P"],["\u{1d680}","Q"],["\u{1d681}","R"],["\u{1d682}","S"],["\u{1d683}","T"],["\u{1d684}","U"],["\u{1d685}","V"],["\u{1d686}","W"],["\u{1d687}","X"],["\u{1d688}","Y"],["\u{1d689}","Z"],["\u{1d68a}","a"],["\u{1d68b}","b"],["\u{1d68c}","c"],["\u{1d68d}","d"],["\u{1d68e}","e"],["\u{1d68f}","f"],["\u{1d690}","g"],["\u{1d691}","h"],["\u{1d692}","i"],["\u{1d693}","j"],["\u{1d694}","k"],["\u{1d695}","l"],["\u{1d696}","m"],["\u{1d697}","n"],["\u{1d698}","o"],["\u{1d699}","p"],["\u{1d69a}","q"],["\u{1d69b}","r"],["\u{1d69c}","s"],["\u{1d69d}","t"],["\u{1d69e}","u"],["\u{1d69f}","v"],["\u{1d6a0}","w"],["\u{1d6a1}","x"],["\u{1d6a2}","y"],["\u{1d6a3}","z"],["\u{1d6a4}","l"],["\u{1d6a5}","j"],["\u{1d6e2}","A"],["\u{1d6e3}","B"],["\u{1d6e4}","G"],["\u{1d6e5}","D"],["\u{1d6e6}","E"],["\u{1d6e7}","Z"],["\u{1d6e8}","I"],["\u{1d6e9}","TH"],["\u{1d6ea}","I"],["\u{1d6eb}","K"],["\u{1d6ec}","L"],["\u{1d6ed}","M"],["\u{1d6ee}","N"],["\u{1d6ef}","KS"],["\u{1d6f0}","O"],["\u{1d6f1}","P"],["\u{1d6f2}","R"],["\u{1d6f3}","TH"],["\u{1d6f4}","S"],["\u{1d6f5}","T"],["\u{1d6f6}","Y"],["\u{1d6f7}","F"],["\u{1d6f8}","x"],["\u{1d6f9}","PS"],["\u{1d6fa}","O"],["\u{1d6fb}","D"],["\u{1d6fc}","a"],["\u{1d6fd}","b"],["\u{1d6fe}","g"],["\u{1d6ff}","d"],["\u{1d700}","e"],["\u{1d701}","z"],["\u{1d702}","i"],["\u{1d703}","th"],["\u{1d704}","i"],["\u{1d705}","k"],["\u{1d706}","l"],["\u{1d707}","m"],["\u{1d708}","n"],["\u{1d709}","ks"],["\u{1d70a}","o"],["\u{1d70b}","p"],["\u{1d70c}","r"],["\u{1d70d}","s"],["\u{1d70e}","s"],["\u{1d70f}","t"],["\u{1d710}","y"],["\u{1d711}","f"],["\u{1d712}","x"],["\u{1d713}","ps"],["\u{1d714}","o"],["\u{1d715}","d"],["\u{1d716}","E"],["\u{1d717}","TH"],["\u{1d718}","K"],["\u{1d719}","f"],["\u{1d71a}","r"],["\u{1d71b}","p"],["\u{1d71c}","A"],["\u{1d71d}","V"],["\u{1d71e}","G"],["\u{1d71f}","D"],["\u{1d720}","E"],["\u{1d721}","Z"],["\u{1d722}","I"],["\u{1d723}","TH"],["\u{1d724}","I"],["\u{1d725}","K"],["\u{1d726}","L"],["\u{1d727}","M"],["\u{1d728}","N"],["\u{1d729}","KS"],["\u{1d72a}","O"],["\u{1d72b}","P"],["\u{1d72c}","S"],["\u{1d72d}","TH"],["\u{1d72e}","S"],["\u{1d72f}","T"],["\u{1d730}","Y"],["\u{1d731}","F"],["\u{1d732}","X"],["\u{1d733}","PS"],["\u{1d734}","O"],["\u{1d735}","D"],["\u{1d736}","a"],["\u{1d737}","v"],["\u{1d738}","g"],["\u{1d739}","d"],["\u{1d73a}","e"],["\u{1d73b}","z"],["\u{1d73c}","i"],["\u{1d73d}","th"],["\u{1d73e}","i"],["\u{1d73f}","k"],["\u{1d740}","l"],["\u{1d741}","m"],["\u{1d742}","n"],["\u{1d743}","ks"],["\u{1d744}","o"],["\u{1d745}","p"],["\u{1d746}","r"],["\u{1d747}","s"],["\u{1d748}","s"],["\u{1d749}","t"],["\u{1d74a}","y"],["\u{1d74b}","f"],["\u{1d74c}","x"],["\u{1d74d}","ps"],["\u{1d74e}","o"],["\u{1d74f}","a"],["\u{1d750}","e"],["\u{1d751}","i"],["\u{1d752}","k"],["\u{1d753}","f"],["\u{1d754}","r"],["\u{1d755}","p"],["\u{1d756}","A"],["\u{1d757}","B"],["\u{1d758}","G"],["\u{1d759}","D"],["\u{1d75a}","E"],["\u{1d75b}","Z"],["\u{1d75c}","I"],["\u{1d75d}","TH"],["\u{1d75e}","I"],["\u{1d75f}","K"],["\u{1d760}","L"],["\u{1d761}","M"],["\u{1d762}","N"],["\u{1d763}","KS"],["\u{1d764}","O"],["\u{1d765}","P"],["\u{1d766}","R"],["\u{1d767}","TH"],["\u{1d768}","S"],["\u{1d769}","T"],["\u{1d76a}","Y"],["\u{1d76b}","F"],["\u{1d76c}","X"],["\u{1d76d}","PS"],["\u{1d76e}","O"],["\u{1d76f}","D"],["\u{1d770}","a"],["\u{1d771}","v"],["\u{1d772}","g"],["\u{1d773}","d"],["\u{1d774}","e"],["\u{1d775}","z"],["\u{1d776}","i"],["\u{1d777}","th"],["\u{1d778}","i"],["\u{1d779}","k"],["\u{1d77a}","l"],["\u{1d77b}","m"],["\u{1d77c}","n"],["\u{1d77d}","ks"],["\u{1d77e}","o"],["\u{1d77f}","p"],["\u{1d780}","r"],["\u{1d781}","s"],["\u{1d782}","s"],["\u{1d783}","t"],["\u{1d784}","y"],["\u{1d785}","f"],["\u{1d786}","x"],["\u{1d787}","ps"],["\u{1d788}","o"],["\u{1d789}","a"],["\u{1d78a}","e"],["\u{1d78b}","i"],["\u{1d78c}","k"],["\u{1d78d}","f"],["\u{1d78e}","r"],["\u{1d78f}","p"],["\u{1d790}","A"],["\u{1d791}","V"],["\u{1d792}","G"],["\u{1d793}","D"],["\u{1d794}","E"],["\u{1d795}","Z"],["\u{1d796}","I"],["\u{1d797}","TH"],["\u{1d798}","I"],["\u{1d799}","K"],["\u{1d79a}","L"],["\u{1d79b}","M"],["\u{1d79c}","N"],["\u{1d79d}","KS"],["\u{1d79e}","O"],["\u{1d79f}","P"],["\u{1d7a0}","S"],["\u{1d7a1}","TH"],["\u{1d7a2}","S"],["\u{1d7a3}","T"],["\u{1d7a4}","Y"],["\u{1d7a5}","F"],["\u{1d7a6}","X"],["\u{1d7a7}","PS"],["\u{1d7a8}","O"],["\u{1d7a9}","D"],["\u{1d7aa}","av"],["\u{1d7ab}","g"],["\u{1d7ac}","d"],["\u{1d7ad}","e"],["\u{1d7ae}","z"],["\u{1d7af}","i"],["\u{1d7b0}","i"],["\u{1d7b1}","th"],["\u{1d7b2}","i"],["\u{1d7b3}","k"],["\u{1d7b4}","l"],["\u{1d7b5}","m"],["\u{1d7b6}","n"],["\u{1d7b7}","ks"],["\u{1d7b8}","o"],["\u{1d7b9}","p"],["\u{1d7ba}","r"],["\u{1d7bb}","s"],["\u{1d7bc}","s"],["\u{1d7bd}","t"],["\u{1d7be}","y"],["\u{1d7bf}","f"],["\u{1d7c0}","x"],["\u{1d7c1}","ps"],["\u{1d7c2}","o"],["\u{1d7c3}","a"],["\u{1d7c4}","e"],["\u{1d7c5}","i"],["\u{1d7c6}","k"],["\u{1d7c7}","f"],["\u{1d7c8}","r"],["\u{1d7c9}","p"],["\u{1d7ca}","F"],["\u{1d7cb}","f"],["\u249c","(a)"],["\u249d","(b)"],["\u249e","(c)"],["\u249f","(d)"],["\u24a0","(e)"],["\u24a1","(f)"],["\u24a2","(g)"],["\u24a3","(h)"],["\u24a4","(i)"],["\u24a5","(j)"],["\u24a6","(k)"],["\u24a7","(l)"],["\u24a8","(m)"],["\u24a9","(n)"],["\u24aa","(o)"],["\u24ab","(p)"],["\u24ac","(q)"],["\u24ad","(r)"],["\u24ae","(s)"],["\u24af","(t)"],["\u24b0","(u)"],["\u24b1","(v)"],["\u24b2","(w)"],["\u24b3","(x)"],["\u24b4","(y)"],["\u24b5","(z)"],["\u24b6","(A)"],["\u24b7","(B)"],["\u24b8","(C)"],["\u24b9","(D)"],["\u24ba","(E)"],["\u24bb","(F)"],["\u24bc","(G)"],["\u24bd","(H)"],["\u24be","(I)"],["\u24bf","(J)"],["\u24c0","(K)"],["\u24c1","(L)"],["\u24c3","(N)"],["\u24c4","(O)"],["\u24c5","(P)"],["\u24c6","(Q)"],["\u24c7","(R)"],["\u24c8","(S)"],["\u24c9","(T)"],["\u24ca","(U)"],["\u24cb","(V)"],["\u24cc","(W)"],["\u24cd","(X)"],["\u24ce","(Y)"],["\u24cf","(Z)"],["\u24d0","(a)"],["\u24d1","(b)"],["\u24d2","(b)"],["\u24d3","(c)"],["\u24d4","(e)"],["\u24d5","(f)"],["\u24d6","(g)"],["\u24d7","(h)"],["\u24d8","(i)"],["\u24d9","(j)"],["\u24da","(k)"],["\u24db","(l)"],["\u24dc","(m)"],["\u24dd","(n)"],["\u24de","(o)"],["\u24df","(p)"],["\u24e0","(q)"],["\u24e1","(r)"],["\u24e2","(s)"],["\u24e3","(t)"],["\u24e4","(u)"],["\u24e5","(v)"],["\u24e6","(w)"],["\u24e7","(x)"],["\u24e8","(y)"],["\u24e9","(z)"],["\u010a","C"],["\u010b","c"],["\u0120","G"],["\u0121","g"],["\u0126","H"],["\u0127","h"],["\u017b","Z"],["\u017c","z"],["\u{1d7ce}","0"],["\u{1d7cf}","1"],["\u{1d7d0}","2"],["\u{1d7d1}","3"],["\u{1d7d2}","4"],["\u{1d7d3}","5"],["\u{1d7d4}","6"],["\u{1d7d5}","7"],["\u{1d7d6}","8"],["\u{1d7d7}","9"],["\u{1d7d8}","0"],["\u{1d7d9}","1"],["\u{1d7da}","2"],["\u{1d7db}","3"],["\u{1d7dc}","4"],["\u{1d7dd}","5"],["\u{1d7de}","6"],["\u{1d7df}","7"],["\u{1d7e0}","8"],["\u{1d7e1}","9"],["\u{1d7e2}","0"],["\u{1d7e3}","1"],["\u{1d7e4}","2"],["\u{1d7e5}","3"],["\u{1d7e6}","4"],["\u{1d7e7}","5"],["\u{1d7e8}","6"],["\u{1d7e9}","7"],["\u{1d7ea}","8"],["\u{1d7eb}","9"],["\u{1d7ec}","0"],["\u{1d7ed}","1"],["\u{1d7ee}","2"],["\u{1d7ef}","3"],["\u{1d7f0}","4"],["\u{1d7f1}","5"],["\u{1d7f2}","6"],["\u{1d7f3}","7"],["\u{1d7f4}","8"],["\u{1d7f5}","9"],["\u{1d7f6}","0"],["\u{1d7f7}","1"],["\u{1d7f8}","2"],["\u{1d7f9}","3"],["\u{1d7fa}","4"],["\u{1d7fb}","5"],["\u{1d7fc}","6"],["\u{1d7fd}","7"],["\u{1d7fe}","8"],["\u{1d7ff}","9"],["\u2460","1"],["\u2461","2"],["\u2462","3"],["\u2463","4"],["\u2464","5"],["\u2465","6"],["\u2466","7"],["\u2467","8"],["\u2468","9"],["\u2469","10"],["\u246a","11"],["\u246b","12"],["\u246c","13"],["\u246d","14"],["\u246e","15"],["\u246f","16"],["\u2470","17"],["\u2471","18"],["\u2472","19"],["\u2473","20"],["\u2474","1"],["\u2475","2"],["\u2476","3"],["\u2477","4"],["\u2478","5"],["\u2479","6"],["\u247a","7"],["\u247b","8"],["\u247c","9"],["\u247d","10"],["\u247e","11"],["\u247f","12"],["\u2480","13"],["\u2481","14"],["\u2482","15"],["\u2483","16"],["\u2484","17"],["\u2485","18"],["\u2486","19"],["\u2487","20"],["\u2488","1."],["\u2489","2."],["\u248a","3."],["\u248b","4."],["\u248c","5."],["\u248d","6."],["\u248e","7."],["\u248f","8."],["\u2490","9."],["\u2491","10."],["\u2492","11."],["\u2493","12."],["\u2494","13."],["\u2495","14."],["\u2496","15."],["\u2497","16."],["\u2498","17."],["\u2499","18."],["\u249a","19."],["\u249b","20."],["\u24ea","0"],["\u24eb","11"],["\u24ec","12"],["\u24ed","13"],["\u24ee","14"],["\u24ef","15"],["\u24f0","16"],["\u24f1","17"],["\u24f2","18"],["\u24f3","19"],["\u24f4","20"],["\u24f5","1"],["\u24f6","2"],["\u24f7","3"],["\u24f8","4"],["\u24f9","5"],["\u24fa","6"],["\u24fb","7"],["\u24fc","8"],["\u24fd","9"],["\u24fe","10"],["\u24ff","0"],["\u{1f670}","&"],["\u{1f671}","&"],["\u{1f672}","&"],["\u{1f673}","&"],["\u{1f674}","&"],["\u{1f675}","&"],["\u{1f676}",'"'],["\u{1f677}",'"'],["\u{1f678}",'"'],["\u203d","?!"],["\u{1f679}","?!"],["\u{1f67a}","?!"],["\u{1f67b}","?!"],["\u{1f67c}","/"],["\u{1f67d}","\\"],["\u{1f707}","AR"],["\u{1f708}","V"],["\u{1f709}","V"],["\u{1f706}","VR"],["\u{1f705}","VF"],["\u{1f729}","2"],["\u{1f72a}","5"],["\u{1f761}","f"],["\u{1f762}","W"],["\u{1f763}","U"],["\u{1f767}","V"],["\u{1f768}","T"],["\u{1f76a}","V"],["\u{1f76b}","MB"],["\u{1f76c}","VB"],["\u{1f772}","3B"],["\u{1f773}","3B"],["\u{1f4af}","100"],["\u{1f519}","BACK"],["\u{1f51a}","END"],["\u{1f51b}","ON!"],["\u{1f51c}","SOON"],["\u{1f51d}","TOP"],["\u{1f51e}","18"],["\u{1f524}","abc"],["\u{1f520}","ABCD"],["\u{1f521}","abcd"],["\u{1f522}","1234"],["\u{1f523}","T&@%"],["#\ufe0f\u20e3","#"],["*\ufe0f\u20e3","*"],["0\ufe0f\u20e3","0"],["1\ufe0f\u20e3","1"],["2\ufe0f\u20e3","2"],["3\ufe0f\u20e3","3"],["4\ufe0f\u20e3","4"],["5\ufe0f\u20e3","5"],["6\ufe0f\u20e3","6"],["7\ufe0f\u20e3","7"],["8\ufe0f\u20e3","8"],["9\ufe0f\u20e3","9"],["\u{1f51f}","10"],["\u{1f170}\ufe0f","A"],["\u{1f171}\ufe0f","B"],["\u{1f18e}","AB"],["\u{1f191}","CL"],["\u{1f17e}\ufe0f","O"],["\u{1f17f}","P"],["\u{1f198}","SOS"],["\u{1f172}","C"],["\u{1f173}","D"],["\u{1f174}","E"],["\u{1f175}","F"],["\u{1f176}","G"],["\u{1f177}","H"],["\u{1f178}","I"],["\u{1f179}","J"],["\u{1f17a}","K"],["\u{1f17b}","L"],["\u{1f17c}","M"],["\u{1f17d}","N"],["\u{1f180}","Q"],["\u{1f181}","R"],["\u{1f182}","S"],["\u{1f183}","T"],["\u{1f184}","U"],["\u{1f185}","V"],["\u{1f186}","W"],["\u{1f187}","X"],["\u{1f188}","Y"],["\u{1f189}","Z"]],eg=["list"],Jd=["defaultItemTemplate"];function Ul(o,l){if(1&o&&t._uU(0),2&o){const e=l.item,r=t.oxw();t.hij(" ",e[r.labelKey]," ")}}function Kc(o,l){}const Kd=function(o){return{item:o}};function Qd(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"a",4),t.NdJ("mousedown",function(a){const h=t.CHM(e).index,p=t.oxw();return p.activeIndex=h,p.itemClick.emit(),t.KtG(a.preventDefault())}),t.YNc(2,Kc,0,0,"ng-template",5),t.qZA()()}if(2&o){const e=l.$implicit,r=l.index,a=t.oxw();t.ekj("active",a.activeIndex==r)("mention-active",!a.styleOff&&a.activeIndex==r),t.xp6(1),t.ekj("mention-item",!a.styleOff),t.xp6(1),t.Q6J("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",t.VKq(8,Kd,e))}}function Qc(o){return rl(o)?o.value:o.textContent}function Xc(o,l,e,r,a,d=!1){if(function tg(o){return null!=o&&("INPUT"==o.nodeName||"TEXTAREA"==o.nodeName||"#text"==o.nodeName)}(o)){let b=Qc(o);(function Xd(o,l){rl(o)?o.value=l:o.textContent=l})(o,b.substring(0,l)+r+b.substring(e,b.length)),eh(o,l+r.length,a)}else if(!d){let b=Ks(a);if(b&&b.rangeCount>0){var p=b.getRangeAt(0).startOffset;Xc(b.anchorNode,p-(e-l),p,r,a,!0)}}}function rl(o){return null!=o&&("INPUT"==o.nodeName||"TEXTAREA"==o.nodeName)}function eh(o,l,e=null){if(rl(o)&&o.selectionStart)o.focus(),o.setSelectionRange(l,l);else{let r=fs(e).createRange();r.setStart(o,l),r.collapse(!0);let a=Ks(e);a.removeAllRanges(),a.addRange(r)}}function th(o,l=null){if(rl(o))return o.value.slice(0,o.selectionStart).length;var r=Ks(l);if(r.rangeCount>0){var a=r.getRangeAt(0),d=a.cloneRange();return d.selectNodeContents(o),d.setEnd(a.endContainer,a.endOffset),d.toString().length}}function fs(o){return o?o.contentWindow.document:document}function Ks(o){return o?o.contentWindow.getSelection():window.getSelection()}function nh(o){let e="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),r=fs(o?o.iframe:null),a=Ks(o?o.iframe:null),d=a.getRangeAt(0),h=r.createRange();h.setStart(a.anchorNode,d.startOffset),h.setEnd(a.anchorNode,d.startOffset),h.collapse(!1);let p=r.createElement("span");p.id=e,p.appendChild(r.createTextNode("\ufeff")),h.insertNode(p),a.removeAllRanges(),a.addRange(d);let _={left:0,top:p.offsetHeight};return function Sv(o,l,e){let r=l,a=o?o.iframe:null;for(;r&&(null==o.parent||o.parent!=r);)e.left+=r.offsetLeft+r.clientLeft,e.top+=r.offsetTop+r.clientTop,r=r.offsetParent,!r&&a&&(r=a,a=null);for(r=l,a=o?o.iframe:null;r!==fs(null).body&&null!=r&&(null==o.parent||o.parent!=r);)r.scrollTop&&r.scrollTop>0&&(e.top-=r.scrollTop),r.scrollLeft&&r.scrollLeft>0&&(e.left-=r.scrollLeft),r=r.parentNode,!r&&a&&(r=a,a=null)}(o,p,_),p.parentNode.removeChild(p),_}var Mv=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],ng=typeof window<"u",xv=ng&&null!=window.mozInnerScreenX;let ih=(()=>{class o{constructor(e){this.element=e,this.labelKey="label",this.itemClick=new t.vpe,this.items=[],this.activeIndex=0,this.hidden=!1,this.dropUp=!1,this.styleOff=!1,this.coords={top:0,left:0},this.offset=0}ngAfterContentChecked(){this.itemTemplate||(this.itemTemplate=this.defaultItemTemplate)}position(e,r=null){if(rl(e))this.coords=function Iv(o,l,e){if(!ng)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var r=e&&e.debug||!1;if(r){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var d=document.createElement("div");d.id="input-textarea-caret-position-mirror-div",document.body.appendChild(d);var h=d.style,p=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,_="INPUT"===o.nodeName;h.whiteSpace="pre-wrap",_||(h.wordWrap="break-word"),h.position="absolute",r||(h.visibility="hidden"),Mv.forEach(function(Z){if(_&&"lineHeight"===Z)if("border-box"===p.boxSizing){var X=parseInt(p.height),se=parseInt(p.paddingTop)+parseInt(p.paddingBottom)+parseInt(p.borderTopWidth)+parseInt(p.borderBottomWidth),ne=se+parseInt(p.lineHeight);h.lineHeight=X>ne?X-se+"px":X===ne?p.lineHeight:"0"}else h.lineHeight=p.height;else h[Z]=p[Z]}),xv?o.scrollHeight>parseInt(p.height)&&(h.overflowY="scroll"):h.overflow="hidden",d.textContent=o.value.substring(0,l),_&&(d.textContent=d.textContent.replace(/\s/g,"\xa0"));var b=document.createElement("span");b.textContent=o.value.substring(l)||".",d.appendChild(b);var O={top:b.offsetTop+parseInt(p.borderTopWidth),left:b.offsetLeft+parseInt(p.borderLeftWidth),height:parseInt(p.lineHeight)};return r?b.style.backgroundColor="#aaa":document.body.removeChild(d),O}(e,e.selectionStart,null),this.coords.top=e.offsetTop+this.coords.top-e.scrollTop,this.coords.left=e.offsetLeft+this.coords.left-e.scrollLeft,this.offset=this.getBlockCursorDimensions(e).height;else if(r)this.coords=nh({iframe:r,parent:r.offsetParent});else{let a=document.documentElement,d=(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),h=(window.pageYOffset||a.scrollTop)-(a.clientTop||0),p=nh({iframe:r}),_=e.getBoundingClientRect();this.coords.top=p.top-_.top+e.offsetTop-h,this.coords.left=p.left-_.left+e.offsetLeft-d}this.positionElement()}get activeItem(){return this.items[this.activeIndex]}activateNextItem(){let e=this.list.nativeElement,r=e.getElementsByClassName("active").item(0);if(r){let a=r.nextSibling;if(a&&"LI"==a.nodeName){let d=a.getBoundingClientRect();d.bottom>e.getBoundingClientRect().bottom&&(e.scrollTop=a.offsetTop+d.height-e.clientHeight)}}this.activeIndex=Math.max(Math.min(this.activeIndex+1,this.items.length-1),0)}activatePreviousItem(){let e=this.list.nativeElement,r=e.getElementsByClassName("active").item(0);if(r){let a=r.previousSibling;a&&"LI"==a.nodeName&&a.getBoundingClientRect().top<e.getBoundingClientRect().top&&(e.scrollTop=a.offsetTop)}this.activeIndex=Math.max(Math.min(this.activeIndex-1,this.items.length-1),0)}reset(){this.list.nativeElement.scrollTop=0,this.checkBounds()}checkBounds(){let e=this.coords.left,r=this.coords.top,a=this.dropUp;const d=this.list.nativeElement.getBoundingClientRect();d.left+d.width>window.innerWidth&&(e-=d.left+d.width-window.innerWidth+10),d.top<0&&(a=!1),this.positionElement(e,r,a)}positionElement(e=this.coords.left,r=this.coords.top,a=this.dropUp){const d=this.element.nativeElement;r+=a?0:this.offset,d.className=a?"dropup":null,d.style.position="absolute",d.style.left=e+"px",d.style.top=r+"px"}getBlockCursorDimensions(e){const r=window.getComputedStyle(e);return{height:parseFloat(r.lineHeight),width:parseFloat(r.fontSize)}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mention-list"]],viewQuery:function(e,r){if(1&e&&(t.Gf(eg,7),t.Gf(Jd,7)),2&e){let a;t.iGM(a=t.CRH())&&(r.list=a.first),t.iGM(a=t.CRH())&&(r.defaultItemTemplate=a.first)}},inputs:{labelKey:"labelKey",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},decls:5,vars:6,consts:[["defaultItemTemplate",""],[1,"dropdown-menu","scrollable-menu",3,"hidden"],["list",""],[3,"active","mention-active",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"mousedown"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,r){1&e&&(t.YNc(0,Ul,1,1,"ng-template",null,0,t.W1O),t.TgZ(2,"ul",1,2),t.YNc(4,Qd,3,10,"li",3),t.qZA()),2&e&&(t.xp6(2),t.ekj("mention-menu",!r.styleOff)("mention-dropdown",!r.styleOff&&r.dropUp),t.Q6J("hidden",r.hidden),t.xp6(2),t.Q6J("ngForOf",r.items))},dependencies:[y.sg,y.tP],styles:[".mention-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:11em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25em}.mention-item[_ngcontent-%COMP%]{display:block;padding:.2em 1.5em;line-height:1.5em;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.mention-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.scrollable-menu[_ngcontent-%COMP%]{display:block;height:auto;max-height:292px;overflow:auto}[hidden][_ngcontent-%COMP%]{display:none}.mention-dropdown[_ngcontent-%COMP%]{bottom:100%;top:auto;margin-bottom:2px}"]}),o})(),Av=(()=>{class o{constructor(e,r,a){this._element=e,this._componentResolver=r,this._viewContainerRef=a,this.mentionConfig={items:[]},this.DEFAULT_CONFIG={items:[],triggerChar:"@",labelKey:"label",maxItems:-1,allowSpace:!1,returnTrigger:!1,mentionSelect:(d,h)=>this.activeConfig.triggerChar+d[this.activeConfig.labelKey],mentionFilter:(d,h)=>{const p=d.toLowerCase();return h.filter(_=>_[this.activeConfig.labelKey].toLowerCase().startsWith(p))}},this.searchTerm=new t.vpe,this.itemSelected=new t.vpe,this.opened=new t.vpe,this.closed=new t.vpe,this.triggerChars={}}set mention(e){this.mentionItems=e}ngOnChanges(e){(e.mention||e.mentionConfig)&&this.updateConfig()}updateConfig(){let e=this.mentionConfig;this.triggerChars={},this.mentionItems&&(e.items=this.mentionItems),this.addConfig(e),e.mentions&&e.mentions.forEach(r=>this.addConfig(r))}addConfig(e){let r=Object.assign({},this.DEFAULT_CONFIG),a=(e=Object.assign(r,e)).items;a&&a.length>0&&("string"==typeof a[0]&&(a=a.map(d=>{let h={};return h[e.labelKey]=d,h})),e.labelKey&&(a=a.filter(d=>d[e.labelKey]),e.disableSort||a.sort((d,h)=>d[e.labelKey].localeCompare(h[e.labelKey])))),e.items=a,this.triggerChars[e.triggerChar]=e,this.activeConfig&&this.activeConfig.triggerChar==e.triggerChar&&(this.activeConfig=e,this.updateSearchList())}setIframe(e){this.iframe=e}stopEvent(e){e.wasClick||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}blurHandler(e){this.stopEvent(e),this.stopSearch()}inputHandler(e,r=this._element.nativeElement){if(229===this.lastKeyCode&&e.data){let a=e.data.charCodeAt(0);this.keyHandler({keyCode:a,inputEvent:!0},r)}}keyHandler(e,r=this._element.nativeElement){if(this.lastKeyCode=e.keyCode,e.isComposing||229===e.keyCode)return;let a=Qc(r),d=th(r,this.iframe),h=e.key;if(!h){let _=e.which||e.keyCode;h=String.fromCharCode(!e.shiftKey&&_>=65&&_<=90?_+32:e.which||e.keyCode)}13==e.keyCode&&e.wasClick&&d<this.startPos&&(d=this.startNode.length,eh(this.startNode,d,this.iframe));let p=this.triggerChars[h];if(p)this.activeConfig=p,this.startPos=e.inputEvent?d-1:d,this.startNode=(this.iframe?this.iframe.contentWindow.getSelection():window.getSelection()).anchorNode,this.searching=!0,this.searchString=null,this.showSearchList(r),this.updateSearchList(),p.returnTrigger&&this.searchTerm.emit(p.triggerChar);else if(this.startPos>=0&&this.searching)if(d<=this.startPos)this.searchList.hidden=!0;else if(16!==e.keyCode&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&d>this.startPos){if(this.activeConfig.allowSpace||32!==e.keyCode){if(8===e.keyCode&&d>0)d--,d==this.startPos&&this.stopSearch();else if(this.searchList.hidden){if(9===e.keyCode||13===e.keyCode)return void this.stopSearch()}else if(!this.searchList.hidden){if(9===e.keyCode||13===e.keyCode){this.stopEvent(e),this.itemSelected.emit(this.searchList.activeItem);const _=this.activeConfig.mentionSelect(this.searchList.activeItem,this.activeConfig.triggerChar);if(Xc(r,this.startPos,d,_,this.iframe),"createEvent"in document){let b=document.createEvent("HTMLEvents");b.initEvent(this.iframe?"change":"input",!0,!1),this._element.nativeElement.dispatchEvent(b)}return this.startPos=-1,this.stopSearch(),!1}if(27===e.keyCode)return this.stopEvent(e),this.stopSearch(),!1;if(40===e.keyCode)return this.stopEvent(e),this.searchList.activateNextItem(),!1;if(38===e.keyCode)return this.stopEvent(e),this.searchList.activatePreviousItem(),!1}}else this.startPos=-1;if(1!=h.length&&8!=e.keyCode)return this.stopEvent(e),!1;if(this.searching){let _=a.substring(this.startPos+1,d);if(8!==e.keyCode&&!e.inputEvent&&(_+=h),this.searchString=_,this.activeConfig.returnTrigger){const b=this.searchString||8===e.keyCode?a.substring(this.startPos,this.startPos+1):"";this.searchTerm.emit(b+this.searchString)}else this.searchTerm.emit(this.searchString);this.updateSearchList()}}}startSearch(e,r=this._element.nativeElement){e=e||this.mentionConfig.triggerChar||this.DEFAULT_CONFIG.triggerChar;const a=th(r,this.iframe);Xc(r,a,a,e,this.iframe),this.keyHandler({key:e,inputEvent:!0},r)}stopSearch(){this.searchList&&!this.searchList.hidden&&(this.searchList.hidden=!0,this.closed.emit()),this.activeConfig=null,this.searching=!1}updateSearchList(){let e=[];if(this.activeConfig&&this.activeConfig.items){let r=this.activeConfig.items;!this.activeConfig.disableSearch&&this.searchString&&this.activeConfig.labelKey&&this.activeConfig.mentionFilter&&(r=this.activeConfig.mentionFilter(this.searchString,r)),e=r,this.activeConfig.maxItems>0&&(e=e.slice(0,this.activeConfig.maxItems))}this.searchList&&(this.searchList.items=e,this.searchList.hidden=0==e.length)}showSearchList(e){if(this.opened.emit(),null==this.searchList){let r=this._componentResolver.resolveComponentFactory(ih),a=this._viewContainerRef.createComponent(r);this.searchList=a.instance,this.searchList.itemTemplate=this.mentionListTemplate,a.instance.itemClick.subscribe(()=>{e.focus(),this.keyHandler({key:"Enter",keyCode:13,wasClick:!0},e)})}this.searchList.labelKey=this.activeConfig.labelKey,this.searchList.dropUp=this.activeConfig.dropUp,this.searchList.styleOff=this.mentionConfig.disableStyle,this.searchList.activeIndex=0,this.searchList.position(e,this.iframe),window.requestAnimationFrame(()=>this.searchList.reset())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t._Vd),t.Y36(t.s_b))},o.\u0275dir=t.lG2({type:o,selectors:[["","mention",""],["","mentionConfig",""]],hostAttrs:["autocomplete","off"],hostBindings:function(e,r){1&e&&t.NdJ("keydown",function(d){return r.keyHandler(d)})("input",function(d){return r.inputHandler(d)})("blur",function(d){return r.blurHandler(d)})},inputs:{mention:"mention",mentionConfig:"mentionConfig",mentionListTemplate:"mentionListTemplate"},outputs:{searchTerm:"searchTerm",itemSelected:"itemSelected",opened:"opened",closed:"closed"},features:[t.TTD]}),o})(),Ov=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[y.ez]}),o})();const tu=function(o,l,e){return{flexBasis:o,height:l,objectFit:"cover",width:e}};function nu(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"img",4),t.NdJ("load",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.isLoaded=!0)})("error",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.isError=!0)}),t.qZA()}if(2&o){const e=t.oxw();t.Akn(t.kEZ(7,tu,"calc(var(--str-chat__spacing-px, 1px) * "+e.size+")","calc(var(--str-chat__spacing-px, 1px) * "+e.size+")","calc(var(--str-chat__spacing-px, 1px) * "+e.size+")")),t.Gre("str-chat__avatar-image str-chat__avatar-image",e.isLoaded?" str-chat__avatar-image--loaded":"",""),t.s9C("src",e.imageUrl||e.fallbackChannelImage,t.LSH),t.s9C("alt",e.initials)}}function Fv(o,l){if(1&o&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.initials," ")}}function kv(o,l){1&o&&t._UZ(0,"div",6)}const ah=function(o,l,e,r,a){return{flexBasis:o,fontSize:l,height:e,lineHeight:r,width:a}};function og(o,l){if(1&o&&t._UZ(0,"stream-avatar",2),2&o){const r=l.imageUrl,a=l.size,d=l.type,h=l.channel,p=l.user,_=l.location,b=l.initialsType,O=l.showOnlineIndicator;t.Q6J("name",l.name)("imageUrl",r)("size",a)("type",d)("channel",h)("user",p)("location",_)("initialsType",b)("showOnlineIndicator",O)}}function ag(o,l){1&o&&t.GkF(0)}function lg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",22),t._UZ(1,"path",23),t.qZA())}function cg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",24),t._UZ(1,"path",25),t.qZA())}function lh(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",26)(1,"g",27),t._UZ(2,"path",28)(3,"path",29),t.qZA()())}function Hl(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",30)(1,"title"),t._uU(2,"Combined Shape"),t.qZA(),t.TgZ(3,"desc"),t._uU(4,"Created with Sketch."),t.qZA(),t.TgZ(5,"g",31)(6,"g",32)(7,"g",33),t._UZ(8,"path",34),t.qZA()()()())}function ug(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",35)(1,"title",36),t._uU(2,"streamChat.Send"),t.qZA(),t._UZ(3,"path",37),t.qZA())}function iu(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",38)(1,"title",36),t._uU(2,"streamChat.Attach files"),t.qZA(),t._UZ(3,"path",39),t.qZA())}function dg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",40),t._UZ(1,"path",41),t.qZA())}function hi(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",42),t._UZ(1,"rect",43)(2,"circle",44)(3,"path",45),t.qZA())}function ch(o,l){if(1&o&&(t.O4$(),t.TgZ(0,"svg",46),t._UZ(1,"path",47),t.qZA()),2&o){const e=t.oxw();t.uIk("height",e.size||20)("width",e.size||20)}}function hg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",48),t._UZ(1,"path",49)(2,"path",50)(3,"path",51)(4,"path",52)(5,"path",53),t.TgZ(6,"defs")(7,"linearGradient",54),t._UZ(8,"stop",55)(9,"stop",56),t.qZA()()())}function ru(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",57),t._UZ(1,"path",58),t.qZA())}function uh(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",59),t._UZ(1,"path",60),t.qZA())}function fg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",61),t._UZ(1,"path",62),t.qZA())}function pg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",63),t._UZ(1,"path",64),t.qZA())}function gg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",65),t._UZ(1,"path",66),t.qZA())}function mg(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",67),t._UZ(1,"path",68),t.qZA())}function dh(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",69),t._UZ(1,"path",70),t.qZA())}function Rv(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",71),t._UZ(1,"path",72),t.qZA())}function Lv(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",73),t._UZ(1,"path",74),t.qZA())}function sl(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",75)(1,"g",76),t._UZ(2,"path",77),t.qZA(),t.TgZ(3,"defs")(4,"clipPath",78),t._UZ(5,"rect",79),t.qZA()()())}function su(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",80),t._UZ(1,"path",81),t.qZA())}function hh(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",82),t._UZ(1,"path",83)(2,"path",84),t.qZA())}function fh(o,l){if(1&o&&t._UZ(0,"stream-icon",2),2&o){const r=l.size;t.Q6J("icon",l.icon)("size",r)}}function ph(o,l){1&o&&t.GkF(0)}const _g=function(o){return{stopColor:o}};function vg(o,l){if(1&o&&t._UZ(0,"stream-loading-indicator",2),2&o){const r=l.color;t.Q6J("size",l.size)("color",r)}}function gh(o,l){1&o&&t.GkF(0)}const mh=["modalInner"];function ou(o,l){1&o&&t.GkF(0)}function Pv(o,l){if(1&o&&(t.ynx(0),t.YNc(1,ou,1,0,"ng-container",7),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function au(o,l){1&o&&t.Hsn(0)}const Zl=["*"],Vl=["modalContent"];function _h(o,l){1&o&&t.GkF(0)}const ol=function(o,l){return{height:o,width:l}};function To(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"img",9,10),t.NdJ("click",function(){const d=t.CHM(e).attachment,h=t.oxw(4);return t.KtG(h.openImageModal([d]))})("keyup.enter",function(){const d=t.CHM(e).attachment,h=t.oxw(4);return t.KtG(h.openImageModal([d]))}),t.qZA()}if(2&o){const e=l.attachment,r=t.MAs(1),a=t.oxw(4);t.Udp("--original-height",a.getImageAttachmentConfiguration(e,"single",r).originalHeight)("--original-width",a.getImageAttachmentConfiguration(e,"single",r).originalWidth),t.Q6J("src",a.getImageAttachmentConfiguration(e,"single",r).url,t.LSH)("alt",null==e?null:e.fallback)("ngStyle",t.WLB(7,ol,a.getImageAttachmentConfiguration(e,"single",r).height,a.getImageAttachmentConfiguration(e,"single",r).width))}}function yg(o,l){if(1&o&&(t.ynx(0),t.YNc(1,_h,1,0,"ng-container",7),t.ALo(2,"async"),t.YNc(3,To,2,10,"ng-template",null,8,t.W1O),t.BQk()),2&o){const e=t.MAs(4),r=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,a.customTemplatesService.imageAttachmentTemplate$)||e)("ngTemplateOutletContext",a.getAttachmentContext(r))}}function lu(o,l){1&o&&t.GkF(0)}function zl(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index,d=t.oxw().attachment,h=t.oxw(4);return t.KtG(h.openImageModal(d.images,a))})("keyup.enter",function(){t.CHM(e);const a=t.oxw().index,d=t.oxw().attachment,h=t.oxw(4);return t.KtG(h.openImageModal(d.images,a))}),t._UZ(1,"img",16,10),t.qZA()}if(2&o){const e=t.MAs(2),r=t.oxw().$implicit,a=t.oxw(5);t.ekj("str-chat__message-attachment--svg-image",a.isSvg(r)),t.xp6(1),t.Udp("--original-height",a.getImageAttachmentConfiguration(r,"gallery",e).originalHeight)("--original-width",a.getImageAttachmentConfiguration(r,"gallery",e).originalWidth),t.Q6J("src",a.getImageAttachmentConfiguration(r,"gallery",e).url,t.LSH)("alt",r.fallback)("ngStyle",t.WLB(9,ol,a.getImageAttachmentConfiguration(r,"gallery",e).height,a.getImageAttachmentConfiguration(r,"gallery",e).width))}}const Cg=function(o,l,e){return{"background-image":o,height:l,width:e}},cu=function(o){return{imageCount:o}};function Gl(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",17,18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index,d=t.oxw().attachment,h=t.oxw(4);return t.KtG(h.openImageModal(d.images,a))})("keyup.enter",function(){t.CHM(e);const a=t.oxw().index,d=t.oxw().attachment,h=t.oxw(4);return t.KtG(h.openImageModal(d.images,a))}),t._UZ(2,"p",19),t.ALo(3,"translate"),t.qZA()}if(2&o){const e=t.MAs(1),r=t.oxw().$implicit,a=t.oxw().attachment,d=t.oxw(4);t.Udp("--original-height",d.getImageAttachmentConfiguration(r,"gallery",e).originalHeight)("--original-width",d.getImageAttachmentConfiguration(r,"gallery",e).originalWidth),t.ekj("str-chat__message-attachment--svg-image",d.isSvg(r)),t.Q6J("ngStyle",t.kEZ(11,Cg,"url("+d.getImageAttachmentConfiguration(r,"gallery",e).url+")",d.getImageAttachmentConfiguration(r,"gallery",e).height,d.getImageAttachmentConfiguration(r,"gallery",e).width)),t.xp6(2),t.Q6J("innerHTML",t.xi3(3,8,"streamChat.{{ imageCount }} more",t.VKq(15,cu,a.images.length-4)),t.oJD)}}function Eo(o,l){if(1&o&&(t.ynx(0),t.YNc(1,zl,3,12,"button",13),t.YNc(2,Gl,4,17,"button",14),t.BQk()),2&o){const e=l.index,r=l.last;t.xp6(1),t.Q6J("ngIf",e<3||3===e&&r),t.xp6(1),t.Q6J("ngIf",3===e&&!r)}}function vh(o,l){if(1&o&&(t.TgZ(0,"div",12),t.YNc(1,Eo,3,2,"ng-container",4),t.qZA()),2&o){const e=l.attachment,r=t.oxw(4);t.ekj("str-chat__gallery--square",(null==e?null:e.images).length>3)("str-chat__gallery-two-rows",(null==e?null:e.images).length>2),t.xp6(1),t.Q6J("ngForOf",e.images)("ngForTrackBy",r.trackByImageUrl)}}function uu(o,l){if(1&o&&(t.ynx(0),t.YNc(1,lu,1,0,"ng-container",7),t.ALo(2,"async"),t.YNc(3,vh,2,6,"ng-template",null,11,t.W1O),t.BQk()),2&o){const e=t.MAs(4),r=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,a.customTemplatesService.galleryAttachmentTemplate$)||e)("ngTemplateOutletContext",a.getAttachmentContext(r))}}function Dg(o,l){1&o&&t.GkF(0)}function wg(o,l){if(1&o&&(t.TgZ(0,"div",21),t._UZ(1,"video",22,23),t.qZA()),2&o){const e=l.attachment,r=t.MAs(2),a=t.oxw(4);t.Udp("--original-height",a.getVideoAttachmentConfiguration(e,r).originalHeight)("--original-width",a.getVideoAttachmentConfiguration(e,r).originalWidth),t.Q6J("ngStyle",t.WLB(7,ol,a.getVideoAttachmentConfiguration(e,r).height,a.getVideoAttachmentConfiguration(e,r).width)),t.xp6(1),t.Q6J("src",a.getVideoAttachmentConfiguration(e,r).url,t.LSH)("poster",a.getVideoAttachmentConfiguration(e,r).thumbUrl,t.LSH)}}function yh(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Dg,1,0,"ng-container",7),t.ALo(2,"async"),t.YNc(3,wg,3,10,"ng-template",null,20,t.W1O),t.BQk()),2&o){const e=t.MAs(4),r=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,a.customTemplatesService.videoAttachmentTemplate$)||e)("ngTemplateOutletContext",a.getAttachmentContext(r))}}function ra(o,l){1&o&&t.GkF(0)}function bg(o,l){1&o&&t._UZ(0,"stream-icon-placeholder",32),2&o&&t.Q6J("size",30)}function Tg(o,l){1&o&&t._UZ(0,"stream-icon-placeholder",33),2&o&&t.Q6J("size",30)}function Eg(o,l){if(1&o&&(t.TgZ(0,"span",34),t._uU(1),t.qZA()),2&o){const e=t.oxw().attachment,r=t.oxw(4);t.xp6(1),t.Oqu(r.getFileSize(e))}}function du(o,l){if(1&o&&(t.TgZ(0,"a",25),t.YNc(1,bg,1,1,"stream-icon-placeholder",26),t.YNc(2,Tg,1,1,"stream-icon-placeholder",27),t.TgZ(3,"div",28)(4,"div",29)(5,"div",30),t._uU(6),t.qZA()(),t.YNc(7,Eg,2,1,"span",31),t.qZA()()),2&o){const e=l.attachment,r=t.oxw(4);t.s9C("href",e.asset_url,t.LSH),t.xp6(1),t.Q6J("ngIf","1"===r.themeVersion),t.xp6(1),t.Q6J("ngIf","2"===r.themeVersion),t.xp6(4),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("ngIf",r.hasFileSize(e))}}function Sg(o,l){if(1&o&&(t.ynx(0),t.YNc(1,ra,1,0,"ng-container",7),t.ALo(2,"async"),t.YNc(3,du,8,5,"ng-template",null,24,t.W1O),t.BQk()),2&o){const e=t.MAs(4),r=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,a.customTemplatesService.fileAttachmentTemplate$)||e)("ngTemplateOutletContext",a.getAttachmentContext(r))}}function Ch(o,l){1&o&&t.GkF(0)}function Mg(o,l){if(1&o&&(t.TgZ(0,"div",42),t._UZ(1,"img",43),t.qZA()),2&o){const e=t.oxw(2).ngIf;t.xp6(1),t.s9C("alt",e.url),t.s9C("src",e.url,t.LSH),t.Q6J("ngStyle",t.WLB(3,ol,e.height,e.width))}}function Dh(o,l){if(1&o&&(t.TgZ(0,"div",44),t._uU(1),t.qZA()),2&o){const e=t.oxw().attachment;t.xp6(1),t.hij(" ",e.title," ")}}function Nv(o,l){if(1&o&&(t.TgZ(0,"div",45),t._uU(1),t.qZA()),2&o){const e=t.oxw().attachment;t.xp6(1),t.hij(" ",e.text," ")}}function xg(o,l){if(1&o&&(t.TgZ(0,"a",46),t._uU(1),t.qZA()),2&o){const e=t.oxw().attachment,r=t.oxw(4);t.s9C("href",e.title_link||e.og_scrape_url,t.LSH),t.xp6(1),t.hij(" ",r.trimUrl(e.title_link||e.og_scrape_url)," ")}}function al(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Mg,2,6,"div",36),t.TgZ(2,"div",37)(3,"div",38),t.YNc(4,Dh,2,1,"div",39),t.YNc(5,Nv,2,1,"div",40),t.YNc(6,xg,2,2,"a",41),t.qZA()()()),2&o){const e=l.attachment,r=t.oxw().ngIf;t.Gre("str-chat__message-attachment-card str-chat__message-attachment-card--",e.type,""),t.xp6(1),t.Q6J("ngIf",r.url),t.xp6(3),t.Q6J("ngIf",e.title),t.xp6(1),t.Q6J("ngIf",e.text),t.xp6(1),t.Q6J("ngIf",e.title_link||e.og_scrape_url)}}function Ig(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Ch,1,0,"ng-container",7),t.ALo(2,"async"),t.YNc(3,al,7,7,"ng-template",null,35,t.W1O),t.BQk()),2&o){const e=t.MAs(4),r=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,a.customTemplatesService.cardAttachmentTemplate$)||e)("ngTemplateOutletContext",a.getAttachmentContext(r))}}function sa(o,l){1&o&&t.GkF(0)}function ll(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){const d=t.CHM(e).$implicit,h=t.oxw(5);return t.KtG(h.sendAction(d))})("keyup.enter",function(){const d=t.CHM(e).$implicit,h=t.oxw(5);return t.KtG(h.sendAction(d))}),t._uU(1),t.qZA()}if(2&o){const e=l.$implicit;t.Gre("str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--",e.style,""),t.xp6(1),t.hij(" ",e.text," ")}}function Ag(o,l){if(1&o&&(t.TgZ(0,"div",48)(1,"div",49),t.YNc(2,ll,2,4,"button",50),t.qZA()()),2&o){const e=l.attachment,r=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",e.actions)("ngForTrackBy",r.trackByActionValue)}}function wh(o,l){if(1&o&&(t.ynx(0),t.YNc(1,sa,1,0,"ng-container",7),t.ALo(2,"async"),t.YNc(3,Ag,3,2,"ng-template",null,47,t.W1O),t.BQk()),2&o){const e=t.MAs(4),r=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,a.customTemplatesService.attachmentActionsTemplate$)||e)("ngTemplateOutletContext",a.getAttachmentContext(r))}}function Og(o,l){if(1&o&&(t.ynx(0),t.TgZ(1,"div",6),t.YNc(2,yg,5,4,"ng-container",5),t.YNc(3,uu,5,4,"ng-container",5),t.YNc(4,yh,5,4,"ng-container",5),t.YNc(5,Sg,5,4,"ng-container",5),t.YNc(6,Ig,5,4,"ng-container",5),t.YNc(7,wh,5,4,"ng-container",5),t.qZA(),t.BQk()),2&o){const e=l.$implicit,r=t.oxw(2);t.xp6(1),t.Gre("str-chat__message-attachment str-chat__message-attachment--",e.type," str-chat__message-attachment-dynamic-size"),t.ekj("str-chat__message-attachment--card",r.isCard(e))("str-chat-angular__message-attachment-file-single",r.isFile(e))("str-chat__message-attachment-with-actions",e.actions&&e.actions.length>0)("str-chat__message-attachment--svg-image",r.isSvg(e)),t.xp6(1),t.Q6J("ngIf",r.isImage(e)),t.xp6(1),t.Q6J("ngIf",r.isGallery(e)),t.xp6(1),t.Q6J("ngIf",r.isVideo(e)),t.xp6(1),t.Q6J("ngIf",r.isFile(e)),t.xp6(1),t.Q6J("ngIf",r.isCard(e)&&r.getCardAttachmentConfiguration(e)),t.xp6(1),t.Q6J("ngIf",e.actions&&e.actions.length>0)}}function Fg(o,l){1&o&&t.GkF(0)}function kg(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Fg,1,0,"ng-container",7),t.ALo(2,"async"),t.BQk()),2&o){const e=t.oxw(2),r=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,e.customTemplatesService.modalTemplate$)||r)("ngTemplateOutletContext",e.getModalContext())}}function bh(o,l){if(1&o&&(t.TgZ(0,"div",3),t.YNc(1,Og,8,17,"ng-container",4),t.YNc(2,kg,3,4,"ng-container",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.orderedAttachments)("ngForTrackBy",e.trackByUrl),t.xp6(1),t.Q6J("ngIf",e.imagesToView&&e.imagesToView.length>0)}}function Th(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-modal",52),t.NdJ("isOpenChange",function(a){const h=t.CHM(e).isOpenChangeHandler;return t.KtG(h(a))}),t.qZA()}if(2&o){const r=l.content;t.Q6J("isOpen",l.isOpen)("content",r)}}const Yl=function(o){return{visibility:o}},hu=function(o,l){return{width:o,height:l}};function Rg(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",53)(1,"button",54),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.stepImages(-1))})("keyup.enter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.stepImages(-1))}),t._UZ(2,"stream-icon-placeholder",55),t.qZA(),t._UZ(3,"img",56,10),t.TgZ(5,"button",57),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.stepImages(1))})("keyup.enter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.stepImages(1))}),t._UZ(6,"stream-icon-placeholder",58),t.qZA()()}if(2&o){const e=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(9,Yl,r.isImageModalPrevButtonVisible?"visible":"hidden")),t.xp6(2),t.Udp("--original-height",r.getCarouselImageAttachmentConfiguration(r.imagesToView[r.imagesToViewCurrentIndex],e).originalHeight)("--original-width",r.getCarouselImageAttachmentConfiguration(r.imagesToView[r.imagesToViewCurrentIndex],e).originalWidth),t.Q6J("src",r.getCarouselImageAttachmentConfiguration(r.imagesToView[r.imagesToViewCurrentIndex],e).url,t.LSH)("alt",r.imagesToView[r.imagesToViewCurrentIndex].fallback)("ngStyle",t.WLB(11,hu,r.getCarouselImageAttachmentConfiguration(r.imagesToView[r.imagesToViewCurrentIndex],e).width,r.getCarouselImageAttachmentConfiguration(r.imagesToView[r.imagesToViewCurrentIndex],e).height)),t.xp6(2),t.Q6J("ngStyle",t.VKq(14,Yl,r.isImageModalNextButtonVisible?"visible":"hidden"))}}function fu(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw(2);return t.KtG(d.attachmentUploadRetried(a.file))})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw(2);return t.KtG(d.attachmentUploadRetried(a.file))}),t._UZ(1,"stream-icon-placeholder",17),t.qZA()}}function cl(o,l){if(1&o&&t._UZ(0,"img",18),2&o){const e=t.oxw(2).$implicit;t.s9C("src",e.url?e.url:e.previewUri,t.LSH),t.s9C("alt",e.file.name)}}function Lg(o,l){1&o&&t._UZ(0,"stream-loading-indicator-placeholder",19)}function Pg(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.YNc(1,fu,2,0,"div",9),t.TgZ(2,"div",10)(3,"div",11)(4,"div",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.attachmentDeleted(a))})("keyup.enter",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.attachmentDeleted(a))}),t._UZ(5,"stream-icon-placeholder",13),t.qZA()(),t.YNc(6,cl,1,2,"img",14),t.qZA(),t.YNc(7,Lg,1,0,"stream-loading-indicator-placeholder",15),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.ekj("rfu-image-previewer__image--loaded","success"===e.state),t.xp6(1),t.Q6J("ngIf","error"===e.state),t.xp6(5),t.Q6J("ngIf",e.url||e.previewUri),t.xp6(1),t.Q6J("ngIf","uploading"===e.state)}}function Ng(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw(2);return t.KtG(d.attachmentUploadRetried(a.file))})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw(2);return t.KtG(d.attachmentUploadRetried(a.file))}),t._uU(2," streamChat.failed "),t.qZA(),t.TgZ(3,"div",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw(2);return t.KtG(d.attachmentUploadRetried(a.file))})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2).$implicit,d=t.oxw(2);return t.KtG(d.attachmentUploadRetried(a.file))}),t._uU(4," streamChat.retry "),t.qZA(),t.BQk()}}function Ug(o,l){1&o&&(t.TgZ(0,"div",29),t._UZ(1,"stream-loading-indicator-placeholder"),t.qZA())}function jg(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",20)(1,"ol")(2,"li",21),t._UZ(3,"stream-icon-placeholder",22),t.TgZ(4,"a",23),t.NdJ("click",function(a){t.CHM(e);const d=t.oxw().$implicit;return t.KtG(d.url?null:a.preventDefault())})("keyup.enter",function(a){t.CHM(e);const d=t.oxw().$implicit;return t.KtG(d.url?null:a.preventDefault())}),t._uU(5),t.YNc(6,Ng,5,0,"ng-container",24),t.qZA(),t.TgZ(7,"span",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.attachmentDeleted(a))})("keyup.enter",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.attachmentDeleted(a))}),t._UZ(8,"stream-icon-placeholder",13),t.qZA(),t.YNc(9,Ug,2,0,"div",26),t.qZA()()()}if(2&o){const e=t.oxw().$implicit;t.xp6(2),t.ekj("rfu-file-previewer__file--uploading","uploading"===e.state)("rfu-file-previewer__file--failed","error"===e.state),t.xp6(2),t.s9C("href",e.url,t.LSH),t.xp6(1),t.hij(" ",e.file.name," "),t.xp6(1),t.Q6J("ngIf","error"===e.state),t.xp6(3),t.Q6J("ngIf","uploading"===e.state)}}function Bg(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Pg,8,5,"div",6),t.YNc(2,jg,10,8,"div",7),t.BQk()),2&o){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf","image"===e.type),t.xp6(1),t.Q6J("ngIf","file"===e.type||"video"===e.type)}}function $g(o,l){if(1&o&&(t.TgZ(0,"div",4),t.YNc(1,Bg,3,2,"ng-container",5),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,e.attachmentUploads$))("ngForTrackBy",e.trackByFile)}}function oa(o,l){1&o&&t.GkF(0)}function Ls(o,l){1&o&&(t.TgZ(0,"div",38),t._UZ(1,"stream-loading-indicator-placeholder",39),t.qZA()),2&o&&(t.xp6(1),t.Q6J("size",18))}function Hg(o,l){1&o&&t.GkF(0)}function Zg(o,l){if(1&o&&t._UZ(0,"img",40),2&o){const e=t.oxw(2).$implicit;t.s9C("src",e.url?e.url:e.previewUri,t.LSH),t.s9C("alt",e.file.name)}}const pu=function(o){return{attachmentUpload:o}};function Uv(o,l){if(1&o&&(t.TgZ(0,"div",34),t.YNc(1,oa,1,0,"ng-container",35),t.YNc(2,Ls,2,1,"div",36),t.YNc(3,Hg,1,0,"ng-container",35),t.YNc(4,Zg,1,2,"img",37),t.qZA()),2&o){const e=t.oxw().$implicit;t.oxw(2);const r=t.MAs(5),a=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(6,pu,e)),t.xp6(1),t.Q6J("ngIf","uploading"===e.state),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(8,pu,e)),t.xp6(1),t.Q6J("ngIf",e.url||e.previewUri)}}function Eh(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"a",47),t.NdJ("click",function(a){t.CHM(e);const d=t.oxw(2).$implicit;return t.KtG(d.url?null:a.preventDefault())})("keyup.enter",function(a){t.CHM(e);const d=t.oxw(2).$implicit;return t.KtG(d.url?null:a.preventDefault())}),t._UZ(1,"stream-icon-placeholder",48),t.qZA()}if(2&o){const e=t.oxw(2).$implicit;t.s9C("href",e.url,t.LSH)}}function jv(o,l){1&o&&t._UZ(0,"stream-loading-indicator-placeholder",39),2&o&&t.Q6J("size",18)}function Sh(o,l){1&o&&t.GkF(0)}function Mh(o,l){1&o&&t.GkF(0)}function Vg(o,l){if(1&o&&(t.TgZ(0,"div",41),t._UZ(1,"stream-icon-placeholder",42),t.TgZ(2,"div",43)(3,"div",44),t._uU(4),t.qZA(),t.YNc(5,Eh,2,1,"a",45),t.YNc(6,jv,1,1,"stream-loading-indicator-placeholder",46),t.qZA(),t.YNc(7,Sh,1,0,"ng-container",35),t.YNc(8,Mh,1,0,"ng-container",35),t.qZA()),2&o){const e=t.oxw().$implicit;t.oxw(2);const r=t.MAs(5),a=t.MAs(7);t.xp6(4),t.hij(" ",e.file.name," "),t.xp6(1),t.Q6J("ngIf","success"===e.state),t.xp6(1),t.Q6J("ngIf","uploading"===e.state),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(7,pu,e)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(9,pu,e))}}function xh(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Uv,5,10,"div",32),t.YNc(2,Vg,9,11,"div",33),t.BQk()),2&o){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf","image"===e.type),t.xp6(1),t.Q6J("ngIf","file"===e.type||"video"===e.type)}}function zg(o,l){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31),t.YNc(2,xh,3,2,"ng-container",5),t.ALo(3,"async"),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,2,e.attachmentUploads$))("ngForTrackBy",e.trackByFile)}}function Gg(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",49),t.NdJ("click",function(){const d=t.CHM(e).attachmentUpload,h=t.oxw();return t.KtG(h.attachmentDeleted(d))})("keyup.enter",function(){const d=t.CHM(e).attachmentUpload,h=t.oxw();return t.KtG(h.attachmentDeleted(d))}),t._UZ(1,"stream-icon-placeholder",13),t.qZA()}}function Kr(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().attachmentUpload,d=t.oxw();return t.KtG(d.attachmentUploadRetried(a.file))})("keyup.enter",function(){t.CHM(e);const a=t.oxw().attachmentUpload,d=t.oxw();return t.KtG(d.attachmentUploadRetried(a.file))}),t._UZ(1,"stream-icon-placeholder",17),t.qZA()}if(2&o){const e=t.oxw().attachmentUpload;t.Gre("str-chat__attachment-preview-error str-chat__attachment-preview-error-","image"===e.type?"image":"file","")}}function Yg(o,l){1&o&&t.YNc(0,Kr,2,3,"div",50),2&o&&t.Q6J("ngIf","error"===l.attachmentUpload.state)}const Ih=["fileInput"];function Wg(o,l){if(1&o&&t._UZ(0,"stream-attachment-list",22),2&o){const e=t.oxw(3);t.Q6J("attachments",e.quotedMessageAttachments)("messageId",null==e.quotedMessage?null:e.quotedMessage.id)}}function qg(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"div"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.deselectMessageToQuote())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.deselectMessageToQuote())}),t._UZ(6,"stream-icon-placeholder",16),t.qZA()(),t.TgZ(7,"div",17),t._UZ(8,"stream-avatar-placeholder",18),t.TgZ(9,"div",19),t.YNc(10,Wg,1,2,"stream-attachment-list",20),t._UZ(11,"div",21),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,7,"streamChat.Reply to Message")),t.xp6(5),t.Q6J("imageUrl",null==e.quotedMessage||null==e.quotedMessage.user?null:e.quotedMessage.user.image)("name",(null==e.quotedMessage||null==e.quotedMessage.user?null:e.quotedMessage.user.name)||(null==e.quotedMessage||null==e.quotedMessage.user?null:e.quotedMessage.user.id))("size",20)("user",(null==e.quotedMessage?null:e.quotedMessage.user)||void 0),t.xp6(2),t.Q6J("ngIf",(null==e.quotedMessage?null:e.quotedMessage.attachments)&&(null==e.quotedMessage||null==e.quotedMessage.attachments?null:e.quotedMessage.attachments.length)),t.xp6(1),t.Q6J("innerHTML",(null==e.message||null==e.message.quoted_message?null:e.message.quoted_message.translation)||(null==e.quotedMessage?null:e.quotedMessage.html)||(null==e.quotedMessage?null:e.quotedMessage.text),t.oJD)}}function Jg(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-attachment-preview-list",23),t.NdJ("retryAttachmentUpload",function(a){const h=t.CHM(e).retryUploadHandler;return t.KtG(h(a))})("deleteAttachment",function(a){const h=t.CHM(e).deleteUploadHandler;return t.KtG(h(a))}),t.qZA()}2&o&&t.Q6J("attachmentUploads$",l.attachmentUploads$)}function Kg(o,l){1&o&&t.GkF(0)}function Ah(o,l){1&o&&t.GkF(0)}function Qg(o,l){if(1&o&&(t.ynx(0,24),t.TgZ(1,"div",25),t.YNc(2,Ah,1,0,"ng-container",5),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngTemplateOutlet",e.emojiPickerTemplate)("ngTemplateOutletContext",e.getEmojiPickerContext())}}function Xg(o,l){if(1&o){const e=t.EpF();t.ynx(0)(1,26),t.NdJ("valueChange",function(a){t.CHM(e);const d=t.oxw(2);return t.KtG(d.textareaValue=a)})("valueChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.typingStart$.next())})("send",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.messageSent())})("userMentions",function(a){t.CHM(e);const d=t.oxw(2);return t.KtG(d.mentionedUsers=a)}),t.BQk()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("value",e.textareaValue)("componentRef",e.textareaRef)("areMentionsEnabled",e.areMentionsEnabled)("mentionScope",e.mentionScope)("placeholder",e.textareaPlaceholder)("inputMode",e.inputMode)("autoFocus",e.autoFocus)}}function em(o,l){if(1&o&&(t._UZ(0,"textarea",27),t.ALo(1,"translate")),2&o){const e=t.oxw(2);t.Q6J("value",t.lcZ(1,1,e.disabledTextareaText))}}function Qt(o,l){1&o&&t.GkF(0)}function Oh(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",31)(5,"label")(6,"input",32,33),t.NdJ("change",function(){t.CHM(e);const a=t.MAs(7),d=t.oxw(3);return t.KtG(d.filesSelected(a.files))}),t.qZA(),t.TgZ(8,"span",34),t._UZ(9,"stream-icon-placeholder",35),t.qZA()()()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,"streamChat.Attach files")," "),t.xp6(4),t.Q6J("multiple",e.isMultipleFileUploadEnabled)}}function Fh(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Qt,1,0,"ng-container",5),t.YNc(2,Oh,10,4,"ng-template",null,28,t.W1O),t.BQk()),2&o){const e=t.MAs(3),r=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",r.customAttachmentUploadTemplate||e)("ngTemplateOutletContext",r.getAttachmentUploadContext())}}function kh(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.messageSent())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.messageSent())}),t._UZ(1,"stream-icon-placeholder",37),t.qZA()}}function tm(o,l){if(1&o&&(t.TgZ(0,"div",38)(1,"div",39),t._uU(2),t.ALo(3,"async"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,1,e.cooldown$)," ")}}function nm(o,l){if(1&o&&(t.TgZ(0,"div"),t.ALo(1,"async"),t.YNc(2,qg,12,9,"div",2),t.TgZ(3,"div",3)(4,"div"),t.YNc(5,Jg,1,1,"ng-template",null,4,t.W1O),t.YNc(7,Kg,1,0,"ng-container",5),t.TgZ(8,"div",6),t.YNc(9,Qg,3,2,"ng-container",7),t.YNc(10,Xg,2,7,"ng-container",8),t.YNc(11,em,2,3,"ng-template",null,9,t.W1O),t.qZA(),t.YNc(13,Fh,4,2,"ng-container",10),t.qZA(),t.YNc(14,kh,2,0,"button",11),t.YNc(15,tm,4,3,"div",12),t.qZA()()),2&o){const e=t.MAs(6),r=t.MAs(12),a=t.oxw();t.Tol("main"===a.mode?"str-chat__input-flat":"str-chat__small-message-input"),t.ekj("str-chat__input-flat-has-attachments",t.lcZ(1,19,a.attachmentUploads$).length>0)("str-chat__input-flat-quoted",!!a.quotedMessage),t.xp6(2),t.Q6J("ngIf",a.quotedMessage),t.xp6(2),t.Tol("main"===a.mode?"str-chat__input-flat--textarea-wrapper":"str-chat__small-message-input--textarea-wrapper"),t.xp6(3),t.Q6J("ngTemplateOutlet",a.attachmentPreviewListTemplate||e)("ngTemplateOutletContext",a.getAttachmentPreviewListContext()),t.xp6(2),t.Q6J("ngIf",a.emojiPickerTemplate),t.xp6(1),t.Q6J("ngIf",a.canSendMessages)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",a.isFileUploadEnabled&&a.isFileUploadAuthorized&&a.canSendMessages),t.xp6(1),t.Q6J("ngIf",a.canSendMessages&&!a.isCooldownInProgress),t.xp6(1),t.Q6J("ngIf",a.isCooldownInProgress)}}function Rh(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",43)(1,"div",44),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.deselectMessageToQuote())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.deselectMessageToQuote())}),t._UZ(5,"stream-icon-placeholder",46),t.qZA()()}2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"streamChat.Reply to Message")," "))}function im(o,l){1&o&&t.GkF(0)}function Lh(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",55)(1,"input",56,33),t.NdJ("change",function(){t.CHM(e);const a=t.MAs(2),d=t.oxw(4);return t.KtG(d.filesSelected(a.files))}),t.qZA(),t.TgZ(3,"label",57),t._UZ(4,"stream-icon-placeholder",58),t.qZA()()}if(2&o){const e=t.oxw(4);t.xp6(1),t.s9C("id",e.fileInputId),t.Q6J("multiple",e.isMultipleFileUploadEnabled),t.xp6(2),t.s9C("for",e.fileInputId)}}function rm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,im,1,0,"ng-container",5),t.YNc(2,Lh,5,3,"ng-template",null,28,t.W1O),t.BQk()),2&o){const e=t.MAs(3),r=t.oxw(3);t.xp6(1),t.Q6J("ngTemplateOutlet",r.customAttachmentUploadTemplate||e)("ngTemplateOutletContext",r.getAttachmentUploadContext())}}function sm(o,l){if(1&o&&t._UZ(0,"stream-attachment-list",22),2&o){const e=t.oxw(4);t.Q6J("attachments",e.quotedMessageAttachments)("messageId",null==e.quotedMessage?null:e.quotedMessage.id)}}function Bv(o,l){if(1&o&&(t.TgZ(0,"div",59),t._UZ(1,"stream-avatar-placeholder",60),t.TgZ(2,"div",61),t.YNc(3,sm,1,2,"stream-attachment-list",20),t._UZ(4,"div",62),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("imageUrl",null==e.quotedMessage||null==e.quotedMessage.user?null:e.quotedMessage.user.image)("name",(null==e.quotedMessage||null==e.quotedMessage.user?null:e.quotedMessage.user.name)||(null==e.quotedMessage||null==e.quotedMessage.user?null:e.quotedMessage.user.id))("size",20)("user",(null==e.quotedMessage?null:e.quotedMessage.user)||void 0),t.xp6(2),t.Q6J("ngIf",(null==e.quotedMessage?null:e.quotedMessage.attachments)&&(null==e.quotedMessage||null==e.quotedMessage.attachments?null:e.quotedMessage.attachments.length)),t.xp6(1),t.Q6J("innerHTML",(null==e.quotedMessage?null:e.quotedMessage.translation)||(null==e.quotedMessage?null:e.quotedMessage.html)||(null==e.quotedMessage?null:e.quotedMessage.text),t.oJD)}}function Ph(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-attachment-preview-list",63),t.NdJ("retryAttachmentUpload",function(a){const h=t.CHM(e).retryUploadHandler;return t.KtG(h(a))})("deleteAttachment",function(a){const h=t.CHM(e).deleteUploadHandler;return t.KtG(h(a))}),t.qZA()}2&o&&t.Q6J("attachmentUploads$",l.attachmentUploads$)}function Nh(o,l){1&o&&t.GkF(0)}function So(o,l){1&o&&t.GkF(0)}function om(o,l){if(1&o&&(t.ynx(0,24),t.YNc(1,So,1,0,"ng-container",5),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e.emojiPickerTemplate)("ngTemplateOutletContext",e.getEmojiPickerContext())}}function gu(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.messageSent())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.messageSent())}),t.ALo(1,"async"),t.ALo(2,"async"),t._UZ(3,"stream-icon-placeholder",65),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("disabled",t.lcZ(1,1,e.attachmentUploadInProgressCounter$)>0||!e.textareaValue&&0===t.lcZ(2,3,e.attachmentUploads$).length)}}function mu(o,l){if(1&o&&(t.TgZ(0,"div",66),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.cooldown$)," ")}}function am(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",47),t.YNc(2,rm,4,2,"ng-container",10),t.TgZ(3,"div",48),t.YNc(4,Bv,5,6,"div",49),t.YNc(5,Ph,1,1,"ng-template",null,4,t.W1O),t.YNc(7,Nh,1,0,"ng-container",5),t.TgZ(8,"div",50),t.ynx(9,51),t.NdJ("valueChange",function(a){t.CHM(e);const d=t.oxw(2);return t.KtG(d.textareaValue=a)})("valueChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.typingStart$.next())})("send",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.messageSent())})("userMentions",function(a){t.CHM(e);const d=t.oxw(2);return t.KtG(d.mentionedUsers=a)}),t.BQk(),t.TgZ(10,"div",52),t.YNc(11,om,2,2,"ng-container",7),t.qZA()()(),t.YNc(12,gu,4,5,"button",53),t.YNc(13,mu,3,3,"div",54),t.qZA(),t.BQk()}if(2&o){const e=t.MAs(6),r=t.oxw(2);t.xp6(2),t.Q6J("ngIf",r.isFileUploadEnabled&&r.isFileUploadAuthorized&&r.canSendMessages),t.xp6(2),t.Q6J("ngIf",r.quotedMessage),t.xp6(3),t.Q6J("ngTemplateOutlet",r.attachmentPreviewListTemplate||e)("ngTemplateOutletContext",r.getAttachmentPreviewListContext()),t.xp6(2),t.Q6J("value",r.textareaValue)("componentRef",r.textareaRef)("areMentionsEnabled",r.areMentionsEnabled)("mentionScope",r.mentionScope)("inputMode",r.inputMode)("autoFocus",r.autoFocus)("placeholder",r.textareaPlaceholder),t.xp6(2),t.Q6J("ngIf",r.emojiPickerTemplate),t.xp6(1),t.Q6J("ngIf",r.canSendMessages&&!r.isCooldownInProgress&&!r.message),t.xp6(1),t.Q6J("ngIf",r.isCooldownInProgress)}}function $v(o,l){if(1&o&&(t.TgZ(0,"div",67),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.disabledTextareaText)," ")}}function Hv(o,l){if(1&o&&(t.TgZ(0,"div",40),t.YNc(1,Rh,6,3,"div",41),t.YNc(2,am,14,14,"ng-container",8),t.YNc(3,$v,3,3,"ng-template",null,42,t.W1O),t.qZA()),2&o){const e=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.quotedMessage),t.xp6(1),t.Q6J("ngIf",r.canSendMessages)("ngIfElse",e)}}function Zv(o,l){1&o&&t.GkF(0)}function lm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Zv,1,0,"ng-container",3),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function Uh(o,l){1&o&&t.Hsn(0)}function Vv(o,l){if(1&o&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.text,e.translateParams)," ")}}function cm(o,l){1&o&&t.GkF(0)}function aa(o,l){if(1&o&&(t.ynx(0),t.YNc(1,cm,1,0,"ng-container",4),t.BQk()),2&o){const e=t.oxw(2).$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.template)("ngTemplateOutletContext",r.getNotificationContentContext(e))}}function um(o,l){if(1&o&&(t.YNc(0,Vv,3,4,"div",5),t.YNc(1,aa,2,2,"ng-container",6)),2&o){const e=t.oxw().$implicit;t.Q6J("ngIf",void 0!==e.text),t.xp6(1),t.Q6J("ngIf",void 0!==e.template)}}function jh(o,l){1&o&&t.GkF(0)}const Wl=function(o,l){return{type:o,content:l}};function dm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,um,2,2,"ng-template",null,3,t.W1O),t.YNc(3,jh,1,0,"ng-container",4),t.ALo(4,"async"),t.BQk()),2&o){const e=l.$implicit,r=t.MAs(2),a=t.oxw(),d=t.MAs(5);t.xp6(3),t.Q6J("ngTemplateOutlet",t.lcZ(4,2,a.customTemplatesService.notificationTemplate$)||d)("ngTemplateOutletContext",t.WLB(4,Wl,e.type,r))}}function Bh(o,l){if(1&o&&t._UZ(0,"stream-notification",8),2&o){const r=l.content;t.Q6J("type",l.type)("content",r)}}function hm(o,l){1&o&&t.GkF(0)}function fm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,hm,1,0,"ng-container",5),t.ALo(2,"async"),t.BQk()),2&o){const e=l.$implicit,r=t.oxw(),a=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,r.customTemplatesService.messageActionsBoxItemTemplate$)||a)("ngTemplateOutletContext",r.getMessageActionTemplateContext(e))}}function pm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){const d=t.CHM(e).actionHandler,h=t.oxw();return t.KtG(d(h.message,h.isMine))}),t.TgZ(1,"li",9),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&o){const e=l.actionName,r=l.actionLabelOrTranslationKey,a=t.oxw();t.uIk("data-testid",e+"-action"),t.xp6(2),t.hij(" ",t.lcZ(3,2,a.getActionLabel(r))," ")}}function gm(o,l){1&o&&t.GkF(0)}function mm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-modal",10),t.NdJ("isOpenChange",function(a){const h=t.CHM(e).isOpenChangeHandler;return t.KtG(h(a))}),t.qZA()}if(2&o){const r=l.content;t.Q6J("isOpen",l.isOpen)("content",r)}}function $h(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-message-input",18),t.NdJ("messageUpdate",function(){const d=t.CHM(e).messageUpdateHandler;return t.KtG(d())}),t.qZA()}if(2&o){const r=l.sendMessage$;t.Q6J("message",l.message)("sendMessage$",r)}}function _m(o,l){1&o&&t.GkF(0)}function Hh(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",12),t.YNc(1,$h,1,2,"ng-template",null,13,t.W1O),t.YNc(3,_m,1,0,"ng-container",5),t.ALo(4,"async"),t._UZ(5,"stream-notification-list"),t.TgZ(6,"div",14)(7,"div",15)(8,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.modalClosed())}),t._uU(9," streamChat.Cancel "),t.qZA(),t.TgZ(10,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sendClicked())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sendClicked())}),t._uU(11," streamChat.Send "),t.qZA()()()()}if(2&o){const e=t.MAs(2),r=t.oxw(2);t.xp6(3),t.Q6J("ngTemplateOutlet",t.lcZ(4,2,r.customTemplatesService.messageInputTemplate$)||e)("ngTemplateOutletContext",r.getMessageInputContext())}}function Zh(o,l){if(1&o&&t.YNc(0,Hh,12,4,"div",11),2&o){const e=t.oxw();t.Q6J("ngIf",e.isEditModalOpen)}}function _u(o,l){1&o&&t.Hsn(0,1,["*ngIf","isActiveThread$ | async"])}function zv(o,l){if(1&o&&(t.TgZ(0,"div",2)(1,"div",3),t.Hsn(2),t.qZA(),t.YNc(3,_u,1,0,"ng-content",4),t.ALo(4,"async"),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,e.isActiveThread$))}}function vu(o,l){1&o&&(t.TgZ(0,"div",7),t._UZ(1,"stream-icon",8),t.TgZ(2,"p",9),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",10),t._UZ(6,"stream-notification-list"),t.qZA()()),2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"streamChat.No chats here yet\u2026")," "))}function vm(o,l){1&o&&(t.TgZ(0,"div",11)(1,"div",12),t._UZ(2,"div",13),t.TgZ(3,"div",14),t._UZ(4,"div",15)(5,"div",16),t.qZA()(),t.TgZ(6,"div",17)(7,"div",18),t._UZ(8,"div",19),t.TgZ(9,"div",20),t._UZ(10,"div",21),t.TgZ(11,"div",22),t._UZ(12,"div",23)(13,"div",24),t.qZA()()(),t.TgZ(14,"div",18),t._UZ(15,"div",19),t.TgZ(16,"div",20),t._UZ(17,"div",21),t.TgZ(18,"div",22),t._UZ(19,"div",23)(20,"div",24),t.qZA()()(),t.TgZ(21,"div",18),t._UZ(22,"div",19),t.TgZ(23,"div",20),t._UZ(24,"div",21),t.TgZ(25,"div",22),t._UZ(26,"div",23)(27,"div",24),t.qZA()()()(),t.TgZ(28,"div",25),t._UZ(29,"div",26)(30,"div",27),t.qZA()())}function Gv(o,l){if(1&o&&(t.YNc(0,vu,7,3,"div",5),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,vm,31,0,"div",6),t.ALo(5,"async"),t.ALo(6,"async"),t.ALo(7,"async")),2&o){const e=t.oxw();t.Q6J("ngIf",!1===t.lcZ(1,2,e.isInitializing$)&&(!0===t.lcZ(2,4,e.isError$)||!1===t.lcZ(3,6,e.isActiveChannel$))),t.xp6(4),t.Q6J("ngIf",!0===t.lcZ(5,8,e.isInitializing$)&&!1===t.lcZ(6,10,e.isError$)&&!1===t.lcZ(7,12,e.isActiveChannel$))}}const la=["*",[["","name","thread"]]],Vh=["*",'[name="thread"]'];function ym(o,l){1&o&&t.GkF(0)}function zh(o,l){if(1&o&&(t.TgZ(0,"p",9),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE(" ",t.xi3(2,2,"streamChat.{{ memberCount }} members",e.memberCountParam)," ",e.canReceiveConnectEvents?t.xi3(3,5,"streamChat.{{ watcherCount }} online",e.watcherCountParam):""," ")}}function Cm(o,l){1&o&&t.GkF(0)}function Dm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Cm,1,0,"ng-container",6),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.channelActionsTemplate)("ngTemplateOutletContext",e.getChannelActionsContext())}}function ql(o,l){if(1&o&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.unreadCount," ")}}function ca(o,l){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.latestMessage)," ")}}function yu(o,l){if(1&o&&(t._UZ(0,"span",12),t.ALo(1,"translate")),2&o){const e=t.oxw();t.Q6J("innerHTML",t.lcZ(1,1,e.latestMessage),t.oJD)}}const ua=["container"];function Cu(o,l){1&o&&(t.TgZ(0,"div",13),t._UZ(1,"stream-icon",14),t.TgZ(2,"p",15),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"streamChat.You have no channels currently")," "))}function Jl(o,l){1&o&&(t.TgZ(0,"p",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"streamChat.You have no channels currently")," "))}function Gh(o,l){1&o&&t._UZ(0,"stream-channel-preview",20),2&o&&t.Q6J("channel",l.channel)}function Du(o,l){1&o&&t.GkF(0)}const wu=function(o){return{channel:o}};function bu(o,l){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Gh,1,1,"ng-template",null,17,t.W1O),t.TgZ(3,"div",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.channelSelected())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.channelSelected())}),t.YNc(4,Du,1,0,"ng-container",19),t.qZA(),t.BQk()}if(2&o){const e=l.$implicit,r=t.MAs(2),a=t.oxw(2);t.xp6(4),t.Q6J("ngTemplateOutlet",a.customChannelPreviewTemplate||r)("ngTemplateOutletContext",t.VKq(2,wu,e))}}function Yh(o,l){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Load more")))}function Tu(o,l){1&o&&t._UZ(0,"stream-loading-indicator-placeholder")}function wm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.loadMoreChannels())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.loadMoreChannels())}),t.TgZ(1,"button",22),t.YNc(2,Yh,3,3,"span",23),t.YNc(3,Tu,1,0,"ng-template",null,24,t.W1O),t.qZA()()}if(2&o){const e=t.MAs(4),r=t.oxw(2);t.xp6(1),t.Q6J("disabled",r.isLoadingMoreChannels),t.xp6(1),t.Q6J("ngIf",!r.isLoadingMoreChannels)("ngIfElse",e)}}function bm(o,l){if(1&o&&(t.TgZ(0,"div",7)(1,"div",8),t.Hsn(2),t.YNc(3,Cu,5,3,"div",9),t.ALo(4,"async"),t.YNc(5,Jl,3,3,"p",10),t.ALo(6,"async"),t.YNc(7,bu,5,4,"ng-container",11),t.ALo(8,"async"),t.YNc(9,wm,5,3,"div",12),t.ALo(10,"async"),t.Hsn(11,1),t.qZA()()),2&o){const e=t.oxw();let r,a;t.xp6(3),t.Q6J("ngIf",!(null!=(r=t.lcZ(4,5,e.channels$))&&r.length)),t.xp6(2),t.Q6J("ngIf",!(null!=(a=t.lcZ(6,7,e.channels$))&&a.length)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(8,9,e.channels$))("ngForTrackBy",e.trackByChannelId),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,11,e.hasMoreChannels$))}}function Wh(o,l){1&o&&t.GkF(0)}function Tm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Wh,1,0,"ng-container",26),t.BQk()),2&o){t.oxw(2);const e=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function qh(o,l){1&o&&t.GkF(0)}function Jh(o,l){if(1&o&&(t.ynx(0),t.YNc(1,qh,1,0,"ng-container",26),t.BQk()),2&o){t.oxw(2);const e=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Em(o,l){if(1&o&&(t.YNc(0,Tm,2,1,"ng-container",25),t.ALo(1,"async"),t.YNc(2,Jh,2,1,"ng-container",25),t.ALo(3,"async")),2&o){const e=t.oxw();t.Q6J("ngIf",t.lcZ(1,2,e.isError$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,4,e.isInitializing$))}}function Sm(o,l){1&o&&t.GkF(0)}function yr(o,l){if(1&o&&(t.TgZ(0,"div",27),t.YNc(1,Sm,1,0,"ng-container",26),t.TgZ(2,"div",28),t._UZ(3,"stream-icon-placeholder",29),t.TgZ(4,"h1"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"h3"),t._uU(8),t.ALo(9,"translate"),t.qZA()()()),2&o){t.oxw();const e=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(4),t.Oqu(t.lcZ(6,3,"streamChat.Connection error")),t.xp6(3),t.hij(" ",t.lcZ(9,5,"streamChat.Error connecting to chat, refresh the page to try again.")," ")}}function Kh(o,l){1&o&&t.GkF(0)}function Mm(o,l){1&o&&t.GkF(0)}function Yv(o,l){1&o&&t.GkF(0)}function Eu(o,l){if(1&o&&(t.TgZ(0,"div",30),t.YNc(1,Kh,1,0,"ng-container",26),t.YNc(2,Mm,1,0,"ng-container",26),t.YNc(3,Yv,1,0,"ng-container",26),t.qZA()),2&o){t.oxw();const e=t.MAs(14);t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Qh(o,l){1&o&&(t.TgZ(0,"div",31),t._UZ(1,"div",32),t.TgZ(2,"div",33),t._UZ(3,"div",34)(4,"div",35),t.qZA()())}const xm=[[["","channel-list-top",""]],[["","channel-list-bottom",""]]],Im=["[channel-list-top]","[channel-list-bottom]"],Am=["selectorContainer"],Xh=["selectorTooltip"];function Om(o,l){if(1&o&&(t.TgZ(0,"li",6),t.NdJ("hover",function(r){return r.stopPropagation()}),t.TgZ(1,"popper-content",null,7)(3,"div",8)(4,"span"),t._uU(5),t.qZA()()(),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t.TgZ(8,"span",10),t._uU(9),t.qZA()()),2&o){const e=l.$implicit,r=t.MAs(2),a=t.oxw(2);t.ekj("str-chat__message-reaction-own",a.isOwnReaction(e)),t.Q6J("popper",r)("popperTrigger",a.popperTriggerHover)("popperPlacement",a.popperPlacementAuto)("popperHideOnScroll",!1)("popperHideOnClickOutside",!1),t.xp6(5),t.hij(" ",a.getUsersByReaction(e)," "),t.xp6(2),t.hij(" ",a.getEmojiByReaction(e),"\xa0 "),t.xp6(2),t.hij(" ",a.messageReactionCounts[e]," ")}}function Fm(o,l){if(1&o&&(t.TgZ(0,"div",2)(1,"ul",3),t.YNc(2,Om,10,10,"li",4),t.TgZ(3,"li")(4,"span",5),t._uU(5),t.qZA()()()()),2&o){const e=t.oxw();t.ekj("str-chat__reaction-list--reverse",!0)("str-chat__reaction-list-hidden",e.isSelectorOpen),t.xp6(2),t.Q6J("ngForOf",e.existingReactions)("ngForTrackBy",e.trackByMessageReaction),t.xp6(3),t.Oqu(e.reactionsCount)}}const Su=function(o,l){return{left:o,visibility:l}},km=function(o){return{left:o}};function Rm(o,l){if(1&o&&(t.TgZ(0,"div",16,17),t._UZ(2,"div",18),t.TgZ(3,"span",19),t._uU(4),t.qZA()()),2&o){const e=t.oxw(2);t.Q6J("ngStyle",t.WLB(3,Su,(null==e.tooltipPositions?null:e.tooltipPositions.tooltip)+"px",e.tooltipPositions?"visible":"hidden")),t.xp6(2),t.Q6J("ngStyle",t.VKq(6,km,(null==e.tooltipPositions?null:e.tooltipPositions.arrow)+"px")),t.xp6(2),t.hij(" ",e.tooltipText," ")}}function Lm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.hideTooltip())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.hideTooltip())})("mouseenter",function(a){t.CHM(e);const d=t.oxw().$implicit,h=t.oxw(2);return t.KtG(h.showTooltip(a,d))})("mouseleave",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.hideTooltip())}),t._UZ(1,"stream-avatar-placeholder",25),t.qZA()}if(2&o){const e=l.ngIf,r=t.oxw().$implicit;t.Q2q("data-testid","",r,"-last-user"),t.xp6(1),t.Q2q("data-testid","",r,"-avatar"),t.Q6J("imageUrl",e.image)("name",e.name||e.id)("size",20)}}function Pm(o,l){if(1&o&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit,r=t.oxw(2);t.Q2q("data-testid","",e,"-reaction-count"),t.xp6(1),t.hij(" ",r.messageReactionCounts[e]," ")}}function Nm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"li",20),t.NdJ("click",function(){const d=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.react(d))})("keyup.enter",function(){const d=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.react(d))}),t.YNc(1,Lm,2,5,"div",21),t.TgZ(2,"span",22),t._uU(3),t.qZA(),t.YNc(4,Pm,2,2,"span",23),t.qZA()}if(2&o){const e=l.$implicit,r=t.oxw(2);t.ekj("str-chat__message-reactions-option-selected",r.isOwnReaction(e)),t.xp6(1),t.Q6J("ngIf",r.getLatestUserByReaction(e)),t.xp6(2),t.hij(" ",r.getEmojiByReaction(e)," "),t.xp6(1),t.Q6J("ngIf",r.messageReactionCounts[e]&&r.messageReactionCounts[e]>0)}}function ps(o,l){if(1&o&&(t.TgZ(0,"div",11,12),t.YNc(2,Rm,5,8,"div",13),t.TgZ(3,"ul",14),t.YNc(4,Nm,5,5,"li",15),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.tooltipText),t.xp6(2),t.Q6J("ngForOf",e.reactionOptions)("ngForTrackBy",e.trackByMessageReaction)}}function Mu(o,l){1&o&&t.GkF(0)}function Um(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Mu,1,0,"ng-container",20),t.BQk()),2&o){t.oxw(3);const e=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function jm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-message-actions-box",29),t.NdJ("displayedActionsCount",function(a){const h=t.CHM(e).displayedActionsCountChangeHandler;return t.KtG(h(a))})("isEditing",function(a){const h=t.CHM(e).isEditingChangeHandler;return t.KtG(h(a))}),t.qZA()}if(2&o){const r=l.isMine,a=l.enabledActions,d=l.message,h=l.customActions;t.Q6J("isOpen",l.isOpen)("isMine",r)("enabledActions",a)("message",d)("customActions",h)}}function ef(o,l){1&o&&t.GkF(0)}function Bm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isActionBoxOpen=!a.isActionBoxOpen)})("keyup.enter",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isActionBoxOpen=!a.isActionBoxOpen)}),t._UZ(1,"stream-icon-placeholder",31),t.qZA()}}function $m(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAsActiveParentMessage())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.setAsActiveParentMessage())}),t._UZ(1,"stream-icon-placeholder",33),t.qZA()}}function Hm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isReactionSelectorOpen=!a.isReactionSelectorOpen)})("keyup.enter",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.isReactionSelectorOpen=!a.isReactionSelectorOpen)}),t._UZ(1,"stream-icon-placeholder",35),t.qZA()}}function xu(o,l){if(1&o&&(t.TgZ(0,"div",21)(1,"div",22,23)(3,"popper-content",null,24),t.YNc(5,jm,1,5,"ng-template",null,25,t.W1O),t.YNc(7,ef,1,0,"ng-container",16),t.ALo(8,"async"),t.qZA(),t.YNc(9,Bm,2,0,"div",26),t.qZA(),t.YNc(10,$m,2,0,"div",27),t.YNc(11,Hm,2,0,"div",28),t.qZA()),2&o){const e=t.MAs(4),r=t.MAs(6),a=t.oxw(3);t.ekj("str-chat__message-edit-in-progress",a.isEditing),t.xp6(1),t.ekj("str-chat-angular__message-simple__actions__action--options--editing",a.isEditing),t.Q6J("popper",e)("popperTrigger",a.popperTriggerClick)("popperPlacement",a.popperPlacementAuto)("popperHideOnScroll",!1)("popperHideOnClickOutside",!0)("popperHideOnMouseLeave",!1)("popperDisableAnimation",!0),t.xp6(6),t.Q6J("ngTemplateOutlet",t.lcZ(8,16,a.customTemplatesService.messageActionsBoxTemplate$)||r)("ngTemplateOutletContext",a.getMessageActionsBoxContext()),t.xp6(2),t.Q6J("ngIf",a.visibleMessageActionsCount>0),t.xp6(1),t.Q6J("ngIf",-1!==a.enabledMessageActions.indexOf("send-reply")&&"main"===a.mode),t.xp6(1),t.Q6J("ngIf",a.canReactToMessage)}}function Zm(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-message-reactions",36),t.NdJ("isSelectorOpenChange",function(a){const h=t.CHM(e).isSelectorOpenChangeHandler;return t.KtG(h(a))}),t.qZA()}if(2&o){const r=l.latestReactions,a=l.isSelectorOpen,d=l.messageId,h=l.ownReactions;t.Q6J("messageReactionCounts",l.messageReactionCounts)("latestReactions",r)("isSelectorOpen",a)("messageId",d)("ownReactions",h)}}function Vm(o,l){1&o&&t.GkF(0)}function Kl(o,l){1&o&&t.GkF(0)}function Iu(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Kl,1,0,"ng-container",20),t.BQk()),2&o){t.oxw(3);const e=t.MAs(16);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ql(o,l){1&o&&t.GkF(0)}function Wv(o,l){1&o&&t.GkF(0)}function Au(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Wv,1,0,"ng-container",20),t.BQk()),2&o){t.oxw(4);const e=t.MAs(16);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function qv(o,l){1&o&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"streamChat.Error \xb7 Unsent")," "))}function tf(o,l){if(1&o&&(t.TgZ(0,"div",44),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,1,403===(null==e.message?null:e.message.errorStatusCode)?"streamChat.Message Failed \xb7 Unauthorized":"streamChat.Message Failed \xb7 Click to try again")," ")}}function nf(o,l){if(1&o&&t._UZ(0,"span",48),2&o){const e=t.oxw().$implicit;t.Q6J("innerHTML",e.content,t.oJD)}}function rf(o,l){if(1&o&&(t.TgZ(0,"span",50),t._uU(1),t.qZA()),2&o){const e=l.content;t.xp6(1),t.Oqu(e)}}function sf(o,l){1&o&&t.GkF(0)}function Ou(o,l){if(1&o&&(t.YNc(0,rf,2,1,"ng-template",null,49,t.W1O),t.YNc(2,sf,1,0,"ng-container",16),t.ALo(3,"async")),2&o){const e=t.MAs(1),r=t.oxw().$implicit,a=t.oxw(5);t.xp6(2),t.Q6J("ngTemplateOutlet",t.lcZ(3,2,a.customTemplatesService.mentionTemplate$)||e)("ngTemplateOutletContext",a.getMentionContext(r))}}function Ps(o,l){if(1&o&&(t.ynx(0),t.YNc(1,nf,1,1,"span",46),t.YNc(2,Ou,4,4,"ng-template",null,47,t.W1O),t.BQk()),2&o){const e=l.$implicit,r=t.MAs(3);t.xp6(1),t.Q6J("ngIf","text"===e.type)("ngIfElse",r)}}function Xl(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Ps,4,2,"ng-container",45),t.BQk()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.messageTextParts)}}function ec(o,l){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.messageText||""," ")}}function ul(o,l){if(1&o&&t._UZ(0,"span",52),2&o){const e=t.oxw(5);t.Q6J("innerHTML",e.messageText,t.oJD)}}function zm(o,l){if(1&o&&(t.YNc(0,ec,2,1,"ng-container",2),t.YNc(1,ul,1,1,"ng-template",null,51,t.W1O)),2&o){const e=t.MAs(2),r=t.oxw(4);t.Q6J("ngIf","text"===r.displayAs)("ngIfElse",e)}}function af(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG("failed"===(null==a.message?null:a.message.status)&&403!==(null==a.message?null:a.message.errorStatusCode)?a.resendMessage():void 0)})("keyup.enter",function(){t.CHM(e);const a=t.oxw(3);return t.KtG("failed"===(null==a.message?null:a.message.status)&&403!==(null==a.message?null:a.message.errorStatusCode)?a.resendMessage():void 0)}),t.YNc(2,Ql,1,0,"ng-container",20),t.YNc(3,Au,2,1,"ng-container",10),t.YNc(4,qv,3,3,"div",39),t.YNc(5,tf,3,3,"div",40),t.TgZ(6,"div",41)(7,"p"),t.YNc(8,Xl,2,1,"ng-container",2),t.YNc(9,zm,3,2,"ng-template",null,42,t.W1O),t.qZA()()()()}if(2&o){const e=t.MAs(10),r=t.oxw(3),a=t.MAs(8);t.xp6(1),t.ekj("str-chat__message-light-text-inner--has-attachment",r.hasAttachment),t.xp6(1),t.Q6J("ngTemplateOutlet",a),t.xp6(1),t.Q6J("ngIf",r.hasAttachment&&(null==r.message?null:r.message.quoted_message)),t.xp6(1),t.Q6J("ngIf","error"===(null==r.message?null:r.message.type)),t.xp6(1),t.Q6J("ngIf","failed"===(null==r.message?null:r.message.status)),t.xp6(3),t.Q6J("ngIf",r.messageTextParts)("ngIfElse",e)}}function lf(o,l){1&o&&t._UZ(0,"stream-icon-placeholder",53)}function Gm(o,l){1&o&&t.GkF(0)}function Ym(o,l){1&o&&t.GkF(0)}function dl(o,l){1&o&&t.GkF(0)}function Wm(o,l){1&o&&t.GkF(0)}const qm=function(){return{position:"inside-message-bubble"}},Jm=function(o){return{position:"outside-message-bubble",message:o}},Km=function(){return{position:"outside-message-bubble"}};function Qm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Um,2,1,"ng-container",10),t._UZ(2,"stream-avatar-placeholder",11),t.TgZ(3,"div",12),t.YNc(4,xu,12,18,"div",13),t.TgZ(5,"div",14),t.YNc(6,Zm,1,5,"ng-template",null,15,t.W1O),t.YNc(8,Vm,1,0,"ng-container",16),t.ALo(9,"async"),t.qZA(),t.TgZ(10,"div",17),t.YNc(11,Iu,2,1,"ng-container",10),t.YNc(12,af,11,8,"div",18),t.YNc(13,lf,1,0,"stream-icon-placeholder",19),t.qZA(),t.YNc(14,Gm,1,0,"ng-container",16),t.YNc(15,Ym,1,0,"ng-container",16),t.qZA(),t.YNc(16,dl,1,0,"ng-container",16),t.YNc(17,Wm,1,0,"ng-container",16),t.BQk()),2&o){const e=t.MAs(7),r=t.oxw(2),a=t.MAs(14),d=t.MAs(10);t.xp6(1),t.Q6J("ngIf","1"===r.themeVersion),t.xp6(1),t.Q6J("imageUrl",null==r.message||null==r.message.user?null:r.message.user.image)("name",(null==r.message||null==r.message.user?null:r.message.user.name)||(null==r.message||null==r.message.user?null:r.message.user.id))("user",(null==r.message?null:r.message.user)||void 0),t.xp6(2),t.Q6J("ngIf",r.areOptionsVisible&&r.optionsRenderTimeoutEnded),t.xp6(4),t.Q6J("ngTemplateOutlet",t.lcZ(9,21,r.customTemplatesService.messageReactionsTemplate$)||e)("ngTemplateOutletContext",r.getMessageReactionsContext()),t.xp6(2),t.Jzz("transform: ","opened"===r.imageAttachmentModalState?"none":"translate3d(0, 0, 0)",""),t.xp6(1),t.Q6J("ngIf",r.hasAttachment&&!(null!=r.message&&r.message.quoted_message)),t.xp6(1),t.Q6J("ngIf",(null==r.message?null:r.message.text)||(null==r.message?null:r.message.quoted_message)&&r.hasAttachment),t.xp6(1),t.Q6J("ngIf","2"===r.themeVersion),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.DdM(23,qm)),t.xp6(1),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.DdM(24,qm)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(25,Jm,r.message)),t.xp6(1),t.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",t.DdM(27,Km))}}function Xm(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Qm,18,28,"ng-container",2),t.BQk()),2&o){const e=t.oxw(),r=t.MAs(6);t.xp6(1),t.Q6J("ngIf","system"!==(null==e.message?null:e.message.type))("ngIfElse",r)}}function e_(o,l){1&o&&(t.TgZ(0,"div",54)(1,"div",55),t._uU(2," streamChat.This message was deleted... "),t.qZA()())}function t_(o,l){1&o&&t.GkF(0)}function n_(o,l){if(1&o&&(t.TgZ(0,"div",57)(1,"div",58),t._UZ(2,"div",59),t.TgZ(3,"p"),t._uU(4),t.qZA(),t._UZ(5,"div",59),t.qZA(),t.TgZ(6,"div",60),t._uU(7),t.qZA()()),2&o){const e=l.message,r=t.oxw(2);t.xp6(4),t.Oqu(null==e?null:e.text),t.xp6(3),t.hij(" ",r.parsedDate," ")}}function cf(o,l){if(1&o&&(t.YNc(0,t_,1,0,"ng-container",16),t.ALo(1,"async"),t.YNc(2,n_,8,2,"ng-template",null,56,t.W1O)),2&o){const e=t.MAs(3),r=t.oxw();t.Q6J("ngTemplateOutlet",t.lcZ(1,2,r.customTemplatesService.systemMessageTemplate$)||e)("ngTemplateOutletContext",r.getMessageContext())}}function uf(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-attachment-list",67),t.NdJ("imageModalStateChange",function(a){const h=t.CHM(e).imageModalStateChangeHandler;return t.KtG(h(a))}),t.qZA()}if(2&o){const r=l.attachments,a=l.parentMessageId;t.Q6J("messageId",l.messageId)("attachments",r)("parentMessageId",a)}}function i_(o,l){1&o&&t.GkF(0)}function Fu(o,l){if(1&o&&(t.ynx(0),t.YNc(1,uf,1,3,"ng-template",null,66,t.W1O),t.YNc(3,i_,1,0,"ng-container",16),t.ALo(4,"async"),t.BQk()),2&o){const e=t.MAs(2),r=t.oxw(3);t.xp6(3),t.Q6J("ngTemplateOutlet",t.lcZ(4,2,r.customTemplatesService.attachmentListTemplate$)||e)("ngTemplateOutletContext",r.getQuotedMessageAttachmentListContext())}}function r_(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",62),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.jumpToMessage((null==a.message?null:a.message.quoted_message).id,null==a.message||null==a.message.quoted_message?null:a.message.quoted_message.parent_id))})("keyup.enter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.jumpToMessage((null==a.message?null:a.message.quoted_message).id,null==a.message||null==a.message.quoted_message?null:a.message.quoted_message.parent_id))}),t._UZ(1,"stream-avatar-placeholder",63),t.TgZ(2,"div",64),t.YNc(3,Fu,5,4,"ng-container",10),t._UZ(4,"div",65),t.qZA()()}if(2&o){const e=t.oxw(2);t.ekj("mine",e.isSentByCurrentUser),t.xp6(1),t.Q6J("imageUrl",null==e.message||null==e.message.quoted_message||null==e.message.quoted_message.user?null:e.message.quoted_message.user.image)("name",(null==e.message||null==e.message.quoted_message||null==e.message.quoted_message.user?null:e.message.quoted_message.user.name)||(null==e.message||null==e.message.quoted_message||null==e.message.quoted_message.user?null:e.message.quoted_message.user.id))("size",20)("user",(null==e.message||null==e.message.quoted_message?null:e.message.quoted_message.user)||void 0),t.xp6(2),t.Q6J("ngIf",(null==e.message||null==e.message.quoted_message?null:e.message.quoted_message.attachments)&&(null==e.message||null==e.message.quoted_message||null==e.message.quoted_message.attachments?null:e.message.quoted_message.attachments.length)),t.xp6(1),t.Q6J("innerHTML",(null==e.message||null==e.message.quoted_message?null:e.message.quoted_message.translation)||(null==e.message||null==e.message.quoted_message?null:e.message.quoted_message.html)||(null==e.message||null==e.message.quoted_message?null:e.message.quoted_message.text),t.oJD)}}function s_(o,l){if(1&o&&t.YNc(0,r_,5,8,"div",61),2&o){const e=t.oxw();t.Q6J("ngIf",null==e.message?null:e.message.quoted_message)}}function o_(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",75),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.displayOriginalMessage())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.displayOriginalMessage())}),t._uU(1," streamChat.See original (automatically translated) "),t.qZA()}}function a_(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",76),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.displayTranslatedMessage())})("keyup.enter",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.displayTranslatedMessage())}),t._uU(1," streamChat.See translation "),t.qZA()}}function l_(o,l){if(1&o&&(t.TgZ(0,"div",72),t.YNc(1,o_,2,0,"button",73),t.YNc(2,a_,2,0,"button",74),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","translation"===e.displayedMessageTextContent),t.xp6(1),t.Q6J("ngIf","original"===e.displayedMessageTextContent)}}function c_(o,l){1&o&&t.GkF(0)}function u_(o,l){if(1&o&&(t.ynx(0),t.YNc(1,c_,1,0,"ng-container",20),t.BQk()),2&o){t.oxw(3);const e=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function df(o,l){if(1&o&&(t.TgZ(0,"span",77),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",null!=e.message&&null!=e.message.user&&e.message.user.name?null==e.message||null==e.message.user?null:e.message.user.name:null==e.message||null==e.message.user?null:e.message.user.id," ")}}function hf(o,l){if(1&o&&(t.ynx(0),t.YNc(1,l_,3,2,"div",68),t.TgZ(2,"div",69),t.YNc(3,u_,2,1,"ng-container",10),t.YNc(4,df,2,1,"span",70),t.TgZ(5,"span",71),t._uU(6),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.shouldDisplayTranslationNotice),t.xp6(2),t.Q6J("ngIf","2"===e.themeVersion),t.xp6(1),t.Q6J("ngIf",!e.isSentByCurrentUser),t.xp6(2),t.hij(" ",e.parsedDate," ")}}function d_(o,l){if(1&o&&t.YNc(0,hf,7,4,"ng-container",10),2&o){const e=l.position,r=t.oxw();t.Q6J("ngIf","inside-message-bubble"===e&&"1"===r.themeVersion||"outside-message-bubble"===e&&"2"===r.themeVersion)}}function Jv(o,l){1&o&&t.GkF(0)}function ff(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Jv,1,0,"ng-container",20),t.BQk()),2&o){t.oxw();const e=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function tc(o,l){1&o&&t.GkF(0)}function Mo(o,l){if(1&o&&(t.ynx(0),t.YNc(1,tc,1,0,"ng-container",20),t.BQk()),2&o){t.oxw(2);const e=t.MAs(13);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Kv(o,l){if(1&o&&t.YNc(0,Mo,2,1,"ng-container",2),2&o){t.oxw();const e=t.MAs(5),r=t.oxw(2);t.Q6J("ngIf","main"===r.mode&&r.isMessageDeliveredAndRead&&r.canDisplayReadStatus)("ngIfElse",e)}}function hl(o,l){1&o&&t.GkF(0)}function h_(o,l){if(1&o&&(t.YNc(0,hl,1,0,"ng-container",16),t.ALo(1,"async")),2&o){t.oxw();const e=t.MAs(7),r=t.oxw(2);t.Q6J("ngTemplateOutlet",t.lcZ(1,2,r.customTemplatesService.deliveredStatusTemplate$)||e)("ngTemplateOutletContext",r.getDeliveredStatusContext())}}function f_(o,l){if(1&o&&(t.TgZ(0,"span",86),t.NdJ("hover",function(r){return r.stopPropagation()}),t.TgZ(1,"popper-content",null,24)(3,"div",87),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t._UZ(6,"stream-icon-placeholder",88),t.qZA()),2&o){const e=t.MAs(2),r=t.oxw(4);t.Q6J("popper",e)("popperTrigger",r.popperTriggerHover)("popperPlacement",r.popperPlacementAuto)("popperHideOnScroll",!1)("popperHideOnClickOutside",!1),t.xp6(4),t.hij(" ",t.lcZ(5,6,"streamChat.Delivered")," ")}}function ku(o,l){if(1&o&&t.YNc(0,f_,7,8,"span",85),2&o){const e=t.oxw(3);t.Q6J("ngIf","main"===e.mode)}}function p_(o,l){1&o&&t.GkF(0)}function gs(o,l){if(1&o&&(t.YNc(0,p_,1,0,"ng-container",16),t.ALo(1,"async")),2&o){t.oxw();const e=t.MAs(11),r=t.oxw(2);t.Q6J("ngTemplateOutlet",t.lcZ(1,2,r.customTemplatesService.sendingStatusTemplate$)||e)("ngTemplateOutletContext",r.getSendingStatusContext())}}function fl(o,l){if(1&o&&(t.TgZ(0,"span",89),t.NdJ("hover",function(r){return r.stopPropagation()}),t.TgZ(1,"popper-content",null,24)(3,"div",87),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t._UZ(6,"stream-loading-indicator-placeholder",90),t.qZA()),2&o){const e=t.MAs(2),r=t.oxw(3);t.Q6J("popper",e)("popperTrigger",r.popperTriggerHover)("popperPlacement",r.popperPlacementAuto)("popperHideOnScroll",!1)("popperHideOnClickOutside",!1),t.xp6(4),t.hij(" ",t.lcZ(5,6,"streamChat.Sending...")," ")}}function Ni(o,l){1&o&&t.GkF(0)}function xo(o,l){if(1&o&&(t.YNc(0,Ni,1,0,"ng-container",16),t.ALo(1,"async")),2&o){t.oxw();const e=t.MAs(15),r=t.oxw(2);t.Q6J("ngTemplateOutlet",t.lcZ(1,2,r.customTemplatesService.readStatusTemplate$)||e)("ngTemplateOutletContext",r.getReadStatusContext())}}function nc(o,l){if(1&o&&(t.TgZ(0,"span",95),t._uU(1),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.hij(" ",(null==e.message?null:e.message.readBy).length," ")}}function Nr(o,l){if(1&o&&(t.TgZ(0,"span",91),t.NdJ("hover",function(r){return r.stopPropagation()}),t.TgZ(1,"popper-content",null,24)(3,"div",92),t._uU(4),t.qZA()(),t._UZ(5,"stream-avatar-placeholder",93),t.YNc(6,nc,2,1,"span",94),t.qZA()),2&o){const e=t.MAs(2),r=t.oxw(3);t.Q6J("popper",e)("popperTrigger",r.popperTriggerHover)("popperPlacement",r.popperPlacementAuto)("popperHideOnScroll",!1)("popperHideOnClickOutside",!1),t.xp6(4),t.hij(" ",r.readByText," "),t.xp6(1),t.Q6J("size",15)("imageUrl",null==r.lastReadUser?null:r.lastReadUser.image)("name",(null==r.lastReadUser?null:r.lastReadUser.name)||(null==r.lastReadUser?null:r.lastReadUser.id))("user",r.lastReadUser),t.xp6(1),t.Q6J("ngIf",r.isReadByMultipleUsers)}}function Ru(o,l){if(1&o&&(t.ynx(0),t.YNc(1,ff,2,1,"ng-container",2),t.YNc(2,Kv,1,2,"ng-template",null,78,t.W1O),t.YNc(4,h_,2,4,"ng-template",null,79,t.W1O),t.YNc(6,ku,1,1,"ng-template",null,80,t.W1O),t.YNc(8,gs,2,4,"ng-template",null,81,t.W1O),t.YNc(10,fl,7,8,"ng-template",null,82,t.W1O),t.YNc(12,xo,2,4,"ng-template",null,83,t.W1O),t.YNc(14,Nr,7,11,"ng-template",null,84,t.W1O),t.BQk()),2&o){const e=t.MAs(3),r=t.oxw(2);t.xp6(1),t.Q6J("ngIf","sending"===(null==r.message?null:r.message.status))("ngIfElse",e)}}function da(o,l){if(1&o&&t.YNc(0,Ru,16,2,"ng-container",10),2&o){const e=t.oxw();t.Q6J("ngIf",e.isSentByCurrentUser&&(e.isLastSentMessage&&"received"===(null==e.message?null:e.message.status)||"sending"===(null==e.message?null:e.message.status)))}}function ha(o,l){1&o&&t._UZ(0,"stream-icon-placeholder",101)}function fa(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.setAsActiveParentMessage())}),t.YNc(1,ha,1,0,"stream-icon-placeholder",100),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","1"===e.themeVersion),t.xp6(1),t.hij(" ",1===(null==e.message?null:e.message.reply_count)?t.lcZ(3,2,"streamChat.1 reply"):t.xi3(4,4,"streamChat.{{ replyCount }} replies",e.replyCountParam)," ")}}function pa(o,l){if(1&o&&(t.TgZ(0,"div",97),t.YNc(1,fa,5,7,"button",98),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.shouldDisplayThreadLink)}}function ga(o,l){if(1&o&&t.YNc(0,pa,2,1,"div",96),2&o){const e=l.position,r=t.oxw();t.Q6J("ngIf","inside-message-bubble"===e&&"1"===r.themeVersion||"outside-message-bubble"===e&&"2"===r.themeVersion)}}function ma(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"stream-attachment-list",67),t.NdJ("imageModalStateChange",function(a){const h=t.CHM(e).imageModalStateChangeHandler;return t.KtG(h(a))}),t.qZA()}if(2&o){const r=l.attachments,a=l.parentMessageId;t.Q6J("messageId",l.messageId)("attachments",r)("parentMessageId",a)}}function _a(o,l){1&o&&t.GkF(0)}function va(o,l){if(1&o&&(t.YNc(0,ma,1,3,"ng-template",null,66,t.W1O),t.YNc(2,_a,1,0,"ng-container",16),t.ALo(3,"async")),2&o){const e=t.MAs(1),r=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",t.lcZ(3,2,r.customTemplatesService.attachmentListTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentListContext())}}const ya=["input"];function Lu(o,l){1&o&&t.GkF(0)}const Pu=function(o){return{item:o}};function pf(o,l){if(1&o&&(t.TgZ(0,"div",7),t.YNc(1,Lu,1,0,"ng-container",8),t.qZA()),2&o){const e=t.oxw().item,r=t.oxw(),a=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",r.mentionAutocompleteItemTemplate||a)("ngTemplateOutletContext",t.VKq(2,Pu,e))}}function gf(o,l){1&o&&t.GkF(0)}function mf(o,l){if(1&o&&(t.TgZ(0,"div",7),t.YNc(1,gf,1,0,"ng-container",8),t.qZA()),2&o){const e=t.oxw().item,r=t.oxw(),a=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",r.commandAutocompleteItemTemplate||a)("ngTemplateOutletContext",t.VKq(2,Pu,e))}}function _f(o,l){1&o&&(t.TgZ(0,"div",5),t.YNc(1,pf,2,4,"div",6),t.YNc(2,mf,2,4,"div",6),t.qZA()),2&o&&(t.Q6J("ngSwitch",l.item.type),t.xp6(1),t.Q6J("ngSwitchCase","mention"),t.xp6(1),t.Q6J("ngSwitchCase","command"))}function vf(o,l){if(1&o&&(t.TgZ(0,"div",9)(1,"span",10)(2,"strong",11),t._uU(3),t.qZA(),t.TgZ(4,"span",12),t._uU(5),t.qZA()(),t._UZ(6,"br"),t.qZA()),2&o){const e=l.item;t.xp6(3),t.Oqu(e.name),t.xp6(2),t.AsE("/",e.name," ",e.args,"")}}function yf(o,l){1&o&&(t.TgZ(0,"div",17),t._uU(1,"@"),t.qZA())}function Cf(o,l){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"stream-avatar-placeholder",14),t.TgZ(2,"span",15),t._uU(3),t.qZA(),t.YNc(4,yf,2,0,"div",16),t.qZA()),2&o){const e=l.item,r=t.oxw();t.xp6(1),t.Akn("height: "+r.themeVersion=="2"?56:"20px"),t.Q6J("size","2"===r.themeVersion?56:20)("imageUrl",e.image||(null==e.user?null:e.user.image))("name",e.autocompleteLabel)("user",e.user||e),t.xp6(2),t.Oqu(e.autocompleteLabel),t.xp6(1),t.Q6J("ngIf","2"===r.themeVersion)}}const g_=["scrollContainer"],m_=["parentMessageElement"];function Df(o,l){1&o&&t.GkF(0)}function __(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Df,1,0,"ng-container",15),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.emptyListTemplate)}}function wf(o,l){1&o&&t.GkF(0)}const Nu=function(o){return{message:o,index:"parent"}};function Uu(o,l){if(1&o&&(t.TgZ(0,"li",16,17),t.YNc(2,wf,1,0,"ng-container",9),t.TgZ(3,"div",18),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA()()),2&o){const e=t.oxw(),r=t.MAs(17);t.xp6(2),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(8,Nu,e.parentMessage)),t.xp6(2),t.hij(" ",1===(null==e.parentMessage?null:e.parentMessage.reply_count)?t.lcZ(5,3,"streamChat.1 reply"):t.xi3(6,5,"streamChat.{{ replyCount }} replies",e.replyCountParam)," ")}}function v_(o,l){1&o&&t.GkF(0)}function ic(o,l){if(1&o&&(t.ynx(0),t.YNc(1,v_,1,0,"ng-container",15),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.emptyListTemplate)}}function rc(o,l){1&o&&t._UZ(0,"stream-loading-indicator",19)}function ju(o,l){1&o&&t.GkF(0)}const y_=function(o,l){return{date:o,parsedDate:l,isNewMessage:!1}};function sc(o,l){if(1&o&&(t.ynx(0),t.YNc(1,ju,1,0,"ng-container",9),t.BQk()),2&o){const e=t.oxw().$implicit,r=t.oxw(2),a=t.MAs(19);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.WLB(2,y_,e.created_at,r.parseDate(e.created_at)))}}function oc(o,l){1&o&&t.GkF(0)}function Bu(o,l){1&o&&t.GkF(0)}function bf(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Bu,1,0,"ng-container",15),t.BQk()),2&o){const e=t.oxw(3),r=t.MAs(21);t.xp6(1),t.Q6J("ngTemplateOutlet",e.customnewMessagesIndicatorTemplate||r)}}function $u(o,l){1&o&&t.GkF(0)}const Hu=function(o,l,e){return{date:o,parsedDate:l,isNewMessage:e}};function Tf(o,l){if(1&o&&(t.ynx(0),t.YNc(1,$u,1,0,"ng-container",9),t.BQk()),2&o){const e=t.oxw(),r=e.index,a=e.$implicit,d=t.oxw().ngIf,h=t.oxw(),p=t.MAs(19);t.xp6(1),t.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",t.kEZ(2,Hu,d[r+1].created_at,h.parseDate(d[r+1].created_at),"bottom-to-top"===h.direction&&a.id===h.lastReadMessageId&&!h.isSentByCurrentUser(d[r+1])||"top-to-bottom"===h.direction&&!1))}}const Zu=function(o,l){return{message:o,index:l}};function Ef(o,l){if(1&o&&(t.ynx(0),t.YNc(1,sc,2,5,"ng-container",2),t.TgZ(2,"li",21),t.YNc(3,oc,1,0,"ng-container",9),t.qZA(),t.YNc(4,bf,2,1,"ng-container",2),t.YNc(5,Tf,2,6,"ng-container",2),t.BQk()),2&o){const e=l.$implicit,r=l.index,a=l.first,d=l.last,h=t.oxw().ngIf,p=t.oxw(),_=t.MAs(17);t.xp6(1),t.Q6J("ngIf",a),t.xp6(1),t.Gre("str-chat__li str-chat__li--",p.groupStyles[r],""),t.s9C("id",e.id),t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.WLB(9,Zu,e,r)),t.xp6(1),t.Q6J("ngIf",!((p.lastReadMessageId!==e.id||d||"bottom-to-top"!==p.direction||p.isSentByCurrentUser(h[r+1])||p.displayDateSeparator&&p.isNextMessageOnSeparateDate[r])&&("top-to-bottom"!==p.direction||d||p.isSentByCurrentUser(e)||p.lastReadMessageId!==h[r+1].id))),t.xp6(1),t.Q6J("ngIf",p.isNextMessageOnSeparateDate[r])}}function C_(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Ef,6,12,"ng-container",20),t.BQk()),2&o){const e=l.ngIf,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",r.trackByMessageId)}}function Sf(o,l){1&o&&t._UZ(0,"stream-loading-indicator",22)}const Mf=function(o){return{user:o}},xf=function(o){return{users:o}};function If(o,l){if(1&o&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"span",26)(3,"span",26)(4,"span",26),t.qZA(),t.TgZ(5,"div",27),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA()()),2&o){const e=t.oxw().ngIf,r=t.oxw(2);t.xp6(6),t.hij(" ",1===e.length?t.xi3(7,1,"streamChat.user is typing",t.VKq(7,Mf,r.getTypingIndicatorText(e))):t.xi3(8,4,"streamChat.users are typing",t.VKq(9,xf,r.getTypingIndicatorText(e)))," ")}}function D_(o,l){if(1&o&&(t.ynx(0),t.YNc(1,If,9,11,"div",23),t.BQk()),2&o){const e=l.ngIf;t.xp6(1),t.Q6J("ngIf",e.length>0)}}function Af(o,l){1&o&&(t.YNc(0,D_,2,1,"ng-container",2),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,l.usersTyping$))}function Of(o,l){1&o&&t.GkF(0)}function Vu(o,l){if(1&o&&(t.TgZ(0,"div",31),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.unreadMessageCount," ")}}function zu(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("keyup.enter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.jumpToLatestMessage())})("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.jumpToLatestMessage())}),t._UZ(1,"stream-icon",29),t.YNc(2,Vu,2,1,"div",30),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("icon","bottom-to-top"===e.direction?"arrow-down":"arrow-up"),t.xp6(1),t.Q6J("ngIf",e.unreadMessageCount>0)}}function Ff(o,l){if(1&o&&t._UZ(0,"stream-message",33),2&o){const r=l.isLastSentMessage,a=l.enabledMessageActions,d=l.mode,h=l.isHighlighted,p=l.customActions;t.Q6J("message",l.message)("isLastSentMessage",r)("enabledMessageActions",a)("mode",d)("isHighlighted",h)("customActions",p)}}function kf(o,l){1&o&&t.GkF(0)}const Rf=function(o,l,e,r,a,d){return{message:o,isLastSentMessage:l,enabledMessageActions:e,mode:r,isHighlighted:a,customActions:d}};function Lf(o,l){if(1&o&&(t.YNc(0,Ff,1,6,"ng-template",null,32,t.W1O),t.YNc(2,kf,1,0,"ng-container",9)),2&o){const e=l.message,r=t.MAs(1),a=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",a.messageTemplate||r)("ngTemplateOutletContext",t.HTZ(2,Rf,e,!(!a.lastSentMessageId||(null==e?null:e.id)!==a.lastSentMessageId),a.enabledMessageActions,a.mode,(null==e?null:e.id)===a.highlightedMessageId&&!a.isJumpingToLatestUnreadMessage,a.customMessageActions))}}function Pf(o,l){1&o&&t.GkF(0)}function Nf(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Pf,1,0,"ng-container",9),t.BQk()),2&o){const e=t.oxw(),r=e.date,a=e.parsedDate,d=e.isNewMessage,h=t.MAs(2),p=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",p.customDateSeparatorTemplate||h)("ngTemplateOutletContext",t.kEZ(2,Hu,r,a,d))}}function Uf(o,l){1&o&&t._UZ(0,"hr",39)}function jf(o,l){1&o&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij("\u2022 ",t.lcZ(2,1,"streamChat.New"),""))}function ac(o,l){1&o&&t._UZ(0,"hr",39)}function Qs(o,l){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,Uf,1,0,"hr",36),t.TgZ(2,"div",37),t._uU(3),t.YNc(4,jf,3,3,"span",38),t.qZA(),t.YNc(5,ac,1,0,"hr",36),t.qZA()),2&o){const e=l.parsedDate,r=l.isNewMessage,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","right"===a.dateSeparatorTextPos||"center"===a.dateSeparatorTextPos),t.xp6(2),t.hij(" ",e," "),t.xp6(1),t.Q6J("ngIf",r),t.xp6(1),t.Q6J("ngIf","left"===a.dateSeparatorTextPos||"center"===a.dateSeparatorTextPos)}}function w_(o,l){if(1&o&&(t.YNc(0,Nf,2,6,"ng-container",2),t.YNc(1,Qs,6,4,"ng-template",null,34,t.W1O)),2&o){const e=t.oxw();t.Q6J("ngIf",e.displayDateSeparator)}}function b_(o,l){1&o&&t._UZ(0,"hr",39)}function Gu(o,l){1&o&&t._UZ(0,"hr",39)}function Io(o,l){if(1&o&&(t.TgZ(0,"div",41),t.YNc(1,b_,1,0,"hr",36),t.TgZ(2,"div",42),t._uU(3,"streamChat.New"),t.qZA(),t.YNc(4,Gu,1,0,"hr",36),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","right"===e.dateSeparatorTextPos||"center"===e.dateSeparatorTextPos),t.xp6(3),t.Q6J("ngIf","left"===e.dateSeparatorTextPos||"center"===e.dateSeparatorTextPos)}}function Yu(o,l){1&o&&t.GkF(0)}function T_(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._uU(3," streamChat.Thread "),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()(),t.TgZ(6,"button",7),t.NdJ("click",function(){const d=t.CHM(e).closeThreadHandler;return t.KtG(d())}),t._UZ(7,"stream-icon-placeholder",8),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(5),t.hij(" ",e.channelName," ")}}let pl=(()=>{class o{constructor(){this.notificationsSubject=new z.X([]),this.notifications$=this.notificationsSubject.asObservable()}addTemporaryNotification(e,r="error",a=5e3,d,h){const p=this.createNotification(e,r,d,h),_=setTimeout(()=>this.removeNotification(p.id),a);return p.dismissFn=()=>{clearTimeout(_),this.removeNotification(p.id)},this.notificationsSubject.next([...this.notificationsSubject.getValue(),p]),p.dismissFn}addPermanentNotification(e,r="error",a,d){const h=this.createNotification(e,r,a,d);return this.notificationsSubject.next([...this.notificationsSubject.getValue(),h]),h.dismissFn}createNotification(e,r,a,d){const h=(new Date).getTime().toString()+Math.random().toString();return{id:h,["string"==typeof e?"text":"template"]:e,type:r,translateParams:a,templateContext:d,dismissFn:()=>this.removeNotification(h)}}removeNotification(e){const r=this.notificationsSubject.getValue(),a=r.findIndex(d=>d.id===e);-1!==a&&(r.splice(a,1),this.notificationsSubject.next([...r]))}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ms=(()=>{class o{constructor(e,r){this.ngZone=e,this.notificationService=r,this.notificationSubject=new W.t(1),this.connectionStateSubject=new W.t(1),this.appSettingsSubject=new z.X(void 0),this.pendingInvitesSubject=new z.X([]),this.userSubject=new W.t(1),this.subscriptions=[],this.events$=this.notificationSubject.asObservable(),this.connectionState$=this.connectionStateSubject.asObservable(),this.appSettings$=this.appSettingsSubject.asObservable(),this.pendingInvites$=this.pendingInvitesSubject.asObservable(),this.user$=this.userSubject.asObservable()}init(e,r,a,d){var h;return(0,R.mG)(this,void 0,void 0,function*(){let p;this.chatClient=Sl.getInstance(e,d),yield this.ngZone.runOutsideAngular(()=>(0,R.mG)(this,void 0,void 0,function*(){var O;const Z="string"==typeof r?{id:r}:r;try{p=yield(null!==(O={guest:()=>this.chatClient.setGuestUser(Z),anonymous:()=>this.chatClient.connectAnonymousUser()}[`${a}`])&&void 0!==O?O:()=>this.chatClient.connectUser(Z,a))()}catch(se){throw this.notificationService.addPermanentNotification("streamChat.Error connecting to chat, refresh the page to try again.","error"),se}this.userSubject.next(this.chatClient.user?Object.assign({},this.chatClient.user):void 0);const X="stream-chat-angular";this.chatClient.getUserAgent().includes(X)||this.chatClient.setUserAgent(`${X}-4.52.2-${this.chatClient.getUserAgent()}`)}));const _=yield this.chatClient.queryChannels({invite:"pending"},{},{user_id:null===(h=this.chatClient.user)||void 0===h?void 0:h.id});let b;return this.pendingInvitesSubject.next(_),this.appSettingsSubject.next(void 0),this.subscriptions.push(this.chatClient.on(O=>{this.updateUser(O),this.updatePendingInvites(O),this.notificationSubject.next({eventType:O.type,event:O})})),this.subscriptions.push(this.chatClient.on("connection.changed",O=>{this.ngZone.run(()=>{const Z=O.online;Z?b&&b():b=this.notificationService.addPermanentNotification("streamChat.Connection failure, reconnecting now..."),this.connectionStateSubject.next(Z?"online":"offline")})})),p})}disconnectUser(){return(0,R.mG)(this,void 0,void 0,function*(){this.pendingInvitesSubject.next([]),yield this.chatClient.disconnectUser(),this.userSubject.next(void 0),this.subscriptions.forEach(e=>e.unsubscribe())})}getAppSettings(){return(0,R.mG)(this,void 0,void 0,function*(){if(this.appSettingsSubject.getValue())return;const e=yield this.chatClient.getAppSettings();this.appSettingsSubject.next(e.app||{})})}flagMessage(e){return(0,R.mG)(this,void 0,void 0,function*(){yield this.chatClient.flagMessage(e)})}autocompleteUsers(e){return(0,R.mG)(this,void 0,void 0,function*(){return e?(yield this.chatClient.queryUsers({$or:[{id:{$autocomplete:e}},{name:{$autocomplete:e}}],id:{$ne:this.chatClient.userID}})).users:[]})}updatePendingInvites(e){var r,a,d;if((null===(a=null===(r=e.member)||void 0===r?void 0:r.user)||void 0===a?void 0:a.id)===(null===(d=this.chatClient.user)||void 0===d?void 0:d.id)&&e.channel){const h=this.pendingInvitesSubject.getValue();if("notification.invited"===e.type)this.pendingInvitesSubject.next([...h,e.channel]);else if("notification.invite_accepted"===e.type||"notification.invite_rejected"===e.type){const p=h.findIndex(_=>{var b;return _?.cid===(null===(b=e.channel)||void 0===b?void 0:b.cid)});-1!==p&&(h.splice(p,1),this.pendingInvitesSubject.next([...h]))}}}updateUser(e){var r;if(typeof e.total_unread_count<"u"){let a;this.userSubject.pipe((0,kr.q)(1)).subscribe(d=>{a=d}),a&&a.total_unread_count!==e.total_unread_count&&this.userSubject.next(Object.assign(Object.assign({},a),{total_unread_count:e.total_unread_count}))}if(typeof e.unread_channels<"u"){let a;this.userSubject.pipe((0,kr.q)(1)).subscribe(d=>{a=d}),a&&a.unread_channels!==e.unread_channels&&this.userSubject.next(Object.assign(Object.assign({},a),{unread_channels:e.unread_channels}))}if(typeof e.unread_count<"u"){let a;this.userSubject.pipe((0,kr.q)(1)).subscribe(d=>{a=d}),a&&a.unread_count!==e.unread_count&&this.userSubject.next(Object.assign(Object.assign({},a),{unread_count:e.unread_count}))}"user.updated"===e.type&&this.chatClient.user&&(null===(r=e.user)||void 0===r?void 0:r.id)===this.chatClient.user.id&&this.userSubject.next(Object.assign({},this.chatClient.user))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(t.R0b),t.LFG(pl))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Xs=(o,l,e)=>{var r,a;const d=e?.language||(null===(r=l?.data)||void 0===r?void 0:r.auto_translation_language);if(d&&o?.i18n&&(null===(a=o?.user)||void 0===a?void 0:a.id)!==e?.id)return o.i18n[`${d}_text`]},Ca=(o,l)=>{const e=[];return Object.keys(l.state.read).forEach(r=>{var a;l.state.read[r].last_read.getTime()>=o.created_at.getTime()&&(null===(a=o.user)||void 0===a?void 0:a.id)!==r&&e.push(l.state.read[r].user)}),e};let ar=(()=>{class o{constructor(e,r,a){this.chatClientService=e,this.ngZone=r,this.notificationService=a,this.channelsSubject=new z.X(void 0),this.activeChannelSubject=new z.X(void 0),this.activeChannelMessagesSubject=new z.X([]),this.activeChannelPinnedMessagesSubject=new z.X([]),this.hasMoreChannelsSubject=new W.t(1),this.activeChannelSubscriptions=[],this.channelSubscriptions={},this.activeParentMessageIdSubject=new z.X(void 0),this.activeThreadMessagesSubject=new z.X([]),this.jumpToMessageSubject=new z.X({id:void 0,parentId:void 0}),this.latestMessageDateByUserByChannelsSubject=new z.X({}),this.messagePageSize=25,this.messageToQuoteSubject=new z.X(void 0),this.usersTypingInChannelSubject=new z.X([]),this.usersTypingInThreadSubject=new z.X([]),this._shouldMarkActiveChannelAsRead=!0,this.isStateRecoveryInProgress=!1,this.channelQueryStateSubject=new z.X(void 0),this.channelListSetter=(d,h=!0)=>{const p=this.channelsSubject.getValue()||[],_=d.filter(O=>!p.find(Z=>Z.cid===O.cid)),b=p.filter(O=>!d?.find(Z=>Z.cid===O.cid));this.addChannelsFromNotification(_),this.removeChannelsFromChannelList(b.map(O=>O.cid),h)},this.messageListSetter=d=>{this.activeChannelMessagesSubject.next(d)},this.threadListSetter=d=>{this.activeThreadMessagesSubject.next(d)},this.parentMessageSetter=d=>{this.activeParentMessageIdSubject.next(d?.id)},this.channels$=this.channelsSubject.asObservable().pipe((0,Kn.d)(1)),this.activeChannel$=this.activeChannelSubject.asObservable().pipe((0,Kn.d)(1)),this.activeChannelMessages$=this.activeChannelMessagesSubject.pipe((0,mi.U)(d=>{const h=this.activeChannelSubject.getValue();return d.map(p=>this.transformToStreamMessage(p,h))}),(0,Kn.d)(1)),this.hasMoreChannels$=this.hasMoreChannelsSubject.asObservable().pipe((0,Kn.d)(1)),this.activeParentMessageId$=this.activeParentMessageIdSubject.asObservable().pipe((0,Kn.d)(1)),this.activeThreadMessages$=this.activeThreadMessagesSubject.pipe((0,mi.U)(d=>{const h=this.activeChannelSubject.getValue();return d.map(p=>this.transformToStreamMessage(p,h))}),(0,Kn.d)(1)),this.activeParentMessage$=(0,J.a)([this.activeChannelMessages$,this.activeParentMessageId$]).pipe((0,mi.U)(([d,h])=>{if(h){return d.find(_=>_.id===h)||void this.setAsActiveParentMessage(void 0)}}),(0,Kn.d)(1)),this.messageToQuote$=this.messageToQuoteSubject.asObservable().pipe((0,Kn.d)(1)),this.jumpToMessage$=this.jumpToMessageSubject.asObservable().pipe((0,Kn.d)(1)),this.usersTypingInChannel$=this.usersTypingInChannelSubject.asObservable().pipe((0,Kn.d)(1)),this.usersTypingInThread$=this.usersTypingInThreadSubject.asObservable().pipe((0,Kn.d)(1)),this.latestMessageDateByUserByChannels$=this.latestMessageDateByUserByChannelsSubject.asObservable().pipe((0,Kn.d)(1)),this.activeChannelPinnedMessages$=this.activeChannelPinnedMessagesSubject.asObservable().pipe((0,Kn.d)(1)),this.channelQueryState$=this.channelQueryStateSubject.asObservable().pipe((0,Kn.d)(1))}get shouldMarkActiveChannelAsRead(){return this._shouldMarkActiveChannelAsRead}set shouldMarkActiveChannelAsRead(e){if(!this._shouldMarkActiveChannelAsRead&&e){const r=this.activeChannelSubject.getValue();r&&this.canSendReadEvents&&r.markRead()}this._shouldMarkActiveChannelAsRead=e}setAsActiveChannel(e){var r,a,d;const h=this.activeChannelSubject.getValue();if(h?.cid===e.cid)return;this.stopWatchForActiveChannelEvents(h),this.activeChannelLastReadMessageId=null===(a=e.state.read[(null===(r=this.chatClientService.chatClient.user)||void 0===r?void 0:r.id)||""])||void 0===a?void 0:a.last_read_message_id,(null===(d=e.state.latestMessages[e.state.latestMessages.length-1])||void 0===d?void 0:d.id)===this.activeChannelLastReadMessageId&&(this.activeChannelLastReadMessageId=void 0),this.watchForActiveChannelEvents(e),this.addChannel(e),this.activeChannelSubject.next(e);const p=e.state.latestMessages.length;p>2*this.messagePageSize&&(e.state.latestMessages=e.state.latestMessages.slice(p-2*this.messagePageSize)),this.setChannelState(e)}deselectActiveChannel(){const e=this.activeChannelSubject.getValue();e&&(this.stopWatchForActiveChannelEvents(e),this.activeChannelMessagesSubject.next([]),this.activeChannelSubject.next(void 0),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]),this.latestMessageDateByUserByChannelsSubject.next({}),this.selectMessageToQuote(void 0),this.jumpToMessageSubject.next({id:void 0,parentId:void 0}),this.activeChannelPinnedMessagesSubject.next([]),this.usersTypingInChannelSubject.next([]),this.usersTypingInThreadSubject.next([]),this.activeChannelLastReadMessageId=void 0)}setAsActiveParentMessage(e,r="request"){var a;return(0,R.mG)(this,void 0,void 0,function*(){const d=this.messageToQuoteSubject.getValue();if(d&&d.parent_id&&this.messageToQuoteSubject.next(void 0),e){this.activeParentMessageIdSubject.next(e.id);const h=this.activeChannelSubject.getValue();if("request"===r){const p=yield h?.getReplies(e.id,{limit:null===(a=this.options)||void 0===a?void 0:a.message_limit});this.activeThreadMessagesSubject.next(p?.messages||[])}else this.activeThreadMessagesSubject.next(h?.state.threads[e.id]||[])}else{this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]);const h=this.jumpToMessageSubject.getValue();h&&h.parentId&&this.jumpToMessageSubject.next({id:void 0,parentId:void 0})}})}loadMoreMessages(e="older"){var r,a,d,h;const p=this.activeChannelSubject.getValue(),_=this.activeChannelMessagesSubject.getValue(),b=null===(r=_["older"===e?0:_.length-1])||void 0===r?void 0:r.id;return("newer"!==e||(null===(a=p?.state)||void 0===a?void 0:a.latestMessages)!==(null===(d=p?.state)||void 0===d?void 0:d.messages))&&p?.query({messages:{limit:null===(h=this.options)||void 0===h?void 0:h.message_limit,["older"===e?"id_lt":"id_gt"]:b},members:{limit:0},watchers:{limit:0}}).then(O=>{var Z,X,se;return(null===(Z=p?.data)||void 0===Z?void 0:Z.id)===(null===(se=null===(X=this.activeChannelSubject.getValue())||void 0===X?void 0:X.data)||void 0===se?void 0:se.id)&&this.activeChannelMessagesSubject.next([...p.state.messages]),O})}loadMoreThreadReplies(e="older"){var r,a;return(0,R.mG)(this,void 0,void 0,function*(){if("newer"===e)return;const d=this.activeChannelSubject.getValue(),h=this.activeParentMessageIdSubject.getValue();if(!h)return;const p=this.activeThreadMessagesSubject.getValue(),_=null===(r=p["older"===e?0:p.length-1])||void 0===r?void 0:r.id;yield d?.getReplies(h,{limit:null===(a=this.options)||void 0===a?void 0:a.message_limit,["older"===e?"id_lt":"id_gt"]:_}),this.activeThreadMessagesSubject.next(d?.state.threads[h]||[])})}init(e,r,a,d=!0){return(0,R.mG)(this,void 0,void 0,function*(){this.filters=e,this.options=Object.assign({limit:25,state:!0,presence:!0,watch:!0,message_limit:this.messagePageSize},a),this.sort=r||{last_message_at:-1},this.shouldSetActiveChannel=d,this.clientEventsSubscription=this.chatClientService.events$.subscribe(h=>{this.handleNotification(h)});try{return yield this.queryChannels(this.shouldSetActiveChannel)}catch(h){throw this.dismissErrorNotification=this.notificationService.addPermanentNotification("streamChat.Error loading channels","error"),h}})}reset(){var e,r;this.deselectActiveChannel(),this.channelsSubject.next(void 0),this.channelQueryStateSubject.next(void 0),null===(e=this.clientEventsSubscription)||void 0===e||e.unsubscribe(),null===(r=this.dismissErrorNotification)||void 0===r||r.call(this),this.dismissErrorNotification=void 0,Object.keys(this.channelSubscriptions).forEach(a=>{this.channelSubscriptions[a]()}),this.channelSubscriptions={},this.nextPageConfiguration=void 0}loadMoreChannels(){return(0,R.mG)(this,void 0,void 0,function*(){yield this.queryChannels(!1)})}addReaction(e,r,a){var d;return(0,R.mG)(this,void 0,void 0,function*(){yield null===(d=this.activeChannelSubject.getValue())||void 0===d?void 0:d.sendReaction(e,Object.assign({type:r},a))})}removeReaction(e,r){var a;return(0,R.mG)(this,void 0,void 0,function*(){yield null===(a=this.activeChannelSubject.getValue())||void 0===a?void 0:a.deleteReaction(e,r)})}sendMessage(e,r=[],a=[],d,h,p){return(0,R.mG)(this,void 0,void 0,function*(){let _={text:e,attachments:r,mentionedUsers:a,parentId:d,quotedMessageId:h,customData:p};this.beforeSendMessage&&(_=yield this.beforeSendMessage(_));const b=((o,l,e=[],r=[],a,d,h)=>{const p=`${o.id}-${Qo()}`;return Object.assign({__html:l,created_at:new Date,html:l,id:p,reactions:[],status:"sending",text:l,type:"regular",user:o,attachments:e,mentioned_users:r,parent_id:a,quoted_message_id:d},h)})(this.chatClientService.chatClient.user,_.text,_.attachments,_.mentionedUsers,_.parentId,_.quotedMessageId,_.customData),O=this.activeChannelSubject.getValue();return b.readBy=[],O.state.addMessageSorted(b,!0),yield this.sendMessageRequest(b,_.customData)})}resendMessage(e){return(0,R.mG)(this,void 0,void 0,function*(){this.activeChannelSubject.getValue().state.addMessageSorted(Object.assign(Object.assign({},e),{errorStatusCode:void 0,status:"sending"}),!0),yield this.sendMessageRequest(e)})}updateMessage(e){var r;return(0,R.mG)(this,void 0,void 0,function*(){let a=Object.assign({},e);delete a.i18n,this.beforeUpdateMessage&&(a=yield this.beforeUpdateMessage(a));const d=yield this.chatClientService.chatClient.updateMessage(a),h=null===(r=this.channelsSubject.getValue())||void 0===r?void 0:r.find(p=>p.cid===e.cid);return this.transformToStreamMessage(d.message,h)})}deleteMessage(e){return(0,R.mG)(this,void 0,void 0,function*(){this.messageDeleteConfirmationHandler?(yield this.messageDeleteConfirmationHandler(e))&&(yield this.chatClientService.chatClient.deleteMessage(e.id)):yield this.chatClientService.chatClient.deleteMessage(e.id)})}uploadAttachments(e){return(0,R.mG)(this,void 0,void 0,function*(){const r=[],a=this.activeChannelSubject.getValue();return(yield Promise.allSettled(e.map(h=>"image"===h.type?this.customImageUploadRequest?this.customImageUploadRequest(h.file,a):a.sendImage(h.file,h.file.name,h.file.type):this.customFileUploadRequest?this.customFileUploadRequest(h.file,a):a.sendFile(h.file,h.file.name,h.file.type)))).forEach((h,p)=>{var _,b,O,Z,X,se,ne;const ke=e[p].file,Ge=e[p].type;if("fulfilled"===h.status)r.push({file:ke,type:Ge,state:"success",url:h.value.file,thumb_url:h.value.thumb_url});else{let tt,Dt="unknown";const Zt=null===(b=null===(_=h.reason.response)||void 0===_?void 0:_.data)||void 0===b?void 0:b.message,Ut=null===(Z=null===(O=h.reason.response)||void 0===O?void 0:O.data)||void 0===Z?void 0:Z.code;22===Ut?(Dt="file-size",tt={param:(null===(X=/\d+MB/.exec(Zt||""))||void 0===X?void 0:X[0])||"100MB"}):4===Ut&&!(null===(se=Zt?.toLowerCase())||void 0===se)&&se.includes("file extension")&&(Dt="file-extension",tt={param:(null===(ne=/\.\w+/.exec(Zt))||void 0===ne?void 0:ne[0])||""}),r.push({file:ke,type:Ge,state:"error",errorReason:Dt,errorExtraInfo:tt?[tt]:void 0})}}),r})}deleteAttachment(e){return(0,R.mG)(this,void 0,void 0,function*(){const r=this.activeChannelSubject.getValue();yield"image"===e.type?this.customImageDeleteRequest?this.customImageDeleteRequest(e.url,r):r.deleteImage(e.url):this.customFileDeleteRequest?this.customFileDeleteRequest(e.url,r):r.deleteFile(e.url)})}autocompleteMembers(e){return(0,R.mG)(this,void 0,void 0,function*(){const r=this.activeChannelSubject.getValue();if(!r)return[];if(Object.keys(r.state.members).length<100)return Object.values(r.state.members).filter(a=>{var d;return(null===(d=a.user)||void 0===d?void 0:d.id)!==this.chatClientService.chatClient.userID});{if(!e)return[];const a=yield r.queryMembers({name:{$autocomplete:e},id:{$ne:this.chatClientService.chatClient.userID}});return Object.values(a.members)}})}sendAction(e,r,a){return(0,R.mG)(this,void 0,void 0,function*(){const d=this.activeChannelSubject.getValue(),h=yield d.sendAction(e,r);h?.message?(d.state.addMessageSorted(Object.assign(Object.assign({},h.message),{status:"received"})),h.message.parent_id?this.activeThreadMessagesSubject.next([...d.state.threads[h.message.parent_id]]):this.activeChannelMessagesSubject.next([...d.state.messages])):(d.state.removeMessage({id:e,parent_id:a}),a?this.activeThreadMessagesSubject.next(d.state.threads[this.activeParentMessageIdSubject.getValue()]):this.activeChannelMessagesSubject.next([...d.state.messages]))})}selectMessageToQuote(e){this.messageToQuoteSubject.next(e)}addChannel(e){this.channels.find(r=>r.cid===e.cid)||(this.channelsSubject.next([e,...this.channels]),this.watchForChannelEvents(e))}sendMessageRequest(e,r){var a;return(0,R.mG)(this,void 0,void 0,function*(){const d=this.activeChannelSubject.getValue(),h=!!e.parent_id;h?this.activeThreadMessagesSubject.next([...d.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...d.state.messages]);try{const p=yield d.sendMessage(Object.assign({id:e.id,text:e.text,attachments:e.attachments,mentioned_users:null===(a=e.mentioned_users)||void 0===a?void 0:a.map(O=>O.id),parent_id:e.parent_id,quoted_message_id:e.quoted_message_id},r));let _;return d.state.addMessageSorted(Object.assign(Object.assign({},p.message),{status:"received"}),!0),h?this.activeThreadMessagesSubject.next([...d.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...d.state.messages]),(h?this.activeThreadMessages$:this.activeChannelMessages$).pipe((0,kr.q)(1)).subscribe(O=>_=O),_[_.length-1]}catch(p){const _=JSON.stringify(p),b=_?JSON.parse(_):{};let O;return d.state.addMessageSorted(Object.assign(Object.assign({},e),{errorStatusCode:b.status||void 0,status:"failed"}),!0),h?this.activeThreadMessagesSubject.next([...d.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...d.state.messages]),(h?this.activeThreadMessages$:this.activeChannelMessages$).pipe((0,kr.q)(1)).subscribe(X=>O=X),O[O.length-1]}})}jumpToMessage(e,r){return(0,R.mG)(this,void 0,void 0,function*(){const a=this.activeChannelSubject.getValue();try{yield a?.state.loadMessageIntoState(e,r);const d=a?.state.messages||[];if(this.activeChannelMessagesSubject.next([...d]),r){const h=d.find(p=>p.id===r);this.setAsActiveParentMessage(h,"state")}this.jumpToMessageSubject.next({id:e,parentId:r})}catch(d){throw this.notificationService.addTemporaryNotification("Message not found"),d}})}pinMessage(e){var r;return(0,R.mG)(this,void 0,void 0,function*(){try{yield null===(r=this.chatClientService.chatClient)||void 0===r?void 0:r.pinMessage(e),this.notificationService.addTemporaryNotification("Message pinned","success")}catch(a){throw this.notificationService.addTemporaryNotification("Error pinning message"),a}})}unpinMessage(e){var r;return(0,R.mG)(this,void 0,void 0,function*(){try{yield null===(r=this.chatClientService.chatClient)||void 0===r?void 0:r.unpinMessage(e),this.notificationService.addTemporaryNotification("Message unpinned","success")}catch(a){throw this.notificationService.addTemporaryNotification("Error removing message pin"),a}})}handleNotification(e){switch(e.eventType){case"connection.recovered":this.ngZone.run(()=>(0,R.mG)(this,void 0,void 0,function*(){if(!this.isStateRecoveryInProgress){this.isStateRecoveryInProgress=!0;try{this.nextPageConfiguration=void 0;const r=this.shouldSetActiveChannel&&!this.activeChannelSubject.getValue();if(yield this.queryChannels(r||!1,!0),this.activeChannelSubject.getValue()){this.setAsActiveParentMessage(void 0);const a=this.messageToQuoteSubject.getValue();let d;this.setChannelState(this.activeChannelSubject.getValue()),this.activeChannelMessages$.pipe((0,kr.q)(1)).subscribe(p=>d=p);const h=d.find(p=>p.id===a?.id);h&&this.selectMessageToQuote(h)}this.isStateRecoveryInProgress=!1}catch{this.isStateRecoveryInProgress=!1}}}));break;case"notification.message_new":this.ngZone.run(()=>{this.customNewMessageNotificationHandler?this.customNewMessageNotificationHandler(e,this.channelListSetter):this.handleNewMessageNotification(e)});break;case"notification.added_to_channel":this.ngZone.run(()=>{this.customAddedToChannelNotificationHandler?this.customAddedToChannelNotificationHandler(e,this.channelListSetter):this.handleAddedToChannelNotification(e)});break;case"notification.removed_from_channel":this.ngZone.run(()=>{this.customRemovedFromChannelNotificationHandler?this.customRemovedFromChannelNotificationHandler(e,this.channelListSetter):this.handleRemovedFromChannelNotification(e)});break;case"user.updated":this.ngZone.run(()=>{var r;const a=null===(r=this.channelsSubject.getValue())||void 0===r?void 0:r.map(h=>this.chatClientService.chatClient.activeChannels[h.cid]?this.chatClientService.chatClient.activeChannels[h.cid]:h);this.channelsSubject.next(a);const d=this.activeChannelSubject.getValue();if(d){this.activeChannelSubject.next(this.chatClientService.chatClient.activeChannels[d.cid]||d),this.activeChannelMessagesSubject.next(d.state.messages.map(p=>(p.readBy=Ca(p,d),Object.assign({},p))));const h=this.activeParentMessageIdSubject.getValue();h&&this.activeThreadMessagesSubject.next([...d.state.threads[h]]),this.activeChannelPinnedMessagesSubject.next([...d.state.pinnedMessages])}})}}handleRemovedFromChannelNotification(e){this.removeChannelsFromChannelList([e.event.channel.cid],!0)}handleNewMessageNotification(e){e.event.channel&&this.addChannelsFromNotification([e.event.channel])}handleAddedToChannelNotification(e){e.event.channel&&this.addChannelsFromNotification([e.event.channel])}addChannelsFromNotification(e){return(0,R.mG)(this,void 0,void 0,function*(){let r=[];const a=[];e.forEach(h=>{const p=this.chatClientService.chatClient.channel(h.type,h.id);a.push(p.watch()),r.push(p)}),yield Promise.all(a);const d=this.channelsSubject.getValue()||[];r=r.filter(h=>!d.find(p=>p.cid===h.cid)),r.length>0&&(r.forEach(h=>this.watchForChannelEvents(h)),this.channelsSubject.next([...r,...d]))})}removeChannelsFromChannelList(e,r){var a;const d=this.channels.filter(h=>!e.includes(h.cid||""));r&&e.forEach(h=>{var p;this.channelSubscriptions[h]&&(this.channelSubscriptions[h](),delete this.channelSubscriptions.cid),null===(p=this.chatClientService.chatClient.activeChannels[h])||void 0===p||p.stopWatching()}),d.length<this.channels.length&&(this.channelsSubject.next(d),e.includes((null===(a=this.activeChannelSubject.getValue())||void 0===a?void 0:a.cid)||"")&&(d.length>0?this.setAsActiveChannel(d[0]):this.activeChannelSubject.next(void 0)))}watchForActiveChannelEvents(e){this.activeChannelSubscriptions.push(e.on("message.new",r=>{this.ngZone.run(()=>{r.message&&r.message.parent_id?r.message.parent_id===this.activeParentMessageIdSubject.getValue()&&this.activeThreadMessagesSubject.next([...e.state.threads[r.message.parent_id]]):this.activeChannelMessagesSubject.next([...e.state.messages]),this.activeChannel$.pipe((0,_r.P)()).subscribe(a=>{a&&this.markRead(a)}),this.updateLatestMessages(r)})})),this.activeChannelSubscriptions.push(e.on("message.updated",r=>this.messageUpdated(r))),this.activeChannelSubscriptions.push(e.on("message.deleted",r=>this.messageUpdated(r))),this.activeChannelSubscriptions.push(e.on("reaction.new",r=>this.messageReactionEventReceived(r))),this.activeChannelSubscriptions.push(e.on("reaction.deleted",r=>this.messageReactionEventReceived(r))),this.activeChannelSubscriptions.push(e.on("reaction.updated",r=>this.messageReactionEventReceived(r))),this.activeChannelSubscriptions.push(e.on("message.read",r=>{this.ngZone.run(()=>{let a,d;this.activeChannelMessages$.pipe((0,_r.P)()).subscribe(h=>{d=h,a=d[d.length-1]}),a&&r.user&&(a.readBy?a.readBy.splice(0,a.readBy.length):a.readBy=[],a.readBy.push(...Ca(a,e)),d[d.length-1]=Object.assign({},a),this.activeChannelMessagesSubject.next([...d]))})})),this.activeChannelSubscriptions.push(e.on("typing.start",r=>this.ngZone.run(()=>this.handleTypingStartEvent(r)))),this.activeChannelSubscriptions.push(e.on("typing.stop",r=>this.ngZone.run(()=>this.handleTypingStopEvent(r))))}typingStarted(e){return(0,R.mG)(this,void 0,void 0,function*(){const r=this.activeChannelSubject.getValue();yield r?.keystroke(e)})}typingStopped(e){return(0,R.mG)(this,void 0,void 0,function*(){const r=this.activeChannelSubject.getValue();yield r?.stopTyping(e)})}get channels(){return this.channelsSubject.getValue()||[]}get activeChannel(){return this.activeChannelSubject.getValue()||void 0}messageUpdated(e){this.ngZone.run(()=>{var r;const a=e.message&&e.message.parent_id,d=this.activeChannelSubject.getValue();if(!d)return;const h=a?d.state.threads[(null===(r=e?.message)||void 0===r?void 0:r.parent_id)||""]:d.state.messages;h&&-1!==h.findIndex(_=>{var b;return _.id===(null===(b=e?.message)||void 0===b?void 0:b.id)})&&(a?this.activeThreadMessagesSubject.next([...h]):this.activeChannelMessagesSubject.next([...h]),this.activeChannelPinnedMessagesSubject.next([...d.state.pinnedMessages]))})}messageReactionEventReceived(e){this.ngZone.run(()=>{var r,a,d,h;const p=e.message&&e.message.parent_id;let _;(p?this.activeThreadMessages$:this.activeChannelMessages$).pipe((0,_r.P)()).subscribe(Z=>_=Z);const b=_.findIndex(Z=>{var X;return Z.id===(null===(X=e?.message)||void 0===X?void 0:X.id)});if(-1===b)return;const O=_[b];O.reaction_counts=Object.assign({},null===(r=e.message)||void 0===r?void 0:r.reaction_counts),O.reaction_scores=Object.assign({},null===(a=e.message)||void 0===a?void 0:a.reaction_scores),O.latest_reactions=[...(null===(d=e.message)||void 0===d?void 0:d.latest_reactions)||[]],O.own_reactions=[...(null===(h=e.message)||void 0===h?void 0:h.own_reactions)||[]],_[b]=Object.assign({},O),p?this.activeThreadMessagesSubject.next([..._]):this.activeChannelMessagesSubject.next([..._])})}formatMessage(e){const r=e;return r.pinned_at=e.pinned_at?new Date(e.pinned_at):null,r.created_at=e.created_at?new Date(e.created_at):new Date,r.updated_at=e.updated_at?new Date(e.updated_at):new Date,e.status=e.status||"received",r}isStreamMessage(e){return!!e.readBy}isFormatMessageResponse(e){return e.created_at instanceof Date}stopWatchForActiveChannelEvents(e){e&&(this.activeChannelSubscriptions.forEach(r=>r.unsubscribe()),this.activeChannelSubscriptions=[])}queryChannels(e,r=!1){var a,d;return(0,R.mG)(this,void 0,void 0,function*(){try{let h,p;this.channelQueryStateSubject.next({state:"in-progress"}),this.nextPageConfiguration?"filter"===this.nextPageConfiguration.type?(h=Object.assign(Object.assign({},this.filters),this.nextPageConfiguration.paginationFilter),p=this.options):(p=Object.assign(Object.assign({},this.options),{offset:this.nextPageConfiguration.offset}),h=this.filters):(h=this.filters,p=this.options);const _=yield this.chatClientService.chatClient.queryChannels(h,this.sort||{},p);this.setNextPageConfiguration(_),_.forEach(X=>this.watchForChannelEvents(X));const b=r?[]:this.channelsSubject.getValue()||[],O=_.filter(X=>!b.find(se=>se.cid===X.cid));this.channelsSubject.next([...b,...O]);let Z=this.activeChannelSubject.getValue();return O.length>0&&!Z&&e&&(this.setAsActiveChannel(O[0]),Z=this.activeChannelSubject.getValue()),r&&!O.find(X=>X.cid===Z?.cid)&&this.deselectActiveChannel(),this.hasMoreChannelsSubject.next(_.length>=this.options.limit),this.channelQueryStateSubject.next({state:"success"}),!(null===(a=this.options)||void 0===a)&&a.keepAliveChannels$OnError&&this.dismissErrorNotification&&this.dismissErrorNotification(),_}catch(h){throw!(null===(d=this.options)||void 0===d)&&d.keepAliveChannels$OnError||this.channelsSubject.error(h),this.channelQueryStateSubject.next({state:"error",error:h}),h}})}watchForChannelEvents(e){const r=e.on(a=>{switch(a.type){case"message.new":this.ngZone.run(()=>{this.customNewMessageHandler?this.customNewMessageHandler(a,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleNewMessage(a,e)});break;case"channel.hidden":this.ngZone.run(()=>{this.customChannelHiddenHandler?this.customChannelHiddenHandler(a,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelHidden(a)});break;case"channel.deleted":this.ngZone.run(()=>{this.customChannelDeletedHandler?this.customChannelDeletedHandler(a,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelDeleted(a)});break;case"channel.visible":this.ngZone.run(()=>{this.customChannelVisibleHandler?this.customChannelVisibleHandler(a,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelVisible(a,e)});break;case"channel.updated":this.ngZone.run(()=>{this.customChannelUpdatedHandler?this.customChannelUpdatedHandler(a,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelUpdate(a)});break;case"channel.truncated":this.ngZone.run(()=>{this.customChannelTruncatedHandler?this.customChannelTruncatedHandler(a,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelTruncate(a)});break;case"capabilities.changed":this.ngZone.run(()=>{var h;const p=a.cid;if(p){const _=this.channelsSubject.getValue(),b=_?.findIndex(O=>O.cid===p);-1!==b&&void 0!==b&&(this.channelsSubject.next([..._]),p===(null===(h=this.activeChannelSubject.getValue())||void 0===h?void 0:h.cid)&&this.activeChannelSubject.next(this.activeChannelSubject.getValue()))}})}});this.channelSubscriptions[e.cid]=r.unsubscribe}handleNewMessage(e,r){const a=this.channels.findIndex(d=>d.cid===r.cid);this.channels.splice(a,1),this.channelsSubject.next([r,...this.channels])}handleChannelHidden(e){this.removeChannelsFromChannelList([e.channel.cid],!1)}handleChannelDeleted(e){this.removeChannelsFromChannelList([e.channel.cid],!1)}handleChannelVisible(e,r){this.channels.find(a=>a.cid===e.cid)||this.ngZone.run(()=>this.channelsSubject.next([...this.channels,r]))}handleChannelUpdate(e){var r,a,d,h;const p=this.channels.findIndex(_=>_.cid===e.channel.cid);if(-1!==p){const _=this.channels[p],b={hidden:(null===(r=_.data)||void 0===r?void 0:r.hidden)||!1,own_capabilities:(null===(a=_.data)||void 0===a?void 0:a.own_capabilities)||[]};_.data=Object.assign(Object.assign({},e.channel),b),this.channelsSubject.next([...this.channels]),(null===(d=e.channel)||void 0===d?void 0:d.cid)===(null===(h=this.activeChannelSubject.getValue())||void 0===h?void 0:h.cid)&&this.activeChannelSubject.next(_)}}handleChannelTruncate(e){var r,a;const d=this.channels.findIndex(h=>h.cid===e.channel.cid);if(-1!==d&&(this.channels[d].state.messages=[],this.channelsSubject.next([...this.channels]),(null===(r=e.channel)||void 0===r?void 0:r.cid)===(null===(a=this.activeChannelSubject.getValue())||void 0===a?void 0:a.cid))){const h=this.activeChannelSubject.getValue();h.state.messages=[],this.activeChannelSubject.next(h),this.activeChannelMessagesSubject.next([]),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([])}}get canSendReadEvents(){var e;const r=this.activeChannelSubject.getValue();return!!r&&-1!==(null===(e=r.data)||void 0===e?void 0:e.own_capabilities).indexOf("read-events")}transformToStreamMessage(e,r){const a=!!e.parent_id;return this.isStreamMessage(e)&&this.isFormatMessageResponse(e)?(e.quoted_message&&(e.quoted_message.translation=Xs(e.quoted_message,r,this.chatClientService.chatClient.user)),e.translation=Xs(e,r,this.chatClientService.chatClient.user),e):(e.quoted_message&&(e.quoted_message.translation=Xs(e.quoted_message,r,this.chatClientService.chatClient.user)),this.isFormatMessageResponse(e)?(e.readBy=a?[]:r?Ca(e,r):[],e.translation=Xs(e,r,this.chatClientService.chatClient.user),e):((e=this.formatMessage(e)).readBy=a?[]:r?Ca(e,r):[],e.translation=Xs(e,r,this.chatClientService.chatClient.user),e))}handleTypingStartEvent(e){var r,a;if((null===(r=e.user)||void 0===r?void 0:r.id)===(null===(a=this.chatClientService.chatClient.user)||void 0===a?void 0:a.id))return;const d=!!e.parent_id;if(d&&e.parent_id!==this.activeParentMessageIdSubject.getValue())return;const h=d?this.usersTypingInThreadSubject:this.usersTypingInChannelSubject,p=h.getValue(),_=e.user;_&&!p.find(b=>b.id===_.id)&&(p.push(_),h.next([...p]))}handleTypingStopEvent(e){const r=this.usersTypingInChannelSubject.getValue(),a=this.usersTypingInThreadSubject.getValue(),d=e.user;return d&&r.find(h=>h.id===d.id)?(r.splice(r.findIndex(h=>h.id===d.id),1),void this.usersTypingInChannelSubject.next([...r])):d&&a.find(h=>h.id===d.id)?(a.splice(a.findIndex(h=>h.id===d.id),1),void this.usersTypingInThreadSubject.next([...a])):void 0}updateLatestMessages(e){var r,a,d,h,p,_,b;if((null===(a=null===(r=e.message)||void 0===r?void 0:r.user)||void 0===a?void 0:a.id)!==(null===(h=null===(d=this.chatClientService)||void 0===d?void 0:d.chatClient.user)||void 0===h?void 0:h.id))return;const O=this.latestMessageDateByUserByChannelsSubject.getValue();if(null===(p=e.message)||void 0===p||!p.created_at)return;const Z=null===(_=e?.message)||void 0===_?void 0:_.cid;if(!Z)return;const X=new Date(e.message.created_at);(!O[Z]||(null===(b=O[Z])||void 0===b?void 0:b.getTime())<X.getTime())&&(O[Z]=X,this.latestMessageDateByUserByChannelsSubject.next(Object.assign({},O)))}setChannelState(e){e.state.messages.forEach(r=>{r.readBy=Ca(r,e),r.translation=Xs(r,e,this.chatClientService.chatClient.user),r.quoted_message&&(r.quoted_message.translation=Xs(r.quoted_message,e,this.chatClientService.chatClient.user))}),this.markRead(e),this.activeChannelMessagesSubject.next([...e.state.messages]),this.activeChannelPinnedMessagesSubject.next([...e.state.pinnedMessages]),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]),this.messageToQuoteSubject.next(void 0),this.usersTypingInChannelSubject.next([]),this.usersTypingInThreadSubject.next([])}markRead(e){this.canSendReadEvents&&this.shouldMarkActiveChannelAsRead&&e.markRead()}setNextPageConfiguration(e){var r;this.nextPageConfiguration=this.customPaginator?this.customPaginator(e):{type:"offset",offset:("offset"===(null===(r=this.nextPageConfiguration)||void 0===r?void 0:r.type)?this.nextPageConfiguration.offset:0)+e.length}}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(ms),t.LFG(t.R0b),t.LFG(pl))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),kn=(()=>{class o{constructor(){this.theme$=new z.X("light"),this.defaultDarkModeVariables={"--bg-gradient-end":"#101214","--bg-gradient-start":"#070a0d","--black":"#ffffff","--blue-alice":"#00193d","--border":"#141924","--button-background":"#ffffff","--button-text":"#005fff","--grey":"#7a7a7a","--grey-gainsboro":"#2d2f2f","--grey-whisper":"#1c1e22","--modal-shadow":"#000000","--overlay":"#00000066","--overlay-dark":"#ffffffcc","--shadow-icon":"#00000080","--targetedMessageBackground":"#302d22","--transparent":"transparent","--white":"#101418","--white-smoke":"#13151b","--white-snow":"#070a0d"},this.variablesToDelete=[],this.theme$.subscribe(e=>{const r=this.customDarkThemeVariables?Object.assign(Object.assign({},this.defaultDarkModeVariables),this.customDarkThemeVariables):this.defaultDarkModeVariables,a=this.customLightThemeVariables?this.customLightThemeVariables:{};this.variablesToDelete.forEach(d=>this.deleteVariables(d)),"dark"===e?(this.deleteVariables(a),this.setVariables(r)):(this.deleteVariables(r),this.setVariables(a))}),this.themeVersion=getComputedStyle(document.documentElement).getPropertyValue("--str-chat__theme-version").replace(" ","")||"1"}get customLightThemeVariables(){return this._customLightThemeVariables}set customLightThemeVariables(e){const r=this.customLightThemeVariables;r&&this.variablesToDelete.push(r),this._customLightThemeVariables=e,"light"===this.theme$.getValue()&&this.theme$.next("light")}get customDarkThemeVariables(){return this._customDarkThemeVariables}set customDarkThemeVariables(e){const r=this.customDarkThemeVariables;r&&this.variablesToDelete.push(r),this._customDarkThemeVariables=e,"dark"===this.theme$.getValue()&&this.theme$.next("dark")}deleteVariables(e){e&&Object.keys(e).forEach(r=>document.documentElement.style.setProperty(r,null))}setVariables(e){e&&Object.keys(e).forEach(r=>document.documentElement.style.setProperty(r,e[r]))}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const qu=o=>o.type.startsWith("image/")&&!o.type.endsWith(".photoshop"),Bf=o=>"image"===o.type&&!o.title_link&&!o.og_scrape_url;let $f=(()=>{class o{constructor(e,r){this.channelService=e,this.notificationService=r,this.attachmentUploadInProgressCounterSubject=new z.X(0),this.attachmentUploadsSubject=new z.X([]),this.attachmentUploadInProgressCounter$=this.attachmentUploadInProgressCounterSubject.asObservable(),this.attachmentUploads$=this.attachmentUploadsSubject.asObservable()}resetAttachmentUploads(){this.attachmentUploadsSubject.next([])}filesSelected(e){return(0,R.mG)(this,void 0,void 0,function*(){if(!e)return;const r=[],a=[],d=[];Array.from(e).forEach(p=>{qu(p)?r.push(p):p.type.startsWith("video/")?d.push(p):a.push(p)}),r.forEach(p=>this.createPreview(p));const h=[...r.map(p=>({file:p,state:"uploading",type:"image"})),...d.map(p=>({file:p,state:"uploading",type:"video"})),...a.map(p=>({file:p,state:"uploading",type:"file"}))];this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...h]),yield this.uploadAttachments(h)})}addAttachment(e){e.isCustomAttachment=!0,this.createFromAttachments([e])}retryAttachmentUpload(e){return(0,R.mG)(this,void 0,void 0,function*(){const r=this.attachmentUploadsSubject.getValue(),a=r.find(d=>d.file===e);a&&(a.state="uploading",this.attachmentUploadsSubject.next([...r]),yield this.uploadAttachments([a]))})}deleteAttachment(e){var r;return(0,R.mG)(this,void 0,void 0,function*(){const a=this.attachmentUploadsSubject.getValue();let d;if("success"!==e.state||null!==(r=e.fromAttachment)&&void 0!==r&&r.isCustomAttachment){d=[...a];const h=a.indexOf(e);d.splice(h,1)}else try{yield this.channelService.deleteAttachment(e),d=[...a];const h=a.indexOf(e);d.splice(h,1)}catch{d=a,this.notificationService.addTemporaryNotification("streamChat.Error deleting attachment")}this.attachmentUploadsSubject.next([...d])})}mapToAttachments(){return this.attachmentUploadsSubject.getValue().filter(r=>"success"===r.state).map(r=>{var a,d,h,p;const _={type:r.type};return r.fromAttachment?r.fromAttachment:(_.mime_type=null===(a=r.file)||void 0===a?void 0:a.type,"image"===r.type?(_.fallback=null===(d=r.file)||void 0===d?void 0:d.name,_.image_url=r.url):(_.asset_url=r.url,_.title=null===(h=r.file)||void 0===h?void 0:h.name,_.file_size=null===(p=r.file)||void 0===p?void 0:p.size,_.thumb_url=r.thumb_url),_)})}createFromAttachments(e){const r=[];e.forEach(a=>{Bf(a)?r.push({url:a.img_url||a.thumb_url||a.image_url,state:"success",type:"image",file:{name:a.fallback,type:a.mime_type},fromAttachment:a}):("file"===a.type||"video"===a.type)&&r.push({url:a.asset_url,state:"success",file:{name:a.title,size:a.file_size,type:a.mime_type},type:a.type,thumb_url:a.thumb_url,fromAttachment:a})}),r.length>0&&this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...r])}createPreview(e){const r=new FileReader;r.onload=a=>{var d;const h=this.attachmentUploadsSubject.getValue(),p=h.find(_=>_.file===e);p&&(p.previewUri=(null===(d=a.target)||void 0===d?void 0:d.result)||void 0,this.attachmentUploadsSubject.next([...h]))},r.readAsDataURL(e)}uploadAttachments(e){return(0,R.mG)(this,void 0,void 0,function*(){this.attachmentUploadInProgressCounterSubject.next(this.attachmentUploadInProgressCounterSubject.getValue()+1);const r=yield this.channelService.uploadAttachments(e),a=this.attachmentUploadsSubject.getValue();r.forEach(d=>{var h,p,_,b;const O=a.find(Z=>Z.file===d.file);if(O){if(O.state=d.state,O.url=d.url,O.thumb_url=d.thumb_url,"error"===O.state){let Z;O.errorReason=d.errorReason,O.errorExtraInfo=d.errorExtraInfo;const X={name:O.file.name};switch(O.errorReason){case"file-extension":Z="streamChat.Error uploading file, extension not supported",X.ext=null===(p=null===(h=O.errorExtraInfo)||void 0===h?void 0:h[0])||void 0===p?void 0:p.param;break;case"file-size":Z="streamChat.Error uploading file, maximum file size exceeded",X.limit=null===(b=null===(_=O.errorExtraInfo)||void 0===_?void 0:_[0])||void 0===b?void 0:b.param;break;default:Z="streamChat.Error uploading file"}this.notificationService.addTemporaryNotification(Z,"error",void 0,X)}}else d.url&&this.channelService.deleteAttachment(d)}),this.attachmentUploadInProgressCounterSubject.next(this.attachmentUploadInProgressCounterSubject.getValue()-1),this.attachmentUploadsSubject.next([...a])})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(ar),t.LFG(pl))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Hf=(()=>{class o{constructor(){this.shouldGenerateVideoThumbnail=!0}getImageAttachmentConfiguration(e,r,a){if(this.customImageAttachmentConfigurationHandler)return this.customImageAttachmentConfigurationHandler(e,r,a);const d=new URL(e.img_url||e.thumb_url||e.image_url||""),h=Number(d.searchParams.get("oh"))>1?Number(d.searchParams.get("oh")):1e6,p=Number(d.searchParams.get("ow"))>1?Number(d.searchParams.get("ow")):1e6,b=this.getSizingRestrictions(d,a,"gallery"===r||"single"===r);return b&&(b.height*=2,b.width*=2,this.addResizingParamsToUrl(b,d)),{url:d.href,width:"",height:"",originalHeight:h,originalWidth:p}}getVideoAttachmentConfiguration(e,r){if(this.customVideoAttachmentConfigurationHandler)return this.customVideoAttachmentConfigurationHandler(e,r);let a,d=1e6,h=1e6;if(e.thumb_url&&this.shouldGenerateVideoThumbnail){const p=new URL(e.thumb_url);d=Number(p.searchParams.get("oh"))>1?Number(p.searchParams.get("oh")):d,h=Number(p.searchParams.get("ow"))>1?Number(p.searchParams.get("ow")):h;const b=this.getSizingRestrictions(p,r,!0);b&&(b.height*=2,b.width*=2,this.addResizingParamsToUrl(b,p)),a=p.href}return{url:e.asset_url||"",width:"",height:"",thumbUrl:a,originalHeight:d,originalWidth:h}}getGiphyAttachmentConfiguration(e){var r;if(this.customGiphyAttachmentConfigurationHandler)return this.customGiphyAttachmentConfigurationHandler(e);const a=null===(r=e.giphy)||void 0===r?void 0:r.fixed_height_downsampled;return{url:a?.url||e.image_url||e.thumb_url||"",height:a?.height?`${a?.height}px`:"300px",width:a?.width?`${a?.width}px`:""}}getScrapedImageAttachmentConfiguration(e){return this.customScrapedImageAttachmentConfigurationHandler?this.customScrapedImageAttachmentConfigurationHandler(e):{url:e.image_url||e.thumb_url||"",width:"",height:""}}addResizingParamsToUrl(e,r){r.searchParams.set("h",e.height.toString()),r.searchParams.set("w",e.width.toString())}getSizingRestrictions(e,r,a=!1){const d=e.searchParams,h=Number(d.get("oh"))||1,p=Number(d.get("ow"))||1,_=this.getCSSSizeRestriction(r);let b;return(_.maxHeight||_.height)&&_.maxWidth?b=this.getSizeRestrictions(h,p,_.maxHeight||_.height,_.maxWidth):(b=void 0,a&&console.warn("Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/angular/components/AttachmentListComponent/#image-and-video-sizing")),b}getSizeRestrictions(e,r,a,d){return{height:Math.round(Math.max(a,d/r*e)),width:Math.round(Math.max(a,d/e*r))}}getCSSSizeRestriction(e){const r=getComputedStyle(e);return{height:this.getValueRepresentationOfCSSProperty(r.getPropertyValue("height")),maxHeight:this.getValueRepresentationOfCSSProperty(r.getPropertyValue("max-height")),maxWidth:this.getValueRepresentationOfCSSProperty(r.getPropertyValue("max-width"))}}getValueRepresentationOfCSSProperty(e){return Number(e.replace("px",""))||void 0}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const S__streamChat={"1 reply":"1 reply","Attach files":"Attach files",Cancel:"Cancel","Channel Missing":"Channel Missing",Close:"Close","Close emoji picker":"Close emoji picker","Commands matching":"Commands matching","Connection failure, reconnecting now...":"Connection failure, reconnecting now...",Delete:"Delete",Delivered:"Delivered","Edit Message":"Edit Message","Edit message request failed":"Edit message request failed","Emoji matching":"Emoji matching","Empty message...":"Empty message...","Error adding flag":"Error adding flag","Error connecting to chat, refresh the page to try again.":"Error connecting to chat, refresh the page to try again","Error deleting message":"Error deleting message","Error muting a user ...":"Error muting a user ...","Error pinning message":"Error pinning message","Error removing message pin":"Error removing message pin","Error unmuting a user ...":"Error unmuting a user ...","Error uploading file":'Error uploading file "{{ name }}"',"Error uploading file, maximum file size exceeded":'Error uploading "{{ name }}", maximum file size {{ limit }} exceeded',"Error uploading file, extension not supported":'Error uploading "{{ name }}", type {{ ext }} not supported',"Error deleting attachment":"Error deleting attachment","Error \xb7 Unsent":"Message couldn't be sent","Error: {{ errorMessage }}":"Error: {{ errorMessage }}",Flag:"Flag","Message Failed":"Message Failed","Message Failed \xb7 Unauthorized":"Unauthorized to send message","Message Failed \xb7 Click to try again":"Message couldn't be sent, click to try again","Message deleted":"Message deleted","Message has been successfully flagged":"Message has been successfully flagged","Message pinned":"Message pinned","Message unpinned":"Message unpinned",Mute:"Mute",New:"New","New Messages!":"New Messages!","No results found":"No results found","Nothing yet...":"Nothing yet...","Only visible to you":"Only visible to you","Open emoji picker":"Open emoji picker","People matching":"People matching","Pick your emoji":"Pick your emoji",Pin:"Pin","Pinned by":"Pinned by",Reply:"Reply","Reply to Message":"Reply to Message",Search:"Search","Searching...":"Searching...",Send:"Send","Send message request failed":"Send message request failed","Sending...":"Sending...","Slow Mode ON":"Slow Mode ON","Start of a new thread":"Start of a new thread","This message was deleted...":"This message was deleted...",Thread:"Thread reply","Type your message":"Type your message",Unmute:"Unmute",Unpin:"Unpin","Wait until all attachments have uploaded":"Wait until all attachments have uploaded","You have no channels currently":"You have no channels currently","You've reached the maximum number of files":"You've reached the maximum number of files",live:"live","this content could not be displayed":"this content could not be displayed","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} and {{ moreCount }} more","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, and {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} and {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} more","{{ memberCount }} members":"{{ memberCount }} members","{{ replyCount }} replies":"{{ replyCount }} replies","{{ user }} has been muted":"{{ user }} has been muted","{{ user }} has been unmuted":"{{ user }} has been unmuted","{{ watcherCount }} online":"{{ watcherCount }} online","\u{1f3d9} Attachment...":"\u{1f3d9} Attachment...","Connection error":"Connection error","Load more":"Load more",failed:"failed",retry:"retry",test:"success","Sending links is not allowed in this conversation":"Sending links is not allowed in this conversation","You can't send messages in this channel":"You can't send messages in this channel","You can't send thread replies in this channel":"You can't send thread replies in this channel","Message not found":"Message not found","No chats here yet\u2026":"No chats here yet\u2026","user is typing":"{{ user }} is typing","users are typing":"{{ users }} are typing","Error loading channels":"Error loading channels","See original (automatically translated)":"See original (automatically translated)","See translation":"See translation"};let Zf=(()=>{class o{constructor(e){this.translteService=e}setTranslation(e="en",r){this.translteService.defaultLang||(this.translteService.defaultLang=e),this.translteService.setTranslation(e,{streamChat:Object.assign(Object.assign({},S__streamChat),r)},!0)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(v.sK))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Vf=(()=>{class o{constructor(e,r){this.chatClientService=e,this.ngZone=r,this.size=32,this.showOnlineIndicator=!0,this.initialsType="first-letter-of-first-word",this.isLoaded=!1,this.isError=!1,this.isOnline=!1}ngOnChanges(e){var r,a;if(e.channel)if(this.channel){const d=this.getOtherMemberIfOneToOneChannel();d?(this.isOnline=d.online||!1,this.isOnlineSubscription=this.chatClientService.events$.pipe((0,vo.h)(h=>"user.presence.changed"===h.eventType)).subscribe(h=>{var p;(null===(p=h.event.user)||void 0===p?void 0:p.id)===d.id&&this.ngZone.run(()=>{var _;this.isOnline=(null===(_=h.event.user)||void 0===_?void 0:_.online)||!1})})):null===(r=this.isOnlineSubscription)||void 0===r||r.unsubscribe()}else this.isOnline=!1,null===(a=this.isOnlineSubscription)||void 0===a||a.unsubscribe()}get initials(){var e,r,a,d,h;let p="";if("user"===this.type)p=(null===(e=this.name)||void 0===e?void 0:e.toString())||"";else if("channel"===this.type)if(null!==(a=null===(r=this.channel)||void 0===r?void 0:r.data)&&void 0!==a&&a.name)p=null===(h=null===(d=this.channel)||void 0===d?void 0:d.data)||void 0===h?void 0:h.name;else{const O=this.getOtherMemberIfOneToOneChannel();p=O?O.name||O.id||"":"#"}const _=p.split(" ");let b;return b="first-letter-of-each-word"===this.initialsType?_.map(O=>O.charAt(0)||"").join(""):_[0].charAt(0)||"",b}get fallbackChannelImage(){if("channel"===this.type){const e=this.getOtherMemberIfOneToOneChannel();return e?e.image:void 0}}getOtherMemberIfOneToOneChannel(){var e,r;const a=Object.values((null===(r=null===(e=this.channel)||void 0===e?void 0:e.state)||void 0===r?void 0:r.members)||{}).filter(d=>{var h;return d.user_id!==(null===(h=this.chatClientService.chatClient.user)||void 0===h?void 0:h.id)});if(1===a.length)return a[0].user}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ms),t.Y36(t.R0b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-avatar"]],inputs:{name:"name",imageUrl:"imageUrl",size:"size",location:"location",channel:"channel",user:"user",type:"type",showOnlineIndicator:"showOnlineIndicator",initialsType:"initialsType"},features:[t.TTD],decls:5,vars:15,consts:[[3,"title"],["data-testid","avatar-img",3,"class","src","alt","style","load","error",4,"ngIf","ngIfElse"],["fallback",""],["data-testid","online-indicator","class","str-chat__avatar--online-indicator",4,"ngIf"],["data-testid","avatar-img",3,"src","alt","load","error"],["data-testid","fallback-img",1,"str-chat__avatar-fallback",2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis"],["data-testid","online-indicator",1,"str-chat__avatar--online-indicator"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,nu,1,11,"img",1),t.YNc(2,Fv,2,1,"ng-template",null,2,t.W1O),t.YNc(4,kv,1,0,"div",3),t.qZA()),2&e){const a=t.MAs(3);t.Akn(t.qbA(9,ah,"calc(var(--str-chat__spacing-px, 1px) * "+r.size+")","first-letter-of-first-word"===r.initialsType?"calc(var(--str-chat__spacing-px, 1px) * "+r.size/2+")":"calc(var(--str-chat__spacing-px, 1px) * "+r.size/3+")","calc(var(--str-chat__spacing-px, 1px) * "+r.size+")","calc(var(--str-chat__spacing-px, 1px) * "+r.size+")","calc(var(--str-chat__spacing-px, 1px) * "+r.size+")")),t.Gre("str-chat__avatar str-chat__avatar--circle stream-chat__avatar--",r.location,""),t.s9C("title",r.name),t.xp6(1),t.Q6J("ngIf",(r.imageUrl||r.fallbackChannelImage)&&!r.isError)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",r.isOnline&&r.showOnlineIndicator)}},dependencies:[y.O5]}),o})(),Si=(()=>{class o{constructor(){this.mentionAutocompleteItemTemplate$=new z.X(void 0),this.commandAutocompleteItemTemplate$=new z.X(void 0),this.channelPreviewTemplate$=new z.X(void 0),this.messageInputTemplate$=new z.X(void 0),this.mentionTemplate$=new z.X(void 0),this.emojiPickerTemplate$=new z.X(void 0),this.typingIndicatorTemplate$=new z.X(void 0),this.messageTemplate$=new z.X(void 0),this.channelActionsTemplate$=new z.X(void 0),this.attachmentListTemplate$=new z.X(void 0),this.attachmentPreviewListTemplate$=new z.X(void 0),this.avatarTemplate$=new z.X(void 0),this.iconTemplate$=new z.X(void 0),this.loadingIndicatorTemplate$=new z.X(void 0),this.messageActionsBoxTemplate$=new z.X(void 0),this.messageActionsBoxItemTemplate$=new z.X(void 0),this.messageReactionsTemplate$=new z.X(void 0),this.modalTemplate$=new z.X(void 0),this.notificationTemplate$=new z.X(void 0),this.threadHeaderTemplate$=new z.X(void 0),this.deliveredStatusTemplate$=new z.X(void 0),this.sendingStatusTemplate$=new z.X(void 0),this.readStatusTemplate$=new z.X(void 0),this.channelHeaderInfoTemplate$=new z.X(void 0),this.customAttachmentUploadTemplate$=new z.X(void 0),this.imageAttachmentTemplate$=new z.X(void 0),this.videoAttachmentTemplate$=new z.X(void 0),this.galleryAttachmentTemplate$=new z.X(void 0),this.fileAttachmentTemplate$=new z.X(void 0),this.cardAttachmentTemplate$=new z.X(void 0),this.attachmentActionsTemplate$=new z.X(void 0),this.systemMessageTemplate$=new z.X(void 0),this.dateSeparatorTemplate$=new z.X(void 0),this.newMessagesIndicatorTemplate$=new z.X(void 0),this.emptyMainMessageListPlaceholder$=new z.X(void 0),this.emptyThreadMessageListPlaceholder$=new z.X(void 0)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Da=(()=>{class o{constructor(e){this.customTemplatesService=e,this.size=32,this.initialsType="first-letter-of-first-word",this.showOnlineIndicator=!0,this.context={name:void 0,imageUrl:void 0,size:void 0,location:void 0,channel:void 0,user:void 0,type:void 0,initialsType:void 0,showOnlineIndicator:void 0}}ngOnChanges(){this.context={name:this.name,imageUrl:this.imageUrl,size:this.size,location:this.location,type:this.type,user:this.user,channel:this.channel,initialsType:this.initialsType,showOnlineIndicator:this.showOnlineIndicator}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Si))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-avatar-placeholder"]],inputs:{name:"name",imageUrl:"imageUrl",size:"size",location:"location",channel:"channel",user:"user",type:"type",initialsType:"initialsType",showOnlineIndicator:"showOnlineIndicator"},features:[t.TTD],decls:4,vars:4,consts:[["defaultAvatar",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name","imageUrl","size","type","channel","user","location","initialsType","showOnlineIndicator"]],template:function(e,r){if(1&e&&(t.YNc(0,og,1,9,"ng-template",null,0,t.W1O),t.YNc(2,ag,1,0,"ng-container",1),t.ALo(3,"async")),2&e){const a=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",t.lcZ(3,2,r.customTemplatesService.avatarTemplate$)||a)("ngTemplateOutletContext",r.context)}},dependencies:[Vf,y.tP,y.Ov],encapsulation:2}),o})(),lc=(()=>{class o{constructor(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-icon"]],inputs:{icon:"icon",size:"size"},decls:22,vars:22,consts:[["data-testid","action-icon","height","4","viewBox","0 0 11 4","width","11","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","delivered-icon","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["height","12","viewBox","0 0 12 12","width","12","xmlns","http://www.w3.org/2000/svg","data-testid","reaction-icon",4,"ngIf"],["data-testid","connection-error","width","78px","height","78px","viewBox","0 0 78 78","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",4,"ngIf"],["data-testid","send","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","file-upload","height","14","width","14","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","retry","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","close","width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","file","className","rfu-file-icon--small fa-file-fallback","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512",4,"ngIf"],["data-testid","unspecified-filetype","width","34","height","40","viewBox","0 0 34 40","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","reply","height","15","width","18","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","close-no-outline","viewBox","0 0 24 24","width","24","height","24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["height","10","width","14","xmlns","http://www.w3.org/2000/svg","data-testid","reply-in-thread",4,"ngIf"],["data-testid","arrow-left","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","arrow-right","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","menu","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","arrow-up","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","arrow-down","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","chat-bubble","viewBox","0 0 136 136","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","attach","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","download","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","error","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["data-testid","action-icon","height","4","viewBox","0 0 11 4","width","11","xmlns","http://www.w3.org/2000/svg"],["d","M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z","fillRule","nonzero"],["data-testid","delivered-icon","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.9999 16.2L4.7999 12L3.3999 13.4L8.9999 19L20.9999 6.99998L19.5999 5.59998L8.9999 16.2Z","fill","black"],["height","12","viewBox","0 0 12 12","width","12","xmlns","http://www.w3.org/2000/svg","data-testid","reaction-icon"],["clipRule","evenodd","fillRule","evenodd"],["d","M6 1.2C3.3 1.2 1.2 3.3 1.2 6c0 2.7 2.1 4.8 4.8 4.8 2.7 0 4.8-2.1 4.8-4.8 0-2.7-2.1-4.8-4.8-4.8zM0 6c0-3.3 2.7-6 6-6s6 2.7 6 6-2.7 6-6 6-6-2.7-6-6z"],["d","M5.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM8.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM3.3 6.7c.3-.2.6-.1.8.1.3.4.8.9 1.5 1 .6.2 1.4.1 2.4-1 .2-.2.6-.3.8 0 .2.2.3.6 0 .8-1.1 1.3-2.4 1.7-3.5 1.5-1-.2-1.8-.9-2.2-1.5-.2-.3-.1-.7.2-.9z"],["data-testid","connection-error","width","78px","height","78px","viewBox","0 0 78 78","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Interactions","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Connection-Error-_-Connectivity","transform","translate(-270.000000, -30.000000)","fill","#CF1F25"],["id","109-network-connection","transform","translate(270.000000, 30.000000)"],["d","M66.4609744,11.414231 C81.6225232,26.5757798 81.6225232,51.157545 66.4609744,66.3188467 C51.2994256,81.4803954 26.7176604,81.4803954 11.5563587,66.3188467 C-3.60519004,51.1572979 -3.60519004,26.5755327 11.5563587,11.414231 C26.7179075,-3.74731776 51.2996727,-3.74731776 66.4609744,11.414231 Z M54.7853215,45.8823776 L54.7853215,40.5882574 C54.7853215,39.613638 53.9952341,38.8235506 53.0206147,38.8235506 L44.9576695,38.8235506 L41.428256,42.3529641 L51.255555,42.3529641 L51.255555,45.8823776 L54.7853215,45.8823776 Z M40.6659027,43.1153174 L37.8988425,45.8823776 L40.6659027,45.8823776 L40.6659027,43.1153174 Z M51.1764962,56.4702653 L58.2353232,56.4702653 C59.2099355,56.4702653 60.00003,55.6801708 60.00003,54.7055585 L60.00003,51.176145 C60.00003,50.2015327 59.2099355,49.4114382 58.2353232,49.4114382 L51.1764962,49.4114382 C50.2018839,49.4114382 49.4117894,50.2015327 49.4117894,51.176145 L49.4117894,54.7055585 C49.4117894,55.6801708 50.2018839,56.4702653 51.1764962,56.4702653 Z M35.2941353,56.4702653 L42.3529624,56.4702653 C43.3275746,56.4702653 44.1176691,55.6801708 44.1176691,54.7055585 L44.1176691,51.176145 C44.1176691,50.2015327 43.3275746,49.4114382 42.3529624,49.4114382 L35.2941353,49.4114382 C34.319523,49.4114382 33.5294285,50.2015327 33.5294285,51.176145 L33.5294285,54.7055585 C33.5294285,55.6801708 34.319523,56.4702653 35.2941353,56.4702653 Z M56.6964989,19.0874231 C56.007381,18.3985134 54.8903216,18.3985134 54.2012036,19.087423 L45.882376,27.4062507 L45.882376,19.4117761 C45.882376,18.4371568 45.0922885,17.6470693 44.1176692,17.6470693 L33.5294286,17.6470693 C32.5548092,17.6470694 31.7647218,18.4371568 31.7647218,19.4117761 L31.7647218,30.0000167 C31.7647219,30.9746363 32.5548092,31.7647237 33.5294285,31.7647237 L41.5239031,31.7647237 L34.4650761,38.8235508 L24.7058947,38.8235508 C23.7312753,38.8235508 22.9411879,39.6136382 22.9411879,40.5882575 L22.9411879,45.8823778 L26.4706014,45.8823778 L26.4706014,42.3529643 L30.9356624,42.3529643 L23.8768354,49.4117914 L19.4117743,49.4117914 C18.4371549,49.4117914 17.6470675,50.2018788 17.6470675,51.1764981 L17.6470675,54.7059117 C17.6504049,54.9674302 17.7129076,55.2248042 17.8298886,55.4587302 L16.4456526,56.8429662 C15.7446193,57.5200453 15.7252005,58.6372282 16.4022825,59.3382615 C17.0793616,60.0392948 18.1965445,60.0587136 18.8975778,59.3816316 C18.9122847,59.3674273 18.9267436,59.3529684 18.940948,59.3382615 L56.6964963,21.5830662 C57.3856425,20.8939094 57.3856425,19.7765747 56.6964963,19.0874179 Z","id","Combined-Shape"],["data-testid","send","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["translate",""],["d","M4.00952 22L24 12L4.00952 2L4 9.77778L18.2857 12L4 14.2222L4.00952 22Z","fill","black"],["data-testid","file-upload","height","14","width","14","xmlns","http://www.w3.org/2000/svg"],["d","M1.667.333h10.666c.737 0 1.334.597 1.334 1.334v10.666c0 .737-.597 1.334-1.334 1.334H1.667a1.333 1.333 0 0 1-1.334-1.334V1.667C.333.93.93.333 1.667.333zm2 1.334a1.667 1.667 0 1 0 0 3.333 1.667 1.667 0 0 0 0-3.333zm-2 9.333v1.333h10.666v-4l-2-2-4 4-2-2L1.667 11z","fillRule","nonzero"],["data-testid","retry","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.6449 6.35C16.1949 4.9 14.2049 4 11.9949 4C7.57488 4 4.00488 7.58 4.00488 12C4.00488 16.42 7.57488 20 11.9949 20C15.7249 20 18.8349 17.45 19.7249 14H17.6449C16.8249 16.33 14.6049 18 11.9949 18C8.68488 18 5.99488 15.31 5.99488 12C5.99488 8.69 8.68488 6 11.9949 6C13.6549 6 15.1349 6.69 16.2149 7.78L12.9949 11H19.9949V4L17.6449 6.35Z","fill","black"],["data-testid","close","width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","28","height","28","rx","14","fill","#72767E"],["cx","14","cy","14","r","12","fill","#72767E"],["fill-rule","evenodd","clip-rule","evenodd","d","M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14ZM26 14C26 20.6274 20.6274 26 14 26C7.37258 26 2 20.6274 2 14C2 7.37258 7.37258 2 14 2C20.6274 2 26 7.37258 26 14ZM19.59 7L21 8.41L15.41 14L21 19.59L19.59 21L14 15.41L8.41 21L7 19.59L12.59 14L7 8.41L8.41 7L14 12.59L19.59 7Z","fill","white"],["data-testid","file","className","rfu-file-icon--small fa-file-fallback","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512"],["d","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z","fill","#414D54"],["data-testid","unspecified-filetype","width","34","height","40","viewBox","0 0 34 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z","fill","url(#paint0_linear)"],["d","M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z","fill","#DBDBDB"],["fill-rule","evenodd","clip-rule","evenodd","d","M8 13H23V15H8V13Z","fill","#CFCFCF"],["fill-rule","evenodd","clip-rule","evenodd","d","M8 17H18V19H8V17Z","fill","#CFCFCF"],["fill-rule","evenodd","clip-rule","evenodd","d","M8 21H23V23H8V21Z","fill","#CFCFCF"],["id","paint0_linear","x1","0","y1","0","x2","0","y2","40","gradientUnits","userSpaceOnUse"],["stop-color","white"],["offset","1","stop-color","#DBDBDB"],["data-testid","reply","height","15","width","18","xmlns","http://www.w3.org/2000/svg"],["d","M.56 10.946H.06l-.002-.498L.025.92a.5.5 0 1 1 1-.004l.032 9.029H9.06v-4l9 4.5-9 4.5v-4H.56z","fillRule","nonzero"],["data-testid","close-no-outline","viewBox","0 0 24 24","width","24","height","24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z","fill","black"],["height","10","width","14","xmlns","http://www.w3.org/2000/svg","data-testid","reply-in-thread"],["d","M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z","fillRule","evenodd"],["data-testid","arrow-left","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15.7049 7.41L14.2949 6L8.29492 12L14.2949 18L15.7049 16.59L11.1249 12L15.7049 7.41Z","fill","var(--black)"],["data-testid","arrow-right","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z","fill","var(--black)"],["data-testid","menu","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3 8V6H21V8H3ZM3 13H21V11H3V13ZM3 18H21V16H3V18Z","fill","black"],["data-testid","arrow-up","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M16.59 15.7051L12 11.1251L7.41 15.7051L6 14.2951L12 8.29508L18 14.2951L16.59 15.7051Z","fill","var(--primary-color)"],["data-testid","arrow-down","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.41 8.29504L12 12.875L16.59 8.29504L18 9.70504L12 15.705L6 9.70504L7.41 8.29504Z","fill","var(--primary-color)"],["data-testid","chat-bubble","viewBox","0 0 136 136","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M106 24.5H30C24.775 24.5 20.5 28.775 20.5 34V119.5L39.5 100.5H106C111.225 100.5 115.5 96.225 115.5 91V34C115.5 28.775 111.225 24.5 106 24.5ZM106 91H39.5L30 100.5V34H106V91Z","fill","#B4B7BB"],["data-testid","attach","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_10878_5)"],["d","M12.9997 6.99993L10.9997 6.99993L10.9997 10.9999L6.99972 10.9999L6.99972 12.9999L10.9997 12.9999L10.9997 16.9999L12.9997 16.9999L12.9997 12.9999L16.9997 12.9999L16.9997 10.9999L12.9997 10.9999L12.9997 6.99993ZM11.9997 1.99992C6.47972 1.99992 1.99972 6.47993 1.99972 11.9999C1.99972 17.5199 6.47972 21.9999 11.9997 21.9999C17.5197 21.9999 21.9997 17.5199 21.9997 11.9999C21.9997 6.47993 17.5197 1.99992 11.9997 1.99992ZM11.9997 19.9999C7.58972 19.9999 3.99972 16.4099 3.99972 11.9999C3.99972 7.58993 7.58972 3.99993 11.9997 3.99993C16.4097 3.99993 19.9997 7.58993 19.9997 11.9999C19.9997 16.4099 16.4097 19.9999 11.9997 19.9999Z","fill","black"],["id","clip0_10878_5"],["width","24","height","24","fill","white"],["data-testid","download","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z","fill","black"],["data-testid","error","width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","background","d","M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z","fill","black"],["d","M13 17H11V15H13V17ZM13 13H11V7H13V13Z","fill","white"]],template:function(e,r){1&e&&(t.YNc(0,lg,2,0,"svg",0),t.YNc(1,cg,2,0,"svg",1),t.YNc(2,lh,4,0,"svg",2),t.YNc(3,Hl,9,0,"svg",3),t.YNc(4,ug,4,0,"svg",4),t.YNc(5,iu,4,0,"svg",5),t.YNc(6,dg,2,0,"svg",6),t.YNc(7,hi,4,0,"svg",7),t.YNc(8,ch,2,2,"svg",8),t.YNc(9,hg,10,0,"svg",9),t.YNc(10,ru,2,0,"svg",10),t.YNc(11,uh,2,0,"svg",11),t.YNc(12,fg,2,0,"svg",12),t.YNc(13,pg,2,0,"svg",13),t.YNc(14,gg,2,0,"svg",14),t.YNc(15,mg,2,0,"svg",15),t.YNc(16,dh,2,0,"svg",16),t.YNc(17,Rv,2,0,"svg",17),t.YNc(18,Lv,2,0,"svg",18),t.YNc(19,sl,6,0,"svg",19),t.YNc(20,su,2,0,"svg",20),t.YNc(21,hh,3,0,"svg",21)),2&e&&(t.Q6J("ngIf","action-icon"===r.icon),t.xp6(1),t.Q6J("ngIf","delivered-icon"===r.icon),t.xp6(1),t.Q6J("ngIf","reaction-icon"===r.icon),t.xp6(1),t.Q6J("ngIf","connection-error"===r.icon),t.xp6(1),t.Q6J("ngIf","send"===r.icon),t.xp6(1),t.Q6J("ngIf","file-upload"===r.icon),t.xp6(1),t.Q6J("ngIf","retry"===r.icon),t.xp6(1),t.Q6J("ngIf","close"===r.icon),t.xp6(1),t.Q6J("ngIf","file"===r.icon),t.xp6(1),t.Q6J("ngIf","unspecified-filetype"===r.icon),t.xp6(1),t.Q6J("ngIf","reply"===r.icon),t.xp6(1),t.Q6J("ngIf","close-no-outline"===r.icon),t.xp6(1),t.Q6J("ngIf","reply-in-thread"===r.icon),t.xp6(1),t.Q6J("ngIf","arrow-left"===r.icon),t.xp6(1),t.Q6J("ngIf","arrow-right"===r.icon),t.xp6(1),t.Q6J("ngIf","menu"===r.icon),t.xp6(1),t.Q6J("ngIf","arrow-up"===r.icon),t.xp6(1),t.Q6J("ngIf","arrow-down"===r.icon),t.xp6(1),t.Q6J("ngIf","chat-bubble"===r.icon),t.xp6(1),t.Q6J("ngIf","attach"===r.icon),t.xp6(1),t.Q6J("ngIf","download"===r.icon),t.xp6(1),t.Q6J("ngIf","error"===r.icon))},dependencies:[y.O5,v.Pi],encapsulation:2}),o})(),Ns=(()=>{class o{constructor(e){this.customTemplatesService=e,this.iconContext={icon:void 0,size:void 0}}ngOnChanges(){this.iconContext={icon:this.icon,size:this.size}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Si))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-icon-placeholder"]],inputs:{icon:"icon",size:"size"},features:[t.TTD],decls:4,vars:4,consts:[["defaultIcon",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"icon","size"]],template:function(e,r){if(1&e&&(t.YNc(0,fh,1,2,"ng-template",null,0,t.W1O),t.YNc(2,ph,1,0,"ng-container",1),t.ALo(3,"async")),2&e){const a=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",t.lcZ(3,2,r.customTemplatesService.iconTemplate$)||a)("ngTemplateOutletContext",r.iconContext)}},dependencies:[lc,y.tP,y.Ov],encapsulation:2}),o})(),zf=(()=>{class o{constructor(){this.size=15,this.color="var(--str-chat__loading-indicator-color, var(--str-chat__primary-color, '#006CFF'))",this.linearGradientId=Qo()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-loading-indicator"]],inputs:{size:"size",color:"color"},decls:7,vars:8,consts:[[1,"str-chat__loading-indicator"],["viewBox","0 0 30 30","data-testid","loading-indicator","xmlns","http://www.w3.org/2000/svg"],["x1","50%","x2","50%","y1","0%","y2","100%",3,"id"],["offset","0%","stop-color","#FFF","stop-opacity","0"],["data-testid","stop-color","offset","100%","stop-opacity","1",3,"ngStyle"],["d","M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z","fillRule","evenodd"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1)(2,"defs")(3,"linearGradient",2),t._UZ(4,"stop",3)(5,"stop",4),t.qZA()(),t._UZ(6,"path",5),t.qZA()()),2&e&&(t.xp6(1),t.uIk("height",r.size)("width",r.size),t.xp6(2),t.s9C("id",r.linearGradientId),t.xp6(2),t.Q6J("ngStyle",t.VKq(6,_g,r.color)),t.uIk("stop-color",r.color),t.xp6(1),t.uIk("fill","url(#"+r.linearGradientId+")"))},dependencies:[y.PC],encapsulation:2}),o})(),cc=(()=>{class o{constructor(e){this.customTemplatesService=e,this.size=15,this.color="var(--str-chat__loading-indicator-color, var(--str-chat__primary-color, '#006CFF'))"}getLoadingIndicatorContext(){return{size:this.size,color:this.color}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Si))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-loading-indicator-placeholder"]],inputs:{size:"size",color:"color"},decls:4,vars:4,consts:[["defaultLoadingIndicator",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"size","color"]],template:function(e,r){if(1&e&&(t.YNc(0,vg,1,2,"ng-template",null,0,t.W1O),t.YNc(2,gh,1,0,"ng-container",1),t.ALo(3,"async")),2&e){const a=t.MAs(1);t.xp6(2),t.Q6J("ngTemplateOutlet",t.lcZ(3,2,r.customTemplatesService.loadingIndicatorTemplate$)||a)("ngTemplateOutletContext",r.getLoadingIndicatorContext())}},dependencies:[zf,y.tP,y.Ov],encapsulation:2}),o})(),M_=(()=>{class o{constructor(){this.isOpen=!1,this.isOpenChange=new t.vpe,this.watchForEscPress=e=>{"Escape"===e.key&&this.close()},this.stopWatchForEscPress=()=>{window.removeEventListener("keyup",this.watchForEscPress)},this.watchForOutsideClicks=e=>{var r;null!==(r=this.innerContainer)&&void 0!==r&&r.nativeElement.contains(e.target)||this.close()}}ngOnChanges(e){e.isOpen&&(this.isOpen?(window.addEventListener("keyup",this.watchForEscPress),setTimeout(()=>window.addEventListener("click",this.watchForOutsideClicks),0)):(this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()))}close(){this.isOpen=!1,this.isOpenChange.emit(!1),this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()}stopWatchForOutsideClicks(){window.removeEventListener("click",this.watchForOutsideClicks)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-modal"]],viewQuery:function(e,r){if(1&e&&t.Gf(mh,5),2&e){let a;t.iGM(a=t.CRH())&&(r.innerContainer=a.first)}},inputs:{isOpen:"isOpen",content:"content"},outputs:{isOpenChange:"isOpenChange"},features:[t.TTD],ngContentSelectors:Zl,decls:8,vars:5,consts:[["data-testid","modal"],["data-testid","close",1,"str-chat__modal__close-button",3,"click","keyup.enter"],["icon","close"],[1,"str-chat__modal__inner"],["modalInner",""],[4,"ngIf","ngIfElse"],["elseContent",""],[4,"ngTemplateOutlet"]],template:function(e,r){if(1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return r.close()})("keyup.enter",function(){return r.close()}),t._UZ(2,"stream-icon-placeholder",2),t.qZA(),t.TgZ(3,"div",3,4),t.YNc(5,Pv,2,1,"ng-container",5),t.YNc(6,au,1,0,"ng-template",null,6,t.W1O),t.qZA()()),2&e){const a=t.MAs(7);t.Gre("str-chat__modal str-chat__modal--",r.isOpen?"open":"close",""),t.xp6(5),t.Q6J("ngIf",r.content)("ngIfElse",a)}},dependencies:[Ns,y.O5,y.tP],encapsulation:2}),o})();const uc=new t.OlP("textareaInjectionToken");let dc=(()=>{class o{constructor(e){this.viewContainerRef=e,this.value="",this.valueChange=new t.vpe,this.send=new t.vpe,this.userMentions=new t.vpe,this.subscriptions=[],this.unpropagatedChanges=[]}ngOnChanges(e){var r,a;if(this.unpropagatedChanges.push(e),!this.componentRef)return;e.componentRef&&(this.subscriptions.forEach(h=>h.unsubscribe()),this.componentRef&&(this.subscriptions.push(this.componentRef.instance.valueChange.subscribe(h=>this.valueChange.next(h))),this.subscriptions.push(this.componentRef.instance.send.subscribe(h=>this.send.next(h))),this.componentRef.instance.userMentions&&this.subscriptions.push(this.componentRef.instance.userMentions.subscribe(h=>this.userMentions.next(h))),this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled,this.componentRef.instance.mentionScope=this.mentionScope,this.componentRef.instance.value=this.value,this.componentRef.instance.placeholder=this.placeholder,this.componentRef.instance.inputMode=this.inputMode,this.componentRef.instance.autoFocus=this.autoFocus)),e.areMentionsEnabled&&(this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled),e.mentionScope&&(this.componentRef.instance.mentionScope=this.mentionScope),e.value&&(this.componentRef.instance.value=this.value),e.placeholder&&(this.componentRef.instance.placeholder=this.placeholder),e.inputMode&&(this.componentRef.instance.inputMode=this.inputMode),e.autoFocus&&(this.componentRef.instance.autoFocus=this.autoFocus);let d={};this.unpropagatedChanges.forEach(h=>d=Object.assign(Object.assign({},d),h)),null===(a=(r=this.componentRef.instance).ngOnChanges)||void 0===a||a.call(r,d),this.unpropagatedChanges=[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.s_b))},o.\u0275dir=t.lG2({type:o,selectors:[["","streamTextarea",""]],inputs:{componentRef:"componentRef",areMentionsEnabled:"areMentionsEnabled",mentionScope:"mentionScope",inputMode:"inputMode",value:"value",placeholder:"placeholder",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions"},features:[t.TTD]}),o})(),Cr=(()=>{class o{constructor(){this.emojiInput$=new ee.x}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),x_=(()=>{class o{constructor(){this.isFileUploadEnabled=!0,this.areMentionsEnabled=!0,this.isMultipleFileUploadEnabled=!0,this.mentionScope="channel",this.inputMode="desktop"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Ju=(()=>{class o{constructor(e,r,a,d){this.customTemplatesService=e,this.channelService=r,this.attachmentConfigurationService=a,this.attachments=[],this.imageModalStateChange=new t.vpe,this.class="str-chat__attachment-list-angular-host",this.orderedAttachments=[],this.imagesToView=[],this.imagesToViewCurrentIndex=0,this.attachmentConfigurations=new Map,this.themeVersion=d.themeVersion}ngOnChanges(e){if(e.attachments){const r=this.attachments.filter(this.isImage);this.orderedAttachments=[...r.length>=2?this.createGallery(r):r,...this.attachments.filter(d=>this.isVideo(d)),...this.attachments.filter(d=>this.isFile(d))],this.attachmentConfigurations=new Map,0===this.orderedAttachments.length&&this.orderedAttachments.push(...this.attachments.filter(d=>this.isCard(d)))}}trackByUrl(e,r){return r.image_url||r.img_url||r.asset_url||r.thumb_url}isImage(e){return Bf(e)}isSvg(e){return!!(e.fallback||"").toLowerCase().endsWith(".svg")}isFile(e){return"file"===e.type}isGallery(e){return"gallery"===e.type}isVideo(e){return"video"===e.type&&e.asset_url&&!e.og_scrape_url}isCard(e){return!e.type||"image"===e.type&&!this.isImage(e)||"giphy"===e.type}hasFileSize(e){return e.file_size&&Number.isFinite(Number(e.file_size))}getFileSize(e){return w()(Number(e.file_size))}getModalContext(){return{isOpen:this.imagesToView&&this.imagesToView.length>0,isOpenChangeHandler:e=>e?null:this.closeImageModal(),content:this.modalContent}}trimUrl(e){if(null!=e){const[r]=e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/");return r}return null}sendAction(e){this.channelService.sendAction(this.messageId,{[e.name]:e.value},this.parentMessageId)}trackByActionValue(e,r){return r.value}openImageModal(e,r=0){this.imageModalStateChange.next("opened"),this.imagesToView=e,this.imagesToViewCurrentIndex=r}stepImages(e){this.imagesToViewCurrentIndex+=1*e}trackByImageUrl(e,r){return r.image_url||r.img_url||r.thumb_url}getAttachmentContext(e){return{attachment:e}}getImageAttachmentConfiguration(e,r,a){const d=this.attachmentConfigurations.get(e);if(d)return d;const h=this.attachmentConfigurationService.getImageAttachmentConfiguration(e,r,a);return this.attachmentConfigurations.set(e,h),h}getCarouselImageAttachmentConfiguration(e,r){return this.attachmentConfigurationService.getImageAttachmentConfiguration(e,"carousel",r)}getVideoAttachmentConfiguration(e,r){const a=this.attachmentConfigurations.get(e);if(a)return a;const d=this.attachmentConfigurationService.getVideoAttachmentConfiguration(e,r);return this.attachmentConfigurations.set(e,d),d}getCardAttachmentConfiguration(e){const r=this.attachmentConfigurations.get(e);if(r)return r;if("giphy"===e.type)return this.attachmentConfigurationService.getGiphyAttachmentConfiguration(e);{const a=this.attachmentConfigurationService.getScrapedImageAttachmentConfiguration(e);return this.attachmentConfigurations.set(e,a),a}}get isImageModalPrevButtonVisible(){return 0!==this.imagesToViewCurrentIndex}get isImageModalNextButtonVisible(){return this.imagesToViewCurrentIndex!==this.imagesToView.length-1}createGallery(e){return[{type:"gallery",images:e}]}closeImageModal(){this.imageModalStateChange.next("closed"),this.imagesToView=[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Si),t.Y36(ar),t.Y36(Hf),t.Y36(kn))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-attachment-list"]],viewQuery:function(e,r){if(1&e&&t.Gf(Vl,7),2&e){let a;t.iGM(a=t.CRH())&&(r.modalContent=a.first)}},hostVars:2,hostBindings:function(e,r){2&e&&t.Tol(r.class)},inputs:{messageId:"messageId",parentMessageId:"parentMessageId",attachments:"attachments"},outputs:{imageModalStateChange:"imageModalStateChange"},features:[t.TTD],decls:5,vars:1,consts:[["class","str-chat__attachment-list",4,"ngIf"],["defaultModal",""],["modalContent",""],[1,"str-chat__attachment-list"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["data-testclass","attachment-container"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultImage",""],["data-testclass","image",1,"str-chat__message-attachment--img",3,"src","alt","ngStyle","click","keyup.enter"],["imgElement",""],["defaultGallery",""],["data-testid","image-gallery",1,"str-chat__gallery"],["class","str-chat__gallery-image","data-testclass","gallery-image",3,"str-chat__message-attachment--svg-image","click","keyup.enter",4,"ngIf"],["class","str-chat__gallery-placeholder","data-testclass","gallery-image","data-testid","more-image-button",3,"str-chat__message-attachment--svg-image","--original-height","--original-width","ngStyle","click","keyup.enter",4,"ngIf"],["data-testclass","gallery-image",1,"str-chat__gallery-image",3,"click","keyup.enter"],[3,"src","alt","ngStyle"],["data-testclass","gallery-image","data-testid","more-image-button",1,"str-chat__gallery-placeholder",3,"ngStyle","click","keyup.enter"],["element",""],[3,"innerHTML"],["defaultVideo",""],["data-testclass","video-attachment-parent",1,"str-chat__player-wrapper",3,"ngStyle"],["controls","","data-testclass","video-attachment",1,"str-chat__video-angular",3,"src","poster"],["videoElement",""],["defaultFile",""],["data-testclass","file-link","target","_blank",1,"str-chat__message-attachment-file--item","str-chat-angular__message-attachment-file-single",2,"cursor","pointer","text-decoration","none",3,"href"],["icon","file",3,"size",4,"ngIf"],["icon","unspecified-filetype",3,"size",4,"ngIf"],[1,"str-chat__message-attachment-file--item-text"],[1,"str-chat__message-attachment-file--item-first-row"],["data-testclass","file-title",1,"str-chat__message-attachment-file--item-name"],["class","str-chat__message-attachment-file--item-size","data-testclass","size",4,"ngIf"],["icon","file",3,"size"],["icon","unspecified-filetype",3,"size"],["data-testclass","size",1,"str-chat__message-attachment-file--item-size"],["defaultCard",""],["class","str-chat__message-attachment-card--header",4,"ngIf"],[1,"str-chat__message-attachment-card--content"],[1,"str-chat__message-attachment-card--flex"],["data-testclass","card-title","class","str-chat__message-attachment-card--title",4,"ngIf"],["class","str-chat__message-attachment-card--text","data-testclass","card-text",4,"ngIf"],["class","str-chat__message-attachment-card--url","data-testclass","url-link","noopener","","noreferrer","","target","_blank",3,"href",4,"ngIf"],[1,"str-chat__message-attachment-card--header"],["data-testclass","card-img",3,"alt","src","ngStyle"],["data-testclass","card-title",1,"str-chat__message-attachment-card--title"],["data-testclass","card-text",1,"str-chat__message-attachment-card--text"],["data-testclass","url-link","noopener","","noreferrer","","target","_blank",1,"str-chat__message-attachment-card--url",3,"href"],["defaultActions",""],[1,"str-chat__message-attachment-actions"],[1,"str-chat__message-attachment-actions-form"],["data-testclass","attachment-action",3,"class","click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],["data-testclass","attachment-action",3,"click","keyup.enter"],[1,"stream-chat-angular__image-modal-host",3,"isOpen","content","isOpenChange"],[1,"stream-chat-angular__image-modal","str-chat__image-carousel"],["data-testid","image-modal-prev","type","button",1,"stream-chat-angular__image-modal-stepper","str-chat__image-carousel-stepper",3,"ngStyle","click","keyup.enter"],["icon","arrow-left"],["data-testid","modal-image",1,"stream-chat-angular__image-modal-image","str-chat__image-carousel-image",3,"src","alt","ngStyle"],["type","button","data-testid","image-modal-next",1,"stream-chat-angular__image-modal-stepper","str-chat__image-carousel-stepper",3,"ngStyle","click","keyup.enter"],["icon","arrow-right"]],template:function(e,r){1&e&&(t.YNc(0,bh,3,3,"div",0),t.YNc(1,Th,1,2,"ng-template",null,1,t.W1O),t.YNc(3,Rg,7,16,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("ngIf",r.orderedAttachments.length>0)},dependencies:[Ns,M_,y.O5,y.sg,y.tP,y.PC,y.Ov,v.X$],encapsulation:2}),o})(),_s=(()=>{class o{constructor(e){this.retryAttachmentUpload=new t.vpe,this.deleteAttachment=new t.vpe,this.themeVersion=e.themeVersion}attachmentUploadRetried(e){this.retryAttachmentUpload.emit(e)}attachmentDeleted(e){this.deleteAttachment.emit(e)}trackByFile(e,r){return r.file}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(kn))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-attachment-preview-list"]],inputs:{attachmentUploads$:"attachmentUploads$"},outputs:{retryAttachmentUpload:"retryAttachmentUpload",deleteAttachment:"deleteAttachment"},decls:8,vars:6,consts:[["class","rfu-image-previewer",4,"ngIf"],["class","str-chat__attachment-preview-list",4,"ngIf"],["deleteButton",""],["retryButton",""],[1,"rfu-image-previewer"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","rfu-image-previewer__image","data-testclass","attachment-image-preview",3,"rfu-image-previewer__image--loaded",4,"ngIf"],["class","rfu-file-previewer","data-testclass","attachment-file-preview",4,"ngIf"],["data-testclass","attachment-image-preview",1,"rfu-image-previewer__image"],["class","rfu-image-previewer__retry","data-testclass","upload-retry",3,"click","keyup.enter",4,"ngIf"],[1,"rfu-thumbnail__wrapper",2,"width","100","height","100"],[1,"rfu-thumbnail__overlay"],["data-testclass","file-delete","role","button",1,"rfu-icon-button",3,"click","keyup.enter"],["icon","close-no-outline"],["class","rfu-thumbnail__image","data-testclass","attachment-image",3,"src","alt",4,"ngIf"],["data-testclass","loading-indicator","color","rgba(255,255,255,0.7)",4,"ngIf"],["data-testclass","upload-retry",1,"rfu-image-previewer__retry",3,"click","keyup.enter"],["icon","retry"],["data-testclass","attachment-image",1,"rfu-thumbnail__image",3,"src","alt"],["data-testclass","loading-indicator","color","rgba(255,255,255,0.7)"],["data-testclass","attachment-file-preview",1,"rfu-file-previewer"],[1,"rfu-file-previewer__file"],["icon","file"],["data-testclass","file-download-link","download","",3,"href","click","keyup.enter"],[4,"ngIf"],["data-testclass","file-delete",1,"rfu-file-previewer__close-button",3,"click","keyup.enter"],["class","rfu-file-previewer__loading-indicator",4,"ngIf"],["data-testclass","upload-retry","translate","",1,"rfu-file-previewer__failed",3,"click","keyup.enter"],["translate","",1,"rfu-file-previewer__retry",3,"click","keyup.enter"],[1,"rfu-file-previewer__loading-indicator"],[1,"str-chat__attachment-preview-list"],[1,"str-chat__attachment-list-scroll-container"],["class","str-chat__attachment-preview-image","data-testclass","attachment-image-preview",4,"ngIf"],["class","str-chat__attachment-preview-file","data-testclass","attachment-file-preview",4,"ngIf"],["data-testclass","attachment-image-preview",1,"str-chat__attachment-preview-image"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","str-chat__attachment-preview-image-loading",4,"ngIf"],["class","str-chat__attachment-preview-thumbnail","data-testclass","attachment-image",3,"src","alt",4,"ngIf"],[1,"str-chat__attachment-preview-image-loading"],["data-testclass","loading-indicator",3,"size"],["data-testclass","attachment-image",1,"str-chat__attachment-preview-thumbnail",3,"src","alt"],["data-testclass","attachment-file-preview",1,"str-chat__attachment-preview-file"],["icon","unspecified-filetype"],[1,"str-chat__attachment-preview-file-end"],[1,"str-chat__attachment-preview-file-name"],["class","str-chat__attachment-preview-file-download","data-testclass","file-download-link","download","",3,"href","click","keyup.enter",4,"ngIf"],["data-testclass","loading-indicator",3,"size",4,"ngIf"],["data-testclass","file-download-link","download","",1,"str-chat__attachment-preview-file-download",3,"href","click","keyup.enter"],["icon","download"],["data-testclass","file-delete","role","button",1,"str-chat__attachment-preview-delete",3,"click","keyup.enter"],["data-testclass","upload-retry",3,"class","click","keyup.enter",4,"ngIf"],["data-testclass","upload-retry",3,"click","keyup.enter"]],template:function(e,r){if(1&e&&(t.YNc(0,$g,3,4,"div",0),t.ALo(1,"async"),t.YNc(2,zg,4,4,"div",1),t.ALo(3,"async"),t.YNc(4,Gg,2,0,"ng-template",null,2,t.W1O),t.YNc(6,Yg,1,1,"ng-template",null,3,t.W1O)),2&e){let a,d;t.Q6J("ngIf",(null==(a=t.lcZ(1,2,r.attachmentUploads$))?null:a.length)&&"1"===r.themeVersion),t.xp6(2),t.Q6J("ngIf",(null==(d=t.lcZ(3,4,r.attachmentUploads$))?null:d.length)&&"2"===r.themeVersion)}},dependencies:[Ns,cc,y.O5,y.sg,v.Pi,y.tP,y.Ov],encapsulation:2}),o})(),Ur=(()=>{class o{constructor(e,r,a,d,h,p,_,b,O,Z,X){this.channelService=e,this.notificationService=r,this.attachmentService=a,this.configService=d,this.textareaType=h,this.componentFactoryResolver=p,this.cdRef=_,this.chatClient=b,this.emojiInputService=O,this.customTemplatesService=Z,this.mode="main",this.autoFocus=!0,this.messageUpdate=new t.vpe,this.class="str-chat__message-input-angular-host",this.textareaValue="",this.mentionedUsers=[],this.typingStart$=new ee.x,this.isCooldownInProgress=!1,this.fileInputId=Qo(),this.subscriptions=[],this.isViewInited=!1,this.defaultTextareaPlaceholder="streamChat.Type your message",this.slowModeTextareaPlaceholder="streamChat.Slow Mode ON",this.themeVersion=X.themeVersion,this.textareaPlaceholder=this.defaultTextareaPlaceholder,this.subscriptions.push(this.attachmentService.attachmentUploadInProgressCounter$.subscribe(se=>{0===se&&this.hideNotification&&(this.hideNotification(),this.hideNotification=void 0)})),this.subscriptions.push(this.channelService.activeChannel$.subscribe(se=>{var ne;se&&this.channel&&se.id!==this.channel.id&&(this.textareaValue="",this.attachmentService.resetAttachmentUploads());const ke=null===(ne=se?.data)||void 0===ne?void 0:ne.own_capabilities;ke&&(this.isFileUploadAuthorized=-1!==ke.indexOf("upload-file"),this.canSendLinks=-1!==ke.indexOf("send-links"),this.channel=se,this.setCanSendMessages())})),this.subscriptions.push(this.chatClient.appSettings$.subscribe(se=>this.appSettings=se)),this.subscriptions.push(this.channelService.messageToQuote$.subscribe(se=>{const ne=se&&se.parent_id;("thread"===this.mode&&ne||"thread"===this.mode&&this.quotedMessage&&!se||"main"===this.mode&&!ne)&&(this.quotedMessage=se)})),this.attachmentUploads$=this.attachmentService.attachmentUploads$,this.attachmentUploadInProgressCounter$=this.attachmentService.attachmentUploadInProgressCounter$,this.isFileUploadEnabled=this.configService.isFileUploadEnabled,this.isMultipleFileUploadEnabled=this.configService.isMultipleFileUploadEnabled,this.areMentionsEnabled=this.configService.areMentionsEnabled,this.mentionScope=this.configService.mentionScope,this.inputMode=this.configService.inputMode,this.subscriptions.push(this.typingStart$.subscribe(()=>{this.channelService.typingStarted(this.parentMessageId)})),this.subscriptions.push((0,J.a)([this.channelService.latestMessageDateByUserByChannels$,this.channelService.activeChannel$]).pipe((0,mi.U)(([se,ne])=>[se[ne?.cid||""],ne])).subscribe(([se,ne])=>{var ke,Ge,Dt;const tt=(null===(ke=ne?.data)||void 0===ke?void 0:ke.cooldown)&&se&&Math.round((null===(Ge=ne?.data)||void 0===Ge?void 0:Ge.cooldown)-((new Date).getTime()-se.getTime())/1e3);tt&&tt>0&&(null===(Dt=ne?.data)||void 0===Dt?void 0:Dt.own_capabilities).includes("slow-mode")?this.startCooldown(tt):this.isCooldownInProgress&&this.stopCooldown()}))}ngOnInit(){this.subscriptions.push(this.customTemplatesService.emojiPickerTemplate$.subscribe(e=>{this.emojiPickerTemplate=e,this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.attachmentPreviewListTemplate$.subscribe(e=>{this.attachmentPreviewListTemplate=e,this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.customAttachmentUploadTemplate$.subscribe(e=>{this.customAttachmentUploadTemplate=e,this.cdRef.detectChanges()}))}ngAfterViewInit(){this.isViewInited=!0,this.initTextarea()}ngOnChanges(e){e.message&&(this.attachmentService.resetAttachmentUploads(),this.isUpdate&&(this.attachmentService.createFromAttachments(this.message.attachments||[]),this.textareaValue=this.message.text||"")),e.isFileUploadEnabled&&(this.configService.isFileUploadEnabled=this.isFileUploadEnabled),e.isMultipleFileUploadEnabled&&(this.configService.isMultipleFileUploadEnabled=this.isMultipleFileUploadEnabled),e.areMentionsEnabled&&(this.configService.areMentionsEnabled=this.areMentionsEnabled),e.mentionScope&&(this.configService.mentionScope=this.mentionScope),e.mode&&this.setCanSendMessages(),e.inputMode&&(this.configService.inputMode=this.inputMode),e.sendMessage$&&(this.sendMessageSubcription&&this.sendMessageSubcription.unsubscribe(),this.sendMessage$&&(this.sendMessageSubcription=this.sendMessage$.subscribe(()=>{this.messageSent()})))}ngOnDestroy(){this.sendMessageSubcription&&this.sendMessageSubcription.unsubscribe(),this.subscriptions.forEach(e=>e.unsubscribe())}messageSent(){var e;return(0,R.mG)(this,void 0,void 0,function*(){if(this.isCooldownInProgress)return;let r;if(this.attachmentService.attachmentUploadInProgressCounter$.pipe((0,_r.P)()).subscribe(p=>r=p),r>0)return void(this.hideNotification||(this.hideNotification=this.notificationService.addPermanentNotification("streamChat.Wait until all attachments have uploaded")));const a=this.attachmentService.mapToAttachments();let d=this.textareaValue;d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,"");const h=!d.replace(/ /g,"");if(d&&!h||a&&0!==a.length){if(h&&(d=""),this.containsLinks&&!this.canSendLinks)return void this.notificationService.addTemporaryNotification("streamChat.Sending links is not allowed in this conversation");this.isUpdate||(this.textareaValue="");try{const p=yield this.isUpdate?this.channelService.updateMessage(Object.assign(Object.assign({},this.message),{text:d,attachments:a})):this.channelService.sendMessage(d,a,this.mentionedUsers,this.parentMessageId,null===(e=this.quotedMessage)||void 0===e?void 0:e.id);this.messageUpdate.emit({message:p}),this.isUpdate||this.attachmentService.resetAttachmentUploads()}catch{this.isUpdate&&this.notificationService.addTemporaryNotification("streamChat.Edit message request failed")}this.channelService.typingStopped(this.parentMessageId),this.quotedMessage&&this.deselectMessageToQuote()}})}get containsLinks(){return/(?:(?:https?|ftp):\/\/)?[\w/\-?=%.]+\.[\w/\-&?=%.]+/.test(this.textareaValue)}get quotedMessageAttachments(){var e;const r=null===(e=this.quotedMessage)||void 0===e?void 0:e.attachments;return r&&r.length?[r[0]]:[]}get disabledTextareaText(){return this.canSendMessages?"":"thread"===this.mode?"streamChat.You can't send thread replies in this channel":"streamChat.You can't send messages in this channel"}filesSelected(e){return(0,R.mG)(this,void 0,void 0,function*(){(yield this.areAttachemntsValid(e))&&(yield this.attachmentService.filesSelected(e),this.clearFileInput())})}deselectMessageToQuote(){this.channelService.selectMessageToQuote(void 0)}getEmojiPickerContext(){return{emojiInput$:this.emojiInputService.emojiInput$}}getAttachmentPreviewListContext(){return{attachmentUploads$:this.attachmentService.attachmentUploads$,deleteUploadHandler:this.deleteUpload.bind(this),retryUploadHandler:this.retryUpload.bind(this)}}getAttachmentUploadContext(){return{isMultipleFileUploadEnabled:this.isMultipleFileUploadEnabled,attachmentService:this.attachmentService}}deleteUpload(e){this.isUpdate?setTimeout(()=>{this.attachmentService.deleteAttachment(e)}):this.attachmentService.deleteAttachment(e)}retryUpload(e){this.attachmentService.retryAttachmentUpload(e)}clearFileInput(){this.fileInput.nativeElement.value=""}get isUpdate(){return!!this.message}initTextarea(){if(this.canSendMessages||(this.textareaRef=void 0),!this.canSendMessages||this.textareaRef||!this.textareaAnchor)return;const e=this.componentFactoryResolver.resolveComponentFactory(this.textareaType);this.textareaRef=this.textareaAnchor.viewContainerRef.createComponent(e),this.cdRef.detectChanges()}areAttachemntsValid(e){return(0,R.mG)(this,void 0,void 0,function*(){if(!e)return!0;this.appSettings||(yield this.chatClient.getAppSettings());let r=!0;return Array.from(e).forEach(a=>{var d,h,p,_,b,O,Z,X,se,ne,ke,Ge,Dt,tt,Zt,Ut,Jt,Kt,vn,jn,Rn,xn,Bn,fi,Sn,Gi,Yi,Ln,Mi,jr,Wi,Dr,wr,vs,Rt,ys;let Br,Us,br,Xr;qu(a)?(Br=!(null===(p=null===(h=null===(d=this.appSettings)||void 0===d?void 0:d.image_upload_config)||void 0===h?void 0:h.blocked_file_extensions)||void 0===p||!p.find(ti=>a.name.endsWith(ti))),Us=!(null===(O=null===(b=null===(_=this.appSettings)||void 0===_?void 0:_.image_upload_config)||void 0===b?void 0:b.blocked_mime_types)||void 0===O||!O.find(ti=>a.type===ti)),br=!(null===(se=null===(X=null===(Z=this.appSettings)||void 0===Z?void 0:Z.image_upload_config)||void 0===X?void 0:X.allowed_file_extensions)||void 0===se||!se.length||null!==(Ge=null===(ke=null===(ne=this.appSettings)||void 0===ne?void 0:ne.image_upload_config)||void 0===ke?void 0:ke.allowed_file_extensions)&&void 0!==Ge&&Ge.find(ti=>a.name.endsWith(ti))),Xr=!(null===(Zt=null===(tt=null===(Dt=this.appSettings)||void 0===Dt?void 0:Dt.image_upload_config)||void 0===tt?void 0:tt.allowed_mime_types)||void 0===Zt||!Zt.length||null!==(Kt=null===(Jt=null===(Ut=this.appSettings)||void 0===Ut?void 0:Ut.image_upload_config)||void 0===Jt?void 0:Jt.allowed_mime_types)&&void 0!==Kt&&Kt.find(ti=>a.type===ti))):(Br=!(null===(Rn=null===(jn=null===(vn=this.appSettings)||void 0===vn?void 0:vn.file_upload_config)||void 0===jn?void 0:jn.blocked_file_extensions)||void 0===Rn||!Rn.find(ti=>a.name.endsWith(ti))),Us=!(null===(fi=null===(Bn=null===(xn=this.appSettings)||void 0===xn?void 0:xn.file_upload_config)||void 0===Bn?void 0:Bn.blocked_mime_types)||void 0===fi||!fi.find(ti=>a.type===ti)),br=!(null===(Yi=null===(Gi=null===(Sn=this.appSettings)||void 0===Sn?void 0:Sn.file_upload_config)||void 0===Gi?void 0:Gi.allowed_file_extensions)||void 0===Yi||!Yi.length||null!==(jr=null===(Mi=null===(Ln=this.appSettings)||void 0===Ln?void 0:Ln.file_upload_config)||void 0===Mi?void 0:Mi.allowed_file_extensions)&&void 0!==jr&&jr.find(ti=>a.name.endsWith(ti))),Xr=!(null===(wr=null===(Dr=null===(Wi=this.appSettings)||void 0===Wi?void 0:Wi.file_upload_config)||void 0===Dr?void 0:Dr.allowed_mime_types)||void 0===wr||!wr.length||null!==(ys=null===(Rt=null===(vs=this.appSettings)||void 0===vs?void 0:vs.file_upload_config)||void 0===Rt?void 0:Rt.allowed_mime_types)&&void 0!==ys&&ys.find(ti=>a.type===ti))),(Br||Us||br||Xr)&&(this.notificationService.addTemporaryNotification("streamChat.Error uploading file, extension not supported",void 0,void 0,{name:a.name,ext:a.type}),r=!1)}),r})}setCanSendMessages(){var e,r;const a=null===(r=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.own_capabilities;this.canSendMessages=!!a&&-1!==a.indexOf("main"===this.mode?"send-message":"send-reply"),this.isViewInited&&(this.cdRef.detectChanges(),this.initTextarea())}get parentMessageId(){let e;return"thread"===this.mode&&this.channelService.activeParentMessageId$.pipe((0,_r.P)()).subscribe(r=>e=r),e}startCooldown(e){this.textareaPlaceholder=this.slowModeTextareaPlaceholder,this.isCooldownInProgress=!0,this.cooldown$=Pe(0,1e3).pipe((0,kr.q)(e+1),(0,mi.U)(r=>e-r),(0,qr.b)(r=>{0===r&&this.stopCooldown()}))}stopCooldown(){this.cooldown$=void 0,this.isCooldownInProgress=!1,this.textareaPlaceholder=this.defaultTextareaPlaceholder}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ar),t.Y36(pl),t.Y36($f),t.Y36(x_),t.Y36(uc),t.Y36(t._Vd),t.Y36(t.sBO),t.Y36(ms),t.Y36(Cr),t.Y36(Si),t.Y36(kn))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-message-input"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Ih,5),t.Gf(dc,5)),2&e){let a;t.iGM(a=t.CRH())&&(r.fileInput=a.first),t.iGM(a=t.CRH())&&(r.textareaAnchor=a.first)}},hostVars:2,hostBindings:function(e,r){2&e&&t.Tol(r.class)},inputs:{isFileUploadEnabled:"isFileUploadEnabled",areMentionsEnabled:"areMentionsEnabled",mentionScope:"mentionScope",mode:"mode",isMultipleFileUploadEnabled:"isMultipleFileUploadEnabled",message:"message",sendMessage$:"sendMessage$",inputMode:"inputMode",autoFocus:"autoFocus"},outputs:{messageUpdate:"messageUpdate"},features:[t._Bn([$f,Cr]),t.TTD],decls:2,vars:2,consts:[[3,"class","str-chat__input-flat-has-attachments","str-chat__input-flat-quoted",4,"ngIf"],["class","str-chat__message-input str-chat-angular__message-input",4,"ngIf"],["class","quoted-message-preview",4,"ngIf"],[1,"str-chat__input-flat-wrapper",2,"width","100%"],["defaultAttachmentsPreview",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"rta","str-chat__textarea","str-chat-angular__textarea"],["data-testid","emoji-picker",4,"ngIf"],[4,"ngIf","ngIfElse"],["disabledTextarea",""],[4,"ngIf"],["data-testid","send-button","class","str-chat__send-button",3,"click","keyup.enter",4,"ngIf"],["class","str-chat__input-flat-cooldown","data-testid","cooldown-timer",4,"ngIf"],[1,"quoted-message-preview"],[1,"quoted-message-preview-header"],["data-testid","remove-quote",1,"str-chat__square-button",3,"click","keyup.enter"],["icon","close-no-outline",2,"font-size","15px","line-height","15px","width","15px","height","15px"],[1,"quoted-message-preview-content"],["data-testid","qouted-message-avatar","type","user","location","quoted-message-sender",1,"str-chat-angular__avatar-host",3,"imageUrl","name","size","user"],[1,"quoted-message-preview-content-inner"],[3,"attachments","messageId",4,"ngIf"],["data-testid","quoted-message-text",3,"innerHTML"],[3,"attachments","messageId"],[1,"rfu-image-previewer-angular-host",3,"attachmentUploads$","retryAttachmentUpload","deleteAttachment"],["data-testid","emoji-picker"],[1,"str-chat__input-flat-emojiselect","str-chat-angular__emojiselect"],["streamTextarea","",3,"value","componentRef","areMentionsEnabled","mentionScope","placeholder","inputMode","autoFocus","valueChange","send","userMentions"],["disabled","","rows","1","data-testid","disabled-textarea",1,"rta__textarea","str-chat__textarea__textarea",3,"value"],["defaultAttachmentUpload",""],["data-testid","file-upload-button",1,"str-chat__fileupload-wrapper"],[1,"str-chat__tooltip"],[1,"rfu-file-upload-button"],["type","file","data-testid","file-input",1,"rfu-file-input",3,"multiple","change"],["fileInput",""],[1,"str-chat__input-flat-fileupload"],["icon","file-upload"],["data-testid","send-button",1,"str-chat__send-button",3,"click","keyup.enter"],["icon","send",1,"str-chat__send-button-angular"],["data-testid","cooldown-timer",1,"str-chat__input-flat-cooldown"],[1,"str-chat__message-input-cooldown-text"],[1,"str-chat__message-input","str-chat-angular__message-input"],["class","str-chat__quoted-message-preview-header",4,"ngIf"],["notAllowed",""],[1,"str-chat__quoted-message-preview-header"],[1,"str-chat__quoted-message-reply-to-message"],["data-testid","remove-quote",1,"str-chat__quoted-message-remove",3,"click","keyup.enter"],["icon","close-no-outline"],[1,"str-chat__message-input-inner","str-chat-angular__message-input-inner"],[1,"str-chat__message-textarea-container"],["data-testid","quoted-message-container","class","str-chat__quoted-message-preview",4,"ngIf"],[1,"str-chat__message-textarea-with-emoji-picker"],["streamTextarea","",3,"value","componentRef","areMentionsEnabled","mentionScope","inputMode","autoFocus","placeholder","valueChange","send","userMentions"],[1,"str-chat__message-textarea-emoji-picker"],["data-testid","send-button","class","str-chat__send-button",3,"disabled","click","keyup.enter",4,"ngIf"],["class","str-chat__message-input-cooldown","data-testid","cooldown-timer",4,"ngIf"],["data-testid","file-upload-button",1,"str-chat__file-input-container"],["type","file","data-testid","file-input",1,"str-chat__file-input",3,"multiple","id","change"],[1,"str-chat__file-input-label",3,"for"],["icon","attach"],["data-testid","quoted-message-container",1,"str-chat__quoted-message-preview"],["data-testid","qouted-message-avatar","type","user","location","quoted-message-sender",1,"str-chat-angular__avatar-host","str-chat__message-sender-avatar",3,"imageUrl","name","size","user"],[1,"quoted-message-preview-content-inner","str-chat__quoted-message-bubble"],["data-testid","quoted-message-text",1,"str-chat__quoted-message-text",3,"innerHTML"],[1,"str-chat__attachment-preview-list-angular-host",3,"attachmentUploads$","retryAttachmentUpload","deleteAttachment"],["data-testid","send-button",1,"str-chat__send-button",3,"disabled","click","keyup.enter"],["icon","send"],["data-testid","cooldown-timer",1,"str-chat__message-input-cooldown"],["data-testid","disabled-textarea",1,"str-chat__message-input-not-allowed"]],template:function(e,r){1&e&&(t.YNc(0,nm,16,21,"div",0),t.YNc(1,Hv,5,3,"div",1)),2&e&&(t.Q6J("ngIf","2"!==r.themeVersion),t.xp6(1),t.Q6J("ngIf","2"===r.themeVersion))},dependencies:[Ns,Da,Ju,_s,y.O5,y.tP,dc,y.Ov,v.X$],encapsulation:2}),o})(),Qr=(()=>{class o{constructor(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-notification"]],inputs:{type:"type",content:"content"},ngContentSelectors:Zl,decls:4,vars:5,consts:[["data-testid","custom-notification"],[4,"ngIf","ngIfElse"],["elseContent",""],[4,"ngTemplateOutlet"]],template:function(e,r){if(1&e&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,lm,2,1,"ng-container",1),t.YNc(2,Uh,1,0,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Gre("str-chat__custom-notification notification-",r.type," str-chat__notification"),t.xp6(1),t.Q6J("ngIf",r.content)("ngIfElse",a)}},dependencies:[y.O5,y.tP],encapsulation:2}),o})(),hc=(()=>{class o{constructor(e,r,a){this.customTemplatesService=e,this.notificationService=r,this.themeService=a,this.notifications$=this.notificationService.notifications$,this.theme$=this.themeService.theme$,this.themeVersion=this.themeService.themeVersion}trackById(e,r){return r.id}getNotificationContentContext(e){return Object.assign(Object.assign({},e.templateContext),{dismissFn:e.dismissFn})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Si),t.Y36(pl),t.Y36(kn))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-notification-list"]],decls:6,vars:11,consts:[["data-testid","notification-list"],[4,"ngFor","ngForOf","ngForTrackBy"],["defaultNotification",""],["notificationContent",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testclass","notification-content",4,"ngIf"],[4,"ngIf"],["data-testclass","notification-content"],[3,"type","content"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.YNc(2,dm,5,7,"ng-container",1),t.ALo(3,"async"),t.qZA(),t.YNc(4,Bh,1,2,"ng-template",null,2,t.W1O)),2&e&&(t.Gre("str-chat__theme-",t.lcZ(1,7,r.theme$)," str-chat__list-notifications"),t.ekj("str-chat","2"===r.themeVersion),t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,9,r.notifications$))("ngForTrackBy",r.trackById))},dependencies:[Qr,y.sg,y.O5,y.tP,y.Ov,v.X$],encapsulation:2}),o})(),Gf=(()=>{class o{constructor(e,r,a,d){this.chatClientService=e,this.notificationService=r,this.channelService=a,this.customTemplatesService=d,this.isOpen=!1,this.isMine=!1,this.enabledActions=[],this.customActions=[],this.displayedActionsCount=new t.vpe,this.isEditing=new t.vpe,this.isEditModalOpen=!1,this.visibleMessageActionItems=[],this.sendMessageSubject=new ee.x,this.modalClosed=()=>{this.isEditModalOpen=!1,this.isEditing.emit(!1)},this.messageActionItems=[{actionName:"quote",actionLabelOrTranslationKey:"streamChat.Reply",actionHandler:h=>this.channelService.selectMessageToQuote(h),isVisible:h=>-1!==h.indexOf("quote-message")},{actionName:"pin",actionLabelOrTranslationKey:h=>h.pinned?"streamChat.Unpin":"streamChat.Pin",actionHandler:h=>h.pinned?this.channelService.unpinMessage(h):this.channelService.pinMessage(h),isVisible:h=>-1!==h.indexOf("pin-message")},{actionName:"flag",actionLabelOrTranslationKey:"streamChat.Flag",actionHandler:h=>(0,R.mG)(this,void 0,void 0,function*(){try{yield this.chatClientService.flagMessage(h.id),this.notificationService.addTemporaryNotification("streamChat.Message has been successfully flagged","success")}catch{this.notificationService.addTemporaryNotification("streamChat.Error adding flag")}}),isVisible:(h,p)=>-1!==h.indexOf("flag-message")&&!p},{actionName:"edit",actionLabelOrTranslationKey:"streamChat.Edit Message",actionHandler:()=>{this.isEditing.emit(!0),this.isEditModalOpen=!0},isVisible:(h,p)=>-1!==h.indexOf("update-own-message")&&p||-1!==h.indexOf("update-any-message")},{actionName:"delete",actionLabelOrTranslationKey:"streamChat.Delete",actionHandler:h=>(0,R.mG)(this,void 0,void 0,function*(){try{yield this.channelService.deleteMessage(h)}catch{this.notificationService.addTemporaryNotification("streamChat.Error deleting message")}}),isVisible:(h,p)=>(-1!==h.indexOf("delete")||-1!==h.indexOf("delete-own-message"))&&p||-1!==h.indexOf("delete-any")||-1!==h.indexOf("delete-any-message")}],this.sendMessage$=this.sendMessageSubject.asObservable()}ngOnChanges(e){(e.isMine||e.enabledActions||e.message||e.customActions)&&(this.visibleMessageActionItems=[...this.messageActionItems,...this.customActions].filter(r=>r.isVisible(this.enabledActions,this.isMine,this.message)),this.displayedActionsCount.emit(this.visibleMessageActionItems.length))}getActionLabel(e){return"string"==typeof e?e:e(this.message)}getMessageActionTemplateContext(e){return{actionHandler:e.actionHandler,isMine:this.isMine,actionName:e.actionName,message:this.message,actionLabelOrTranslationKey:e.actionLabelOrTranslationKey}}sendClicked(){this.sendMessageSubject.next()}getMessageInputContext(){return{message:this.message,messageUpdateHandler:this.modalClosed,isFileUploadEnabled:void 0,areMentionsEnabled:void 0,isMultipleFileUploadEnabled:void 0,mentionScope:void 0,mode:void 0,sendMessage$:this.sendMessage$}}getEditModalContext(){return{isOpen:this.isEditModalOpen,isOpenChangeHandler:e=>{this.isEditModalOpen=e,this.isEditModalOpen||this.modalClosed()},content:this.modalContent}}trackByActionName(e,r){return r.actionName}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ms),t.Y36(pl),t.Y36(ar),t.Y36(Si))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-message-actions-box"]],viewQuery:function(e,r){if(1&e&&t.Gf(Vl,7),2&e){let a;t.iGM(a=t.CRH())&&(r.modalContent=a.first)}},inputs:{isOpen:"isOpen",isMine:"isMine",message:"message",enabledActions:"enabledActions",customActions:"customActions"},outputs:{displayedActionsCount:"displayedActionsCount",isEditing:"isEditing"},features:[t.TTD],decls:12,vars:8,consts:[["data-testid","action-box",1,"str-chat__message-actions-box","str-chat__message-actions-box-angular"],["actionBox",""],[1,"str-chat__message-actions-list"],[4,"ngFor","ngForOf","ngForTrackBy"],["defaultMessageActionItem",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultModal",""],["modalContent",""],[1,"str-chat__message-actions-list-item-button",3,"click"],[1,"str-chat__message-actions-list-item"],[3,"isOpen","content","isOpenChange"],["class","str-chat__edit-message-form",4,"ngIf"],[1,"str-chat__edit-message-form"],["defaultInput",""],[1,"str-chat__message-team-form-footer","str-chat__message-team-form-footer-angular"],[1,"str-chat__edit-message-form-options"],["translate","","data-testid","cancel-button",1,"str-chat__edit-message-cancel",3,"click"],["type","submit","translate","","data-testid","send-button",1,"str-chat__edit-message-send",3,"click","keyup.enter"],[3,"message","sendMessage$","messageUpdate"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0,1)(2,"ul",2),t.YNc(3,fm,3,4,"ng-container",3),t.qZA()(),t.YNc(4,pm,4,4,"ng-template",null,4,t.W1O),t.YNc(6,gm,1,0,"ng-container",5),t.ALo(7,"async"),t.YNc(8,mm,1,2,"ng-template",null,6,t.W1O),t.YNc(10,Zh,1,1,"ng-template",null,7,t.W1O)),2&e){const a=t.MAs(9);t.ekj("str-chat__message-actions-box--open",!0),t.xp6(3),t.Q6J("ngForOf",r.visibleMessageActionItems)("ngForTrackBy",r.trackByActionName),t.xp6(3),t.Q6J("ngTemplateOutlet",t.lcZ(7,6,r.customTemplatesService.modalTemplate$)||a)("ngTemplateOutletContext",r.getEditModalContext())}},dependencies:[M_,Ur,hc,y.sg,y.tP,y.O5,v.Pi,y.Ov,v.X$],encapsulation:2}),o})(),I_=(()=>{class o{constructor(e,r){this.channelService=e,this.themeService=r,this.subscriptions=[],this.isError$=(0,J.a)([this.channelService.channelQueryState$,this.channelService.activeChannel$]).pipe((0,mi.U)(([a,d])=>!d&&"error"===a?.state)),this.isInitializing$=(0,J.a)([this.channelService.channelQueryState$,this.channelService.activeChannel$]).pipe((0,mi.U)(([a,d])=>!d&&"in-progress"===a?.state)),this.isActiveThread$=this.channelService.activeParentMessageId$.pipe((0,mi.U)(a=>!!a)),this.theme$=this.themeService.theme$,this.isActiveChannel$=this.channelService.activeChannel$.pipe((0,mi.U)(a=>!!a))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ar),t.Y36(kn))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-channel"]],ngContentSelectors:Vh,decls:8,vars:13,consts:[["class","str-chat__container",4,"ngIf","ngIfElse"],["noChannel",""],[1,"str-chat__container"],[1,"str-chat__main-panel"],[4,"ngIf"],["class","str-chat__empty-channel",4,"ngIf"],["class","str-chat__loading-channel",4,"ngIf"],[1,"str-chat__empty-channel"],["icon","chat-bubble"],[1,"str-chat__empty-channel-text"],[1,"str-chat__empty-channel-notifications"],[1,"str-chat__loading-channel"],[1,"str-chat__loading-channel-header"],[1,"str-chat__loading-channel-header-avatar"],[1,"str-chat__loading-channel-header-end"],[1,"str-chat__loading-channel-header-name"],[1,"str-chat__loading-channel-header-info"],[1,"str-chat__loading-channel-message-list"],[1,"str-chat__loading-channel-message"],[1,"str-chat__loading-channel-message-avatar"],[1,"str-chat__loading-channel-message-end"],[1,"str-chat__loading-channel-message-sender"],[1,"str-chat__loading-channel-message-last-row"],[1,"str-chat__loading-channel-message-text"],[1,"str-chat__loading-channel-message-date"],[1,"str-chat__loading-channel-message-input-row"],[1,"str-chat__loading-channel-message-input"],[1,"str-chat__loading-channel-message-send"]],template:function(e,r){if(1&e&&(t.F$t(la),t.TgZ(0,"div"),t.ALo(1,"async"),t.YNc(2,zv,5,3,"div",0),t.ALo(3,"async"),t.ALo(4,"async"),t.ALo(5,"async"),t.YNc(6,Gv,8,14,"ng-template",null,1,t.W1O),t.qZA()),2&e){const a=t.MAs(7);t.Gre("str-chat str-chat-channel messaging str-chat__channel str-chat__theme-",t.lcZ(1,5,r.theme$),""),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,7,r.isError$)&&!1===t.lcZ(4,9,r.isInitializing$)&&!0===t.lcZ(5,11,r.isActiveChannel$))("ngIfElse",a)}},dependencies:[lc,hc,y.O5,y.Ov,v.X$],encapsulation:2}),o})();const Ku=o=>{let l="";const e=o.map(d=>d.name||d.id).slice(0,5),r=o.length-e.length;return l=e.join(", "),r>0&&(l+=` +${r}`),l},Qu=(o,l)=>{var e;if(null!==(e=o.data)&&void 0!==e&&e.name)return o.data.name;if(o.state.members&&Object.keys(o.state.members).length>0){const r=Object.values(o.state.members).map(a=>a.user||{id:a.user_id}).filter(a=>a.id!==l?.id);return Ku(r)}return o.id};let Yf=(()=>{class o{constructor(){this.isOpenSubject=new z.X(!1),this.isOpen$=this.isOpenSubject.asObservable().pipe((0,As.x)()),this.isOpen$.pipe((0,vo.h)(e=>e)).subscribe(()=>{this.watchForOutsideClicks()})}open(){this.isOpenSubject.next(!0)}close(){this.isOpenSubject.next(!1)}toggle(){this.isOpenSubject.getValue()?this.close():this.open()}setMenuElement(e){this.menuElement=e}channelSelected(){this.close()}watchForOutsideClicks(){if(!this.menuElement)return;const e=r=>{this.menuElement.contains(r.target)||(this.close(),window.removeEventListener("click",e))};window.addEventListener("click",e),this.isOpen$.pipe((0,vo.h)(r=>!r),(0,_r.P)()).subscribe(()=>window.removeEventListener("click",e))}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Xu=(()=>{class o{constructor(e,r,a,d,h){this.channelService=e,this.channelListToggleService=r,this.customTemplatesService=a,this.cdRef=d,this.chatClientService=h,this.subscriptions=[],this.channelService.activeChannel$.subscribe(p=>{var _,b;this.activeChannel=p;const O=null===(b=null===(_=this.activeChannel)||void 0===_?void 0:_.data)||void 0===b?void 0:b.own_capabilities;O&&(this.canReceiveConnectEvents=-1!==O.indexOf("connect-events"))})}ngOnInit(){this.subscriptions.push(this.customTemplatesService.channelActionsTemplate$.subscribe(e=>{this.channelActionsTemplate=e,this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.channelHeaderInfoTemplate$.subscribe(e=>{this.channelHeaderInfoTemplate=e,this.cdRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}toggleMenu(e){e.stopPropagation(),this.channelListToggleService.toggle()}getChannelActionsContext(){return{channel:this.activeChannel}}getChannelInfoContext(){return{channel:this.activeChannel}}get memberCountParam(){var e,r;return{memberCount:(null===(r=null===(e=this.activeChannel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.member_count)||0}}get watcherCountParam(){var e,r;return{watcherCount:(null===(r=null===(e=this.activeChannel)||void 0===e?void 0:e.state)||void 0===r?void 0:r.watcher_count)||0}}get displayText(){return this.activeChannel?Qu(this.activeChannel,this.chatClientService.chatClient.user):""}get avatarName(){var e,r;return null===(r=null===(e=this.activeChannel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.name}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ar),t.Y36(Yf),t.Y36(Si),t.Y36(t.sBO),t.Y36(ms))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-channel-header"]],ngContentSelectors:Zl,decls:12,vars:8,consts:[[1,"str-chat__header-livestream","str-chat__channel-header"],[1,"str-chat__header-hamburger",3,"click","keyup.enter"],["icon","menu"],["type","channel","location","channel-header",3,"imageUrl","name","channel","size"],[1,"str-chat__header-livestream-left","str-chat__channel-header-end"],["data-testid","name",1,"str-chat__header-livestream-left--title","str-chat__channel-header-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultChannelInfo",""],[4,"ngIf"],["data-testid","info",1,"str-chat__header-livestream-left--members","str-chat__channel-header-info"]],template:function(e,r){if(1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(d){return r.toggleMenu(d)})("keyup.enter",function(d){return r.toggleMenu(d)}),t._UZ(2,"stream-icon-placeholder",2),t.qZA(),t.Hsn(3),t._UZ(4,"stream-avatar-placeholder",3),t.TgZ(5,"div",4)(6,"p",5),t._uU(7),t.qZA(),t.YNc(8,ym,1,0,"ng-container",6),t.YNc(9,zh,4,8,"ng-template",null,7,t.W1O),t.qZA(),t.YNc(11,Dm,2,2,"ng-container",8),t.qZA()),2&e){const a=t.MAs(10);t.xp6(4),t.s9C("imageUrl",null==r.activeChannel||null==r.activeChannel.data?null:r.activeChannel.data.image),t.s9C("name",r.avatarName),t.Q6J("channel",r.activeChannel)("size",40),t.xp6(3),t.hij(" ",r.displayText," "),t.xp6(1),t.Q6J("ngTemplateOutlet",r.channelHeaderInfoTemplate||a)("ngTemplateOutletContext",r.getChannelInfoContext()),t.xp6(3),t.Q6J("ngIf",r.channelActionsTemplate)}},dependencies:[Ns,Da,y.tP,y.O5,v.X$],encapsulation:2}),o})(),wa=(()=>{class o{constructor(){this.displayAs="text"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),A_=(()=>{class o{constructor(e,r,a,d){this.channelService=e,this.ngZone=r,this.chatClientService=a,this.isActive=!1,this.isUnread=!1,this.latestMessage="streamChat.Nothing yet...",this.subscriptions=[],this.canSendReadEvents=!0,this.displayAs=d.displayAs}ngOnInit(){var e,r,a,d;this.subscriptions.push(this.channelService.activeChannel$.subscribe(_=>{var b;return this.isActive=_?.id===(null===(b=this.channel)||void 0===b?void 0:b.id)}));const h=null===(r=null===(e=this.channel)||void 0===e?void 0:e.state)||void 0===r?void 0:r.latestMessages;h&&h.length>0&&this.setLatestMessage(h[h.length-1]),this.updateUnreadState();const p=(null===(d=null===(a=this.channel)||void 0===a?void 0:a.data)||void 0===d?void 0:d.own_capabilities)||[];this.canSendReadEvents=-1!==p.indexOf("read-events"),this.subscriptions.push(this.channel.on("message.new",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.updated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.deleted",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("channel.truncated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.read",()=>this.ngZone.run(()=>{this.updateUnreadState()})))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}get avatarImage(){var e,r;return null===(r=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.image}get avatarName(){var e,r;return null===(r=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===r?void 0:r.name}get title(){return this.channel?Qu(this.channel,this.chatClientService.chatClient.user):""}setAsActiveChannel(){this.channelService.setAsActiveChannel(this.channel)}handleMessageEvent(e){this.ngZone.run(()=>{var r,a,d;0!==(null===(r=this.channel)||void 0===r?void 0:r.state.latestMessages.length)?!e.message||(null===(a=this.channel)||void 0===a?void 0:a.state.latestMessages[(null===(d=this.channel)||void 0===d?void 0:d.state.latestMessages.length)-1].id)!==e.message.id||(this.setLatestMessage(e.message),this.updateUnreadState()):this.latestMessage="streamChat.Nothing yet..."})}setLatestMessage(e){e?.deleted_at?this.latestMessage="streamChat.Message deleted":e?.text?this.latestMessage=Xs(e,this.channel,this.chatClientService.chatClient.user)||e.text:e?.attachments&&e.attachments.length&&(this.latestMessage="streamChat.\u{1f3d9} Attachment...")}updateUnreadState(){if(this.isActive||!this.canSendReadEvents)return this.unreadCount=0,void(this.isUnread=!1);this.unreadCount=this.channel.countUnread(),this.isUnread=!!this.unreadCount}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ar),t.Y36(t.R0b),t.Y36(ms),t.Y36(wa))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-channel-preview"]],inputs:{channel:"channel"},decls:13,vars:14,consts:[["data-testid","channel-preview-container",1,"str-chat__channel-preview-messenger","str-chat__channel-preview",3,"click"],[1,"str-chat__channel-preview-messenger--left"],["type","channel","location","channel-preview",3,"name","imageUrl","channel","size"],[1,"str-chat__channel-preview-messenger--right","str-chat__channel-preview-end"],[1,"str-chat__channel-preview-end-first-row"],[1,"str-chat__channel-preview-messenger--name"],["data-testid","channel-preview-title"],["data-testid","unread-badge","class","str-chat__channel-preview-unread-badge",4,"ngIf"],["data-testid","latest-message",1,"str-chat__channel-preview-messenger--last-message"],[4,"ngIf","ngIfElse"],["asHTML",""],["data-testid","unread-badge",1,"str-chat__channel-preview-unread-badge"],["data-testid","html-content",3,"innerHTML"]],template:function(e,r){if(1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return r.setAsActiveChannel()}),t.TgZ(1,"div",1),t._UZ(2,"stream-avatar-placeholder",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),t._uU(7),t.qZA()(),t.YNc(8,ql,2,1,"div",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,ca,3,3,"ng-container",9),t.YNc(11,yu,2,3,"ng-template",null,10,t.W1O),t.qZA()()()),2&e){const a=t.MAs(12);t.ekj("str-chat__channel-preview-messenger--active",r.isActive)("str-chat__channel-preview--active",r.isActive)("str-chat__channel-preview-messenger--unread",r.isUnread),t.xp6(2),t.s9C("name",r.avatarName),t.s9C("imageUrl",r.avatarImage),t.Q6J("channel",r.channel)("size",49),t.xp6(5),t.Oqu(r.title),t.xp6(1),t.Q6J("ngIf",r.unreadCount),t.xp6(2),t.Q6J("ngIf","text"===r.displayAs)("ngIfElse",a)}},dependencies:[Da,y.O5,v.X$],encapsulation:2}),o})(),Wf=(()=>{class o{constructor(e,r,a,d){this.channelService=e,this.channelListToggleService=r,this.customTemplatesService=a,this.themeService=d,this.isLoadingMoreChannels=!1,this.subscriptions=[],this.theme$=this.themeService.theme$,this.isOpen$=this.channelListToggleService.isOpen$,this.channels$=this.channelService.channels$,this.hasMoreChannels$=this.channelService.hasMoreChannels$,this.isError$=this.channelService.channelQueryState$.pipe((0,mi.U)(h=>!this.isLoadingMoreChannels&&"error"===h?.state)),this.isInitializing$=this.channelService.channelQueryState$.pipe((0,mi.U)(h=>!this.isLoadingMoreChannels&&"in-progress"===h?.state)),this.subscriptions.push(this.customTemplatesService.channelPreviewTemplate$.subscribe(h=>this.customChannelPreviewTemplate=h))}ngAfterViewInit(){this.channelListToggleService.setMenuElement(this.container.nativeElement)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadMoreChannels(){return(0,R.mG)(this,void 0,void 0,function*(){this.isLoadingMoreChannels=!0,yield this.channelService.loadMoreChannels(),this.isLoadingMoreChannels=!1})}trackByChannelId(e,r){return r.cid}channelSelected(){this.channelListToggleService.channelSelected()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ar),t.Y36(Yf),t.Y36(Si),t.Y36(kn))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-channel-list"]],viewQuery:function(e,r){if(1&e&&t.Gf(ua,5),2&e){let a;t.iGM(a=t.CRH())&&(r.container=a.first)}},ngContentSelectors:Im,decls:15,vars:15,consts:[["data-testid","channel-list-container",2,"max-width","unset"],["container",""],["class","str-chat__channel-list-messenger",4,"ngIf","ngIfElse"],["statusIndicator",""],["chatDown",""],["loadingChannels",""],["loadingChannel",""],[1,"str-chat__channel-list-messenger"],[1,"str-chat__channel-list-messenger__main",2,"display","flex","flex-direction","column"],["class","str-chat__channel-list-empty",4,"ngIf"],["class","str-chat__channel-list-empty-v1","data-testid","empty-channel-list-indicator",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","str-chat__load-more-button","data-testid","load-more",3,"click","keyup.enter",4,"ngIf"],[1,"str-chat__channel-list-empty"],["icon","chat-bubble"],["data-testid","empty-channel-list-indicator"],["data-testid","empty-channel-list-indicator",1,"str-chat__channel-list-empty-v1"],["defaultTemplate",""],[3,"click","keyup.enter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testclass","channel-preview",3,"channel"],["data-testid","load-more",1,"str-chat__load-more-button",3,"click","keyup.enter"],["data-testid","load-more-button",1,"str-chat__load-more-button__button","str-chat__cta-button",3,"disabled"],[4,"ngIf","ngIfElse"],["loadingIndicator",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["data-testid","chatdown-container",1,"str-chat__down"],[1,"str-chat__down-main"],["icon","connection-error"],["data-testid","loading-indicator",1,"str-chat__loading-channels"],[1,"str-chat__loading-channels-item","str-chat__channel-preview-loading"],[1,"str-chat__loading-channels-avatar"],[1,"str-chat__loading-channels-meta","str-chat__channel-preview-end-loading"],[1,"str-chat__loading-channels-username"],[1,"str-chat__loading-channels-status"]],template:function(e,r){if(1&e&&(t.F$t(xm),t.TgZ(0,"div",0,1),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,bm,12,13,"div",2),t.ALo(5,"async"),t.ALo(6,"async"),t.qZA(),t.YNc(7,Em,4,6,"ng-template",null,3,t.W1O),t.YNc(9,yr,10,7,"ng-template",null,4,t.W1O),t.YNc(11,Eu,4,3,"ng-template",null,5,t.W1O),t.YNc(13,Qh,5,0,"ng-template",null,6,t.W1O)),2&e){const a=t.MAs(8);t.Gre("str-chat str-chat__channel-list str-chat-channel-list messaging str-chat__theme-",t.lcZ(2,7,r.theme$),""),t.ekj("str-chat-channel-list--open",!0===t.lcZ(3,9,r.isOpen$)),t.xp6(4),t.Q6J("ngIf",!1===t.lcZ(5,11,r.isError$)&&!1===t.lcZ(6,13,r.isInitializing$))("ngIfElse",a)}},dependencies:[lc,A_,cc,Ns,y.O5,y.sg,y.tP,y.Ov,v.X$],encapsulation:2}),o})();Yc().extend(qd()),Yc().extend(Wc());const qf=(o,l="date-time")=>{const e=Yc()(o);return"date-time"===l?e.calendar():e.calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"DD/MM/YYYY"})};let ed=(()=>{class o{constructor(){}parseDate(e){return this.customDateParser?this.customDateParser(e):qf(e,"date")}parseDateTime(e){return this.customDateTimeParser?this.customDateTimeParser(e):qf(e,"date-time")}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Jf=(()=>{class o{constructor(){this.reactions$=new z.X({like:"\u{1f44d}",angry:"\u{1f620}",love:"\u2764\ufe0f",haha:"\u{1f602}",wow:"\u{1f62e}",sad:"\u{1f61e}"})}set reactions(e){this.reactions$.next(e)}get reactions(){return this.reactions$.getValue()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),fc=(()=>{class o{constructor(e,r,a){this.cdRef=e,this.channelService=r,this.messageReactionsService=a,this.messageReactionCounts={},this.isSelectorOpen=!1,this.latestReactions=[],this.ownReactions=[],this.isSelectorOpenChange=new t.vpe,this.popperTriggerHover=or.hover,this.popperPlacementAuto=hs.AUTO,this.eventHandler=d=>{var h;null!==(h=this.selectorContainer)&&void 0!==h&&h.nativeElement.contains(d.target)||this.isSelectorOpenChange.emit(!1)}}ngOnChanges(e){e.isSelectorOpen&&(this.isSelectorOpen?setTimeout(()=>this.watchForOutsideClicks()):this.stopWatchForOutsideClicks())}ngAfterViewChecked(){this.tooltipText&&!this.tooltipPositions&&(this.setTooltipPosition(),this.cdRef.detectChanges())}get existingReactions(){return Object.keys(this.messageReactionCounts).filter(e=>-1!==this.reactionOptions.indexOf(e)).filter(e=>this.messageReactionCounts[e]>0)}get reactionsCount(){return this.existingReactions.reduce((e,r)=>e+this.messageReactionCounts[r],0)}get reactionOptions(){return Object.keys(this.messageReactionsService.reactions)}getLatestUserByReaction(e){var r;return null===(r=this.latestReactions.find(a=>a.type===e&&a.user))||void 0===r?void 0:r.user}getEmojiByReaction(e){return this.messageReactionsService.reactions[e]}getUsersByReaction(e){return this.latestReactions.filter(r=>r.type===e).map(r=>{var a,d;return(null===(a=r.user)||void 0===a?void 0:a.name)||(null===(d=r.user)||void 0===d?void 0:d.id)}).filter(r=>!!r).join(", ")}showTooltip(e,r){this.currentTooltipTarget=e.target,this.tooltipText=this.getUsersByReaction(r)}hideTooltip(){this.tooltipText=void 0,this.currentTooltipTarget=void 0,this.tooltipPositions=void 0}trackByMessageReaction(e,r){return r}react(e){this.ownReactions.find(r=>r.type===e)?this.channelService.removeReaction(this.messageId,e):this.channelService.addReaction(this.messageId,e)}isOwnReaction(e){return!!this.ownReactions.find(r=>r.type===e)}watchForOutsideClicks(){window.addEventListener("click",this.eventHandler)}stopWatchForOutsideClicks(){window.removeEventListener("click",this.eventHandler)}setTooltipPosition(){var e,r,a;const d=null===(e=this.selectorTooltip)||void 0===e?void 0:e.nativeElement.getBoundingClientRect(),h=null===(r=this.currentTooltipTarget)||void 0===r?void 0:r.getBoundingClientRect(),p=null===(a=this.selectorContainer)||void 0===a?void 0:a.nativeElement.getBoundingClientRect();if(!d||!h||!p)return;const _=d.width===p.width||d.x<p.x?0:h.left+h.width/2-p.left-d.width/2;this.tooltipPositions={tooltip:_,arrow:h.x-d.x+h.width/2-_}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(ar),t.Y36(Jf))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-message-reactions"]],viewQuery:function(e,r){if(1&e&&(t.Gf(Am,5),t.Gf(Xh,5)),2&e){let a;t.iGM(a=t.CRH())&&(r.selectorContainer=a.first),t.iGM(a=t.CRH())&&(r.selectorTooltip=a.first)}},inputs:{messageId:"messageId",messageReactionCounts:"messageReactionCounts",isSelectorOpen:"isSelectorOpen",latestReactions:"latestReactions",ownReactions:"ownReactions"},outputs:{isSelectorOpenChange:"isSelectorOpenChange"},features:[t.TTD],decls:2,vars:2,consts:[["class","str-chat__reaction-list str-chat__message-reactions-container","data-testid","reaction-list",3,"str-chat__reaction-list--reverse","str-chat__reaction-list-hidden",4,"ngIf"],["class","str-chat__reaction-selector str-chat__message-reaction-selector","data-testid","reaction-selector",4,"ngIf"],["data-testid","reaction-list",1,"str-chat__reaction-list","str-chat__message-reactions-container"],[1,"str-chat__message-reactions"],["class","str-chat__message-reaction","data-testclass","emoji",3,"str-chat__message-reaction-own","popper","popperTrigger","popperPlacement","popperHideOnScroll","popperHideOnClickOutside","hover",4,"ngFor","ngForOf","ngForTrackBy"],["data-testid","reactions-count",1,"str-chat__reaction-list--counter"],["data-testclass","emoji",1,"str-chat__message-reaction",3,"popper","popperTrigger","popperPlacement","popperHideOnScroll","popperHideOnClickOutside","hover"],["popperContent",""],["data-testclass","tooltip",1,"str-chat__tooltip","str-chat__tooltip-angular"],[1,"emoji","str-chat__message-reaction-emoji"],["data-testclass","reaction-list-reaction-count",1,"str-chat__message-reaction-count"],["data-testid","reaction-selector",1,"str-chat__reaction-selector","str-chat__message-reaction-selector"],["selectorContainer",""],["data-testid","tooltip","class","str-chat__reaction-selector-tooltip",3,"ngStyle",4,"ngIf"],[1,"str-chat__message-reactions-list","str-chat__message-reactions-options"],["class","\n        str-chat__message-reactions-option\n        str-chat__message-reactions-list-item\n        str-chat__emoji\n      ","data-testclass","emoji-option",3,"str-chat__message-reactions-option-selected","click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],["data-testid","tooltip",1,"str-chat__reaction-selector-tooltip",3,"ngStyle"],["selectorTooltip",""],[1,"arrow",3,"ngStyle"],[1,"latest-user-username"],["data-testclass","emoji-option",1,"str-chat__message-reactions-option","str-chat__message-reactions-list-item","str-chat__emoji",3,"click","keyup.enter"],["class","latest-user str-chat__message-reactions-last-user",3,"click","keyup.enter","mouseenter","mouseleave",4,"ngIf"],[1,"emoji","str-chat__emoji-selector-emoji-angular","str-chat__message-reaction-emoji"],["class","str-chat__message-reactions-list-item__count",4,"ngIf"],[1,"latest-user","str-chat__message-reactions-last-user",3,"click","keyup.enter","mouseenter","mouseleave"],[3,"imageUrl","name","size"],[1,"str-chat__message-reactions-list-item__count"]],template:function(e,r){1&e&&(t.YNc(0,Fm,6,7,"div",0),t.YNc(1,ps,5,3,"div",1)),2&e&&(t.Q6J("ngIf",r.existingReactions.length>0),t.xp6(1),t.Q6J("ngIf",r.isSelectorOpen))},dependencies:[il,Da,y.O5,y.sg,_i,y.PC],styles:[".emoji[_ngcontent-%COMP%] {position: relative; display: inline-block; }"]}),o})(),O_=(()=>{class o{constructor(e,r,a,d,h,p,_,b){this.chatClientService=e,this.channelService=r,this.customTemplatesService=a,this.cdRef=d,this.dateParser=p,this.ngZone=_,this.messageService=b,this.enabledMessageActions=[],this.mode="main",this.isHighlighted=!1,this.customActions=[],this.isActionBoxOpen=!1,this.isReactionSelectorOpen=!1,this.visibleMessageActionsCount=0,this.messageTextParts=[],this.popperTriggerClick=or.click,this.popperTriggerHover=or.hover,this.popperPlacementAuto=hs.AUTO,this.shouldDisplayTranslationNotice=!1,this.displayedMessageTextContent="original",this.imageAttachmentModalState="closed",this.shouldDisplayThreadLink=!1,this.isSentByCurrentUser=!1,this.readByText="",this.lastReadUser=void 0,this.isOnlyReadByMe=!1,this.isReadByMultipleUsers=!1,this.isMessageDeliveredAndRead=!1,this.parsedDate="",this.areOptionsVisible=!1,this.hasAttachment=!1,this.hasReactions=!1,this.replyCountParam={replyCount:void 0},this.canDisplayReadStatus=!1,this.optionsRenderTimeoutEnded=!1,this.subscriptions=[],this.urlRegexp=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[A-Z0-9+&@#/%=~_|$])/gim,this.emojiRegexp=new RegExp(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,"g"),this.themeVersion=h.themeVersion,this.displayAs=this.messageService.displayAs}ngOnInit(){this.subscriptions.push(this.chatClientService.user$.subscribe(e=>{e!==this.user&&(this.user=e,this.setIsSentByCurrentUser(),this.setLastReadUser(),this.cdRef.detectChanges())}))}ngOnChanges(e){var r,a,d,h,p,_,b;if(e.message){this.shouldDisplayTranslationNotice=!1,this.displayedMessageTextContent="original",this.createMessageParts();const O=null===(a=null===(r=this.message)||void 0===r?void 0:r.quoted_message)||void 0===a?void 0:a.attachments;this.quotedMessageAttachments=O&&O.length?[O[0]]:[],this.setIsSentByCurrentUser(),this.setLastReadUser(),this.readByText=null!==(d=this.message)&&void 0!==d&&d.readBy?Ku(this.message.readBy):"",this.isOnlyReadByMe=!(!this.message||!this.message.readBy||0!==this.message.readBy.length),this.isReadByMultipleUsers=!!(this.message&&this.message.readBy&&this.message.readBy.length>1),this.isMessageDeliveredAndRead=!!(this.message&&this.message.readBy&&"received"===this.message.status&&this.message.readBy.length>0),this.parsedDate=this.message&&this.message.created_at&&this.dateParser.parseDateTime(this.message.created_at)||"",this.hasAttachment=!(null===(h=this.message)||void 0===h||!h.attachments||!this.message.attachments.length),this.hasReactions=!(null===(p=this.message)||void 0===p||!p.reaction_counts)&&Object.keys(this.message.reaction_counts).length>0,this.replyCountParam={replyCount:null===(_=this.message)||void 0===_?void 0:_.reply_count}}e.enabledMessageActions&&(this.canReactToMessage=-1!==this.enabledMessageActions.indexOf("send-reaction"),this.canReceiveReadEvents=-1!==this.enabledMessageActions.indexOf("read-events"),this.canDisplayReadStatus=!1!==this.canReceiveReadEvents&&-1!==this.enabledMessageActions.indexOf("read-events")),(e.message||e.enabledMessageActions||e.mode)&&(this.shouldDisplayThreadLink=!(null===(b=this.message)||void 0===b||!b.reply_count)&&"thread"!==this.mode),(e.message||e.mode)&&(this.areOptionsVisible=!!this.message&&!(!this.message.type||"error"===this.message.type||"system"===this.message.type||"ephemeral"===this.message.type||"failed"===this.message.status||"sending"===this.message.status||"thread"===this.mode&&!this.message.parent_id))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{var e;null===(e=this.container)||void 0===e||e.nativeElement.addEventListener("mouseleave",()=>this.mouseLeft())}),setTimeout(()=>{this.optionsRenderTimeoutEnded=!0,this.cdRef.detectChanges()},0)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getAttachmentListContext(){var e,r,a;return{messageId:(null===(e=this.message)||void 0===e?void 0:e.id)||"",attachments:(null===(r=this.message)||void 0===r?void 0:r.attachments)||[],parentMessageId:null===(a=this.message)||void 0===a?void 0:a.parent_id,imageModalStateChangeHandler:d=>this.imageAttachmentModalState=d}}getMessageContext(){return{message:this.message,enabledMessageActions:this.enabledMessageActions,isHighlighted:this.isHighlighted,isLastSentMessage:this.isLastSentMessage,mode:this.mode,customActions:this.customActions,parsedDate:this.parsedDate}}getQuotedMessageAttachmentListContext(){var e,r,a,d;return{messageId:(null===(r=null===(e=this.message)||void 0===e?void 0:e.quoted_message)||void 0===r?void 0:r.id)||"",attachments:this.quotedMessageAttachments,parentMessageId:null===(d=null===(a=null==this?void 0:this.message)||void 0===a?void 0:a.quoted_message)||void 0===d?void 0:d.parent_id}}getMessageReactionsContext(){var e,r,a,d;return{messageReactionCounts:(null===(e=this.message)||void 0===e?void 0:e.reaction_counts)||{},latestReactions:(null===(r=this.message)||void 0===r?void 0:r.latest_reactions)||[],isSelectorOpen:this.isReactionSelectorOpen,isSelectorOpenChangeHandler:h=>this.isReactionSelectorOpen=h,messageId:null===(a=this.message)||void 0===a?void 0:a.id,ownReactions:(null===(d=this.message)||void 0===d?void 0:d.own_reactions)||[]}}resendMessage(){this.channelService.resendMessage(this.message)}setAsActiveParentMessage(){this.channelService.setAsActiveParentMessage(this.message)}getMentionContext(e){return{content:e.content,user:e.user}}getMessageActionsBoxContext(){return{isOpen:this.isActionBoxOpen,isMine:this.isSentByCurrentUser,enabledActions:this.enabledMessageActions,message:this.message,displayedActionsCountChaneHanler:e=>{this.visibleMessageActionsCount=e,this.cdRef.detectChanges()},displayedActionsCountChangeHandler:e=>{this.visibleMessageActionsCount=e,this.cdRef.detectChanges()},isEditingChangeHandler:e=>{this.isEditing=e,this.isActionBoxOpen=!this.isEditing},customActions:this.customActions||[]}}getDeliveredStatusContext(){return{message:this.message}}getSendingStatusContext(){return{message:this.message}}getReadStatusContext(){return{message:this.message,readByText:this.readByText}}jumpToMessage(e,r){this.channelService.jumpToMessage(e,r)}displayTranslatedMessage(){this.createMessageParts(!0)}displayOriginalMessage(){this.createMessageParts(!1)}mouseLeft(){this.isActionBoxOpen&&this.ngZone.run(()=>{this.isActionBoxOpen=!1})}createMessageParts(e=!0){this.messageTextParts=void 0,this.messageText=void 0;let r=this.getMessageContent(e);if(!(this.message.mentioned_users&&0!==this.message.mentioned_users.length||r?.match(this.emojiRegexp)||r?.match(this.urlRegexp)))return this.messageTextParts=void 0,void(this.messageText=r);if(r)if(this.message.mentioned_users&&0!==this.message.mentioned_users.length){this.messageTextParts=[];let a=r;this.message.mentioned_users.forEach(d=>{const h=`@${d.name||d.id}`,p=a.substring(0,a.indexOf(h));let _=this.fixEmojiDisplay(p);_=this.wrapLinskWithAnchorTag(_),this.messageTextParts.push({content:_,type:"text"}),this.messageTextParts.push({content:h,type:"mention",user:d}),a=a.replace(p+h,"")}),a&&(a=this.fixEmojiDisplay(a),a=this.wrapLinskWithAnchorTag(a),this.messageTextParts.push({content:a,type:"text"}))}else r=this.fixEmojiDisplay(r),r=this.wrapLinskWithAnchorTag(r),this.messageTextParts=[{content:r,type:"text"}]}getMessageContent(e){var r,a;const d=null===(r=this.message)||void 0===r?void 0:r.text;if(e){const h=null===(a=this.message)||void 0===a?void 0:a.translation;return h&&(this.shouldDisplayTranslationNotice=!0,this.displayedMessageTextContent="translation"),h||d}return this.displayedMessageTextContent="original",d}fixEmojiDisplay(e){const r=!!window.chrome&&typeof window.opr>"u";return e.replace(this.emojiRegexp,a=>`<span ${r?'class="str-chat__emoji-display-fix"':""}>${a}</span>`)}wrapLinskWithAnchorTag(e){return"html"===this.displayAs||(e=e.replace(this.urlRegexp,r=>`<a href="${r}" rel="nofollow">${r}</a>`)),e}setIsSentByCurrentUser(){var e,r,a;this.isSentByCurrentUser=(null===(r=null===(e=this.message)||void 0===e?void 0:e.user)||void 0===r?void 0:r.id)===(null===(a=this.user)||void 0===a?void 0:a.id)}setLastReadUser(){var e,r;this.lastReadUser=null===(r=null===(e=this.message)||void 0===e?void 0:e.readBy)||void 0===r?void 0:r.filter(a=>{var d;return a.id!==(null===(d=this.user)||void 0===d?void 0:d.id)})[0]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ms),t.Y36(ar),t.Y36(Si),t.Y36(t.sBO),t.Y36(kn),t.Y36(ed),t.Y36(t.R0b),t.Y36(wa))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-message"]],viewQuery:function(e,r){if(1&e&&t.Gf(ua,5),2&e){let a;t.iGM(a=t.CRH())&&(r.container=a.first)}},inputs:{message:"message",enabledMessageActions:"enabledMessageActions",isLastSentMessage:"isLastSentMessage",mode:"mode",isHighlighted:"isHighlighted",customActions:"customActions"},features:[t.TTD],decls:17,vars:23,consts:[["data-testid","message-container"],["container",""],[4,"ngIf","ngIfElse"],["deletedMessage",""],["systemMessage",""],["quotedMessage",""],["messageDateAndSender",""],["messageStatus",""],["replyCountButton",""],["attachmentsTemplate",""],[4,"ngIf"],["data-testid","avatar","type","user","location","message-sender",1,"str-chat-angular__avatar-host","str-chat__message-sender-avatar",3,"imageUrl","name","user"],[1,"str-chat__message-inner"],["class","str-chat__message-simple__actions str-chat__message-options","data-testid","message-options",3,"str-chat__message-edit-in-progress",4,"ngIf"],[1,"str-chat__message-reactions-host"],["defaultMessageReactions",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__message-bubble"],["class","str-chat__message-text","tabindex","0",4,"ngIf"],["class","str-chat__message-error-icon","icon","error",4,"ngIf"],[4,"ngTemplateOutlet"],["data-testid","message-options",1,"str-chat__message-simple__actions","str-chat__message-options"],["data-testid","message-actions-container",1,"str-chat__message-actions-container","str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--options",3,"popper","popperTrigger","popperPlacement","popperHideOnScroll","popperHideOnClickOutside","popperHideOnMouseLeave","popperDisableAnimation"],["messageActionsToggle",""],["popperContent",""],["defaultMessageActionsBox",""],["class","str-chat__message-actions-box-button","data-testid","action-icon",3,"click","keyup.enter",4,"ngIf"],["class","\n              str-chat__message-simple__actions__action\n              str-chat__message-simple__actions__action--thread\n              str-chat__message-reply-in-thread-button\n            ","data-testid","reply-in-thread",3,"click","keyup.enter",4,"ngIf"],["class","\n              str-chat__message-simple__actions__action\n              str-chat__message-simple__actions__action--reactions\n              str-chat__message-reactions-button\n            ","data-testid","reaction-icon",3,"click","keyup.enter",4,"ngIf"],[3,"isOpen","isMine","enabledActions","message","customActions","displayedActionsCount","isEditing"],["data-testid","action-icon",1,"str-chat__message-actions-box-button",3,"click","keyup.enter"],["icon","action-icon",1,"str-chat__message-action-icon"],["data-testid","reply-in-thread",1,"str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--thread","str-chat__message-reply-in-thread-button",3,"click","keyup.enter"],["icon","reply-in-thread",1,"str-chat__message-action-icon"],["data-testid","reaction-icon",1,"str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--reactions","str-chat__message-reactions-button",3,"click","keyup.enter"],["icon","reaction-icon",1,"str-chat__message-action-icon"],[3,"messageReactionCounts","latestReactions","isSelectorOpen","messageId","ownReactions","isSelectorOpenChange"],["tabindex","0",1,"str-chat__message-text"],["data-testid","inner-message",1,"str-chat__message-text-inner","str-chat__message-simple-text-inner",3,"click","keyup.enter"],["data-testid","client-error-message","class","\n                  str-chat__simple-message--error-message\n                  str-chat__message--error-message\n                ",4,"ngIf"],["data-testid","error-message","class","\n                  str-chat__simple-message--error-message\n                  str-chat__message--error-message\n                ",4,"ngIf"],["data-testid","text"],["defaultContent",""],["data-testid","client-error-message",1,"str-chat__simple-message--error-message","str-chat__message--error-message"],["data-testid","error-message",1,"str-chat__simple-message--error-message","str-chat__message--error-message"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf","ngIfElse"],["mention",""],[3,"innerHTML"],["defaultMention",""],[1,"str-chat__message-mention"],["asHTML",""],["data-testid","html-content",3,"innerHTML"],["icon","error",1,"str-chat__message-error-icon"],["data-testid","message-deleted-component"],["translate","",1,"str-chat__message--deleted-inner"],["defaultSystemMessage",""],["data-testid","system-message",1,"str-chat__message--system"],[1,"str-chat__message--system__text"],[1,"str-chat__message--system__line"],[1,"str-chat__message--system__date"],["class","quoted-message str-chat__quoted-message-preview","data-testid","quoted-message-container",3,"mine","click","keyup.enter",4,"ngIf"],["data-testid","quoted-message-container",1,"quoted-message","str-chat__quoted-message-preview",3,"click","keyup.enter"],["data-testid","qouted-message-avatar","type","user","location","quoted-message-sender",1,"str-chat-angular__avatar-host","str-chat__message-sender-avatar",3,"imageUrl","name","size","user"],[1,"quoted-message-inner","str-chat__quoted-message-bubble"],["data-testid","quoted-message-text",3,"innerHTML"],["defaultAttachments",""],[3,"messageId","attachments","parentMessageId","imageModalStateChange"],["class","str-chat__translation-notice","data-testid","translation-notice",4,"ngIf"],[1,"str-chat__message-data","str-chat__message-simple-data","str-chat__message-metadata"],["data-testid","sender","class","str-chat__message-simple-name str-chat__message-sender-name",4,"ngIf"],["data-testid","date",1,"str-chat__message-simple-timestamp"],["data-testid","translation-notice",1,"str-chat__translation-notice"],["data-testid","see-original","translate","",3,"click","keyup.enter",4,"ngIf"],["data-testid","see-translation","translate","",3,"click","keyup.enter",4,"ngIf"],["data-testid","see-original","translate","",3,"click","keyup.enter"],["data-testid","see-translation","translate","",3,"click","keyup.enter"],["data-testid","sender",1,"str-chat__message-simple-name","str-chat__message-sender-name"],["sentStatus",""],["deliveredStatus",""],["defaultDeliveredStatus",""],["sendingStatus",""],["defaultSendingStatus",""],["readStatus",""],["defaultReadStatus",""],["class","\n          str-chat__message-simple-status\n          str-chat__message-simple-status-angular\n          str-chat__message-status\n        ","data-testid","delivered-indicator","tabindex","0",3,"popper","popperTrigger","popperPlacement","popperHideOnScroll","popperHideOnClickOutside","hover",4,"ngIf"],["data-testid","delivered-indicator","tabindex","0",1,"str-chat__message-simple-status","str-chat__message-simple-status-angular","str-chat__message-status",3,"popper","popperTrigger","popperPlacement","popperHideOnScroll","popperHideOnClickOutside","hover"],[1,"str-chat__tooltip","str-chat__tooltip-angular"],["data-testid","delivered-icon","icon","delivered-icon"],["data-testid","sending-indicator","tabindex","0",1,"str-chat__message-simple-status","str-chat__message-simple-status-angular","str-chat__message-status",3,"popper","popperTrigger","popperPlacement","popperHideOnScroll","popperHideOnClickOutside","hover"],["data-testid","loading-indicator"],["data-testid","read-indicator","tabindex","0",1,"str-chat__message-simple-status","str-chat__message-simple-status-angular","str-chat__message-status",3,"popper","popperTrigger","popperPlacement","popperHideOnScroll","popperHideOnClickOutside","hover"],["data-testid","read-by-tooltip",1,"str-chat__tooltip","str-chat__tooltip-angular"],["data-test-id","last-read-user-avatar","type","user","location","message-reader",1,"str-chat-angular__avatar-host",3,"size","imageUrl","name","user"],["data-test-id","read-by-length","class","str-chat__message-simple-status-number",4,"ngIf"],["data-test-id","read-by-length",1,"str-chat__message-simple-status-number"],["class","\n      str-chat__message-simple-reply-button\n      str-chat__message-replies-count-button-wrapper\n    ",4,"ngIf"],[1,"str-chat__message-simple-reply-button","str-chat__message-replies-count-button-wrapper"],["class","str-chat__message-replies-count-button","data-testid","reply-count-button",3,"click",4,"ngIf"],["data-testid","reply-count-button",1,"str-chat__message-replies-count-button",3,"click"],["stream-icon-placeholder","","icon","reply",4,"ngIf"],["stream-icon-placeholder","","icon","reply"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0,1),t.YNc(2,Xm,2,2,"ng-container",2),t.qZA(),t.YNc(3,e_,3,0,"ng-template",null,3,t.W1O),t.YNc(5,cf,4,4,"ng-template",null,4,t.W1O),t.YNc(7,s_,1,1,"ng-template",null,5,t.W1O),t.YNc(9,d_,1,1,"ng-template",null,6,t.W1O),t.YNc(11,da,1,1,"ng-template",null,7,t.W1O),t.YNc(13,ga,1,1,"ng-template",null,8,t.W1O),t.YNc(15,va,4,4,"ng-template",null,9,t.W1O)),2&e){const a=t.MAs(4);t.IyS("str-chat__message-simple str-chat__message str-chat__message--",null==r.message?null:r.message.type," str-chat__message--",null==r.message?null:r.message.status," ",null!=r.message&&r.message.text?"str-chat__message--has-text":"has-no-text",""),t.ekj("str-chat__message--me",r.isSentByCurrentUser)("str-chat__message--other",!r.isSentByCurrentUser)("str-chat__message-simple--me",r.isSentByCurrentUser)("str-chat__message--has-attachment",r.hasAttachment)("str-chat__message--with-reactions",r.hasReactions)("str-chat__message--highlighted",r.isHighlighted)("str-chat__message-with-thread-link",r.shouldDisplayThreadLink)("str-chat__message-send-can-be-retried","failed"===(null==r.message?null:r.message.status)&&403!==(null==r.message?null:r.message.errorStatusCode)),t.xp6(2),t.Q6J("ngIf",!(null!=r.message&&r.message.deleted_at))("ngIfElse",a)}},dependencies:[Da,il,Gf,Ns,fc,Ju,cc,y.O5,y.tP,_i,y.sg,v.Pi,y.Ov,v.X$],encapsulation:2,changeDetection:0}),o})(),Kf=(()=>{class o{constructor(){}transliterate(e){return function Jc(o,l){if("string"!=typeof o)throw new TypeError(`Expected a string, got \`${typeof o}\``);l=qc({customReplacements:[]},l);const e=new Map([...Xp,...l.customReplacements]);return o=((r,a)=>{for(const[d,h]of a)r=r.replace(new RegExp(Ev(d),"g"),h);return r})(o=o.normalize(),e),bo(o)}(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),td=(()=>{class o{constructor(e,r,a,d,h,p){this.channelService=e,this.chatClientService=r,this.transliterationService=a,this.emojiInputService=d,this.customTemplatesService=h,this.themeService=p,this.class="str-chat__textarea str-chat__message-textarea-angular-host",this.value="",this.placeholder="",this.areMentionsEnabled=!0,this.mentionScope="channel",this.autoFocus=!0,this.valueChange=new t.vpe,this.send=new t.vpe,this.userMentions=new t.vpe,this.autocompleteKey="autocompleteLabel",this.mentionTriggerChar="@",this.commandTriggerChar="/",this.autocompleteConfig={mentions:[]},this.subscriptions=[],this.mentionedUsers=[],this.userMentionConfig={triggerChar:this.mentionTriggerChar,dropUp:!0,labelKey:this.autocompleteKey,returnTrigger:!0,mentionFilter:(_,b)=>this.filter(_,b),mentionSelect:(_,b)=>this.itemSelectedFromAutocompleteList(_,b)},this.slashCommandConfig={triggerChar:this.commandTriggerChar,dropUp:!0,labelKey:"name",returnTrigger:!0,mentionFilter:(_,b)=>this.filter(_,b),mentionSelect:(_,b)=>this.itemSelectedFromAutocompleteList(_,b)},this.searchTerm$=new z.X(""),this.searchTerm$.pipe(function On(o,l=xe){return(0,Cp.e)((e,r)=>{let a=null,d=null,h=null;const p=()=>{if(a){a.unsubscribe(),a=null;const b=d;d=null,r.next(b)}};function _(){const b=h+o,O=l.now();if(O<b)return a=this.schedule(void 0,b-O),void r.add(a);p()}e.subscribe((0,yo.x)(r,b=>{d=b,h=l.now(),a||(a=l.schedule(_,o),r.add(a))},()=>{p(),r.complete()},void 0,()=>{d=a=null}))})}(300),(0,As.x)()).subscribe(_=>{_.startsWith(this.mentionTriggerChar)&&this.updateMentionOptions(_)}),this.subscriptions.push(this.channelService.activeChannel$.subscribe(_=>{var b;const O=(null===(b=_?.getConfig())||void 0===b?void 0:b.commands)||[];this.slashCommandConfig.items=O.map(Z=>Object.assign(Object.assign({},Z),{[this.autocompleteKey]:Z.name,type:"command"})),this.mentionedUsers=[],this.userMentions.next([...this.mentionedUsers]),this.updateMentionOptions(this.searchTerm$.getValue())})),this.subscriptions.push(this.emojiInputService.emojiInput$.subscribe(_=>{this.messageInput.nativeElement.focus();const{selectionStart:b}=this.messageInput.nativeElement;this.messageInput.nativeElement.setRangeText(_),this.messageInput.nativeElement.selectionStart=b+_.length,this.messageInput.nativeElement.selectionEnd=b+_.length,this.inputChanged()})),this.subscriptions.push(this.customTemplatesService.mentionAutocompleteItemTemplate$.subscribe(_=>this.mentionAutocompleteItemTemplate=_)),this.subscriptions.push(this.customTemplatesService.commandAutocompleteItemTemplate$.subscribe(_=>this.commandAutocompleteItemTemplate=_)),this.autocompleteConfig.mentions=[this.userMentionConfig,this.slashCommandConfig],this.themeVersion=this.themeService.themeVersion}ngOnChanges(e){e.areMentionsEnabled&&(this.areMentionsEnabled?(this.autocompleteConfig.mentions=[this.userMentionConfig,this.slashCommandConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig)):(this.autocompleteConfig.mentions=[this.slashCommandConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig))),e.mentionScope&&this.updateMentionOptions(this.searchTerm$.getValue()),e.value&&!this.value&&this.messageInput&&(this.messageInput.nativeElement.style.height="auto",this.updateMentionedUsersFromText())}ngAfterViewInit(){this.messageInput.nativeElement.scrollHeight>0&&this.adjustTextareaHeight()}filter(e,r){return r.filter(a=>this.transliterate(a.autocompleteLabel.toLowerCase()).includes(this.transliterate(e.toLowerCase())))}itemSelectedFromAutocompleteList(e,r=""){return r===this.mentionTriggerChar&&(this.mentionedUsers.push(e.user?e.user:e),this.userMentions.next([...this.mentionedUsers])),r+e.autocompleteLabel+(r===this.commandTriggerChar?" ":"")}autcompleteSearchTermChanged(e){e===this.mentionTriggerChar?this.updateMentionOptions():this.searchTerm$.next(e)}inputChanged(){this.valueChange.emit(this.messageInput.nativeElement.value),this.adjustTextareaHeight()}inputLeft(){this.updateMentionedUsersFromText()}enterHit(e){"desktop"===this.inputMode&&(e.preventDefault(),this.updateMentionedUsersFromText(),this.send.next())}adjustTextareaHeight(){"2"===this.themeVersion&&(this.messageInput.nativeElement.style.height="",this.messageInput.nativeElement.style.height=`${this.messageInput.nativeElement.scrollHeight}px`)}transliterate(e){return this.transliterationService?this.transliterationService.transliterate(e):e}updateMentionOptions(e){return(0,R.mG)(this,void 0,void 0,function*(){if(!this.areMentionsEnabled)return;e=e?.replace(this.mentionTriggerChar,"");const a=yield("application"===this.mentionScope?h=>this.chatClientService.autocompleteUsers(h):h=>this.channelService.autocompleteMembers(h))(e||""),d=this.filter(e||"",a.map(h=>{const p=h.user?h.user:h;return Object.assign(Object.assign({},h),{autocompleteLabel:p.name||p.id,type:"mention"})}));this.userMentionConfig.items=d,this.autocompleteConfig.mentions=[this.userMentionConfig,this.slashCommandConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig)})}updateMentionedUsersFromText(){const e=[];this.mentionedUsers.forEach(r=>{this.value.includes(`${this.mentionTriggerChar}${r.name||r.id}`)&&e.push(r)}),e.length!==this.mentionedUsers.length&&(this.userMentions.next([...e]),this.mentionedUsers=e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ar),t.Y36(ms),t.Y36(Kf),t.Y36(Cr),t.Y36(Si),t.Y36(kn))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-autocomplete-textarea"]],viewQuery:function(e,r){if(1&e&&t.Gf(ya,5),2&e){let a;t.iGM(a=t.CRH())&&(r.messageInput=a.first)}},hostVars:2,hostBindings:function(e,r){2&e&&t.Tol(r.class)},inputs:{value:"value",placeholder:"placeholder",areMentionsEnabled:"areMentionsEnabled",inputMode:"inputMode",mentionScope:"mentionScope",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions"},features:[t.TTD],decls:9,vars:7,consts:[["data-testid","textarea","rows","1",1,"rta__textarea","str-chat__textarea__textarea","str-chat__angular-textarea","str-chat__message-textarea",3,"value","autofocus","placeholder","mentionConfig","mentionListTemplate","input","keydown.enter","searchTerm","blur"],["input",""],["autocompleteItem",""],["defaultCommandTemplate",""],["defaultMentionTemplate",""],[1,"rta","rta__item","str-chat__emojisearch__item",3,"ngSwitch"],["class","rta__entity",4,"ngSwitchCase"],[1,"rta__entity"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__slash-command"],[1,"str-chat__slash-command-header"],["data-testclass","command-name",1,"str-chat__slash-command-name"],[1,"str-chat__slash-command-args"],[1,"str-chat__user-item"],["data-testclass","avatar","type","user","location","autocomplete-item",1,"str-chat__avatar","str-chat__avatar--circle",3,"size","imageUrl","name","user"],["data-testclass","username",1,"str-chat__user-item--name"],["class","str-chat__user-item-at",4,"ngIf"],[1,"str-chat__user-item-at"]],template:function(e,r){if(1&e&&(t.TgZ(0,"textarea",0,1),t.NdJ("input",function(){return r.inputChanged()})("keydown.enter",function(d){return r.enterHit(d)})("searchTerm",function(d){return r.autcompleteSearchTermChanged(d)})("blur",function(){return r.inputLeft()}),t.ALo(2,"translate"),t.qZA(),t.YNc(3,_f,3,3,"ng-template",null,2,t.W1O),t.YNc(5,vf,7,3,"ng-template",null,3,t.W1O),t.YNc(7,Cf,5,8,"ng-template",null,4,t.W1O)),2&e){const a=t.MAs(4);t.s9C("placeholder",t.lcZ(2,5,r.placeholder)),t.Q6J("value",r.value||"")("autofocus",r.autoFocus)("mentionConfig",r.autocompleteConfig)("mentionListTemplate",a)}},dependencies:[Da,Av,y.RF,y.n9,y.tP,y.O5,v.X$],encapsulation:2}),o})();const gc=(o,l)=>o.getFullYear()===l.getFullYear()&&o.getMonth()===l.getMonth()&&o.getDate()===l.getDate();let Qf=(()=>{class o{constructor(e,r,a,d,h,p){this.channelService=e,this.chatClientService=r,this.customTemplatesService=a,this.dateParser=d,this.ngZone=h,this.cdRef=p,this.mode="main",this.direction="bottom-to-top",this.messageOptionsTrigger="message-row",this.hideJumpToLatestButtonDuringScroll=!1,this.customMessageActions=[],this.displayDateSeparator=!0,this.dateSeparatorTextPos="center",this.openMessageListAt="last-message",this.displayLoadingIndicator=!0,this.emptyMainMessageListTemplate=null,this.emptyThreadMessageListTemplate=null,this.enabledMessageActions=[],this.isEmpty=!0,this.unreadMessageCount=0,this.groupStyles=[],this.isNextMessageOnSeparateDate=[],this.isLoading=!1,this.isJumpingToLatestUnreadMessage=!1,this.subscriptions=[],this.isLatestMessageInList=!0,this.parsedDates=new Map,this.subscriptions.push(this.channelService.activeChannel$.subscribe(_=>{var b,O,Z,X,se,ne,ke;null===(O=null===(b=this.chatClientService.chatClient)||void 0===b?void 0:b.logger)||void 0===O||O.call(b,"info",`${_?.cid||"undefined"} selected`,{tags:`message list ${this.mode}`}),this.channelId!==_?.id&&(null===(se=null===(X=null===(Z=this.chatClientService)||void 0===Z?void 0:Z.chatClient)||void 0===X?void 0:X.logger)||void 0===se||se.call(X,"info","new channel is different from prev channel, reseting scroll state",{tags:`message list ${this.mode}`}),this.parsedDates=new Map,this.resetScrollState(),this.channelId=_?.id,"last-read-message"===this.openMessageListAt&&"main"===this.mode?(this.lastReadMessageId=this.channelService.activeChannelLastReadMessageId,this.lastReadMessageId&&(this.isJumpingToLatestUnreadMessage=!0,this.channelService.jumpToMessage(this.lastReadMessageId))):this.lastReadMessageId=void 0);const Ge=null===(ne=_?.data)||void 0===ne?void 0:ne.own_capabilities;Ge&&(this.enabledMessageActions=Ge),null===(ke=this.newMessageSubscription)||void 0===ke||ke.unsubscribe(),_&&(this.newMessageSubscription=_.on("message.new",Dt=>{!Dt.message||_.state.messages===_.state.latestMessages||"thread"===this.mode||this.newMessageReceived({id:Dt.message.id,user:Dt.message.user,created_at:new Date(Dt.message.created_at||"")})}))})),this.subscriptions.push(this.channelService.activeParentMessage$.subscribe(_=>{_&&this.parentMessage&&_.id!==this.parentMessage.id&&"thread"===this.mode&&this.resetScrollState(),this.parentMessage=_})),this.subscriptions.push(this.customTemplatesService.messageTemplate$.subscribe(_=>this.messageTemplate=_)),this.subscriptions.push(this.customTemplatesService.dateSeparatorTemplate$.subscribe(_=>this.customDateSeparatorTemplate=_)),this.subscriptions.push(this.customTemplatesService.newMessagesIndicatorTemplate$.subscribe(_=>this.customnewMessagesIndicatorTemplate=_)),this.subscriptions.push(this.customTemplatesService.typingIndicatorTemplate$.subscribe(_=>this.typingIndicatorTemplate=_)),this.usersTypingInChannel$=this.channelService.usersTypingInChannel$,this.usersTypingInThread$=this.channelService.usersTypingInThread$}get class(){return"str-chat-angular__main-panel-inner str-chat-angular__message-list-host str-chat__main-panel-inner "+(this.isEmpty?"str-chat-angular__message-list-host--empty":"")}ngOnInit(){this.setMessages$()}ngOnChanges(e){var r;(e.mode||e.direction)&&this.setMessages$(),e.direction&&null!==(r=this.scrollContainer)&&void 0!==r&&r.nativeElement&&this.jumpToLatestMessage()}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.scrollContainer.nativeElement.addEventListener("scroll",()=>this.scrolled())}),this.subscriptions.push(this.channelService.jumpToMessage$.pipe((0,vo.h)(e=>!!e.id)).subscribe(e=>{var r,a;let d;"main"===this.mode?d=e.parentId||e.id:e.parentId&&(d=e.id),null===(a=null===(r=this.chatClientService.chatClient)||void 0===r?void 0:r.logger)||void 0===a||a.call(r,"info",`Jumping to ${d||""}`,{tags:`message list ${this.mode}`}),d&&("latest"===d?this.scrollToLatestMessage():(this.scrollMessageIntoView(d),this.highlightedMessageId=d))})),this.subscriptions.push(this.customTemplatesService.emptyMainMessageListPlaceholder$.subscribe(e=>{const r=this.emptyMainMessageListTemplate!==e;this.emptyMainMessageListTemplate=e||null,r&&this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.emptyThreadMessageListPlaceholder$.subscribe(e=>{const r=this.emptyThreadMessageListTemplate!==e;this.emptyThreadMessageListTemplate=e||null,r&&this.cdRef.detectChanges()}))}ngAfterViewChecked(){var e,r,a,d,h,p;this.highlightedMessageId&&(this.hasNewMessages=!1,this.olderMassagesLoaded=!1),"top-to-bottom"===this.direction?this.hasNewMessages&&(this.isNewMessageSentByUser||!this.isUserScrolled)&&(this.isLatestMessageInList?this.scrollToTop():this.jumpToLatestMessage(),this.hasNewMessages=!1,this.containerHeight=this.scrollContainer.nativeElement.scrollHeight):this.hasNewMessages?((!this.isUserScrolled||this.isNewMessageSentByUser)&&(null===(r=null===(e=this.chatClientService.chatClient)||void 0===e?void 0:e.logger)||void 0===r||r.call(e,"info",`User has new messages, and not scrolled or sent new messages, therefore we ${this.isLatestMessageInList?"scroll":"jump"} to latest message`,{tags:`message list ${this.mode}`}),this.isLatestMessageInList?this.scrollToBottom():this.jumpToLatestMessage()),this.hasNewMessages=!1,this.containerHeight=this.scrollContainer.nativeElement.scrollHeight):this.olderMassagesLoaded?(null===(d=null===(a=this.chatClientService.chatClient)||void 0===a?void 0:a.logger)||void 0===d||d.call(a,"info","Older messages are loaded, we preserve the scroll position",{tags:`message list ${this.mode}`}),this.preserveScrollbarPosition(),this.containerHeight=this.scrollContainer.nativeElement.scrollHeight,this.olderMassagesLoaded=!1):"bottom"!==this.getScrollPosition()&&!this.isUserScrolled&&!this.highlightedMessageId&&(null===(p=null===(h=this.chatClientService.chatClient)||void 0===h?void 0:h.logger)||void 0===p||p.call(h,"info",`Container grew and user didn't scroll therefore we ${this.isLatestMessageInList?"scroll":"jump"} to latest message`,{tags:`message list ${this.mode}`}),this.isLatestMessageInList?this.scrollToBottom():this.jumpToLatestMessage(),this.containerHeight=this.scrollContainer.nativeElement.scrollHeight)}ngOnDestroy(){var e;this.subscriptions.forEach(r=>r.unsubscribe()),null===(e=this.newMessageSubscription)||void 0===e||e.unsubscribe(),this.scrollEndTimeout&&clearTimeout(this.scrollEndTimeout)}trackByMessageId(e,r){return r.id}trackByUserId(e,r){return r.id}jumpToLatestMessage(){var e;this.channelService.jumpToMessage("latest","thread"===this.mode?null===(e=this.parentMessage)||void 0===e?void 0:e.id:void 0)}scrollToBottom(){this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight,this.forceRepaint()}scrollToTop(){this.scrollContainer.nativeElement.scrollTop=0}scrolled(){var e,r;if(this.scrollContainer.nativeElement.scrollHeight===this.scrollContainer.nativeElement.clientHeight)return;const a=this.getScrollPosition();null===(r=null===(e=this.chatClientService.chatClient)||void 0===e?void 0:e.logger)||void 0===r||r.call(e,"info",`Scrolled - scroll position: ${a}, container height: ${this.scrollContainer.nativeElement.scrollHeight}`,{tags:`message list ${this.mode}`});const d=("bottom-to-top"===this.direction?"bottom"!==a:"top"!==a)||!this.isLatestMessageInList;this.isUserScrolled!==d&&this.ngZone.run(()=>{this.isUserScrolled=d,this.isUserScrolled||(this.unreadMessageCount=0)}),this.shouldLoadMoreMessages(a)&&this.ngZone.run(()=>{var h,p;let _;this.containerHeight=this.scrollContainer.nativeElement.scrollHeight,_="top-to-bottom"===this.direction?"top"===a?"newer":"older":"top"===a?"older":"newer",("main"===this.mode?this.channelService.loadMoreMessages(_):this.channelService.loadMoreThreadReplies(_))&&(null===(p=null===(h=this.chatClientService.chatClient)||void 0===h?void 0:h.logger)||void 0===p||p.call(h,"info","Displaying loading indicator",{tags:`message list ${this.mode}`}),this.isLoading=!0)}),this.prevScrollTop=this.scrollContainer.nativeElement.scrollTop}getTypingIndicatorContext(){return{usersTyping$:this.usersTyping$}}getTypingIndicatorText(e){return Ku(e)}isSentByCurrentUser(e){var r,a;return!!e&&(null===(r=e.user)||void 0===r?void 0:r.id)===(null===(a=this.chatClientService.chatClient.user)||void 0===a?void 0:a.id)}parseDate(e){if(this.parsedDates.has(e))return this.parsedDates.get(e);const r=this.dateParser.parseDate(e);return this.parsedDates.set(e,r),r}get replyCountParam(){var e;return{replyCount:null===(e=this.parentMessage)||void 0===e?void 0:e.reply_count}}get emptyListTemplate(){return"main"===this.mode?this.emptyMainMessageListTemplate:this.emptyThreadMessageListTemplate}preserveScrollbarPosition(){this.scrollContainer.nativeElement.scrollTop=(this.prevScrollTop||0)+(this.scrollContainer.nativeElement.scrollHeight-this.containerHeight)}forceRepaint(){this.scrollContainer.nativeElement.style.display="none",this.scrollContainer.nativeElement.style.display=""}getScrollPosition(){var e,r;let a="middle";return Math.floor(this.scrollContainer.nativeElement.scrollTop)<=((null===(e=this.parentMessageElement)||void 0===e?void 0:e.nativeElement.clientHeight)||0)&&(void 0===this.prevScrollTop||this.prevScrollTop>((null===(r=this.parentMessageElement)||void 0===r?void 0:r.nativeElement.clientHeight)||0))?a="top":Math.ceil(this.scrollContainer.nativeElement.scrollTop)+this.scrollContainer.nativeElement.clientHeight>=this.scrollContainer.nativeElement.scrollHeight&&(a="bottom"),a}shouldLoadMoreMessages(e){return"middle"!==e&&!this.highlightedMessageId}setMessages$(){this.messages$=("main"===this.mode?this.channelService.activeChannelMessages$:this.channelService.activeThreadMessages$).pipe((0,qr.b)(e=>{var r,a,d,h;if(this.isLoading=!1,0===e.length)return null===(a=null===(r=this.chatClientService.chatClient)||void 0===r?void 0:r.logger)||void 0===a||a.call(r,"info","Empty messages array, reseting scroll state",{tags:`message list ${this.mode}`}),void this.resetScrollState();this.isEmpty&&setTimeout(()=>this.isEmpty=!1,0),null===(h=null===(d=this.chatClientService.chatClient)||void 0===d?void 0:d.logger)||void 0===h||h.call(d,"info","Received one or more messages",{tags:`message list ${this.mode}`}),this.newMessageReceived(e[e.length-1]);const _=e[0];this.oldestMessage&&e.find(b=>b.id===this.oldestMessage.id)?this.oldestMessage.created_at.getTime()>_.created_at.getTime()&&(this.oldestMessage=_,this.olderMassagesLoaded=!0):this.oldestMessage=_}),(0,qr.b)(e=>{var r;return this.lastSentMessageId=null===(r=[...e].reverse().find(a=>{var d,h,p;return(null===(d=a.user)||void 0===d?void 0:d.id)===(null===(p=null===(h=this.chatClientService.chatClient)||void 0===h?void 0:h.user)||void 0===p?void 0:p.id)&&"sending"!==a.status}))||void 0===r?void 0:r.id}),(0,qr.b)(e=>{this.isLatestMessageInList=!this.latestMessage||0===e.length||e[e.length-1].id===this.latestMessage.id,this.isLatestMessageInList||(this.isUserScrolled=!0)}),(0,qr.b)(()=>{var e;this.isJumpingToLatestUnreadMessage&&this.lastReadMessageId&&this.lastReadMessageId===(null===(e=this.latestMessage)||void 0===e?void 0:e.id)&&(this.lastReadMessageId=void 0)}),(0,mi.U)(e=>"bottom-to-top"===this.direction?e:[...e].reverse()),(0,qr.b)(e=>{this.groupStyles=e.map((r,a)=>((o,l,e,r=!1)=>{var a,d,h,p,_,b;if(r||o.attachments&&0!==o.attachments.length)return"single";const O=!l||!gc(l.created_at,o.created_at)||"system"===l.type||l.attachments&&0!==(null===(a=l.attachments)||void 0===a?void 0:a.length)||(null===(d=o.user)||void 0===d?void 0:d.id)!==(null===(h=l.user)||void 0===h?void 0:h.id)||"error"===l.type||l.deleted_at||o.reaction_counts&&Object.keys(o.reaction_counts).length>0,Z=!e||!gc(o.created_at,e.created_at)||"system"===e.type||e.attachments&&0!==(null===(p=e.attachments)||void 0===p?void 0:p.length)||(null===(_=o.user)||void 0===_?void 0:_.id)!==(null===(b=e.user)||void 0===b?void 0:b.id)||"error"===e.type||e.deleted_at||e.reaction_counts&&Object.keys(e.reaction_counts).length>0;return O||Z?Z?O||o.deleted_at||"error"===o.type?"single":"bottom":O?"top":"":o.deleted_at||"error"===o.type?"single":"middle"})(r,e[a-1],e[a+1])),this.isNextMessageOnSeparateDate=e.map((r,a)=>this.checkIfOnSeparateDates(r,e[a+1]))}))}resetScrollState(){this.isEmpty=!0,this.latestMessage=void 0,this.hasNewMessages=!0,this.isUserScrolled=!1,this.containerHeight=void 0,this.olderMassagesLoaded=!1,this.oldestMessage=void 0,this.unreadMessageCount=0,this.prevScrollTop=void 0,this.isNewMessageSentByUser=void 0,this.isLatestMessageInList=!0}get usersTyping$(){return"thread"===this.mode?this.usersTypingInThread$:this.usersTypingInChannel$}scrollMessageIntoView(e,r=!0){const a=document.getElementById(e);!a&&r?setTimeout(()=>this.scrollMessageIntoView(e,!1)):a&&(a.scrollIntoView({block:e===this.lastReadMessageId?"start":"center"}),setTimeout(()=>{this.highlightedMessageId=void 0,this.isJumpingToLatestUnreadMessage=!1},1e3))}scrollToLatestMessage(e=!0){document.getElementById(this.latestMessage.id)?"bottom-to-top"===this.direction?this.scrollToBottom():this.scrollToTop():e&&setTimeout(()=>this.scrollToLatestMessage(!1),0)}newMessageReceived(e){var r,a,d,h,p,_;(!this.latestMessage||(null===(r=this.latestMessage.created_at)||void 0===r?void 0:r.getTime())<e.created_at.getTime())&&(null===(d=null===(a=this.chatClientService.chatClient)||void 0===a?void 0:a.logger)||void 0===d||d.call(a,"info","Received new message",{tags:`message list ${this.mode}`}),this.latestMessage=e,this.hasNewMessages=!0,this.isNewMessageSentByUser=(null===(h=e.user)||void 0===h?void 0:h.id)===(null===(_=null===(p=this.chatClientService.chatClient)||void 0===p?void 0:p.user)||void 0===_?void 0:_.id),this.isUserScrolled&&this.unreadMessageCount++)}checkIfOnSeparateDates(e,r){return!(!e||!r||e.created_at.getDate()===r.created_at.getDate()&&e.created_at.getFullYear()===r.created_at.getFullYear()&&e.created_at.getMonth()===r.created_at.getMonth())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(ar),t.Y36(ms),t.Y36(Si),t.Y36(ed),t.Y36(t.R0b),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-message-list"]],viewQuery:function(e,r){if(1&e&&(t.Gf(g_,5),t.Gf(m_,5)),2&e){let a;t.iGM(a=t.CRH())&&(r.scrollContainer=a.first),t.iGM(a=t.CRH())&&(r.parentMessageElement=a.first)}},hostVars:2,hostBindings:function(e,r){2&e&&t.Tol(r.class)},inputs:{mode:"mode",direction:"direction",messageOptionsTrigger:"messageOptionsTrigger",hideJumpToLatestButtonDuringScroll:"hideJumpToLatestButtonDuringScroll",customMessageActions:"customMessageActions",displayDateSeparator:"displayDateSeparator",dateSeparatorTextPos:"dateSeparatorTextPos",openMessageListAt:"openMessageListAt",displayLoadingIndicator:"displayLoadingIndicator"},features:[t.TTD],decls:22,vars:13,consts:[["data-testid","scroll-container",1,"str-chat__list",2,"overscroll-behavior","none"],["scrollContainer",""],[4,"ngIf"],[1,"str-chat__reverse-infinite-scroll","str-chat__message-list-scroll"],[1,"str-chat__ul"],["data-testid","parent-message","class","str-chat__parent-message-li",4,"ngIf"],["data-testid","top-loading-indicator",4,"ngIf"],["data-testid","bottom-loading-indicator",4,"ngIf"],["defaultTypingIndicator",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__jump-to-latest-message"],["data-testid","scroll-to-latest","class","\n      str-chat__message-notification-scroll-to-latest\n      str-chat__message-notification-scroll-to-latest-right\n      str-chat__circle-fab\n    ",3,"keyup.enter","click",4,"ngIf"],["messageTemplateContainer",""],["dateSeparator",""],["defaultNewMessagesIndicator",""],[4,"ngTemplateOutlet"],["data-testid","parent-message",1,"str-chat__parent-message-li"],["parentMessageElement",""],["data-testid","reply-count",1,"str-chat__thread-start"],["data-testid","top-loading-indicator"],[4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","data-testclass","message",3,"id"],["data-testid","bottom-loading-indicator"],["data-testid","typing-indicator","class","str-chat__typing-indicator str-chat__typing-indicator--typing",4,"ngIf"],["data-testid","typing-indicator",1,"str-chat__typing-indicator","str-chat__typing-indicator--typing"],[1,"str-chat__typing-indicator__dots"],[1,"str-chat__typing-indicator__dot"],["data-testid","typing-users",1,"str-chat__typing-indicator__users"],["data-testid","scroll-to-latest",1,"str-chat__message-notification-scroll-to-latest","str-chat__message-notification-scroll-to-latest-right","str-chat__circle-fab",3,"keyup.enter","click"],[1,"str-chat__jump-to-latest-icon","str-chat__circle-fab-icon",3,"icon"],["class","\n        str-chat__message-notification\n        str-chat__message-notification-scroll-to-latest-unread-count\n        str-chat__jump-to-latest-unread-count\n      ",4,"ngIf"],[1,"str-chat__message-notification","str-chat__message-notification-scroll-to-latest-unread-count","str-chat__jump-to-latest-unread-count"],["defaultMessageTemplate",""],[3,"message","isLastSentMessage","enabledMessageActions","mode","isHighlighted","customActions"],["defaultDateSeparator",""],["data-testid","date-separator",1,"str-chat__date-separator"],["class","str-chat__date-separator-line",4,"ngIf"],[1,"str-chat__date-separator-date"],["data-testid","new-messages-indicator-date-separator",4,"ngIf"],[1,"str-chat__date-separator-line"],["data-testid","new-messages-indicator-date-separator"],["data-testid","new-messages-indicator",1,"str-chat__date-separator"],["translate","",1,"str-chat__date-separator-date"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0,1),t.YNc(2,__,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"ul",4),t.YNc(5,Uu,7,10,"li",5),t.YNc(6,ic,2,1,"ng-container",2),t.YNc(7,rc,1,0,"stream-loading-indicator",6),t.YNc(8,C_,2,2,"ng-container",2),t.ALo(9,"async"),t.YNc(10,Sf,1,0,"stream-loading-indicator",7),t.qZA(),t.YNc(11,Af,2,3,"ng-template",null,8,t.W1O),t.YNc(13,Of,1,0,"ng-container",9),t.qZA()(),t.TgZ(14,"div",10),t.YNc(15,zu,3,2,"button",11),t.qZA(),t.YNc(16,Lf,3,9,"ng-template",null,12,t.W1O),t.YNc(18,w_,3,1,"ng-template",null,13,t.W1O),t.YNc(20,Io,5,2,"ng-template",null,14,t.W1O)),2&e){const a=t.MAs(12);t.xp6(2),t.Q6J("ngIf","main"===r.mode&&r.isEmpty&&r.emptyListTemplate),t.xp6(2),t.ekj("str-chat__message-options-in-bubble","message-bubble"===r.messageOptionsTrigger),t.xp6(1),t.Q6J("ngIf","thread"===r.mode&&r.parentMessage),t.xp6(1),t.Q6J("ngIf","thread"===r.mode&&r.isEmpty&&r.emptyListTemplate),t.xp6(1),t.Q6J("ngIf",r.isLoading&&"bottom-to-top"===r.direction&&r.displayLoadingIndicator),t.xp6(1),t.Q6J("ngIf",t.lcZ(9,11,r.messages$)),t.xp6(2),t.Q6J("ngIf",r.isLoading&&"top-to-bottom"===r.direction&&r.displayLoadingIndicator),t.xp6(3),t.Q6J("ngTemplateOutlet",r.typingIndicatorTemplate||a)("ngTemplateOutletContext",r.getTypingIndicatorContext()),t.xp6(2),t.Q6J("ngIf",r.isUserScrolled)}},dependencies:[zf,lc,O_,y.O5,y.tP,y.sg,v.Pi,v.X$,y.Ov],encapsulation:2}),o})(),Xf=(()=>{class o{constructor(e,r,a){this.customTemplatesService=e,this.channelService=r,this.chatClientService=a,this.class="str-chat__thread",this.subscriptions=[],this.subscriptions.push(this.channelService.activeParentMessage$.subscribe(d=>this.parentMessage=d)),this.subscriptions.push(this.channelService.activeChannel$.subscribe(d=>this.channel=d))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getThreadHeaderContext(){return{parentMessage:this.parentMessage,closeThreadHandler:()=>this.closeThread()}}closeThread(){this.channelService.setAsActiveParentMessage(void 0)}get channelName(){return this.channel&&this.chatClientService.chatClient.user?Qu(this.channel,this.chatClientService.chatClient.user):""}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Si),t.Y36(ar),t.Y36(ms))},o.\u0275cmp=t.Xpm({type:o,selectors:[["stream-thread"]],hostVars:2,hostBindings:function(e,r){2&e&&t.Tol(r.class)},ngContentSelectors:Zl,decls:6,vars:4,consts:[[1,"str-chat__thread-container"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultThreadHeader",""],[1,"str-chat__thread-header"],[1,"str-chat__thread-header-details"],["translate","",1,"str-chat__thread-header-name"],["data-testid","channel-name",1,"str-chat__thread-header-channel-name"],["data-testid","close-button",1,"str-chat__square-button","str-chat__close-thread-button",3,"click"],["icon","close-no-outline"]],template:function(e,r){if(1&e&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,Yu,1,0,"ng-container",1),t.ALo(2,"async"),t.Hsn(3),t.qZA(),t.YNc(4,T_,8,1,"ng-template",null,2,t.W1O)),2&e){const a=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",t.lcZ(2,2,r.customTemplatesService.threadHeaderTemplate$)||a)("ngTemplateOutletContext",r.getThreadHeaderContext())}},dependencies:[Ns,y.tP,v.Pi,y.Ov],encapsulation:2}),o})(),mc=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[y.ez,v.aw]]}),o})(),ep=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[y.ez,v.aw,mc,Jp],mc]}),o})(),tp=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:uc,useValue:td}],imports:[[y.ez,v.aw,Ov,mc]]}),o})()},7061:(nt,_e,A)=>{var T=A(8698).default;function R(){"use strict";nt.exports=R=function(){return t},nt.exports.__esModule=!0,nt.exports.default=nt.exports;var t={},z=Object.prototype,W=z.hasOwnProperty,J=Object.defineProperty||function(ie,Ce,V){ie[Ce]=V.value},ee="function"==typeof Symbol?Symbol:{},le=ee.iterator||"@@iterator",we=ee.asyncIterator||"@@asyncIterator",ge=ee.toStringTag||"@@toStringTag";function de(ie,Ce,V){return Object.defineProperty(ie,Ce,{value:V,enumerable:!0,configurable:!0,writable:!0}),ie[Ce]}try{de({},"")}catch{de=function(V,qe,vt){return V[qe]=vt}}function fe(ie,Ce,V,qe){var Q=Object.create((Ce&&Ce.prototype instanceof Oe?Ce:Oe).prototype),he=new Le(qe||[]);return J(Q,"_invoke",{value:ht(ie,V,he)}),Q}function at(ie,Ce,V){try{return{type:"normal",arg:ie.call(Ce,V)}}catch(qe){return{type:"throw",arg:qe}}}t.wrap=fe;var ye={};function Oe(){}function ut(){}function xe(){}var Be={};de(Be,le,function(){return this});var Ne=Object.getPrototypeOf,Re=Ne&&Ne(Ne(Ee([])));Re&&Re!==z&&W.call(Re,le)&&(Be=Re);var Pe=xe.prototype=Oe.prototype=Object.create(Be);function Te(ie){["next","throw","return"].forEach(function(Ce){de(ie,Ce,function(V){return this._invoke(Ce,V)})})}function st(ie,Ce){function V(vt,Q,he,me){var U=at(ie[vt],ie,Q);if("throw"!==U.type){var Qe=U.arg,I=Qe.value;return I&&"object"==T(I)&&W.call(I,"__await")?Ce.resolve(I.__await).then(function(Ie){V("next",Ie,he,me)},function(Ie){V("throw",Ie,he,me)}):Ce.resolve(I).then(function(Ie){Qe.value=Ie,he(Qe)},function(Ie){return V("throw",Ie,he,me)})}me(U.arg)}var qe;J(this,"_invoke",{value:function(Q,he){function me(){return new Ce(function(U,Qe){V(Q,he,U,Qe)})}return qe=qe?qe.then(me,me):me()}})}function ht(ie,Ce,V){var qe="suspendedStart";return function(vt,Q){if("executing"===qe)throw new Error("Generator is already running");if("completed"===qe){if("throw"===vt)throw Q;return{value:void 0,done:!0}}for(V.method=vt,V.arg=Q;;){var he=V.delegate;if(he){var me=it(he,V);if(me){if(me===ye)continue;return me}}if("next"===V.method)V.sent=V._sent=V.arg;else if("throw"===V.method){if("suspendedStart"===qe)throw qe="completed",V.arg;V.dispatchException(V.arg)}else"return"===V.method&&V.abrupt("return",V.arg);qe="executing";var U=at(ie,Ce,V);if("normal"===U.type){if(qe=V.done?"completed":"suspendedYield",U.arg===ye)continue;return{value:U.arg,done:V.done}}"throw"===U.type&&(qe="completed",V.method="throw",V.arg=U.arg)}}}function it(ie,Ce){var V=Ce.method,qe=ie.iterator[V];if(void 0===qe)return Ce.delegate=null,"throw"===V&&ie.iterator.return&&(Ce.method="return",Ce.arg=void 0,it(ie,Ce),"throw"===Ce.method)||"return"!==V&&(Ce.method="throw",Ce.arg=new TypeError("The iterator does not provide a '"+V+"' method")),ye;var vt=at(qe,ie.iterator,Ce.arg);if("throw"===vt.type)return Ce.method="throw",Ce.arg=vt.arg,Ce.delegate=null,ye;var Q=vt.arg;return Q?Q.done?(Ce[ie.resultName]=Q.value,Ce.next=ie.nextLoc,"return"!==Ce.method&&(Ce.method="next",Ce.arg=void 0),Ce.delegate=null,ye):Q:(Ce.method="throw",Ce.arg=new TypeError("iterator result is not an object"),Ce.delegate=null,ye)}function dt(ie){var Ce={tryLoc:ie[0]};1 in ie&&(Ce.catchLoc=ie[1]),2 in ie&&(Ce.finallyLoc=ie[2],Ce.afterLoc=ie[3]),this.tryEntries.push(Ce)}function je(ie){var Ce=ie.completion||{};Ce.type="normal",delete Ce.arg,ie.completion=Ce}function Le(ie){this.tryEntries=[{tryLoc:"root"}],ie.forEach(dt,this),this.reset(!0)}function Ee(ie){if(ie){var Ce=ie[le];if(Ce)return Ce.call(ie);if("function"==typeof ie.next)return ie;if(!isNaN(ie.length)){var V=-1,qe=function vt(){for(;++V<ie.length;)if(W.call(ie,V))return vt.value=ie[V],vt.done=!1,vt;return vt.value=void 0,vt.done=!0,vt};return qe.next=qe}}return{next:rt}}function rt(){return{value:void 0,done:!0}}return ut.prototype=xe,J(Pe,"constructor",{value:xe,configurable:!0}),J(xe,"constructor",{value:ut,configurable:!0}),ut.displayName=de(xe,ge,"GeneratorFunction"),t.isGeneratorFunction=function(ie){var Ce="function"==typeof ie&&ie.constructor;return!!Ce&&(Ce===ut||"GeneratorFunction"===(Ce.displayName||Ce.name))},t.mark=function(ie){return Object.setPrototypeOf?Object.setPrototypeOf(ie,xe):(ie.__proto__=xe,de(ie,ge,"GeneratorFunction")),ie.prototype=Object.create(Pe),ie},t.awrap=function(ie){return{__await:ie}},Te(st.prototype),de(st.prototype,we,function(){return this}),t.AsyncIterator=st,t.async=function(ie,Ce,V,qe,vt){void 0===vt&&(vt=Promise);var Q=new st(fe(ie,Ce,V,qe),vt);return t.isGeneratorFunction(Ce)?Q:Q.next().then(function(he){return he.done?he.value:Q.next()})},Te(Pe),de(Pe,ge,"Generator"),de(Pe,le,function(){return this}),de(Pe,"toString",function(){return"[object Generator]"}),t.keys=function(ie){var Ce=Object(ie),V=[];for(var qe in Ce)V.push(qe);return V.reverse(),function vt(){for(;V.length;){var Q=V.pop();if(Q in Ce)return vt.value=Q,vt.done=!1,vt}return vt.done=!0,vt}},t.values=Ee,Le.prototype={constructor:Le,reset:function(Ce){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(je),!Ce)for(var V in this)"t"===V.charAt(0)&&W.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=void 0)},stop:function(){this.done=!0;var Ce=this.tryEntries[0].completion;if("throw"===Ce.type)throw Ce.arg;return this.rval},dispatchException:function(Ce){if(this.done)throw Ce;var V=this;function qe(Qe,I){return he.type="throw",he.arg=Ce,V.next=Qe,I&&(V.method="next",V.arg=void 0),!!I}for(var vt=this.tryEntries.length-1;vt>=0;--vt){var Q=this.tryEntries[vt],he=Q.completion;if("root"===Q.tryLoc)return qe("end");if(Q.tryLoc<=this.prev){var me=W.call(Q,"catchLoc"),U=W.call(Q,"finallyLoc");if(me&&U){if(this.prev<Q.catchLoc)return qe(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return qe(Q.finallyLoc)}else if(me){if(this.prev<Q.catchLoc)return qe(Q.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return qe(Q.finallyLoc)}}}},abrupt:function(Ce,V){for(var qe=this.tryEntries.length-1;qe>=0;--qe){var vt=this.tryEntries[qe];if(vt.tryLoc<=this.prev&&W.call(vt,"finallyLoc")&&this.prev<vt.finallyLoc){var Q=vt;break}}Q&&("break"===Ce||"continue"===Ce)&&Q.tryLoc<=V&&V<=Q.finallyLoc&&(Q=null);var he=Q?Q.completion:{};return he.type=Ce,he.arg=V,Q?(this.method="next",this.next=Q.finallyLoc,ye):this.complete(he)},complete:function(Ce,V){if("throw"===Ce.type)throw Ce.arg;return"break"===Ce.type||"continue"===Ce.type?this.next=Ce.arg:"return"===Ce.type?(this.rval=this.arg=Ce.arg,this.method="return",this.next="end"):"normal"===Ce.type&&V&&(this.next=V),ye},finish:function(Ce){for(var V=this.tryEntries.length-1;V>=0;--V){var qe=this.tryEntries[V];if(qe.finallyLoc===Ce)return this.complete(qe.completion,qe.afterLoc),je(qe),ye}},catch:function(Ce){for(var V=this.tryEntries.length-1;V>=0;--V){var qe=this.tryEntries[V];if(qe.tryLoc===Ce){var vt=qe.completion;if("throw"===vt.type){var Q=vt.arg;je(qe)}return Q}}throw new Error("illegal catch attempt")},delegateYield:function(Ce,V,qe){return this.delegate={iterator:Ee(Ce),resultName:V,nextLoc:qe},"next"===this.method&&(this.arg=void 0),ye}},t}nt.exports=R,nt.exports.__esModule=!0,nt.exports.default=nt.exports},8698:nt=>{function _e(A){return nt.exports=_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},nt.exports.__esModule=!0,nt.exports.default=nt.exports,_e(A)}nt.exports=_e,nt.exports.__esModule=!0,nt.exports.default=nt.exports},4687:(nt,_e,A)=>{var T=A(7061)();nt.exports=T;try{regeneratorRuntime=T}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=T:Function("r","regeneratorRuntime = r")(T)}},6895:(nt,_e,A)=>{"use strict";A.d(_e,{Do:()=>Ne,EM:()=>Uo,HT:()=>z,JF:()=>Mr,K0:()=>J,Mx:()=>oe,O5:()=>pt,Ov:()=>Sr,PC:()=>cn,RF:()=>_t,S$:()=>ut,V_:()=>we,Ye:()=>Re,b0:()=>Be,bD:()=>Ma,ez:()=>Sa,mk:()=>j,n9:()=>Ct,q:()=>t,sg:()=>$e,tP:()=>Mt,w_:()=>W});var T=A(4650);let R=null;function t(){return R}function z(D){R||(R=D)}class W{}const J=new T.OlP("DocumentToken");let ee=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=T.Yz7({token:D,factory:function(){return function le(){return(0,T.LFG)(ge)}()},providedIn:"platform"}),D})();const we=new T.OlP("Location Initialized");let ge=(()=>{class D extends ee{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return t().getBaseHref(this._doc)}onPopState(S){const P=t().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",S,!1),()=>P.removeEventListener("popstate",S)}onHashChange(S){const P=t().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",S,!1),()=>P.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,P,q){de()?this._history.pushState(S,P,q):this.location.hash=q}replaceState(S,P,q){de()?this._history.replaceState(S,P,q):this.location.hash=q}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(J))},D.\u0275prov=T.Yz7({token:D,factory:function(){return function fe(){return new ge((0,T.LFG)(J))}()},providedIn:"platform"}),D})();function de(){return!!window.history.pushState}function at(D,F){if(0==D.length)return F;if(0==F.length)return D;let S=0;return D.endsWith("/")&&S++,F.startsWith("/")&&S++,2==S?D+F.substring(1):1==S?D+F:D+"/"+F}function ye(D){const F=D.match(/#|\?|$/),S=F&&F.index||D.length;return D.slice(0,S-("/"===D[S-1]?1:0))+D.slice(S)}function Oe(D){return D&&"?"!==D[0]?"?"+D:D}let ut=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=T.Yz7({token:D,factory:function(){return(0,T.f3M)(Be)},providedIn:"root"}),D})();const xe=new T.OlP("appBaseHref");let Be=(()=>{class D extends ut{constructor(S,P){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,T.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return at(this._baseHref,S)}path(S=!1){const P=this._platformLocation.pathname+Oe(this._platformLocation.search),q=this._platformLocation.hash;return q&&S?`${P}${q}`:P}pushState(S,P,q,Fe){const ze=this.prepareExternalUrl(q+Oe(Fe));this._platformLocation.pushState(S,P,ze)}replaceState(S,P,q,Fe){const ze=this.prepareExternalUrl(q+Oe(Fe));this._platformLocation.replaceState(S,P,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(ee),T.LFG(xe,8))},D.\u0275prov=T.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ne=(()=>{class D extends ut{constructor(S,P){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(S){const P=at(this._baseHref,S);return P.length>0?"#"+P:P}pushState(S,P,q,Fe){let ze=this.prepareExternalUrl(q+Oe(Fe));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.pushState(S,P,ze)}replaceState(S,P,q,Fe){let ze=this.prepareExternalUrl(q+Oe(Fe));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.replaceState(S,P,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(ee),T.LFG(xe,8))},D.\u0275prov=T.Yz7({token:D,factory:D.\u0275fac}),D})(),Re=(()=>{class D{constructor(S){this._subject=new T.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const P=this._locationStrategy.getBaseHref();this._basePath=function ht(D){if(new RegExp("^(https?:)?//").test(D)){const[,S]=D.split(/\/\/[^\/]+/);return S}return D}(ye(st(P))),this._locationStrategy.onPopState(q=>{this._subject.emit({url:this.path(!0),pop:!0,state:q.state,type:q.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,P=""){return this.path()==this.normalize(S+Oe(P))}normalize(S){return D.stripTrailingSlash(function Te(D,F){return D&&F.startsWith(D)?F.substring(D.length):F}(this._basePath,st(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,P="",q=null){this._locationStrategy.pushState(q,"",S,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Oe(P)),q)}replaceState(S,P="",q=null){this._locationStrategy.replaceState(q,"",S,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Oe(P)),q)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",P){this._urlChangeListeners.forEach(q=>q(S,P))}subscribe(S,P,q){return this._subject.subscribe({next:S,error:P,complete:q})}}return D.normalizeQueryParams=Oe,D.joinWithSlash=at,D.stripTrailingSlash=ye,D.\u0275fac=function(S){return new(S||D)(T.LFG(ut))},D.\u0275prov=T.Yz7({token:D,factory:function(){return function Pe(){return new Re((0,T.LFG)(ut))}()},providedIn:"root"}),D})();function st(D){return D.replace(/\/index.html$/,"")}function oe(D,F){F=encodeURIComponent(F);for(const S of D.split(";")){const P=S.indexOf("="),[q,Fe]=-1==P?[S,""]:[S.slice(0,P),S.slice(P+1)];if(q.trim()===F)return decodeURIComponent(Fe)}return null}let j=(()=>{class D{constructor(S,P,q,Fe){this._iterableDiffers=S,this._keyValueDiffers=P,this._ngEl=q,this._renderer=Fe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(S){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof S?S.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(S){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof S?S.split(/\s+/):S,this._rawClass&&((0,T.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const S=this._iterableDiffer.diff(this._rawClass);S&&this._applyIterableChanges(S)}else if(this._keyValueDiffer){const S=this._keyValueDiffer.diff(this._rawClass);S&&this._applyKeyValueChanges(S)}}_applyKeyValueChanges(S){S.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),S.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),S.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(S){S.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,T.AaK)(P.item)}`);this._toggleClass(P.item,!0)}),S.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(P=>this._toggleClass(P,!0)):Object.keys(S).forEach(P=>this._toggleClass(P,!!S[P])))}_removeClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(P=>this._toggleClass(P,!1)):Object.keys(S).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(S,P){(S=S.trim())&&S.split(/\s+/g).forEach(q=>{P?this._renderer.addClass(this._ngEl.nativeElement,q):this._renderer.removeClass(this._ngEl.nativeElement,q)})}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.ZZ4),T.Y36(T.aQg),T.Y36(T.SBq),T.Y36(T.Qsj))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class ve{constructor(F,S,P,q){this.$implicit=F,this.ngForOf=S,this.index=P,this.count=q}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $e=(()=>{class D{constructor(S,P,q){this._viewContainer=S,this._template=P,this._differs=q,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const P=this._viewContainer;S.forEachOperation((q,Fe,ze)=>{if(null==q.previousIndex)P.createEmbeddedView(this._template,new ve(q.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)P.remove(null===Fe?void 0:Fe);else if(null!==Fe){const Tt=P.get(Fe);P.move(Tt,ze),We(Tt,q)}});for(let q=0,Fe=P.length;q<Fe;q++){const Tt=P.get(q).context;Tt.index=q,Tt.count=Fe,Tt.ngForOf=this._ngForOf}S.forEachIdentityChange(q=>{We(P.get(q.currentIndex),q)})}static ngTemplateContextGuard(S,P){return!0}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function We(D,F){D.context.$implicit=F.item}let pt=(()=>{class D{constructor(S,P){this._viewContainer=S,this._context=new lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ft("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ft("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,P){return!0}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class lt{constructor(){this.$implicit=null,this.ngIf=null}}function ft(D,F){if(F&&!F.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,T.AaK)(F)}'.`)}class Ue{constructor(F,S){this._viewContainerRef=F,this._templateRef=S,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(F){F&&!this._created?this.create():!F&&this._created&&this.destroy()}}let _t=(()=>{class D{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(S){this._ngSwitch=S,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(S){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(S)}_matchCase(S){const P=S==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(S){if(this._defaultViews&&S!==this._defaultUsed){this._defaultUsed=S;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(S)}}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),Ct=(()=>{class D{constructor(S,P,q){this.ngSwitch=q,q._addCase(),this._view=new Ue(S,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(_t,9))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),cn=(()=>{class D{constructor(S,P,q){this._ngEl=S,this._differs=P,this._renderer=q,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,P){const[q,Fe]=S.split("."),ze=-1===q.indexOf("-")?void 0:T.JOm.DashCase;null!=P?this._renderer.setStyle(this._ngEl.nativeElement,q,Fe?`${P}${Fe}`:P,ze):this._renderer.removeStyle(this._ngEl.nativeElement,q,ze)}_applyChanges(S){S.forEachRemovedItem(P=>this._setStyle(P.key,null)),S.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),S.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.SBq),T.Y36(T.aQg),T.Y36(T.Qsj))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})(),Mt=(()=>{class D{constructor(S){this._viewContainerRef=S,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(S){if(S.ngTemplateOutlet||S.ngTemplateOutletInjector){const P=this._viewContainerRef;if(this._viewRef&&P.remove(P.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:q,ngTemplateOutletContext:Fe,ngTemplateOutletInjector:ze}=this;this._viewRef=P.createEmbeddedView(q,Fe,ze?{injector:ze}:void 0)}else this._viewRef=null}else this._viewRef&&S.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[T.TTD]}),D})();class fn{createSubscription(F,S){return F.subscribe({next:S,error:P=>{throw P}})}dispose(F){F.unsubscribe()}}class Xi{createSubscription(F,S){return F.then(S,P=>{throw P})}dispose(F){}}const ji=new Xi,Ds=new fn;let Sr=(()=>{class D{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,P=>this._updateLatestValue(S,P))}_selectStrategy(S){if((0,T.QGY)(S))return ji;if((0,T.F4k)(S))return Ds;throw function Pn(D,F){return new T.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,P){S===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.sBO,16))},D.\u0275pipe=T.Yjl({name:"async",type:D,pure:!1,standalone:!0}),D})(),Sa=(()=>{class D{}return D.\u0275fac=function(S){return new(S||D)},D.\u0275mod=T.oAB({type:D}),D.\u0275inj=T.cJS({}),D})();const Ma="browser";let Uo=(()=>{class D{}return D.\u0275prov=(0,T.Yz7)({token:D,providedIn:"root",factory:()=>new zr((0,T.LFG)(J),window)}),D})();class zr{constructor(F,S){this.document=F,this.window=S,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const S=function yl(D,F){const S=D.getElementById(F)||D.getElementsByName(F)[0];if(S)return S;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const P=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let q=P.currentNode;for(;q;){const Fe=q.shadowRoot;if(Fe){const ze=Fe.getElementById(F)||Fe.querySelector(`[name="${F}"]`);if(ze)return ze}q=P.nextNode()}}return null}(this.document,F);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=F)}}scrollToElement(F){const S=F.getBoundingClientRect(),P=S.left+this.window.pageXOffset,q=S.top+this.window.pageYOffset,Fe=this.offset();this.window.scrollTo(P-Fe[0],q-Fe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=bs(this.window.history)||bs(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bs(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Mr{}},529:(nt,_e,A)=>{"use strict";A.d(_e,{JF:()=>Gn,TP:()=>he,eN:()=>V});var T=A(6895),R=A(4650),t=A(9646),z=A(9751),W=A(4351),J=A(9300),ee=A(4004);class le{}class we{}class ge{constructor(K){this.normalizedNames=new Map,this.lazyUpdate=null,K?this.lazyInit="string"==typeof K?()=>{this.headers=new Map,K.split("\n").forEach(ue=>{const ot=ue.indexOf(":");if(ot>0){const Je=ue.slice(0,ot),jt=Je.toLowerCase(),hn=ue.slice(ot+1).trim();this.maybeSetNormalizedName(Je,jt),this.headers.has(jt)?this.headers.get(jt).push(hn):this.headers.set(jt,[hn])}})}:()=>{this.headers=new Map,Object.keys(K).forEach(ue=>{let ot=K[ue];const Je=ue.toLowerCase();"string"==typeof ot&&(ot=[ot]),ot.length>0&&(this.headers.set(Je,ot),this.maybeSetNormalizedName(ue,Je))})}:this.headers=new Map}has(K){return this.init(),this.headers.has(K.toLowerCase())}get(K){this.init();const ue=this.headers.get(K.toLowerCase());return ue&&ue.length>0?ue[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(K){return this.init(),this.headers.get(K.toLowerCase())||null}append(K,ue){return this.clone({name:K,value:ue,op:"a"})}set(K,ue){return this.clone({name:K,value:ue,op:"s"})}delete(K,ue){return this.clone({name:K,value:ue,op:"d"})}maybeSetNormalizedName(K,ue){this.normalizedNames.has(ue)||this.normalizedNames.set(ue,K)}init(){this.lazyInit&&(this.lazyInit instanceof ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(K=>this.applyUpdate(K)),this.lazyUpdate=null))}copyFrom(K){K.init(),Array.from(K.headers.keys()).forEach(ue=>{this.headers.set(ue,K.headers.get(ue)),this.normalizedNames.set(ue,K.normalizedNames.get(ue))})}clone(K){const ue=new ge;return ue.lazyInit=this.lazyInit&&this.lazyInit instanceof ge?this.lazyInit:this,ue.lazyUpdate=(this.lazyUpdate||[]).concat([K]),ue}applyUpdate(K){const ue=K.name.toLowerCase();switch(K.op){case"a":case"s":let ot=K.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(K.name,ue);const Je=("a"===K.op?this.headers.get(ue):void 0)||[];Je.push(...ot),this.headers.set(ue,Je);break;case"d":const jt=K.value;if(jt){let hn=this.headers.get(ue);if(!hn)return;hn=hn.filter(pn=>-1===jt.indexOf(pn)),0===hn.length?(this.headers.delete(ue),this.normalizedNames.delete(ue)):this.headers.set(ue,hn)}else this.headers.delete(ue),this.normalizedNames.delete(ue)}}forEach(K){this.init(),Array.from(this.normalizedNames.keys()).forEach(ue=>K(this.normalizedNames.get(ue),this.headers.get(ue)))}}class fe{encodeKey(K){return ut(K)}encodeValue(K){return ut(K)}decodeKey(K){return decodeURIComponent(K)}decodeValue(K){return decodeURIComponent(K)}}const ye=/%(\d[a-f0-9])/gi,Oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ut(He){return encodeURIComponent(He).replace(ye,(K,ue)=>Oe[ue]??K)}function xe(He){return`${He}`}class Be{constructor(K={}){if(this.updates=null,this.cloneFrom=null,this.encoder=K.encoder||new fe,K.fromString){if(K.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function at(He,K){const ue=new Map;return He.length>0&&He.replace(/^\?/,"").split("&").forEach(Je=>{const jt=Je.indexOf("="),[hn,pn]=-1==jt?[K.decodeKey(Je),""]:[K.decodeKey(Je.slice(0,jt)),K.decodeValue(Je.slice(jt+1))],Nt=ue.get(hn)||[];Nt.push(pn),ue.set(hn,Nt)}),ue}(K.fromString,this.encoder)}else K.fromObject?(this.map=new Map,Object.keys(K.fromObject).forEach(ue=>{const ot=K.fromObject[ue],Je=Array.isArray(ot)?ot.map(xe):[xe(ot)];this.map.set(ue,Je)})):this.map=null}has(K){return this.init(),this.map.has(K)}get(K){this.init();const ue=this.map.get(K);return ue?ue[0]:null}getAll(K){return this.init(),this.map.get(K)||null}keys(){return this.init(),Array.from(this.map.keys())}append(K,ue){return this.clone({param:K,value:ue,op:"a"})}appendAll(K){const ue=[];return Object.keys(K).forEach(ot=>{const Je=K[ot];Array.isArray(Je)?Je.forEach(jt=>{ue.push({param:ot,value:jt,op:"a"})}):ue.push({param:ot,value:Je,op:"a"})}),this.clone(ue)}set(K,ue){return this.clone({param:K,value:ue,op:"s"})}delete(K,ue){return this.clone({param:K,value:ue,op:"d"})}toString(){return this.init(),this.keys().map(K=>{const ue=this.encoder.encodeKey(K);return this.map.get(K).map(ot=>ue+"="+this.encoder.encodeValue(ot)).join("&")}).filter(K=>""!==K).join("&")}clone(K){const ue=new Be({encoder:this.encoder});return ue.cloneFrom=this.cloneFrom||this,ue.updates=(this.updates||[]).concat(K),ue}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(K=>this.map.set(K,this.cloneFrom.map.get(K))),this.updates.forEach(K=>{switch(K.op){case"a":case"s":const ue=("a"===K.op?this.map.get(K.param):void 0)||[];ue.push(xe(K.value)),this.map.set(K.param,ue);break;case"d":if(void 0===K.value){this.map.delete(K.param);break}{let ot=this.map.get(K.param)||[];const Je=ot.indexOf(xe(K.value));-1!==Je&&ot.splice(Je,1),ot.length>0?this.map.set(K.param,ot):this.map.delete(K.param)}}}),this.cloneFrom=this.updates=null)}}class Re{constructor(){this.map=new Map}set(K,ue){return this.map.set(K,ue),this}get(K){return this.map.has(K)||this.map.set(K,K.defaultValue()),this.map.get(K)}delete(K){return this.map.delete(K),this}has(K){return this.map.has(K)}keys(){return this.map.keys()}}function Te(He){return typeof ArrayBuffer<"u"&&He instanceof ArrayBuffer}function st(He){return typeof Blob<"u"&&He instanceof Blob}function ht(He){return typeof FormData<"u"&&He instanceof FormData}class dt{constructor(K,ue,ot,Je){let jt;if(this.url=ue,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=K.toUpperCase(),function Pe(He){switch(He){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Je?(this.body=void 0!==ot?ot:null,jt=Je):jt=ot,jt&&(this.reportProgress=!!jt.reportProgress,this.withCredentials=!!jt.withCredentials,jt.responseType&&(this.responseType=jt.responseType),jt.headers&&(this.headers=jt.headers),jt.context&&(this.context=jt.context),jt.params&&(this.params=jt.params)),this.headers||(this.headers=new ge),this.context||(this.context=new Re),this.params){const hn=this.params.toString();if(0===hn.length)this.urlWithParams=ue;else{const pn=ue.indexOf("?");this.urlWithParams=ue+(-1===pn?"?":pn<ue.length-1?"&":"")+hn}}else this.params=new Be,this.urlWithParams=ue}serializeBody(){return null===this.body?null:Te(this.body)||st(this.body)||ht(this.body)||function it(He){return typeof URLSearchParams<"u"&&He instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ht(this.body)?null:st(this.body)?this.body.type||null:Te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(K={}){const ue=K.method||this.method,ot=K.url||this.url,Je=K.responseType||this.responseType,jt=void 0!==K.body?K.body:this.body,hn=void 0!==K.withCredentials?K.withCredentials:this.withCredentials,pn=void 0!==K.reportProgress?K.reportProgress:this.reportProgress;let Nt=K.headers||this.headers,$n=K.params||this.params;const Ki=K.context??this.context;return void 0!==K.setHeaders&&(Nt=Object.keys(K.setHeaders).reduce((In,yn)=>In.set(yn,K.setHeaders[yn]),Nt)),K.setParams&&($n=Object.keys(K.setParams).reduce((In,yn)=>In.set(yn,K.setParams[yn]),$n)),new dt(ue,ot,jt,{params:$n,headers:Nt,context:Ki,reportProgress:pn,responseType:Je,withCredentials:hn})}}var je=(()=>((je=je||{})[je.Sent=0]="Sent",je[je.UploadProgress=1]="UploadProgress",je[je.ResponseHeader=2]="ResponseHeader",je[je.DownloadProgress=3]="DownloadProgress",je[je.Response=4]="Response",je[je.User=5]="User",je))();class Le{constructor(K,ue=200,ot="OK"){this.headers=K.headers||new ge,this.status=void 0!==K.status?K.status:ue,this.statusText=K.statusText||ot,this.url=K.url||null,this.ok=this.status>=200&&this.status<300}}class Ee extends Le{constructor(K={}){super(K),this.type=je.ResponseHeader}clone(K={}){return new Ee({headers:K.headers||this.headers,status:void 0!==K.status?K.status:this.status,statusText:K.statusText||this.statusText,url:K.url||this.url||void 0})}}class rt extends Le{constructor(K={}){super(K),this.type=je.Response,this.body=void 0!==K.body?K.body:null}clone(K={}){return new rt({body:void 0!==K.body?K.body:this.body,headers:K.headers||this.headers,status:void 0!==K.status?K.status:this.status,statusText:K.statusText||this.statusText,url:K.url||this.url||void 0})}}class ie extends Le{constructor(K){super(K,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${K.url||"(unknown url)"}`:`Http failure response for ${K.url||"(unknown url)"}: ${K.status} ${K.statusText}`,this.error=K.error||null}}function Ce(He,K){return{body:K,headers:He.headers,context:He.context,observe:He.observe,params:He.params,reportProgress:He.reportProgress,responseType:He.responseType,withCredentials:He.withCredentials}}let V=(()=>{class He{constructor(ue){this.handler=ue}request(ue,ot,Je={}){let jt;if(ue instanceof dt)jt=ue;else{let Nt,$n;Nt=Je.headers instanceof ge?Je.headers:new ge(Je.headers),Je.params&&($n=Je.params instanceof Be?Je.params:new Be({fromObject:Je.params})),jt=new dt(ue,ot,void 0!==Je.body?Je.body:null,{headers:Nt,context:Je.context,params:$n,reportProgress:Je.reportProgress,responseType:Je.responseType||"json",withCredentials:Je.withCredentials})}const hn=(0,t.of)(jt).pipe((0,W.b)(Nt=>this.handler.handle(Nt)));if(ue instanceof dt||"events"===Je.observe)return hn;const pn=hn.pipe((0,J.h)(Nt=>Nt instanceof rt));switch(Je.observe||"body"){case"body":switch(jt.responseType){case"arraybuffer":return pn.pipe((0,ee.U)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nt.body}));case"blob":return pn.pipe((0,ee.U)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof Blob))throw new Error("Response is not a Blob.");return Nt.body}));case"text":return pn.pipe((0,ee.U)(Nt=>{if(null!==Nt.body&&"string"!=typeof Nt.body)throw new Error("Response is not a string.");return Nt.body}));default:return pn.pipe((0,ee.U)(Nt=>Nt.body))}case"response":return pn;default:throw new Error(`Unreachable: unhandled observe type ${Je.observe}}`)}}delete(ue,ot={}){return this.request("DELETE",ue,ot)}get(ue,ot={}){return this.request("GET",ue,ot)}head(ue,ot={}){return this.request("HEAD",ue,ot)}jsonp(ue,ot){return this.request("JSONP",ue,{params:(new Be).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ue,ot={}){return this.request("OPTIONS",ue,ot)}patch(ue,ot,Je={}){return this.request("PATCH",ue,Ce(Je,ot))}post(ue,ot,Je={}){return this.request("POST",ue,Ce(Je,ot))}put(ue,ot,Je={}){return this.request("PUT",ue,Ce(Je,ot))}}return He.\u0275fac=function(ue){return new(ue||He)(R.LFG(le))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();function qe(He,K){return K(He)}function vt(He,K){return(ue,ot)=>K.intercept(ue,{handle:Je=>He(Je,ot)})}const he=new R.OlP("HTTP_INTERCEPTORS"),me=new R.OlP("HTTP_INTERCEPTOR_FNS");function U(){let He=null;return(K,ue)=>(null===He&&(He=((0,R.f3M)(he,{optional:!0})??[]).reduceRight(vt,qe)),He(K,ue))}let Qe=(()=>{class He extends le{constructor(ue,ot){super(),this.backend=ue,this.injector=ot,this.chain=null}handle(ue){if(null===this.chain){const ot=Array.from(new Set(this.injector.get(me)));this.chain=ot.reduceRight((Je,jt)=>function Q(He,K,ue){return(ot,Je)=>ue.runInContext(()=>K(ot,jt=>He(jt,Je)))}(Je,jt,this.injector),qe)}return this.chain(ue,ot=>this.backend.handle(ot))}}return He.\u0275fac=function(ue){return new(ue||He)(R.LFG(we),R.LFG(R.lqb))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();const bn=/^\)\]\}',?\n/;let qt=(()=>{class He{constructor(ue){this.xhrFactory=ue}handle(ue){if("JSONP"===ue.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new z.y(ot=>{const Je=this.xhrFactory.build();if(Je.open(ue.method,ue.urlWithParams),ue.withCredentials&&(Je.withCredentials=!0),ue.headers.forEach((Ft,pe)=>Je.setRequestHeader(Ft,pe.join(","))),ue.headers.has("Accept")||Je.setRequestHeader("Accept","application/json, text/plain, */*"),!ue.headers.has("Content-Type")){const Ft=ue.detectContentTypeHeader();null!==Ft&&Je.setRequestHeader("Content-Type",Ft)}if(ue.responseType){const Ft=ue.responseType.toLowerCase();Je.responseType="json"!==Ft?Ft:"text"}const jt=ue.serializeBody();let hn=null;const pn=()=>{if(null!==hn)return hn;const Ft=Je.statusText||"OK",pe=new ge(Je.getAllResponseHeaders()),te=function sn(He){return"responseURL"in He&&He.responseURL?He.responseURL:/^X-Request-URL:/m.test(He.getAllResponseHeaders())?He.getResponseHeader("X-Request-URL"):null}(Je)||ue.url;return hn=new Ee({headers:pe,status:Je.status,statusText:Ft,url:te}),hn},Nt=()=>{let{headers:Ft,status:pe,statusText:te,url:Y}=pn(),De=null;204!==pe&&(De=typeof Je.response>"u"?Je.responseText:Je.response),0===pe&&(pe=De?200:0);let Ve=pe>=200&&pe<300;if("json"===ue.responseType&&"string"==typeof De){const Lt=De;De=De.replace(bn,"");try{De=""!==De?JSON.parse(De):null}catch(Se){De=Lt,Ve&&(Ve=!1,De={error:Se,text:De})}}Ve?(ot.next(new rt({body:De,headers:Ft,status:pe,statusText:te,url:Y||void 0})),ot.complete()):ot.error(new ie({error:De,headers:Ft,status:pe,statusText:te,url:Y||void 0}))},$n=Ft=>{const{url:pe}=pn(),te=new ie({error:Ft,status:Je.status||0,statusText:Je.statusText||"Unknown Error",url:pe||void 0});ot.error(te)};let Ki=!1;const In=Ft=>{Ki||(ot.next(pn()),Ki=!0);let pe={type:je.DownloadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(pe.total=Ft.total),"text"===ue.responseType&&Je.responseText&&(pe.partialText=Je.responseText),ot.next(pe)},yn=Ft=>{let pe={type:je.UploadProgress,loaded:Ft.loaded};Ft.lengthComputable&&(pe.total=Ft.total),ot.next(pe)};return Je.addEventListener("load",Nt),Je.addEventListener("error",$n),Je.addEventListener("timeout",$n),Je.addEventListener("abort",$n),ue.reportProgress&&(Je.addEventListener("progress",In),null!==jt&&Je.upload&&Je.upload.addEventListener("progress",yn)),Je.send(jt),ot.next({type:je.Sent}),()=>{Je.removeEventListener("error",$n),Je.removeEventListener("abort",$n),Je.removeEventListener("load",Nt),Je.removeEventListener("timeout",$n),ue.reportProgress&&(Je.removeEventListener("progress",In),null!==jt&&Je.upload&&Je.upload.removeEventListener("progress",yn)),Je.readyState!==Je.DONE&&Je.abort()}})}}return He.\u0275fac=function(ue){return new(ue||He)(R.LFG(T.JF))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();const ii=new R.OlP("XSRF_ENABLED"),kt="XSRF-TOKEN",qi=new R.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>kt}),Oi="X-XSRF-TOKEN",Qn=new R.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Oi});class yi{}let lr=(()=>{class He{constructor(ue,ot,Je){this.doc=ue,this.platform=ot,this.cookieName=Je,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ue=this.doc.cookie||"";return ue!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,T.Mx)(ue,this.cookieName),this.lastCookieString=ue),this.lastToken}}return He.\u0275fac=function(ue){return new(ue||He)(R.LFG(T.K0),R.LFG(R.Lbi),R.LFG(qi))},He.\u0275prov=R.Yz7({token:He,factory:He.\u0275fac}),He})();function $t(He,K){const ue=He.url.toLowerCase();if(!(0,R.f3M)(ii)||"GET"===He.method||"HEAD"===He.method||ue.startsWith("http://")||ue.startsWith("https://"))return K(He);const ot=(0,R.f3M)(yi).getToken(),Je=(0,R.f3M)(Qn);return null!=ot&&!He.headers.has(Je)&&(He=He.clone({headers:He.headers.set(Je,ot)})),K(He)}var Et=(()=>((Et=Et||{})[Et.Interceptors=0]="Interceptors",Et[Et.LegacyInterceptors=1]="LegacyInterceptors",Et[Et.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Et[Et.NoXsrfProtection=3]="NoXsrfProtection",Et[Et.JsonpSupport=4]="JsonpSupport",Et[Et.RequestsMadeViaParent=5]="RequestsMadeViaParent",Et))();function ri(He,K){return{\u0275kind:He,\u0275providers:K}}function Pt(...He){const K=[V,qt,Qe,{provide:le,useExisting:Qe},{provide:we,useExisting:qt},{provide:me,useValue:$t,multi:!0},{provide:ii,useValue:!0},{provide:yi,useClass:lr}];for(const ue of He)K.push(...ue.\u0275providers);return(0,R.MR2)(K)}const zn=new R.OlP("LEGACY_INTERCEPTOR_FN");function Ji({cookieName:He,headerName:K}){const ue=[];return void 0!==He&&ue.push({provide:qi,useValue:He}),void 0!==K&&ue.push({provide:Qn,useValue:K}),ri(Et.CustomXsrfConfiguration,ue)}let Gn=(()=>{class He{}return He.\u0275fac=function(ue){return new(ue||He)},He.\u0275mod=R.oAB({type:He}),He.\u0275inj=R.cJS({providers:[Pt(ri(Et.LegacyInterceptors,[{provide:zn,useFactory:U},{provide:me,useExisting:zn,multi:!0}]),Ji({cookieName:kt,headerName:Oi}))]}),He})()},4650:(nt,_e,A)=>{"use strict";A.d(_e,{$8M:()=>kr,$Z:()=>Vh,AFp:()=>Dy,ALo:()=>B0,AaK:()=>le,Akn:()=>Cr,AsE:()=>gc,BQk:()=>oc,CHM:()=>Ra,CRH:()=>K0,CZH:()=>fp,CqO:()=>Tf,D6c:()=>D1,DdM:()=>I0,EJc:()=>UD,EpF:()=>bf,F$t:()=>Af,F4k:()=>Hu,FYo:()=>wh,FiY:()=>Co,Gf:()=>q0,GfV:()=>bh,GkF:()=>Bu,Gre:()=>o,HTZ:()=>R0,Hsn:()=>Of,IyS:()=>e,JOm:()=>zi,Jzz:()=>b,KtG:()=>La,LFG:()=>Tn,LSH:()=>ru,Lbi:()=>LD,Lck:()=>UC,MAs:()=>wf,MMx:()=>Z_,MR2:()=>_g,NdJ:()=>Zu,O4$:()=>mo,OlP:()=>On,Oqu:()=>td,P3R:()=>dh,PXZ:()=>XD,Q2q:()=>Lu,Q6J:()=>Nu,QGY:()=>$u,QP$:()=>$r,Qsj:()=>Og,R0b:()=>Cs,RDi:()=>eg,Rgc:()=>fd,SBq:()=>ll,Sil:()=>BD,Suo:()=>J0,TTD:()=>zr,TgZ:()=>ic,Tol:()=>Ju,Udp:()=>uc,VKq:()=>A0,W1O:()=>ty,WLB:()=>O0,XFs:()=>kt,Xpm:()=>Cn,Xts:()=>su,Y36:()=>la,YKP:()=>C0,YNc:()=>Df,Yjl:()=>Ui,Yz7:()=>H,Z0I:()=>mt,ZZ4:()=>pv,_Bn:()=>y0,_UZ:()=>ju,_Vd:()=>al,_c5:()=>y1,_uU:()=>Kf,aQg:()=>gv,c2e:()=>PD,cJS:()=>Ae,cg1:()=>jr,dDg:()=>qD,dqk:()=>$t,eFA:()=>Ry,ekj:()=>dc,eoX:()=>Oy,f3M:()=>He,g9A:()=>by,h0i:()=>yc,hGG:()=>C1,hij:()=>pc,iGM:()=>W0,ifc:()=>In,ip1:()=>Cy,jDz:()=>w0,kEZ:()=>F0,kL8:()=>Dr,lG2:()=>es,lcZ:()=>$0,lqb:()=>Eo,lri:()=>Iy,n5z:()=>bc,oAB:()=>Di,oJD:()=>ch,oxw:()=>If,q4F:()=>Th,qLn:()=>cl,qZA:()=>rc,qbA:()=>k0,rWj:()=>Ay,s9C:()=>Vu,sBO:()=>r1,sIi:()=>hl,s_b:()=>up,soG:()=>pp,tb:()=>Ty,tp0:()=>Xo,uIk:()=>Ru,vHH:()=>xe,vpe:()=>eo,wAp:()=>Rt,xi3:()=>H0,xp6:()=>Oh,ynx:()=>sc,z2F:()=>gp,zSh:()=>lu,zs3:()=>So});var T=A(7579),R=A(727),t=A(9751),z=A(6451),W=A(3099);function J(n){for(let i in n)if(n[i]===J)return i;throw Error("Could not find renamed property on target object.")}function le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function we(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ge=J({__forward_ref__:J});function de(n){return n.__forward_ref__=de,n.toString=function(){return le(this())},n}function fe(n){return at(n)?n():n}function at(n){return"function"==typeof n&&n.hasOwnProperty(ge)&&n.__forward_ref__===de}function ye(n){return n&&!!n.\u0275providers}const ut="https://g.co/ng/security#xss";class xe extends Error{constructor(i,s){super(Be(i,s)),this.code=i}}function Be(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Ne(n){return"string"==typeof n?n:null==n?"":String(n)}function ht(n,i){throw new xe(-201,!1)}function me(n,i){null==n&&function U(n,i,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ae(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ye(n){return xt(n,bn)||xt(n,qt)}function mt(n){return null!==Ye(n)}function xt(n,i){return n.hasOwnProperty(i)?n[i]:null}function dn(n){return n&&(n.hasOwnProperty(sn)||n.hasOwnProperty(ii))?n[sn]:null}const bn=J({\u0275prov:J}),sn=J({\u0275inj:J}),qt=J({ngInjectableDef:J}),ii=J({ngInjectorDef:J});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let qi;function Qn(n){const i=qi;return qi=n,i}function yi(n,i,s){const c=Ye(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&kt.Optional?null:void 0!==i?i:void ht(le(n))}const $t=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pt={},gn="__NG_DI_FLAG__",zn="ngTempTokenPath",Mn="ngTokenPath",Ji=/\n/gm,tn="\u0275",Er="__source";let ln;function Ci(n){const i=ln;return ln=n,i}function Gn(n,i=kt.Default){if(void 0===ln)throw new xe(-203,!1);return null===ln?yi(n,void 0,i):ln.get(n,i&kt.Optional?null:void 0,i)}function Tn(n,i=kt.Default){return(function Oi(){return qi}()||Gn)(fe(n),i)}function He(n,i=kt.Default){return Tn(n,K(i))}function K(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ue(n){const i=[];for(let s=0;s<n.length;s++){const c=fe(n[s]);if(Array.isArray(c)){if(0===c.length)throw new xe(900,!1);let u,f=kt.Default;for(let m=0;m<c.length;m++){const C=c[m],E=Je(C);"number"==typeof E?-1===E?u=C.token:f|=E:u=C}i.push(Tn(u,f))}else i.push(Tn(c))}return i}function ot(n,i){return n[gn]=i,n.prototype[gn]=i,n}function Je(n){return n[gn]}function pn(n){return{toString:n}.toString()}var Nt=(()=>((Nt=Nt||{})[Nt.OnPush=0]="OnPush",Nt[Nt.Default=1]="Default",Nt))(),In=(()=>{return(n=In||(In={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",In;var n})();const yn={},Ft=[],pe=J({\u0275cmp:J}),te=J({\u0275dir:J}),Y=J({\u0275pipe:J}),De=J({\u0275mod:J}),Ve=J({\u0275fac:J}),Lt=J({__NG_ELEMENT_ID__:J});let Se=0;function Cn(n){return pn(()=>{const s=!0===n.standalone,c={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Nt.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ft,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||In.Emulated,id:"c"+Se++,styles:n.styles||Ft,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=n.dependencies,m=n.features;return u.inputs=cr(n.inputs,c),u.outputs=cr(n.outputs),m&&m.forEach(C=>C(u)),u.directiveDefs=f?()=>("function"==typeof f?f():f).map(pi).filter(Xt):null,u.pipeDefs=f?()=>("function"==typeof f?f():f).map(Hn).filter(Xt):null,u})}function pi(n){return on(n)||Xn(n)}function Xt(n){return null!==n}function Di(n){return pn(()=>({type:n.type,bootstrap:n.bootstrap||Ft,declarations:n.declarations||Ft,imports:n.imports||Ft,exports:n.exports||Ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function cr(n,i){if(null==n)return yn;const s={};for(const c in n)if(n.hasOwnProperty(c)){let u=n[c],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),s[u]=c,i&&(i[u]=f)}return s}const es=Cn;function Ui(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function on(n){return n[pe]||null}function Xn(n){return n[te]||null}function Hn(n){return n[Y]||null}function $r(n){const i=on(n)||Xn(n)||Hn(n);return null!==i&&i.standalone}function oe(n,i){const s=n[De]||null;if(!s&&!0===i)throw new Error(`Type ${le(n)} does not have '\u0275mod' property.`);return s}const j=0,k=1,$=2,re=3,ve=4,$e=5,We=6,et=7,pt=8,lt=9,ft=10,Ue=11,_t=12,Ct=13,Ht=14,Bt=15,Vt=16,mn=17,cn=18,Mt=19,Wn=20,Pn=21,fn=22,ji=1,Ds=2,Sr=7,Hr=8,Zr=9,si=10;function Nn(n){return Array.isArray(n)&&"object"==typeof n[ji]}function ci(n){return Array.isArray(n)&&!0===n[ji]}function Vr(n){return 0!=(4&n.flags)}function wi(n){return n.componentOffset>-1}function ts(n){return 1==(1&n.flags)}function oi(n){return null!==n.template}function to(n){return 0!=(256&n[$])}function Bi(n,i){return n.hasOwnProperty(Ve)?n[Ve]:null}class Uo{constructor(i,s,c){this.previousValue=i,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function zr(){return bs}function bs(n){return n.type.prototype.ngOnChanges&&(n.setInput=xa),yl}function yl(){const n=lo(this),i=n?.current;if(i){const s=n.previous;if(s===yn)n.previous=i;else for(let c in i)s[c]=i[c];n.current=null,this.ngOnChanges(i)}}function xa(n,i,s,c){const u=this.declaredInputs[s],f=lo(n)||function xr(n,i){return n[Mr]=i}(n,{previous:yn,current:null}),m=f.current||(f.current={}),C=f.previous,E=C[u];m[u]=new Uo(E&&E.currentValue,i,C===yn),n[c]=i}zr.ngInherit=!0;const Mr="__ngSimpleChanges__";function lo(n){return n[Mr]||null}const ki=function(n,i,s){},Zs="svg";function ei(n){for(;Array.isArray(n);)n=n[j];return n}function An(n,i){return ei(i[n])}function di(n,i){return ei(i[n.index])}function Ts(n,i){return n.data[i]}function is(n,i){return n[i]}function bi(n,i){const s=i[n];return Nn(s)?s:s[j]}function Gr(n){return 64==(64&n[$])}function Ir(n,i){return null==i?null:n[i]}function dr(n){n[cn]=0}function $i(n,i){n[$e]+=i;let s=n,c=n[re];for(;null!==c&&(1===i&&1===s[$e]||-1===i&&0===s[$e]);)c[$e]+=i,s=c,c=c[re]}const Yt={lFrame:$a(null),bindingsEnabled:!0};function uo(){return Yt.bindingsEnabled}function Ke(){return Yt.lFrame.lView}function nn(){return Yt.lFrame.tView}function Ra(n){return Yt.lFrame.contextLView=n,n[pt]}function La(n){return Yt.lFrame.contextLView=null,n}function ai(){let n=xi();for(;null!==n&&64===n.type;)n=n.parent;return n}function xi(){return Yt.lFrame.currentTNode}function hr(n,i){const s=Yt.lFrame;s.currentTNode=n,s.isParent=i}function Bo(){return Yt.lFrame.isParent}function Es(){Yt.lFrame.isParent=!1}function En(){const n=Yt.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function fr(){return Yt.lFrame.bindingIndex}function er(){return Yt.lFrame.bindingIndex++}function pr(n){const i=Yt.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Ua(n,i){const s=Yt.lFrame;s.bindingIndex=s.bindingRootIndex=n,os(i)}function os(n){Yt.lFrame.currentDirectiveIndex=n}function Or(){return Yt.lFrame.currentQueryIndex}function Ss(n){Yt.lFrame.currentQueryIndex=n}function ja(n){const i=n[k];return 2===i.type?i.declTNode:1===i.type?n[We]:null}function Ms(n,i,s){if(s&kt.SkipSelf){let u=i,f=n;for(;!(u=u.parent,null!==u||s&kt.Host||(u=ja(f),null===u||(f=f[Bt],10&u.type))););if(null===u)return!1;i=u,n=f}const c=Yt.lFrame=Ba();return c.currentTNode=i,c.lView=n,!0}function po(n){const i=Ba(),s=n[k];Yt.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Ba(){const n=Yt.lFrame,i=null===n?null:n.child;return null===i?$a(n):i}function $a(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function $o(){const n=Yt.lFrame;return Yt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const go=$o;function Ho(){const n=$o();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gi(){return Yt.lFrame.selectedIndex}function Wr(n){Yt.lFrame.selectedIndex=n}function St(){const n=Yt.lFrame;return Ts(n.tView,n.selectedIndex)}function mo(){Yt.lFrame.currentNamespace=Zs}function F(n,i){for(let s=i.directiveStart,c=i.directiveEnd;s<c;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:N}=f;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),C&&((n.contentHooks||(n.contentHooks=[])).push(s,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,C)),E&&(n.viewHooks||(n.viewHooks=[])).push(-s,E),x&&((n.viewHooks||(n.viewHooks=[])).push(s,x),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,x)),null!=N&&(n.destroyHooks||(n.destroyHooks=[])).push(s,N)}}function S(n,i,s){Fe(n,i,3,s)}function P(n,i,s,c){(3&n[$])===s&&Fe(n,i,s,c)}function q(n,i){let s=n[$];(3&s)===i&&(s&=2047,s+=1,n[$]=s)}function Fe(n,i,s,c){const f=c??-1,m=i.length-1;let C=0;for(let E=void 0!==c?65535&n[cn]:0;E<m;E++)if("number"==typeof i[E+1]){if(C=i[E],null!=c&&C>=c)break}else i[E]<0&&(n[cn]+=65536),(C<f||-1==f)&&(ze(n,s,i,E),n[cn]=(4294901760&n[cn])+E+2),E++}function ze(n,i,s,c){const u=s[c]<0,f=s[c+1],C=n[u?-s[c]:s[c]];if(u){if(n[$]>>11<n[cn]>>16&&(3&n[$])===i){n[$]+=2048,ki(4,C,f);try{f.call(C)}finally{ki(5,C,f)}}}else{ki(4,C,f);try{f.call(C)}finally{ki(5,C,f)}}}const Tt=-1;class un{constructor(i,s,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function tr(n,i,s){let c=0;for(;c<s.length;){const u=s[c];if("number"==typeof u){if(0!==u)break;c++;const f=s[c++],m=s[c++],C=s[c++];n.setAttribute(i,m,C,f)}else{const f=u,m=s[++c];as(f)?n.setProperty(i,f,m):n.setAttribute(i,f,m),c++}}return c}function nr(n){return 3===n||4===n||6===n}function as(n){return 64===n.charCodeAt(0)}function gr(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let c=0;c<i.length;c++){const u=i[c];"number"==typeof u?s=u:0===s||Ys(n,s,u,null,-1===s||2===s?i[++c]:null)}}return n}function Ys(n,i,s,c,u){let f=0,m=n.length;if(-1===i)m=-1;else for(;f<n.length;){const C=n[f++];if("number"==typeof C){if(C===i){m=-1;break}if(C>i){m=f-1;break}}}for(;f<n.length;){const C=n[f];if("number"==typeof C)break;if(C===s){if(null===c)return void(null!==u&&(n[f+1]=u));if(c===n[f+1])return void(n[f+2]=u)}f++,null!==c&&f++,null!==u&&f++}-1!==m&&(n.splice(m,0,i),f=m+1),n.splice(f++,0,s),null!==c&&n.splice(f++,0,c),null!==u&&n.splice(f++,0,u)}function Va(n){return n!==Tt}function Vo(n){return 32767&n}function zo(n,i){let s=function bl(n){return n>>16}(n),c=i;for(;s>0;)c=c[Bt],s--;return c}let za=!0;function Go(n){const i=za;return za=n,i}const Wo=255,Jn=5;let Tl=0;const Fr={};function qo(n,i){const s=Ii(n,i);if(-1!==s)return s;const c=i[k];c.firstCreatePass&&(n.injectorIndex=i.length,Ga(c.data,n),Ga(i,null),Ga(c.blueprint,null));const u=xs(n,i),f=n.injectorIndex;if(Va(u)){const m=Vo(u),C=zo(u,i),E=C[k].data;for(let x=0;x<8;x++)i[f+x]=C[m+x]|E[m+x]}return i[f+8]=u,f}function Ga(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ii(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function xs(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,u=i;for(;null!==u;){if(c=Ml(u),null===c)return Tt;if(s++,u=u[Bt],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return Tt}function _o(n,i,s){!function wc(n,i,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(Lt)&&(c=s[Lt]),null==c&&(c=s[Lt]=Tl++);const u=c&Wo;i.data[n+(u>>Jn)]|=1<<u}(n,i,s)}function Ya(n,i,s){if(s&kt.Optional||void 0!==n)return n;ht()}function yt(n,i,s,c){if(s&kt.Optional&&void 0===c&&(c=null),!(s&(kt.Self|kt.Host))){const u=n[lt],f=Qn(void 0);try{return u?u.get(i,c,s&kt.Optional):yi(i,c,s&kt.Optional)}finally{Qn(f)}}return Ya(c,0,s)}function Ws(n,i,s,c=kt.Default,u){if(null!==n){if(1024&i[$]){const m=function yp(n,i,s,c,u){let f=n,m=i;for(;null!==f&&null!==m&&1024&m[$]&&!(256&m[$]);){const C=Sl(f,m,s,c|kt.Self,Fr);if(C!==Fr)return C;let E=f.parent;if(!E){const x=m[Pn];if(x){const N=x.get(s,Fr,c);if(N!==Fr)return N}E=Ml(m),m=m[Bt]}f=E}return u}(n,i,s,c,Fr);if(m!==Fr)return m}const f=Sl(n,i,s,c,Fr);if(f!==Fr)return f}return yt(i,s,c,u)}function Sl(n,i,s,c,u){const f=function cs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Lt)?n[Lt]:void 0;return"number"==typeof i?i>=0?i&Wo:Jo:i}(s);if("function"==typeof f){if(!Ms(i,n,c))return c&kt.Host?Ya(u,0,c):yt(i,s,c,u);try{const m=f(c);if(null!=m||c&kt.Optional)return m;ht()}finally{go()}}else if("number"==typeof f){let m=null,C=Ii(n,i),E=Tt,x=c&kt.Host?i[Vt][We]:null;for((-1===C||c&kt.SkipSelf)&&(E=-1===C?xs(n,i):i[C+8],E!==Tt&&qa(c,!1)?(m=i[k],C=Vo(E),i=zo(E,i)):C=-1);-1!==C;){const N=i[k];if(Wa(f,C,N.data)){const G=gd(C,i,s,m,c,x);if(G!==Fr)return G}E=i[C+8],E!==Tt&&qa(c,i[k].data[C+8]===x)&&Wa(f,C,i)?(m=N,C=Vo(E),i=zo(E,i)):C=-1}}return u}function gd(n,i,s,c,u,f){const m=i[k],C=m.data[n+8],N=Is(C,m,s,null==c?wi(C)&&za:c!=m&&0!=(3&C.type),u&kt.Host&&f===C);return null!==N?ls(i,m,N,C):Fr}function Is(n,i,s,c,u){const f=n.providerIndexes,m=i.data,C=1048575&f,E=n.directiveStart,N=f>>20,ae=u?C+N:n.directiveEnd;for(let be=c?C:C+N;be<ae;be++){const Ze=m[be];if(be<E&&s===Ze||be>=E&&Ze.type===s)return be}if(u){const be=m[E];if(be&&oi(be)&&be.type===s)return E}return null}function ls(n,i,s,c){let u=n[s];const f=i.data;if(function _n(n){return n instanceof un}(u)){const m=u;m.resolving&&function Pe(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new xe(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Re(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ne(n)}(f[s]));const C=Go(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Qn(m.injectImpl):null;Ms(n,c,kt.Default);try{u=n[s]=m.factory(void 0,f,n,c),i.firstCreatePass&&s>=c.directiveStart&&function D(n,i,s){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:f}=i.type.prototype;if(c){const m=bs(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],i)}finally{null!==E&&Qn(E),Go(C),m.resolving=!1,go()}}return u}function Wa(n,i,s){return!!(s[i+(n>>Jn)]&1<<n)}function qa(n,i){return!(n&kt.Self||n&kt.Host&&i)}class mr{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,c){return Ws(this._tNode,this._lView,i,K(c),s)}}function Jo(){return new mr(ai(),Ke())}function bc(n){return pn(()=>{const i=n.prototype.constructor,s=i[Ve]||Tc(i),c=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==c;){const f=u[Ve]||Tc(u);if(f&&f!==s)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Tc(n){return at(n)?()=>{const i=Tc(fe(n));return i&&i()}:Bi(n)}function Ml(n){const i=n[k],s=i.type;return 2===s?i.declTNode:1===s?n[We]:null}function kr(n){return function El(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const c=s.length;let u=0;for(;u<c;){const f=s[u];if(nr(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<c&&"string"==typeof s[u];)u++;else{if(f===i)return s[u+1];u+=2}}}return null}(ai(),n)}const mi="__parameters__";function As(n,i,s){return pn(()=>{const c=function qr(n){return function(...s){if(n){const c=n(...s);for(const u in c)this[u]=c[u]}}}(i);function u(...f){if(this instanceof u)return c.apply(this,f),this;const m=new u(...f);return C.annotation=m,C;function C(E,x,N){const G=E.hasOwnProperty(mi)?E[mi]:Object.defineProperty(E,mi,{value:[]})[mi];for(;G.length<=N;)G.push(null);return(G[N]=G[N]||[]).push(m),E}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class On{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=H({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function w(n,i){n.forEach(s=>Array.isArray(s)?w(s,i):i(s))}function M(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function L(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function B(n,i){const s=[];for(let c=0;c<n;c++)s.push(i);return s}function Wt(n,i,s){let c=Li(n,i);return c>=0?n[1|c]=s:(c=~c,function bt(n,i,s,c){let u=n.length;if(u==i)n.push(s,c);else if(1===u)n.push(c,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>i;)n[u]=n[u-2],u--;n[i]=s,n[i+1]=c}}(n,c,i,s)),c}function Fn(n,i){const s=Li(n,i);if(s>=0)return n[1|s]}function Li(n,i){return function Rr(n,i,s){let c=0,u=n.length>>s;for(;u!==c;){const f=c+(u-c>>1),m=n[f<<s];if(i===m)return f<<s;m>i?u=f:c=f+1}return~(u<<s)}(n,i,1)}const Co=ot(As("Optional"),8),Xo=ot(As("SkipSelf"),4);var zi=(()=>((zi=zi||{})[zi.Important=1]="Important",zi[zi.DashCase=2]="DashCase",zi))();const kc=new Map;let Ap=0;const Lc="__ngContext__";function Pi(n,i){Nn(i)?(n[Lc]=i[Wn],function Op(n){kc.set(n[Wn],n)}(i)):n[Lc]=i}let kl;function Rl(n,i){return kl(n,i)}function ks(n){const i=n[re];return ci(i)?i[re]:i}function Uc(n){return Nd(n[Ct])}function jc(n){return Nd(n[ve])}function Nd(n){for(;null!==n&&!ci(n);)n=n[ve];return n}function ds(n,i,s,c,u){if(null!=c){let f,m=!1;ci(c)?f=c:Nn(c)&&(m=!0,c=c[j]);const C=ei(c);0===n&&null!==s?null==u?Zd(i,s,C):wo(i,s,C,u||null,!0):1===n&&null!==s?wo(i,s,C,u||null,!0):2===n?function Pl(n,i,s){const c=Ll(n,i);c&&function ia(n,i,s,c){n.removeChild(i,s,c)}(n,c,i,s)}(i,C,m):3===n&&i.destroyNode(C),null!=f&&function Jp(n,i,s,c,u){const f=s[Sr];f!==ei(s)&&ds(i,n,c,f,u);for(let C=si;C<s.length;C++){const E=s[C];_i(E[k],E,n,i,c,f)}}(i,n,f,s,u)}}function $c(n,i,s){return n.createElement(i,s)}function zp(n,i){const s=n[Zr],c=s.indexOf(i),u=i[re];512&i[$]&&(i[$]&=-513,$i(u,-1)),s.splice(c,1)}function Hc(n,i){if(n.length<=si)return;const s=si+i,c=n[s];if(c){const u=c[mn];null!==u&&u!==n&&zp(u,c),i>0&&(n[s-1][ve]=c[ve]);const f=L(n,si+i);!function $p(n,i){_i(n,i,i[Ue],2,null,null),i[j]=null,i[We]=null}(c[k],c);const m=f[Mt];null!==m&&m.detachView(f[k]),c[re]=null,c[ve]=null,c[$]&=-65}return c}function $d(n,i){if(!(128&i[$])){const s=i[Ue];s.destroyNode&&_i(n,i,s,3,null,null),function jd(n){let i=n[Ct];if(!i)return Zc(n[k],n);for(;i;){let s=null;if(Nn(i))s=i[Ct];else{const c=i[si];c&&(s=c)}if(!s){for(;i&&!i[ve]&&i!==n;)Nn(i)&&Zc(i[k],i),i=i[re];null===i&&(i=n),Nn(i)&&Zc(i[k],i),s=i&&i[ve]}i=s}}(i)}}function Zc(n,i){if(!(128&i[$])){i[$]&=-65,i[$]|=128,function Yp(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const u=i[s[c]];if(!(u instanceof un)){const f=s[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const C=u[f[m]],E=f[m+1];ki(4,C,E);try{E.call(C)}finally{ki(5,C,E)}}else{ki(4,u,f);try{f.call(u)}finally{ki(5,u,f)}}}}}(n,i),function Gp(n,i){const s=n.cleanup,c=i[et];let u=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const m=s[f+3];m>=0?c[u=m]():c[u=-m].unsubscribe(),f+=2}else{const m=c[u=s[f+1]];s[f].call(m)}if(null!==c){for(let f=u+1;f<c.length;f++)(0,c[f])();i[et]=null}}(n,i),1===i[k].type&&i[Ue].destroy();const s=i[mn];if(null!==s&&ci(i[re])){s!==i[re]&&zp(s,i);const c=i[Mt];null!==c&&c.detachView(n)}!function Fp(n){kc.delete(n[Wn])}(i)}}function Js(n,i,s){return function Hd(n,i,s){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return s[j];{const{componentOffset:u}=c;if(u>-1){const{encapsulation:f}=n.data[c.directiveStart+u];if(f===In.None||f===In.Emulated)return null}return di(c,s)}}(n,i.parent,s)}function wo(n,i,s,c,u){n.insertBefore(i,s,c,u)}function Zd(n,i,s){n.appendChild(i,s)}function Vd(n,i,s,c,u){null!==c?wo(n,i,s,c,u):Zd(n,i,s)}function Ll(n,i){return n.parentNode(i)}function zd(n,i,s){return Gd(n,i,s)}let Vc,Nl,Jc,Ul,Gd=function Pr(n,i,s){return 40&n.type?di(n,s):null};function nl(n,i,s,c){const u=Js(n,c,i),f=i[Ue],C=zd(c.parent||i[We],c,i);if(null!=u)if(Array.isArray(s))for(let E=0;E<s.length;E++)Vd(f,u,s[E],C,!1);else Vd(f,u,s,C,!1);void 0!==Vc&&Vc(f,c,i,s,u)}function hs(n,i){if(null!==i){const s=i.type;if(3&s)return di(i,n);if(4&s)return il(-1,n[i.index]);if(8&s){const c=i.child;if(null!==c)return hs(n,c);{const u=n[i.index];return ci(u)?il(-1,u):ei(u)}}if(32&s)return Rl(i,n)()||ei(n[i.index]);{const c=or(n,i);return null!==c?Array.isArray(c)?c[0]:hs(ks(n[Vt]),c):hs(n,i.next)}}return null}function or(n,i){return null!==i?n[Vt][We].projection[i.projection]:null}function il(n,i){const s=si+n+1;if(s<i.length){const c=i[s],u=c[k].firstChild;if(null!==u)return hs(c,u)}return i[Sr]}function zc(n,i,s,c,u,f,m){for(;null!=s;){const C=c[s.index],E=s.type;if(m&&0===i&&(C&&Pi(ei(C),c),s.flags|=2),32!=(32&s.flags))if(8&E)zc(n,i,s.child,c,u,f,!1),ds(i,n,u,C,f);else if(32&E){const x=Rl(s,c);let N;for(;N=x();)ds(i,n,u,N,f);ds(i,n,u,C,f)}else 16&E?Gc(n,i,c,s,u,f):ds(i,n,u,C,f);s=m?s.projectionNext:s.next}}function _i(n,i,s,c,u,f){zc(s,c,n.firstChild,i,u,f,!1)}function Gc(n,i,s,c,u,f){const m=s[Vt],E=m[We].projection[c.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)ds(i,n,u,E[x],f);else zc(n,i,E,m[re],u,f,!0)}function Wd(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function qd(n,i,s){const{mergedAttrs:c,classes:u,styles:f}=s;null!==c&&tr(n,i,c),null!==u&&Wd(n,i,u),null!==f&&function Yc(n,i,s){n.setAttribute(i,"style",s)}(n,i,f)}function bo(n){return function Wc(){if(void 0===Nl&&(Nl=null,$t.trustedTypes))try{Nl=$t.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nl}()?.createHTML(n)||n}function eg(n){Jc=n}function Kc(){if(void 0===Ul&&(Ul=null,$t.trustedTypes))try{Ul=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ul}function Kd(n){return Kc()?.createHTML(n)||n}function Xd(n){return Kc()?.createScriptURL(n)||n}class Qc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}function fs(n){return n instanceof Qc?n.changingThisBreaksApplicationSecurity:n}function Ks(n,i){const s=function nh(n){return n instanceof Qc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${ut})`)}return s===i}class jl{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(bo(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class rh{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const c=this.inertDocument.createElement("body");s.appendChild(c)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=bo(i),s;const c=this.inertDocument.createElement("body");return c.innerHTML=bo(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(i){const s=i.attributes;for(let u=s.length-1;0<u;u--){const m=s.item(u).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let c=i.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const ig=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function eu(n){return(n=String(n)).match(ig)?n:"unsafe:"+n}function Rs(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function $l(...n){const i={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(i[c]=!0);return i}const sh=Rs("area,br,col,hr,img,wbr"),rg=Rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oh=Rs("rp,rt"),tu=$l(sh,$l(rg,Rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$l(oh,Rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$l(oh,rg)),nu=Rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ah=$l(nu,Rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),og=Rs("script,style,template");class ag{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!tu.hasOwnProperty(s))return this.sanitizedSomething=!0,!og.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=i.attributes;for(let u=0;u<c.length;u++){const f=c.item(u),m=f.name,C=m.toLowerCase();if(!ah.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=f.value;nu[C]&&(E=eu(E)),this.buf.push(" ",m,'="',lh(E),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();tu.hasOwnProperty(s)&&!sh.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(lh(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const lg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cg=/([^\#-~ |!])/g;function lh(n){return n.replace(/&/g,"&amp;").replace(lg,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(cg,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hl;function iu(n){return"content"in n&&function dg(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function ch(n){const i=sl();return i?Kd(i.sanitize(hi.HTML,n)||""):Ks(n,"HTML")?Kd(fs(n)):function ug(n,i){let s=null;try{Hl=Hl||function ih(n){const i=new rh(n);return function Bl(){try{return!!(new window.DOMParser).parseFromString(bo(""),"text/html")}catch{return!1}}()?new jl(i):i}(n);let c=i?String(i):"";s=Hl.getInertBodyElement(c);let u=5,f=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=f,f=s.innerHTML,s=Hl.getInertBodyElement(c)}while(c!==f);return bo((new ag).sanitizeChildren(iu(s)||s))}finally{if(s){const c=iu(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(function Jd(){return void 0!==Jc?Jc:typeof document<"u"?document:void 0}(),Ne(n))}function ru(n){const i=sl();return i?i.sanitize(hi.URL,n)||"":Ks(n,"URL")?fs(n):eu(Ne(n))}function uh(n){const i=sl();if(i)return Xd(i.sanitize(hi.RESOURCE_URL,n)||"");if(Ks(n,"ResourceURL"))return Xd(fs(n));throw new xe(904,!1)}function dh(n,i,s){return function mg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?uh:ru}(i,s)(n)}function sl(){const n=Ke();return n&&n[_t]}const su=new On("ENVIRONMENT_INITIALIZER"),hh=new On("INJECTOR",-1),fh=new On("INJECTOR_DEF_TYPES");class ph{get(i,s=Pt){if(s===Pt){const c=new Error(`NullInjectorError: No provider for ${le(i)}!`);throw c.name="NullInjectorError",c}return s}}function _g(n){return{\u0275providers:n}}function vg(...n){return{\u0275providers:gh(0,n),\u0275fromNgModule:!0}}function gh(n,...i){const s=[],c=new Set;let u;return w(i,f=>{const m=f;ou(m,s,[],c)&&(u||(u=[]),u.push(m))}),void 0!==u&&mh(u,s),s}function mh(n,i){for(let s=0;s<n.length;s++){const{providers:u}=n[s];au(u,f=>{i.push(f)})}}function ou(n,i,s,c){if(!(n=fe(n)))return!1;let u=null,f=dn(n);const m=!f&&on(n);if(f||m){if(m&&!m.standalone)return!1;u=n}else{const E=n.ngModule;if(f=dn(E),!f)return!1;u=E}const C=c.has(u);if(m){if(C)return!1;if(c.add(u),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const x of E)ou(x,i,s,c)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let x;c.add(u);try{w(f.imports,N=>{ou(N,i,s,c)&&(x||(x=[]),x.push(N))})}finally{}void 0!==x&&mh(x,i)}if(!C){const x=Bi(u)||(()=>new u);i.push({provide:u,useFactory:x,deps:Ft},{provide:fh,useValue:u,multi:!0},{provide:su,useValue:()=>Tn(u),multi:!0})}const E=f.providers;null==E||C||au(E,N=>{i.push(N)})}}return u!==n&&void 0!==n.providers}function au(n,i){for(let s of n)ye(s)&&(s=s.\u0275providers),Array.isArray(s)?au(s,i):i(s)}const Zl=J({provide:String,useValue:J});function Vl(n){return null!==n&&"object"==typeof n&&Zl in n}function To(n){return"function"==typeof n}const lu=new On("Set Injector scope."),zl={},Cg={};let cu;function Gl(){return void 0===cu&&(cu=new ph),cu}class Eo{}class vh extends Eo{constructor(i,s,c,u){super(),this.parent=s,this.source=c,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,du(i,m=>this.processProvider(m)),this.records.set(hh,ra(void 0,this)),u.has("environment")&&this.records.set(Eo,ra(void 0,this));const f=this.records.get(lu);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(fh.multi,Ft,kt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Ci(this),c=Qn(void 0);try{return i()}finally{Ci(s),Qn(c)}}get(i,s=Pt,c=kt.Default){this.assertNotDestroyed(),c=K(c);const u=Ci(this),f=Qn(void 0);try{if(!(c&kt.SkipSelf)){let C=this.records.get(i);if(void 0===C){const E=function Eg(n){return"function"==typeof n||"object"==typeof n&&n instanceof On}(i)&&Ye(i);C=E&&this.injectableDefInScope(E)?ra(uu(i),zl):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(c&kt.Self?Gl():this.parent).get(i,s=c&kt.Optional&&s===Pt?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[zn]=m[zn]||[]).unshift(le(i)),u)throw m;return function jt(n,i,s,c){const u=n[zn];throw i[Er]&&u.unshift(i[Er]),n.message=function hn(n,i,s,c=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==tn?n.slice(2):n;let u=le(i);if(Array.isArray(i))u=i.map(le).join(" -> ");else if("object"==typeof i){let f=[];for(let m in i)if(i.hasOwnProperty(m)){let C=i[m];f.push(m+":"+("string"==typeof C?JSON.stringify(C):le(C)))}u=`{${f.join(", ")}}`}return`${s}${c?"("+c+")":""}[${u}]: ${n.replace(Ji,"\n  ")}`}("\n"+n.message,u,s,c),n[Mn]=u,n[zn]=null,n}(m,i,"R3InjectorError",this.source)}throw m}finally{Qn(f),Ci(u)}}resolveInjectorInitializers(){const i=Ci(this),s=Qn(void 0);try{const c=this.get(su.multi,Ft,kt.Self);for(const u of c)u()}finally{Ci(i),Qn(s)}}toString(){const i=[],s=this.records;for(const c of s.keys())i.push(le(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(i){let s=To(i=fe(i))?i:fe(i&&i.provide);const c=function wg(n){return Vl(n)?ra(void 0,n.useValue):ra(yh(n),zl)}(i);if(To(i)||!0!==i.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=ra(void 0,zl,!0),u.factory=()=>ue(u.multi),this.records.set(s,u)),s=i,u.multi.push(i)}this.records.set(s,c)}hydrate(i,s){return s.value===zl&&(s.value=Cg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Tg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=fe(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function uu(n){const i=Ye(n),s=null!==i?i.factory:Bi(n);if(null!==s)return s;if(n instanceof On)throw new xe(204,!1);if(n instanceof Function)return function Dg(n){const i=n.length;if(i>0)throw B(i,"?"),new xe(204,!1);const s=function Gt(n){const i=n&&(n[bn]||n[qt]);if(i){const s=function an(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new xe(204,!1)}function yh(n,i,s){let c;if(To(n)){const u=fe(n);return Bi(u)||uu(u)}if(Vl(n))c=()=>fe(n.useValue);else if(function ol(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...ue(n.deps||[]));else if(function _h(n){return!(!n||!n.useExisting)}(n))c=()=>Tn(fe(n.useExisting));else{const u=fe(n&&(n.useClass||n.provide));if(!function bg(n){return!!n.deps}(n))return Bi(u)||uu(u);c=()=>new u(...ue(n.deps))}return c}function ra(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function du(n,i){for(const s of n)Array.isArray(s)?du(s,i):s&&ye(s)?du(s.\u0275providers,i):i(s)}class Sg{}class Ch{}class xg{resolveComponentFactory(i){throw function Mg(n){const i=Error(`No component factory found for ${le(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let al=(()=>{class n{}return n.NULL=new xg,n})();function Ig(){return sa(ai(),Ke())}function sa(n,i){return new ll(di(n,i))}let ll=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Ig,n})();function Ag(n){return n instanceof ll?n.nativeElement:n}class wh{}let Og=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Fg(){const n=Ke(),s=bi(ai().index,n);return(Nn(s)?s:n)[Ue]}(),n})(),kg=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class bh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Th=new bh("15.0.4"),Yl={},hu="ngOriginalError";function fu(n){return n[hu]}class cl{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&fu(i);for(;s&&fu(s);)s=fu(s);return s||null}}function Ls(n){return n instanceof Function?n():n}function Sh(n,i,s){let c=n.length;for(;;){const u=n.indexOf(i,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const f=i.length;if(u+f===c||n.charCodeAt(u+f)<=32)return u}s=u+1}}const Mh="ng-template";function Vg(n,i,s){let c=0;for(;c<n.length;){let u=n[c++];if(s&&"class"===u){if(u=n[c],-1!==Sh(u.toLowerCase(),i,0))return!0}else if(1===u){for(;c<n.length&&"string"==typeof(u=n[c++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function xh(n){return 4===n.type&&n.value!==Mh}function zg(n,i,s){return i===(4!==n.type||s?n.value:Mh)}function Gg(n,i,s){let c=4;const u=n.attrs||[],f=function qg(n){for(let i=0;i<n.length;i++)if(nr(n[i]))return i;return n.length}(u);let m=!1;for(let C=0;C<i.length;C++){const E=i[C];if("number"!=typeof E){if(!m)if(4&c){if(c=2|1&c,""!==E&&!zg(n,E,s)||""===E&&1===i.length){if(Kr(c))return!1;m=!0}}else{const x=8&c?E:i[++C];if(8&c&&null!==n.attrs){if(!Vg(n.attrs,x,s)){if(Kr(c))return!1;m=!0}continue}const G=Yg(8&c?"class":E,u,xh(n),s);if(-1===G){if(Kr(c))return!1;m=!0;continue}if(""!==x){let ae;ae=G>f?"":u[G+1].toLowerCase();const be=8&c?ae:null;if(be&&-1!==Sh(be,x,0)||2&c&&x!==ae){if(Kr(c))return!1;m=!0}}}}else{if(!m&&!Kr(c)&&!Kr(E))return!1;if(m&&Kr(E))continue;m=!1,c=E|1&c}}return Kr(c)||m}function Kr(n){return 0==(1&n)}function Yg(n,i,s,c){if(null===i)return-1;let u=0;if(c||!s){let f=!1;for(;u<i.length;){const m=i[u];if(m===n)return u;if(3===m||6===m)f=!0;else{if(1===m||2===m){let C=i[++u];for(;"string"==typeof C;)C=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=f?1:2}return-1}return function Jg(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===i)return s;s++}return-1}(i,n)}function Ih(n,i,s=!1){for(let c=0;c<i.length;c++)if(Gg(n,i[c],s))return!0;return!1}function Kg(n,i){e:for(let s=0;s<i.length;s++){const c=i[s];if(n.length===c.length){for(let u=0;u<n.length;u++)if(n[u]!==c[u])continue e;return!0}}return!1}function Ah(n,i){return n?":not("+i.trim()+")":i}function Qg(n){let i=n[0],s=1,c=2,u="",f=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&c){const C=n[++s];u+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?u+="."+m:4&c&&(u+=" "+m);else""!==u&&!Kr(m)&&(i+=Ah(f,u),u=""),c=m,f=f||!Kr(c);s++}return""!==u&&(i+=Ah(f,u)),i}const Qt={};function Oh(n){Fh(nn(),Ke(),gi()+n,!1)}function Fh(n,i,s,c){if(!c)if(3==(3&i[$])){const f=n.preOrderCheckHooks;null!==f&&S(i,f,s)}else{const f=n.preOrderHooks;null!==f&&P(i,f,0,s)}Wr(s)}function Ph(n,i=null,s=null,c){const u=Nh(n,i,s,c);return u.resolveInjectorInitializers(),u}function Nh(n,i=null,s=null,c,u=new Set){const f=[s||Ft,vg(n)];return c=c||("object"==typeof n?void 0:le(n)),new vh(f,i||Gl(),c||null,u)}let So=(()=>{class n{static create(s,c){if(Array.isArray(s))return Ph({name:""},c,s,"");{const u=s.name??"";return Ph({name:u},s.parent,s.providers,u)}}}return n.THROW_IF_NOT_FOUND=Pt,n.NULL=new ph,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>Tn(hh)}),n.__NG_ELEMENT_ID__=-1,n})();function la(n,i=kt.Default){const s=Ke();return null===s?Tn(n,i):Ws(ai(),s,fe(n),i)}function Vh(){throw new Error("invalid")}function zh(n,i){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const f=s[c+1];if(-1!==f){const m=n.data[f];Ss(s[c]),m.contentQueries(2,i[f],f)}}}function ql(n,i,s,c,u,f,m,C,E,x,N){const G=i.blueprint.slice();return G[j]=u,G[$]=76|c,(null!==N||n&&1024&n[$])&&(G[$]|=1024),dr(G),G[re]=G[Bt]=n,G[pt]=s,G[ft]=m||n&&n[ft],G[Ue]=C||n&&n[Ue],G[_t]=E||n&&n[_t]||null,G[lt]=x||n&&n[lt]||null,G[We]=f,G[Wn]=function Ad(){return Ap++}(),G[Pn]=N,G[Vt]=2==i.type?n[Vt]:G,G}function ca(n,i,s,c,u){let f=n.data[i];if(null===f)f=function yu(n,i,s,c,u){const f=xi(),m=Bo(),E=n.data[i]=function Tm(n,i,s,c,u,f){return{type:s,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,s,i,c,u);return null===n.firstChild&&(n.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(n,i,s,c,u),function Cl(){return Yt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=s,f.value=c,f.attrs=u;const m=function zs(){const n=Yt.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return hr(f,!0),f}function ua(n,i,s,c){if(0===s)return-1;const u=i.length;for(let f=0;f<s;f++)i.push(c),n.blueprint.push(c),n.data.push(null);return u}function Cu(n,i,s){po(i);try{const c=n.viewQuery;null!==c&&Au(1,c,s);const u=n.template;null!==u&&Gh(n,i,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&zh(n,i),n.staticViewQueries&&Au(2,n.viewQuery,s);const f=n.components;null!==f&&function Dm(n,i){for(let s=0;s<i.length;s++)Zm(n,i[s])}(i,f)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[$]&=-5,Ho()}}function Jl(n,i,s,c){const u=i[$];if(128!=(128&u)){po(i);try{dr(i),function fo(n){return Yt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Gh(n,i,s,2,c);const m=3==(3&u);if(m){const x=n.preOrderCheckHooks;null!==x&&S(i,x,null)}else{const x=n.preOrderHooks;null!==x&&P(i,x,0,null),q(i,0)}if(function $m(n){for(let i=Uc(n);null!==i;i=jc(i)){if(!i[Ds])continue;const s=i[Zr];for(let c=0;c<s.length;c++){const u=s[c];512&u[$]||$i(u[re],1),u[$]|=512}}}(i),function Bm(n){for(let i=Uc(n);null!==i;i=jc(i))for(let s=si;s<i.length;s++){const c=i[s],u=c[k];Gr(c)&&Jl(u,c,u.template,c[pt])}}(i),null!==n.contentQueries&&zh(n,i),m){const x=n.contentCheckHooks;null!==x&&S(i,x)}else{const x=n.contentHooks;null!==x&&P(i,x,1),q(i,1)}!function ym(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const u=s[c];if(u<0)Wr(~u);else{const f=u,m=s[++c],C=s[++c];Ua(m,f),C(2,i[f])}}}finally{Wr(-1)}}(n,i);const C=n.components;null!==C&&function Cm(n,i){for(let s=0;s<i.length;s++)Hm(n,i[s])}(i,C);const E=n.viewQuery;if(null!==E&&Au(2,E,c),m){const x=n.viewCheckHooks;null!==x&&S(i,x)}else{const x=n.viewHooks;null!==x&&P(i,x,2),q(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[$]&=-41,512&i[$]&&(i[$]&=-513,$i(i[re],-1))}finally{Ho()}}}function Gh(n,i,s,c,u){const f=gi(),m=2&c;try{Wr(-1),m&&i.length>fn&&Fh(n,i,fn,!1),ki(m?2:0,u),s(c,u)}finally{Wr(f),ki(m?3:1,u)}}function Du(n,i,s){if(Vr(i)){const u=i.directiveEnd;for(let f=i.directiveStart;f<u;f++){const m=n.data[f];m.contentQueries&&m.contentQueries(1,s[f],f)}}}function wu(n,i,s){uo()&&(function Am(n,i,s,c){const u=s.directiveStart,f=s.directiveEnd;wi(s)&&function Nm(n,i,s){const c=di(i,n),u=Yh(s),f=n[ft],m=Kl(n,ql(n,u,null,s.onPush?32:16,c,i,f,f.createRenderer(c,s),null,null,null));n[i.index]=m}(i,s,n.data[u+s.componentOffset]),n.firstCreatePass||qo(s,i),Pi(c,i);const m=s.initialInputs;for(let C=u;C<f;C++){const E=n.data[C],x=ls(i,n,C,s);Pi(x,i),null!==m&&Um(0,C-u,x,E,0,m),oi(E)&&(bi(s.index,i)[pt]=ls(i,n,C,s))}}(n,i,s,di(s,i)),64==(64&s.flags)&&Xh(n,i,s))}function bu(n,i,s=di){const c=i.localNames;if(null!==c){let u=i.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],C=-1===m?s(i,n):n[m];n[u++]=C}}}function Yh(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Tu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Tu(n,i,s,c,u,f,m,C,E,x){const N=fn+c,G=N+u,ae=function wm(n,i){const s=[];for(let c=0;c<i;c++)s.push(c<n?null:Qt);return s}(N,G),be="function"==typeof x?x():x;return ae[k]={type:n,blueprint:ae,template:s,queries:null,viewQuery:C,declTNode:i,data:ae.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:be,incompleteFirstPass:!1}}function Wh(n,i,s,c){const u=tf(i);null===s?u.push(c):(u.push(s),n.firstCreatePass&&nf(n).push(c,u.length-1))}function qh(n,i,s,c){for(let u in n)if(n.hasOwnProperty(u)){s=null===s?{}:s;const f=n[u];null===c?Jh(s,i,u,f):c.hasOwnProperty(u)&&Jh(s,i,c[u],f)}return s}function Jh(n,i,s,c){n.hasOwnProperty(s)?n[s].push(i,c):n[s]=[i,c]}function yr(n,i,s,c,u,f,m,C){const E=di(i,s);let N,x=i.inputs;!C&&null!=x&&(N=x[c])?(Ou(n,s,N,c,u),wi(i)&&Kh(s,i.index)):3&i.type&&(c=function Sm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),u=null!=m?m(u,i.value||"",c):u,f.setProperty(E,c,u))}function Kh(n,i){const s=bi(i,n);16&s[$]||(s[$]|=32)}function Eu(n,i,s,c){let u=!1;if(uo()){const f=null===c?null:{"":-1},m=function Fm(n,i){const s=n.directiveRegistry;let c=null,u=null;if(s)for(let f=0;f<s.length;f++){const m=s[f];if(Ih(i,m.selectors,!1))if(c||(c=[]),oi(m))if(null!==m.findHostDirectiveDefs){const C=[];u=u||new Map,m.findHostDirectiveDefs(m,C,u),c.unshift(...C,m),Su(n,i,C.length)}else c.unshift(m),Su(n,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,c,u),c.push(m)}return null===c?null:[c,u]}(n,s);let C,E;null===m?C=E=null:[C,E]=m,null!==C&&(u=!0,Qh(n,i,s,C,f,E)),f&&function km(n,i,s){if(i){const c=n.localNames=[];for(let u=0;u<i.length;u+=2){const f=s[i[u+1]];if(null==f)throw new xe(-301,!1);c.push(i[u],f)}}}(s,c,f)}return s.mergedAttrs=gr(s.mergedAttrs,s.attrs),u}function Qh(n,i,s,c,u,f){for(let x=0;x<c.length;x++)_o(qo(s,i),n,c[x].type);!function Lm(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,c.length);for(let x=0;x<c.length;x++){const N=c[x];N.providersResolver&&N.providersResolver(N)}let m=!1,C=!1,E=ua(n,i,c.length,null);for(let x=0;x<c.length;x++){const N=c[x];s.mergedAttrs=gr(s.mergedAttrs,N.hostAttrs),Pm(n,s,i,E,N),Rm(E,N,u),null!==N.contentQueries&&(s.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=64);const G=N.type.prototype;!m&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),m=!0),!C&&(G.ngOnChanges||G.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),C=!0),E++}!function Em(n,i,s){const u=i.directiveEnd,f=n.data,m=i.attrs,C=[];let E=null,x=null;for(let N=i.directiveStart;N<u;N++){const G=f[N],ae=s?s.get(G):null,Ze=ae?ae.outputs:null;E=qh(G.inputs,N,E,ae?ae.inputs:null),x=qh(G.outputs,N,x,Ze);const gt=null===E||null===m||xh(i)?null:jm(E,N,m);C.push(gt)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=8),E.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=C,i.inputs=E,i.outputs=x}(n,s,f)}function Xh(n,i,s){const c=s.directiveStart,u=s.directiveEnd,f=s.index,m=function Hi(){return Yt.lFrame.currentDirectiveIndex}();try{Wr(f);for(let C=c;C<u;C++){const E=n.data[C],x=i[C];os(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Om(E,x)}}finally{Wr(-1),os(m)}}function Om(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Su(n,i,s){i.componentOffset=s,(n.components||(n.components=[])).push(i.index)}function Rm(n,i,s){if(s){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)s[i.exportAs[c]]=n;oi(i)&&(s[""]=n)}}function Pm(n,i,s,c,u){n.data[c]=u;const f=u.factory||(u.factory=Bi(u.type)),m=new un(f,oi(u),la);n.blueprint[c]=m,s[c]=m,function xm(n,i,s,c,u){const f=u.hostBindings;if(f){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const C=~i.index;(function Im(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(m)!=C&&m.push(C),m.push(s,c,f)}}(n,i,c,ua(n,s,u.hostVars,Qt),u)}function ps(n,i,s,c,u,f){const m=di(n,i);!function Mu(n,i,s,c,u,f,m){if(null==f)n.removeAttribute(i,u,s);else{const C=null==m?Ne(f):m(f,c||"",u);n.setAttribute(i,u,C,s)}}(i[Ue],m,f,n.value,s,c,u)}function Um(n,i,s,c,u,f){const m=f[i];if(null!==m){const C=c.setInput;for(let E=0;E<m.length;){const x=m[E++],N=m[E++],G=m[E++];null!==C?c.setInput(s,G,x,N):s[N]=G}}}function jm(n,i,s){let c=null,u=0;for(;u<s.length;){const f=s[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===c&&(c=[]);const m=n[f];for(let C=0;C<m.length;C+=2)if(m[C]===i){c.push(f,m[C+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return c}function ef(n,i,s,c){return[n,!0,!1,i,null,0,c,s,null,null]}function Hm(n,i){const s=bi(i,n);if(Gr(s)){const c=s[k];48&s[$]?Jl(c,s,c.template,s[pt]):s[$e]>0&&xu(s)}}function xu(n){for(let c=Uc(n);null!==c;c=jc(c))for(let u=si;u<c.length;u++){const f=c[u];if(Gr(f))if(512&f[$]){const m=f[k];Jl(m,f,m.template,f[pt])}else f[$e]>0&&xu(f)}const s=n[k].components;if(null!==s)for(let c=0;c<s.length;c++){const u=bi(s[c],n);Gr(u)&&u[$e]>0&&xu(u)}}function Zm(n,i){const s=bi(i,n),c=s[k];(function Vm(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(c,s),Cu(c,s,s[pt])}function Kl(n,i){return n[Ct]?n[Ht][ve]=i:n[Ct]=i,n[Ht]=i,i}function Iu(n){for(;n;){n[$]|=32;const i=ks(n);if(to(n)&&!i)return n;n=i}return null}function Ql(n,i,s,c=!0){const u=i[ft];u.begin&&u.begin();try{Jl(n,i,n.template,s)}catch(m){throw c&&sf(i,m),m}finally{u.end&&u.end()}}function Au(n,i,s){Ss(0),i(n,s)}function tf(n){return n[et]||(n[et]=[])}function nf(n){return n.cleanup||(n.cleanup=[])}function sf(n,i){const s=n[lt],c=s?s.get(cl,null):null;c&&c.handleError(i)}function Ou(n,i,s,c,u){for(let f=0;f<s.length;){const m=s[f++],C=s[f++],E=i[m],x=n.data[m];null!==x.setInput?x.setInput(E,u,c,C):E[C]=u}}function Ps(n,i,s){const c=An(i,n);!function Ud(n,i,s){n.setValue(i,s)}(n[Ue],c,s)}function Xl(n,i,s){let c=s?n.styles:null,u=s?n.classes:null,f=0;if(null!==i)for(let m=0;m<i.length;m++){const C=i[m];"number"==typeof C?f=C:1==f?u=we(u,C):2==f&&(c=we(c,C+": "+i[++m]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=u:n.classesWithoutHost=u}function ec(n,i,s,c,u=!1){for(;null!==s;){const f=i[s.index];if(null!==f&&c.push(ei(f)),ci(f))for(let C=si;C<f.length;C++){const E=f[C],x=E[k].firstChild;null!==x&&ec(E[k],E,x,c)}const m=s.type;if(8&m)ec(n,i,s.child,c);else if(32&m){const C=Rl(s,i);let E;for(;E=C();)c.push(E)}else if(16&m){const C=or(i,s);if(Array.isArray(C))c.push(...C);else{const E=ks(i[Vt]);ec(E[k],E,C,c,!0)}}s=u?s.projectionNext:s.next}return c}class ul{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[k];return ec(s,i,s.firstChild,[])}get context(){return this._lView[pt]}set context(i){this._lView[pt]=i}get destroyed(){return 128==(128&this._lView[$])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[re];if(ci(i)){const s=i[Hr],c=s?s.indexOf(this):-1;c>-1&&(Hc(i,c),L(s,c))}this._attachedToViewContainer=!1}$d(this._lView[k],this._lView)}onDestroy(i){Wh(this._lView[k],this._lView,null,i)}markForCheck(){Iu(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-65}reattach(){this._lView[$]|=64}detectChanges(){Ql(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zp(n,i){_i(n,i,i[Ue],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=i}}class zm extends ul{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Ql(i[k],i,i[pt],!1)}checkNoChanges(){}get context(){return null}}class af extends al{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=on(i);return new dl(s,this.ngModule)}}function lf(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Ym{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,c){c=K(c);const u=this.injector.get(i,Yl,c);return u!==Yl||s===Yl?u:this.parentInjector.get(i,s,c)}}class dl extends Ch{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Xg(n){return n.map(Qg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return lf(this.componentDef.inputs)}get outputs(){return lf(this.componentDef.outputs)}create(i,s,c,u){let f=(u=u||this.ngModule)instanceof Eo?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Ym(i,f):i,C=m.get(wh,null);if(null===C)throw new xe(407,!1);const E=m.get(kg,null),x=C.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",G=c?function bm(n,i,s){return n.selectRootElement(i,s===In.ShadowDom)}(x,c,this.componentDef.encapsulation):$c(x,N,function Gm(n){const i=n.toLowerCase();return"svg"===i?Zs:"math"===i?"math":null}(N)),ae=this.componentDef.onPush?288:272,be=Tu(0,null,null,1,0,null,null,null,null,null),Ze=ql(null,be,null,ae,null,null,C,x,E,m,null);let gt,wt;po(Ze);try{const Ot=this.componentDef;let zt,ct=null;Ot.findHostDirectiveDefs?(zt=[],ct=new Map,Ot.findHostDirectiveDefs(Ot,zt,ct),zt.push(Ot)):zt=[Ot];const en=function Jm(n,i){const s=n[k],c=fn;return n[c]=i,ca(s,c,2,"#host",null)}(Ze,G),ni=function Km(n,i,s,c,u,f,m,C){const E=u[k];!function Qm(n,i,s,c){for(const u of n)i.mergedAttrs=gr(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(Xl(i,i.mergedAttrs,!0),null!==s&&qd(c,s,i))}(c,n,i,m);const x=f.createRenderer(i,s),N=ql(u,Yh(s),null,s.onPush?32:16,u[n.index],n,f,x,C||null,null,null);return E.firstCreatePass&&Su(E,n,c.length-1),Kl(u,N),u[n.index]=N}(en,G,Ot,zt,Ze,C,x);wt=Ts(be,fn),G&&function e_(n,i,s,c){if(c)tr(n,s,["ng-version",Th.full]);else{const{attrs:u,classes:f}=function em(n){const i=[],s=[];let c=1,u=2;for(;c<n.length;){let f=n[c];if("string"==typeof f)2===u?""!==f&&i.push(f,n[++c]):8===u&&s.push(f);else{if(!Kr(u))break;u=f}c++}return{attrs:i,classes:s}}(i.selectors[0]);u&&tr(n,s,u),f&&f.length>0&&Wd(n,s,f.join(" "))}}(x,Ot,G,c),void 0!==s&&function t_(n,i,s){const c=n.projection=[];for(let u=0;u<i.length;u++){const f=s[u];c.push(null!=f?Array.from(f):null)}}(wt,this.ngContentSelectors,s),gt=function Xm(n,i,s,c,u,f){const m=ai(),C=u[k],E=di(m,u);Qh(C,u,m,s,null,c);for(let N=0;N<s.length;N++)Pi(ls(u,C,m.directiveStart+N,m),u);Xh(C,u,m),E&&Pi(E,u);const x=ls(u,C,m.directiveStart+m.componentOffset,m);if(n[pt]=u[pt]=x,null!==f)for(const N of f)N(x,i);return Du(C,m,n),x}(ni,Ot,zt,ct,Ze,[n_]),Cu(be,Ze,null)}finally{Ho()}return new Wm(this.componentType,gt,sa(wt,Ze),Ze,wt)}}class Wm extends Sg{constructor(i,s,c,u,f){super(),this.location=c,this._rootLView=u,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new zm(u),this.componentType=i}setInput(i,s){const c=this._tNode.inputs;let u;if(null!==c&&(u=c[i])){const f=this._rootLView;Ou(f[k],f,u,i,s),Kh(f,this._tNode.index)}}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function n_(){const n=ai();F(Ke()[k],n)}let tc=null;function Mo(){if(!tc){const n=$t.Symbol;if(n&&n.iterator)tc=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const c=i[s];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(tc=c)}}}return tc}function hl(n){return!!ku(n)&&(Array.isArray(n)||!(n instanceof Map)&&Mo()in n)}function ku(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gs(n,i,s){return n[i]=s}function fl(n,i){return n[i]}function Ni(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function xo(n,i,s,c){const u=Ni(n,i,s);return Ni(n,i+1,c)||u}function nc(n,i,s,c,u){const f=xo(n,i,s,c);return Ni(n,i+2,u)||f}function Nr(n,i,s,c,u,f){const m=xo(n,i,s,c);return xo(n,i+2,u,f)||m}function Ru(n,i,s,c){const u=Ke();return Ni(u,er(),i)&&(nn(),ps(St(),u,n,i,s,c)),Ru}function ha(n,i,s,c){return Ni(n,er(),s)?i+Ne(s)+c:Qt}function Lu(n,i,s,c,u,f){const m=Ke(),C=ha(m,i,s,c);return C!==Qt&&ps(St(),m,n,C,u,f),Lu}function Df(n,i,s,c,u,f,m,C){const E=Ke(),x=nn(),N=n+fn,G=x.firstCreatePass?function m_(n,i,s,c,u,f,m,C,E){const x=i.consts,N=ca(i,n,4,m||null,Ir(x,C));Eu(i,s,N,Ir(x,E)),F(i,N);const G=N.tViews=Tu(2,N,c,u,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,x);return null!==i.queries&&(i.queries.template(i,N),G.queries=i.queries.embeddedTView(N)),N}(N,x,E,i,s,c,u,f,m):x.data[N];hr(G,!1);const ae=E[Ue].createComment("");nl(x,E,ae,G),Pi(ae,E),Kl(E,E[N]=ef(ae,E,ae,G)),ts(G)&&wu(x,E,G),null!=m&&bu(E,G,C)}function wf(n){return is(function Pa(){return Yt.lFrame.contextLView}(),fn+n)}function Nu(n,i,s){const c=Ke();return Ni(c,er(),i)&&yr(nn(),St(),c,n,i,c[Ue],s,!1),Nu}function Uu(n,i,s,c,u){const m=u?"class":"style";Ou(n,s,i.inputs[m],m,c)}function ic(n,i,s,c){const u=Ke(),f=nn(),m=fn+n,C=u[Ue],E=u[m]=$c(C,i,function Za(){return Yt.lFrame.currentNamespace}()),x=f.firstCreatePass?function v_(n,i,s,c,u,f,m){const C=i.consts,x=ca(i,n,2,u,Ir(C,f));return Eu(i,s,x,Ir(C,m)),null!==x.attrs&&Xl(x,x.attrs,!1),null!==x.mergedAttrs&&Xl(x,x.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,x),x}(m,f,u,0,i,s,c):f.data[m];return hr(x,!0),qd(C,E,x),32!=(32&x.flags)&&nl(f,u,E,x),0===function Fa(){return Yt.lFrame.elementDepthCount}()&&Pi(E,u),function ka(){Yt.lFrame.elementDepthCount++}(),ts(x)&&(wu(f,u,x),Du(f,x,u)),null!==c&&bu(u,x),ic}function rc(){let n=ai();Bo()?Es():(n=n.parent,hr(n,!1));const i=n;!function co(){Yt.lFrame.elementDepthCount--}();const s=nn();return s.firstCreatePass&&(F(s,n),Vr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function wn(n){return 0!=(8&n.flags)}(i)&&Uu(s,i,Ke(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function qn(n){return 0!=(16&n.flags)}(i)&&Uu(s,i,Ke(),i.stylesWithoutHost,!1),rc}function ju(n,i,s,c){return ic(n,i,s,c),rc(),ju}function sc(n,i,s){const c=Ke(),u=nn(),f=n+fn,m=u.firstCreatePass?function y_(n,i,s,c,u){const f=i.consts,m=Ir(f,c),C=ca(i,n,8,"ng-container",m);return null!==m&&Xl(C,m,!0),Eu(i,s,C,Ir(f,u)),null!==i.queries&&i.queries.elementStart(i,C),C}(f,u,c,i,s):u.data[f];hr(m,!0);const C=c[f]=c[Ue].createComment("");return nl(u,c,C,m),Pi(C,c),ts(m)&&(wu(u,c,m),Du(u,m,c)),null!=s&&bu(c,m),sc}function oc(){let n=ai();const i=nn();return Bo()?Es():(n=n.parent,hr(n,!1)),i.firstCreatePass&&(F(i,n),Vr(n)&&i.queries.elementEnd(n)),oc}function Bu(n,i,s){return sc(n,i,s),oc(),Bu}function bf(){return Ke()}function $u(n){return!!n&&"function"==typeof n.then}function Hu(n){return!!n&&"function"==typeof n.subscribe}const Tf=Hu;function Zu(n,i,s,c){const u=Ke(),f=nn(),m=ai();return function Sf(n,i,s,c,u,f,m){const C=ts(c),x=n.firstCreatePass&&nf(n),N=i[pt],G=tf(i);let ae=!0;if(3&c.type||m){const gt=di(c,i),wt=m?m(gt):gt,Ot=G.length,zt=m?en=>m(ei(en[c.index])):c.index;let ct=null;if(!m&&C&&(ct=function C_(n,i,s,c){const u=n.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const m=u[f];if(m===s&&u[f+1]===c){const C=i[et],E=u[f+2];return C.length>E?C[E]:null}"string"==typeof m&&(f+=2)}return null}(n,i,u,c.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=f,ct.__ngLastListenerFn__=f,ae=!1;else{f=xf(c,i,N,f,!1);const en=s.listen(wt,u,f);G.push(f,en),x&&x.push(u,zt,Ot,Ot+1)}}else f=xf(c,i,N,f,!1);const be=c.outputs;let Ze;if(ae&&null!==be&&(Ze=be[u])){const gt=Ze.length;if(gt)for(let wt=0;wt<gt;wt+=2){const ni=i[Ze[wt]][Ze[wt+1]].subscribe(f),vi=G.length;G.push(f,ni),x&&x.push(u,c.index,vi,-(vi+1))}}}(f,u,u[Ue],m,n,i,c),Zu}function Mf(n,i,s,c){try{return ki(6,i,s),!1!==s(c)}catch(u){return sf(n,u),!1}finally{ki(7,i,s)}}function xf(n,i,s,c,u){return function f(m){if(m===Function)return c;Iu(n.componentOffset>-1?bi(n.index,i):i);let E=Mf(i,s,c,m),x=f.__ngNextListenerFn__;for(;x;)E=Mf(i,s,x,m)&&E,x=x.__ngNextListenerFn__;return u&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function If(n=1){return function Gs(n){return(Yt.lFrame.contextLView=function Ha(n,i){for(;n>0;)i=i[Bt],n--;return i}(n,Yt.lFrame.contextLView))[pt]}(n)}function D_(n,i){let s=null;const c=function Wg(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let u=0;u<i.length;u++){const f=i[u];if("*"!==f){if(null===c?Ih(n,f,!0):Kg(c,f))return u}else s=u}return s}function Af(n){const i=Ke()[Vt][We];if(!i.projection){const c=i.projection=B(n?n.length:1,null),u=c.slice();let f=i.child;for(;null!==f;){const m=n?D_(f,n):0;null!==m&&(u[m]?u[m].projectionNext=f:c[m]=f,u[m]=f),f=f.next}}}function Of(n,i=0,s){const c=Ke(),u=nn(),f=ca(u,fn+n,16,null,s||null);null===f.projection&&(f.projection=i),Es(),32!=(32&f.flags)&&function Tv(n,i,s){Gc(i[Ue],0,i,s,Js(n,s,i),zd(s.parent||i[We],s,i))}(u,c,f)}function Vu(n,i,s){return zu(n,"",i,"",s),Vu}function zu(n,i,s,c,u){const f=Ke(),m=ha(f,i,s,c);return m!==Qt&&yr(nn(),St(),f,n,m,f[Ue],u,!1),zu}function ac(n,i){return n<<17|i<<2}function Qs(n){return n>>17&32767}function Gu(n){return 2|n}function Io(n){return(131068&n)>>2}function Yu(n,i){return-131069&n|i<<2}function Wu(n){return 1|n}function Ca(n,i,s,c,u){const f=n[s+1],m=null===i;let C=c?Qs(f):Io(f),E=!1;for(;0!==C&&(!1===E||m);){const N=n[C+1];ar(n[C],i)&&(E=!0,n[C+1]=c?Wu(N):Gu(N)),C=c?Qs(N):Io(N)}E&&(n[s+1]=c?Gu(f):Wu(f))}function ar(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Li(n,i)>=0}const kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qu(n){return n.substring(kn.key,kn.keyEnd)}function Bf(n){return n.substring(kn.value,kn.valueEnd)}function Hf(n,i){const s=kn.textEnd;return s===i?-1:(i=kn.keyEnd=function Da(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,kn.key=i,s),Si(n,i,s))}function Zf(n,i){const s=kn.textEnd;let c=kn.key=Si(n,i,s);return s===c?-1:(c=kn.keyEnd=function lc(n,i,s){let c;for(;i<s&&(45===(c=n.charCodeAt(i))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)i++;return i}(n,c,s),c=Ns(n,c,s),c=kn.value=Si(n,c,s),c=kn.valueEnd=function zf(n,i,s){let c=-1,u=-1,f=-1,m=i,C=m;for(;m<s;){const E=n.charCodeAt(m++);if(59===E)return C;34===E||39===E?C=m=cc(n,E,m,s):i===m-4&&85===f&&82===u&&76===c&&40===E?C=m=cc(n,41,m,s):E>32&&(C=m),f=u,u=c,c=-33&E}return C}(n,c,s),Ns(n,c,s))}function Vf(n){kn.key=0,kn.keyEnd=0,kn.value=0,kn.valueEnd=0,kn.textEnd=n.length}function Si(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Ns(n,i,s,c){return(i=Si(n,i,s))<s&&i++,i}function cc(n,i,s,c){let u=-1,f=s;for(;f<c;){const m=n.charCodeAt(f++);if(m==i&&92!==u)return f;u=92==m&&92===u?0:m}throw new Error}function uc(n,i,s){return Ur(n,i,s,!1),uc}function dc(n,i){return Ur(n,i,null,!0),dc}function Cr(n){Qr(Wf,x_,n,!1)}function x_(n,i){for(let s=function S_(n){return Vf(n),Zf(n,Si(n,0,kn.textEnd))}(i);s>=0;s=Zf(i,s))Wf(n,qu(i),Bf(i))}function Ju(n){Qr(Wt,_s,n,!0)}function _s(n,i){for(let s=function $f(n){return Vf(n),Hf(n,Si(n,0,kn.textEnd))}(i);s>=0;s=Hf(i,s))Wt(n,qu(i),!0)}function Ur(n,i,s,c){const u=Ke(),f=nn(),m=pr(2);f.firstUpdatePass&&Gf(f,n,m,c),i!==Qt&&Ni(u,m,i)&&ed(f,f.data[gi()],u,u[Ue],n,u[m+1]=function O_(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=le(fs(n)))),n}(i,s),c,m)}function Qr(n,i,s,c){const u=nn(),f=pr(2);u.firstUpdatePass&&Gf(u,null,f,c);const m=Ke();if(s!==Qt&&Ni(m,f,s)){const C=u.data[gi()];if(F_(C,c)&&!hc(u,f)){let E=c?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(s=we(E,s||"")),Uu(u,C,m,s,c)}else!function qf(n,i,s,c,u,f,m,C){u===Qt&&(u=Ft);let E=0,x=0,N=0<u.length?u[0]:null,G=0<f.length?f[0]:null;for(;null!==N||null!==G;){const ae=E<u.length?u[E+1]:void 0,be=x<f.length?f[x+1]:void 0;let gt,Ze=null;N===G?(E+=2,x+=2,ae!==be&&(Ze=G,gt=be)):null===G||null!==N&&N<G?(E+=2,Ze=N):(x+=2,Ze=G,gt=be),null!==Ze&&ed(n,i,s,c,Ze,gt,m,C),N=E<u.length?u[E]:null,G=x<f.length?f[x]:null}}(u,C,m,m[Ue],m[f+1],m[f+1]=function A_(n,i,s){if(null==s||""===s)return Ft;const c=[],u=fs(s);if(Array.isArray(u))for(let f=0;f<u.length;f++)n(c,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&n(c,f,u[f]);else"string"==typeof u&&i(c,u);return c}(n,i,s),c,f)}}function hc(n,i){return i>=n.expandoStartIndex}function Gf(n,i,s,c){const u=n.data;if(null===u[s+1]){const f=u[gi()],m=hc(n,s);F_(f,c)&&null===i&&!m&&(i=!1),i=function I_(n,i,s,c){const u=function Ar(n){const i=Yt.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let f=c?i.residualClasses:i.residualStyles;if(null===u)0===(c?i.classBindings:i.styleBindings)&&(s=wa(s=Xu(null,n,i,s,c),i.attrs,c),f=null);else{const m=i.directiveStylingLast;if(-1===m||n[m]!==u)if(s=Xu(u,n,i,s,c),null===f){let E=function Ku(n,i,s){const c=s?i.classBindings:i.styleBindings;if(0!==Io(c))return n[Qs(c)]}(n,i,c);void 0!==E&&Array.isArray(E)&&(E=Xu(null,n,i,E[1],c),E=wa(E,i.attrs,c),function Qu(n,i,s,c){n[Qs(s?i.classBindings:i.styleBindings)]=c}(n,i,c,E))}else f=function Yf(n,i,s){let c;const u=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<u;f++)c=wa(c,n[f].hostAttrs,s);return wa(c,i.attrs,s)}(n,i,c)}return void 0!==f&&(c?i.residualClasses=f:i.residualStyles=f),s}(u,f,i,c),function Xs(n,i,s,c,u,f){let m=f?i.classBindings:i.styleBindings,C=Qs(m),E=Io(m);n[c]=s;let N,x=!1;if(Array.isArray(s)?(N=s[1],(null===N||Li(s,N)>0)&&(x=!0)):N=s,u)if(0!==E){const ae=Qs(n[C+1]);n[c+1]=ac(ae,C),0!==ae&&(n[ae+1]=Yu(n[ae+1],c)),n[C+1]=function b_(n,i){return 131071&n|i<<17}(n[C+1],c)}else n[c+1]=ac(C,0),0!==C&&(n[C+1]=Yu(n[C+1],c)),C=c;else n[c+1]=ac(E,0),0===C?C=c:n[E+1]=Yu(n[E+1],c),E=c;x&&(n[c+1]=Gu(n[c+1])),Ca(n,N,c,!0),Ca(n,N,c,!1),function E_(n,i,s,c,u){const f=u?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof i&&Li(f,i)>=0&&(s[c+1]=Wu(s[c+1]))}(i,N,n,c,f),m=ac(C,E),f?i.classBindings=m:i.styleBindings=m}(u,f,i,s,m,c)}}function Xu(n,i,s,c,u){let f=null;const m=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<m&&(f=i[C],c=wa(c,f.hostAttrs,u),f!==n);)C++;return null!==n&&(s.directiveStylingLast=C),c}function wa(n,i,s){const c=s?1:2;let u=-1;if(null!==i)for(let f=0;f<i.length;f++){const m=i[f];"number"==typeof m?u=m:u===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Wt(n,m,!!s||i[++f]))}return void 0===n?null:n}function Wf(n,i,s){Wt(n,i,fs(s))}function ed(n,i,s,c,u,f,m,C){if(!(3&i.type))return;const E=n.data,x=E[C+1],N=function T_(n){return 1==(1&n)}(x)?Jf(E,i,s,u,Io(x),m):void 0;fc(N)||(fc(f)||function w_(n){return 2==(2&n)}(x)&&(f=Jf(E,null,s,u,C,m)),function Kp(n,i,s,c,u){if(i)u?n.addClass(s,c):n.removeClass(s,c);else{let f=-1===c.indexOf("-")?void 0:zi.DashCase;null==u?n.removeStyle(s,c,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=zi.Important),n.setStyle(s,c,u,f))}}(c,m,An(gi(),s),u,f))}function Jf(n,i,s,c,u,f){const m=null===i;let C;for(;u>0;){const E=n[u],x=Array.isArray(E),N=x?E[1]:E,G=null===N;let ae=s[u+1];ae===Qt&&(ae=G?Ft:void 0);let be=G?Fn(ae,c):N===c?ae:void 0;if(x&&!fc(be)&&(be=Fn(E,c)),fc(be)&&(C=be,m))return C;const Ze=n[u+1];u=m?Qs(Ze):Io(Ze)}if(null!==i){let E=f?i.residualClasses:i.residualStyles;null!=E&&(C=Fn(E,c))}return C}function fc(n){return void 0!==n}function F_(n,i){return 0!=(n.flags&(i?8:16))}function Kf(n,i=""){const s=Ke(),c=nn(),u=n+fn,f=c.firstCreatePass?ca(c,u,1,i,null):c.data[u],m=s[u]=function Bc(n,i){return n.createText(i)}(s[Ue],i);nl(c,s,m,f),hr(f,!1)}function td(n){return pc("",n,""),td}function pc(n,i,s){const c=Ke(),u=ha(c,n,i,s);return u!==Qt&&Ps(c,gi(),u),pc}function gc(n,i,s,c,u){const f=Ke(),m=function fa(n,i,s,c,u,f){const C=xo(n,fr(),s,u);return pr(2),C?i+Ne(s)+c+Ne(u)+f:Qt}(f,n,i,s,c,u);return m!==Qt&&Ps(f,gi(),m),gc}function o(n,i,s){Qr(Wt,_s,ha(Ke(),n,i,s),!0)}function e(n,i,s,c,u,f,m){Qr(Wt,_s,function pa(n,i,s,c,u,f,m,C){const x=nc(n,fr(),s,u,m);return pr(3),x?i+Ne(s)+c+Ne(u)+f+Ne(m)+C:Qt}(Ke(),n,i,s,c,u,f,m),!0)}function b(n,i,s){Cr(ha(Ke(),n,i,s))}const Sn=void 0;var Yi=["en",[["a","p"],["AM","PM"],Sn],[["AM","PM"],Sn,Sn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sn,"{1} 'at' {0}",Sn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gi(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Ln={};function jr(n){const i=function ys(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=wr(i);if(s)return s;const c=i.split("-")[0];if(s=wr(c),s)return s;if("en"===c)return Yi;throw new xe(701,!1)}function Dr(n){return jr(n)[Rt.PluralCase]}function wr(n){return n in Ln||(Ln[n]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[n]),Ln[n]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const br="en-US";let nd=br;function U_(n,i,s,c,u){if(n=fe(n),Array.isArray(n))for(let f=0;f<n.length;f++)U_(n[f],i,s,c,u);else{const f=nn(),m=Ke();let C=To(n)?n:fe(n.provide),E=yh(n);const x=ai(),N=1048575&x.providerIndexes,G=x.directiveStart,ae=x.providerIndexes>>20;if(To(n)||!n.multi){const be=new un(E,u,la),Ze=B_(C,i,u?N:N+ae,G);-1===Ze?(_o(qo(x,m),f,C),j_(f,n,i.length),i.push(C),x.directiveStart++,x.directiveEnd++,u&&(x.providerIndexes+=1048576),s.push(be),m.push(be)):(s[Ze]=be,m[Ze]=be)}else{const be=B_(C,i,N+ae,G),Ze=B_(C,i,N,N+ae),wt=Ze>=0&&s[Ze];if(u&&!wt||!u&&!(be>=0&&s[be])){_o(qo(x,m),f,C);const Ot=function NC(n,i,s,c,u){const f=new un(n,s,la);return f.multi=[],f.index=i,f.componentProviders=0,v0(f,u,c&&!s),f}(u?PC:LC,s.length,u,c,E);!u&&wt&&(s[Ze].providerFactory=Ot),j_(f,n,i.length,0),i.push(C),x.directiveStart++,x.directiveEnd++,u&&(x.providerIndexes+=1048576),s.push(Ot),m.push(Ot)}else j_(f,n,be>-1?be:Ze,v0(s[u?Ze:be],E,!u&&c));!u&&c&&wt&&s[Ze].componentProviders++}}}function j_(n,i,s,c){const u=To(i),f=function yg(n){return!!n.useClass}(i);if(u||f){const E=(f?fe(i.useClass):i).prototype.ngOnDestroy;if(E){const x=n.destroyHooks||(n.destroyHooks=[]);if(!u&&i.multi){const N=x.indexOf(s);-1===N?x.push(s,[c,E]):x[N+1].push(c,E)}else x.push(s,E)}}}function v0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function B_(n,i,s,c){for(let u=s;u<c;u++)if(i[u]===n)return u;return-1}function LC(n,i,s,c){return $_(this.multi,[])}function PC(n,i,s,c){const u=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=ls(s,s[k],this.providerFactory.index,c);f=C.slice(0,m),$_(u,f);for(let E=m;E<C.length;E++)f.push(C[E])}else f=[],$_(u,f);return f}function $_(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function y0(n,i=[]){return s=>{s.providersResolver=(c,u)=>function RC(n,i,s){const c=nn();if(c.firstCreatePass){const u=oi(n);U_(s,c.data,c.blueprint,u,!0),U_(i,c.data,c.blueprint,u,!1)}}(c,u?u(n):n,i)}}class yc{}class C0{}function UC(n,i){return new D0(n,i??null)}class D0 extends yc{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new af(this);const c=oe(i);this._bootstrapComponents=Ls(c.bootstrap),this._r3Injector=Nh(i,s,[{provide:yc,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],le(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class H_ extends C0{constructor(i){super(),this.moduleType=i}create(i){return new D0(this.moduleType,i)}}class jC extends yc{constructor(i,s,c){super(),this.componentFactoryResolver=new af(this),this.instance=null;const u=new vh([...i,{provide:yc,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],s||Gl(),c,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Z_(n,i,s=null){return new jC(n,i,s).injector}let BC=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const c=gh(0,s.type),u=c.length>0?Z_([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,u)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(Tn(Eo))}),n})();function w0(n){n.getStandaloneInjector=i=>i.get(BC).getOrCreateStandaloneInjector(n)}function I0(n,i,s){const c=En()+n,u=Ke();return u[c]===Qt?gs(u,c,s?i.call(s):i()):fl(u,c)}function A0(n,i,s,c){return L0(Ke(),En(),n,i,s,c)}function O0(n,i,s,c,u){return P0(Ke(),En(),n,i,s,c,u)}function F0(n,i,s,c,u,f){return function N0(n,i,s,c,u,f,m,C){const E=i+s;return nc(n,E,u,f,m)?gs(n,E+3,C?c.call(C,u,f,m):c(u,f,m)):dd(n,E+3)}(Ke(),En(),n,i,s,c,u,f)}function k0(n,i,s,c,u,f,m,C){const E=En()+n,x=Ke(),N=Nr(x,E,s,c,u,f);return Ni(x,E+4,m)||N?gs(x,E+5,C?i.call(C,s,c,u,f,m):i(s,c,u,f,m)):fl(x,E+5)}function R0(n,i,s,c,u,f,m,C,E){const x=En()+n,N=Ke(),G=Nr(N,x,s,c,u,f);return xo(N,x+4,m,C)||G?gs(N,x+6,E?i.call(E,s,c,u,f,m,C):i(s,c,u,f,m,C)):fl(N,x+6)}function dd(n,i){const s=n[i];return s===Qt?void 0:s}function L0(n,i,s,c,u,f){const m=i+s;return Ni(n,m,u)?gs(n,m+1,f?c.call(f,u):c(u)):dd(n,m+1)}function P0(n,i,s,c,u,f,m){const C=i+s;return xo(n,C,u,f)?gs(n,C+2,m?c.call(m,u,f):c(u,f)):dd(n,C+2)}function B0(n,i){const s=nn();let c;const u=n+fn;s.firstCreatePass?(c=function XC(n,i){if(i)for(let s=i.length-1;s>=0;s--){const c=i[s];if(n===c.name)return c}}(i,s.pipeRegistry),s.data[u]=c,c.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,c.onDestroy)):c=s.data[u];const f=c.factory||(c.factory=Bi(c.type)),m=Qn(la);try{const C=Go(!1),E=f();return Go(C),function __(n,i,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=c}(s,Ke(),u,E),E}finally{Qn(m)}}function $0(n,i,s){const c=n+fn,u=Ke(),f=is(u,c);return hd(u,c)?L0(u,En(),i,f.transform,s,f):f.transform(s)}function H0(n,i,s,c){const u=n+fn,f=Ke(),m=is(f,u);return hd(f,u)?P0(f,En(),i,m.transform,s,c,m):m.transform(s,c)}function hd(n,i){return n[k].data[i].pure}function z_(n){return i=>{setTimeout(n,void 0,i)}}const eo=class iD extends T.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,c){let u=i,f=s||(()=>null),m=c;if(i&&"object"==typeof i){const E=i;u=E.next?.bind(E),f=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(f=z_(f),u&&(u=z_(u)),m&&(m=z_(m)));const C=super.subscribe({next:u,error:f,complete:m});return i instanceof R.w0&&i.add(C),C}};function rD(){return this._results[Mo()]()}class G_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Mo(),c=G_.prototype;c[s]||(c[s]=rD)}get changes(){return this._changes||(this._changes=new eo)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const c=this;c.dirty=!1;const u=function g(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function y(n,i,s){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let u=n[c],f=i[c];if(s&&(u=s(u),f=s(f)),f!==u)return!1}return!0}(c._results,u,s))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fd=(()=>{class n{}return n.__NG_ELEMENT_ID__=aD,n})();const sD=fd,oD=class extends sD{constructor(i,s,c){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=c}createEmbeddedView(i,s){const c=this._declarationTContainer.tViews,u=ql(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,null,s||null);u[mn]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[Mt];return null!==m&&(u[Mt]=m.createEmbeddedView(c)),Cu(c,u,i),new ul(u)}};function aD(){return cp(ai(),Ke())}function cp(n,i){return 4&n.type?new oD(i,n,sa(n,i)):null}let up=(()=>{class n{}return n.__NG_ELEMENT_ID__=lD,n})();function lD(){return z0(ai(),Ke())}const cD=up,Z0=class extends cD{constructor(i,s,c){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=c}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){const i=xs(this._hostTNode,this._hostLView);if(Va(i)){const s=zo(i,this._hostLView),c=Vo(i);return new mr(s[k].data[c+8],s)}return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=V0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-si}createEmbeddedView(i,s,c){let u,f;"number"==typeof c?u=c:null!=c&&(u=c.index,f=c.injector);const m=i.createEmbeddedView(s||{},f);return this.insert(m,u),m}createComponent(i,s,c,u,f){const m=i&&!function v(n){return"function"==typeof n}(i);let C;if(m)C=s;else{const G=s||{};C=G.index,c=G.injector,u=G.projectableNodes,f=G.environmentInjector||G.ngModuleRef}const E=m?i:new dl(on(i)),x=c||this.parentInjector;if(!f&&null==E.ngModule){const ae=(m?x:this.parentInjector).get(Eo,null);ae&&(f=ae)}const N=E.create(x,u,void 0,f);return this.insert(N.hostView,C),N}insert(i,s){const c=i._lView,u=c[k];if(function Oa(n){return ci(n[re])}(c)){const N=this.indexOf(i);if(-1!==N)this.detach(N);else{const G=c[re],ae=new Z0(G,G[We],G[re]);ae.detach(ae.indexOf(i))}}const f=this._adjustIndex(s),m=this._lContainer;!function Bd(n,i,s,c){const u=si+c,f=s.length;c>0&&(s[u-1][ve]=i),c<f-si?(i[ve]=s[u],M(s,si+c,i)):(s.push(i),i[ve]=null),i[re]=s;const m=i[mn];null!==m&&s!==m&&function Vp(n,i){const s=n[Zr];i[Vt]!==i[re][re][Vt]&&(n[Ds]=!0),null===s?n[Zr]=[i]:s.push(i)}(m,i);const C=i[Mt];null!==C&&C.insertView(n),i[$]|=64}(u,c,m,f);const C=il(f,m),E=c[Ue],x=Ll(E,m[Sr]);return null!==x&&function Hp(n,i,s,c,u,f){c[j]=u,c[We]=i,_i(n,c,s,1,u,f)}(u,m[We],E,c,x,C),i.attachToViewContainerRef(),M(Y_(m),f,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=V0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),c=Hc(this._lContainer,s);c&&(L(Y_(this._lContainer),s),$d(c[k],c))}detach(i){const s=this._adjustIndex(i,-1),c=Hc(this._lContainer,s);return c&&null!=L(Y_(this._lContainer),s)?new ul(c):null}_adjustIndex(i,s=0){return i??this.length+s}};function V0(n){return n[Hr]}function Y_(n){return n[Hr]||(n[Hr]=[])}function z0(n,i){let s;const c=i[n.index];if(ci(c))s=c;else{let u;if(8&n.type)u=ei(c);else{const f=i[Ue];u=f.createComment("");const m=di(n,i);wo(f,Ll(f,m),u,function qp(n,i){return n.nextSibling(i)}(f,m),!1)}i[n.index]=s=ef(c,i,u,n),Kl(i,s)}return new Z0(s,n,i)}class W_{constructor(i){this.queryList=i,this.matches=null}clone(){return new W_(this.queryList)}setDirty(){this.queryList.setDirty()}}class q_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const c=null!==i.contentQueries?i.contentQueries[0]:s.length,u=[];for(let f=0;f<c;f++){const m=s.getByIndex(f);u.push(this.queries[m.indexInDeclarationView].clone())}return new q_(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==ey(i,s).matches&&this.queries[s].setDirty()}}class G0{constructor(i,s,c=null){this.predicate=i,this.flags=s,this.read=c}}class J_{constructor(i=[]){this.queries=i}elementStart(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let c=0;c<this.length;c++){const u=null!==s?s.length:0,f=this.getByIndex(c).embeddedTView(i,u);f&&(f.indexInDeclarationView=c,null!==s?s.push(f):s=[f])}return null!==s?new J_(s):null}template(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class K_{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new K_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const f=c[u];this.matchTNodeWithReadOption(i,s,uD(s,f)),this.matchTNodeWithReadOption(i,s,Is(s,i,f,!1,!1))}else c===fd?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Is(s,i,c,!1,!1))}matchTNodeWithReadOption(i,s,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===ll||u===up||u===fd&&4&s.type)this.addMatch(s.index,-2);else{const f=Is(s,i,u,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,c)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function uD(n,i){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===i)return s[c+1];return null}function hD(n,i,s,c){return-1===s?function dD(n,i){return 11&n.type?sa(n,i):4&n.type?cp(n,i):null}(i,n):-2===s?function fD(n,i,s){return s===ll?sa(i,n):s===fd?cp(i,n):s===up?z0(i,n):void 0}(n,i,c):ls(n,n[k],s,i)}function Y0(n,i,s,c){const u=i[Mt].queries[c];if(null===u.matches){const f=n.data,m=s.matches,C=[];for(let E=0;E<m.length;E+=2){const x=m[E];C.push(x<0?null:hD(i,f[x],m[E+1],s.metadata.read))}u.matches=C}return u.matches}function Q_(n,i,s,c){const u=n.queries.getByIndex(s),f=u.matches;if(null!==f){const m=Y0(n,i,u,s);for(let C=0;C<f.length;C+=2){const E=f[C];if(E>0)c.push(m[C/2]);else{const x=f[C+1],N=i[-E];for(let G=si;G<N.length;G++){const ae=N[G];ae[mn]===ae[re]&&Q_(ae[k],ae,x,c)}if(null!==N[Zr]){const G=N[Zr];for(let ae=0;ae<G.length;ae++){const be=G[ae];Q_(be[k],be,x,c)}}}}}return c}function W0(n){const i=Ke(),s=nn(),c=Or();Ss(c+1);const u=ey(s,c);if(n.dirty&&function rs(n){return 4==(4&n[$])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const f=u.crossesNgTemplate?Q_(s,i,c,[]):Y0(s,i,u,c);n.reset(f,Ag),n.notifyOnChanges()}return!0}return!1}function q0(n,i,s){const c=nn();c.firstCreatePass&&(X0(c,new G0(n,i,s),-1),2==(2&i)&&(c.staticViewQueries=!0)),Q0(c,Ke(),i)}function J0(n,i,s,c){const u=nn();if(u.firstCreatePass){const f=ai();X0(u,new G0(i,s,c),f.index),function gD(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}Q0(u,Ke(),s)}function K0(){return function pD(n,i){return n[Mt].queries[i].queryList}(Ke(),Or())}function Q0(n,i,s){const c=new G_(4==(4&s));Wh(n,i,c,c.destroy),null===i[Mt]&&(i[Mt]=new q_),i[Mt].queries.push(new W_(c))}function X0(n,i,s){null===n.queries&&(n.queries=new J_),n.queries.track(new K_(i,s))}function ey(n,i){return n.queries.getByIndex(i)}function ty(n,i){return cp(n,i)}function hp(...n){}const Cy=new On("Application Initializer");let fp=(()=>{class n{constructor(s){this.appInits=s,this.resolve=hp,this.reject=hp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if($u(f))s.push(f);else if(Tf(f)){const m=new Promise((C,E)=>{f.subscribe({complete:C,error:E})});s.push(m)}}Promise.all(s).then(()=>{c()}).catch(u=>{this.reject(u)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Tn(Cy,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dy=new On("AppId",{providedIn:"root",factory:function wy(){return`${iv()}${iv()}${iv()}`}});function iv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const by=new On("Platform Initializer"),LD=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ty=new On("appBootstrapListener");let PD=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const pp=new On("LocaleId",{providedIn:"root",factory:()=>He(pp,kt.Optional|kt.SkipSelf)||function ND(){return typeof $localize<"u"&&$localize.locale||br}()}),UD=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jD{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let BD=(()=>{class n{compileModuleSync(s){return new H_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),f=Ls(oe(s).declarations).reduce((m,C)=>{const E=on(C);return E&&m.push(new dl(E)),m},[]);return new jD(c,f)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZD=(()=>Promise.resolve(0))();function rv(n){typeof Zone>"u"?ZD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Cs{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eo(!1),this.onMicrotaskEmpty=new eo(!1),this.onStable=new eo(!1),this.onError=new eo(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&s,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function VD(){let n=$t.requestAnimationFrame,i=$t.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function YD(n){const i=()=>{!function GD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($t,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ov(n),n.isCheckStableRunning=!0,sv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ov(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,u,f,m,C)=>{try{return My(n),s.invokeTask(u,f,m,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&i(),xy(n)}},onInvoke:(s,c,u,f,m,C,E)=>{try{return My(n),s.invoke(u,f,m,C,E)}finally{n.shouldCoalesceRunChangeDetection&&i(),xy(n)}},onHasTask:(s,c,u,f)=>{s.hasTask(u,f),c===u&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,ov(n),sv(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,c,u,f)=>(s.handleError(u,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Cs.isInAngularZone())throw new xe(909,!1)}run(i,s,c){return this._inner.run(i,s,c)}runTask(i,s,c,u){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+u,i,zD,hp,hp);try{return f.runTask(m,s,c)}finally{f.cancelTask(m)}}runGuarded(i,s,c){return this._inner.runGuarded(i,s,c)}runOutsideAngular(i){return this._outer.run(i)}}const zD={};function sv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ov(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function My(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xy(n){n._nesting--,sv(n)}class WD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eo,this.onMicrotaskEmpty=new eo,this.onStable=new eo,this.onError=new eo}run(i,s,c){return i.apply(s,c)}runGuarded(i,s,c){return i.apply(s,c)}runOutsideAngular(i){return i()}runTask(i,s,c,u){return i.apply(s,c)}}const Iy=new On(""),Ay=new On("");let av,qD=(()=>{class n{constructor(s,c,u){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,av||(function JD(n){av=n}(u),u.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cs.assertNotInAngularZone(),rv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,u){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:u})}whenStable(s,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(Tn(Cs),Tn(Oy),Tn(Ay))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Oy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return av?.findTestabilityInTree(this,s,c)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ta=null;const Fy=new On("AllowMultipleToken"),lv=new On("PlatformDestroyListeners"),Oo=!1;class XD{constructor(i,s){this.name=i,this.token=s}}function Ry(n,i,s=[]){const c=`Platform: ${i}`,u=new On(c);return(f=[])=>{let m=cv();if(!m||m.injector.get(Fy,!1)){const C=[...s,...f,{provide:u,useValue:!0}];n?n(C):function e1(n){if(Ta&&!Ta.get(Fy,!1))throw new xe(400,!1);Ta=n;const i=n.get(Py);(function ky(n){const i=n.get(by,null);i&&i.forEach(s=>s())})(n)}(function Ly(n=[],i){return So.create({name:i,providers:[{provide:lu,useValue:"platform"},{provide:lv,useValue:new Set([()=>Ta=null])},...n]})}(C,c))}return function n1(n){const i=cv();if(!i)throw new xe(401,!1);return i}()}}function cv(){return Ta?.get(Py)??null}let Py=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const u=function Uy(n,i){let s;return s="noop"===n?new WD:("zone.js"===n?void 0:n)||new Cs(i),s}(c?.ngZone,function Ny(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:Cs,useValue:u}];return u.run(()=>{const m=So.create({providers:f,parent:this.injector,name:s.moduleType.name}),C=s.create(m),E=C.injector.get(cl,null);if(!E)throw new xe(402,!1);return u.runOutsideAngular(()=>{const x=u.onError.subscribe({next:N=>{E.handleError(N)}});C.onDestroy(()=>{mp(this._modules,C),x.unsubscribe()})}),function jy(n,i,s){try{const c=s();return $u(c)?c.catch(u=>{throw i.runOutsideAngular(()=>n.handleError(u)),u}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(E,u,()=>{const x=C.injector.get(fp);return x.runInitializers(),x.donePromise.then(()=>(function np(n){me(n,"Expected localeId to be defined"),"string"==typeof n&&(nd=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(pp,br)||br),this._moduleDoBootstrap(C),C))})})}bootstrapModule(s,c=[]){const u=By({},c);return function KD(n,i,s){const c=new H_(s);return Promise.resolve(c)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(s){const c=s.injector.get(gp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new xe(403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(lv,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Tn(So))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function By(n,i){return Array.isArray(i)?i.reduce(By,n):{...n,...i}}let gp=(()=>{class n{constructor(s,c,u){this._zone=s,this._injector=c,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new t.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new t.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Cs.assertNotInAngularZone(),rv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),x.unsubscribe()}});this.isStable=(0,z.T)(f,m.pipe((0,W.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const u=s instanceof Ch;if(!this._injector.get(fp).done){!u&&$r(s);throw new xe(405,Oo)}let m;m=u?s:this._injector.get(al).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const C=function QD(n){return n.isBoundToModule}(m)?void 0:this._injector.get(yc),x=m.create(So.NULL,[],c||m.selector,C),N=x.location.nativeElement,G=x.injector.get(Iy,null);return G?.registerApplication(N),x.onDestroy(()=>{this.detachView(x.hostView),mp(this.components,x),G?.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;mp(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(Ty,[]);c.push(...this._bootstrapListeners),c.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>mp(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new xe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Tn(Cs),Tn(Eo),Tn(cl))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mp(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let r1=(()=>{class n{}return n.__NG_ELEMENT_ID__=s1,n})();function s1(n){return function o1(n,i,s){if(wi(n)&&!s){const c=bi(n.index,i);return new ul(c,c)}return 47&n.type?new ul(i[Vt],i):null}(ai(),Ke(),16==(16&n))}class zy{constructor(){}supports(i){return hl(i)}create(i){return new h1(i)}}const d1=(n,i)=>i;class h1{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||d1}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,c=this._removalsHead,u=0,f=null;for(;s||c;){const m=!c||s&&s.currentIndex<Yy(c,u,f)?s:c,C=Yy(m,u,f),E=m.currentIndex;if(m===c)u--,c=c._nextRemoved;else if(s=s._next,null==m.previousIndex)u++;else{f||(f=[]);const x=C-u,N=E-u;if(x!=N){for(let ae=0;ae<x;ae++){const be=ae<f.length?f[ae]:f[ae]=0,Ze=be+ae;N<=Ze&&Ze<x&&(f[ae]=be+1)}f[m.previousIndex]=N-x}}C!==E&&i(m,C,E)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!hl(i))throw new xe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,f,m,s=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let C=0;C<this.length;C++)f=i[C],m=this._trackByFn(C,f),null!==s&&Object.is(s.trackById,m)?(c&&(s=this._verifyReinsertion(s,f,m,C)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,m,C),c=!0),s=s._next}else u=0,function f_(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Mo()]();let c;for(;!(c=s.next()).done;)i(c.value)}}(i,C=>{m=this._trackByFn(u,C),null!==s&&Object.is(s.trackById,m)?(c&&(s=this._verifyReinsertion(s,C,m,u)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,m,u),c=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,c,u){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,f,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,f,u)):i=this._addAfter(new f1(s,c),f,u),i}_verifyReinsertion(i,s,c,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?i=this._reinsertAfter(f,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,f=i._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(i,s,c),this._addToMoves(i,c),i}_moveAfter(i,s,c){return this._unlink(i),this._insertAfter(i,s,c),this._addToMoves(i,c),i}_addAfter(i,s,c){return this._insertAfter(i,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,c){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Gy),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,c=i._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gy),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class f1{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p1{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const s=i._prevDup,c=i._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class Gy{constructor(){this.map=new Map}put(i){const s=i.trackById;let c=this.map.get(s);c||(c=new p1,this.map.set(s,c)),c.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yy(n,i,s){const c=n.previousIndex;if(null===c)return c;let u=0;return s&&c<s.length&&(u=s[c]),c+i+u}class Wy{constructor(){}supports(i){return i instanceof Map||ku(i)}create(){return new g1}}class g1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||ku(i)))throw new xe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(u,c);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const c=i._prev;return s._next=i,s._prev=c,i._prev=s,c&&(c._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const f=u._prev,m=u._next;return f&&(f._next=m),m&&(m._prev=f),u._next=null,u._prev=null,u}const c=new m1(i);return this._records.set(i,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(c=>s(i[c],c))}}class m1{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qy(){return new pv([new zy])}let pv=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const u=c.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||qy()),deps:[[n,new Xo,new Co]]}}find(s){const c=this.factories.find(u=>u.supports(s));if(null!=c)return c;throw new xe(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:qy}),n})();function Jy(){return new gv([new Wy])}let gv=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const u=c.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Jy()),deps:[[n,new Xo,new Co]]}}find(s){const c=this.factories.find(u=>u.supports(s));if(c)return c;throw new xe(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:Jy}),n})();const y1=Ry(null,"core",[]);let C1=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Tn(gp))},n.\u0275mod=Di({type:n}),n.\u0275inj=Ae({}),n})();function D1(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(nt,_e,A)=>{"use strict";A.d(_e,{Dx:()=>lr,b2:()=>kt,q6:()=>bn});var T=A(6895),R=A(4650);class t extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z extends t{static makeCurrent(){(0,T.HT)(new z)}onAndCancel(te,Y,De){return te.addEventListener(Y,De,!1),()=>{te.removeEventListener(Y,De,!1)}}dispatchEvent(te,Y){te.dispatchEvent(Y)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,Y){return(Y=Y||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,Y){return"window"===Y?window:"document"===Y?te:"body"===Y?te.body:null}getBaseHref(te){const Y=function J(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==Y?null:function le(pe){ee=ee||document.createElement("a"),ee.setAttribute("href",pe);const te=ee.pathname;return"/"===te.charAt(0)?te:`/${te}`}(Y)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,T.Mx)(document.cookie,te)}}let ee,W=null;const we=new R.OlP("TRANSITION_ID"),de=[{provide:R.ip1,useFactory:function ge(pe,te,Y){return()=>{Y.get(R.CZH).donePromise.then(()=>{const De=(0,T.q)(),Ve=te.querySelectorAll(`style[ng-transition="${pe}"]`);for(let Lt=0;Lt<Ve.length;Lt++)De.remove(Ve[Lt])})}},deps:[we,T.K0,R.zs3],multi:!0}];let at=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(Y){return new(Y||pe)},pe.\u0275prov=R.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const ye=new R.OlP("EventManagerPlugins");let Oe=(()=>{class pe{constructor(Y,De){this._zone=De,this._eventNameToPlugin=new Map,Y.forEach(Ve=>Ve.manager=this),this._plugins=Y.slice().reverse()}addEventListener(Y,De,Ve){return this._findPluginFor(De).addEventListener(Y,De,Ve)}addGlobalEventListener(Y,De,Ve){return this._findPluginFor(De).addGlobalEventListener(Y,De,Ve)}getZone(){return this._zone}_findPluginFor(Y){const De=this._eventNameToPlugin.get(Y);if(De)return De;const Ve=this._plugins;for(let Lt=0;Lt<Ve.length;Lt++){const Se=Ve[Lt];if(Se.supports(Y))return this._eventNameToPlugin.set(Y,Se),Se}throw new Error(`No event manager plugin found for event ${Y}`)}}return pe.\u0275fac=function(Y){return new(Y||pe)(R.LFG(ye),R.LFG(R.R0b))},pe.\u0275prov=R.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class ut{constructor(te){this._doc=te}addGlobalEventListener(te,Y,De){const Ve=(0,T.q)().getGlobalEventTarget(this._doc,te);if(!Ve)throw new Error(`Unsupported event target ${Ve} for event ${Y}`);return this.addEventListener(Ve,Y,De)}}let xe=(()=>{class pe{constructor(){this._stylesSet=new Set}addStyles(Y){const De=new Set;Y.forEach(Ve=>{this._stylesSet.has(Ve)||(this._stylesSet.add(Ve),De.add(Ve))}),this.onStylesAdded(De)}onStylesAdded(Y){}getAllStyles(){return Array.from(this._stylesSet)}}return pe.\u0275fac=function(Y){return new(Y||pe)},pe.\u0275prov=R.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Be=(()=>{class pe extends xe{constructor(Y){super(),this._doc=Y,this._hostNodes=new Map,this._hostNodes.set(Y.head,[])}_addStylesToHost(Y,De,Ve){Y.forEach(Lt=>{const Se=this._doc.createElement("style");Se.textContent=Lt,Ve.push(De.appendChild(Se))})}addHost(Y){const De=[];this._addStylesToHost(this._stylesSet,Y,De),this._hostNodes.set(Y,De)}removeHost(Y){const De=this._hostNodes.get(Y);De&&De.forEach(Ne),this._hostNodes.delete(Y)}onStylesAdded(Y){this._hostNodes.forEach((De,Ve)=>{this._addStylesToHost(Y,Ve,De)})}ngOnDestroy(){this._hostNodes.forEach(Y=>Y.forEach(Ne))}}return pe.\u0275fac=function(Y){return new(Y||pe)(R.LFG(T.K0))},pe.\u0275prov=R.Yz7({token:pe,factory:pe.\u0275fac}),pe})();function Ne(pe){(0,T.q)().remove(pe)}const Re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pe=/%COMP%/g;function Le(pe,te){return te.flat(100).map(Y=>Y.replace(Pe,pe))}function Ee(pe){return te=>{if("__ngUnwrap__"===te)return pe;!1===pe(te)&&(te.preventDefault(),te.returnValue=!1)}}let ie=(()=>{class pe{constructor(Y,De,Ve){this.eventManager=Y,this.sharedStylesHost=De,this.appId=Ve,this.rendererByCompId=new Map,this.defaultRenderer=new Ce(Y)}createRenderer(Y,De){if(!Y||!De)return this.defaultRenderer;switch(De.encapsulation){case R.ifc.Emulated:{let Ve=this.rendererByCompId.get(De.id);return Ve||(Ve=new Q(this.eventManager,this.sharedStylesHost,De,this.appId),this.rendererByCompId.set(De.id,Ve)),Ve.applyToHost(Y),Ve}case 1:case R.ifc.ShadowDom:return new he(this.eventManager,this.sharedStylesHost,Y,De);default:if(!this.rendererByCompId.has(De.id)){const Ve=Le(De.id,De.styles);this.sharedStylesHost.addStyles(Ve),this.rendererByCompId.set(De.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return pe.\u0275fac=function(Y){return new(Y||pe)(R.LFG(Oe),R.LFG(Be),R.LFG(R.AFp))},pe.\u0275prov=R.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Ce{constructor(te){this.eventManager=te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,Y){return Y?document.createElementNS(Re[Y]||Y,te):document.createElement(te)}createComment(te){return document.createComment(te)}createText(te){return document.createTextNode(te)}appendChild(te,Y){(vt(te)?te.content:te).appendChild(Y)}insertBefore(te,Y,De){te&&(vt(te)?te.content:te).insertBefore(Y,De)}removeChild(te,Y){te&&te.removeChild(Y)}selectRootElement(te,Y){let De="string"==typeof te?document.querySelector(te):te;if(!De)throw new Error(`The selector "${te}" did not match any elements`);return Y||(De.textContent=""),De}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,Y,De,Ve){if(Ve){Y=Ve+":"+Y;const Lt=Re[Ve];Lt?te.setAttributeNS(Lt,Y,De):te.setAttribute(Y,De)}else te.setAttribute(Y,De)}removeAttribute(te,Y,De){if(De){const Ve=Re[De];Ve?te.removeAttributeNS(Ve,Y):te.removeAttribute(`${De}:${Y}`)}else te.removeAttribute(Y)}addClass(te,Y){te.classList.add(Y)}removeClass(te,Y){te.classList.remove(Y)}setStyle(te,Y,De,Ve){Ve&(R.JOm.DashCase|R.JOm.Important)?te.style.setProperty(Y,De,Ve&R.JOm.Important?"important":""):te.style[Y]=De}removeStyle(te,Y,De){De&R.JOm.DashCase?te.style.removeProperty(Y):te.style[Y]=""}setProperty(te,Y,De){te[Y]=De}setValue(te,Y){te.nodeValue=Y}listen(te,Y,De){return"string"==typeof te?this.eventManager.addGlobalEventListener(te,Y,Ee(De)):this.eventManager.addEventListener(te,Y,Ee(De))}}function vt(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class Q extends Ce{constructor(te,Y,De,Ve){super(te),this.component=De;const Lt=Le(Ve+"-"+De.id,De.styles);Y.addStyles(Lt),this.contentAttr=function dt(pe){return"_ngcontent-%COMP%".replace(Pe,pe)}(Ve+"-"+De.id),this.hostAttr=function je(pe){return"_nghost-%COMP%".replace(Pe,pe)}(Ve+"-"+De.id)}applyToHost(te){super.setAttribute(te,this.hostAttr,"")}createElement(te,Y){const De=super.createElement(te,Y);return super.setAttribute(De,this.contentAttr,""),De}}class he extends Ce{constructor(te,Y,De,Ve){super(te),this.sharedStylesHost=Y,this.hostEl=De,this.shadowRoot=De.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=Le(Ve.id,Ve.styles);for(let Se=0;Se<Lt.length;Se++){const Cn=document.createElement("style");Cn.textContent=Lt[Se],this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(te,Y){return super.appendChild(this.nodeOrShadowRoot(te),Y)}insertBefore(te,Y,De){return super.insertBefore(this.nodeOrShadowRoot(te),Y,De)}removeChild(te,Y){return super.removeChild(this.nodeOrShadowRoot(te),Y)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}}let me=(()=>{class pe extends ut{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,De,Ve){return Y.addEventListener(De,Ve,!1),()=>this.removeEventListener(Y,De,Ve)}removeEventListener(Y,De,Ve){return Y.removeEventListener(De,Ve)}}return pe.\u0275fac=function(Y){return new(Y||pe)(R.LFG(T.K0))},pe.\u0275prov=R.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const U=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let Ie=(()=>{class pe extends ut{constructor(Y){super(Y)}supports(Y){return null!=pe.parseEventName(Y)}addEventListener(Y,De,Ve){const Lt=pe.parseEventName(De),Se=pe.eventCallback(Lt.fullKey,Ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(Y,Lt.domEventName,Se))}static parseEventName(Y){const De=Y.toLowerCase().split("."),Ve=De.shift();if(0===De.length||"keydown"!==Ve&&"keyup"!==Ve)return null;const Lt=pe._normalizeKey(De.pop());let Se="",Cn=De.indexOf("code");if(Cn>-1&&(De.splice(Cn,1),Se="code."),U.forEach(pi=>{const Xt=De.indexOf(pi);Xt>-1&&(De.splice(Xt,1),Se+=pi+".")}),Se+=Lt,0!=De.length||0===Lt.length)return null;const Yn={};return Yn.domEventName=Ve,Yn.fullKey=Se,Yn}static matchEventFullKeyCode(Y,De){let Ve=Qe[Y.key]||Y.key,Lt="";return De.indexOf("code.")>-1&&(Ve=Y.code,Lt="code."),!(null==Ve||!Ve)&&(Ve=Ve.toLowerCase()," "===Ve?Ve="space":"."===Ve&&(Ve="dot"),U.forEach(Se=>{Se!==Ve&&(0,I[Se])(Y)&&(Lt+=Se+".")}),Lt+=Ve,Lt===De)}static eventCallback(Y,De,Ve){return Lt=>{pe.matchEventFullKeyCode(Lt,Y)&&Ve.runGuarded(()=>De(Lt))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}}return pe.\u0275fac=function(Y){return new(Y||pe)(R.LFG(T.K0))},pe.\u0275prov=R.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const bn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:T.bD},{provide:R.g9A,useValue:function xt(){z.makeCurrent()},multi:!0},{provide:T.K0,useFactory:function an(){return(0,R.RDi)(document),document},deps:[]}]),sn=new R.OlP(""),qt=[{provide:R.rWj,useClass:class fe{addToWindow(te){R.dqk.getAngularTestability=(De,Ve=!0)=>{const Lt=te.findTestabilityInTree(De,Ve);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},R.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(De=>{const Ve=R.dqk.getAllAngularTestabilities();let Lt=Ve.length,Se=!1;const Cn=function(Yn){Se=Se||Yn,Lt--,0==Lt&&De(Se)};Ve.forEach(function(Yn){Yn.whenStable(Cn)})})}findTestabilityInTree(te,Y,De){return null==Y?null:te.getTestability(Y)??(De?(0,T.q)().isShadowRoot(Y)?this.findTestabilityInTree(te,Y.host,!0):this.findTestabilityInTree(te,Y.parentElement,!0):null)}},deps:[]},{provide:R.lri,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]}],ii=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function Gt(){return new R.qLn},deps:[]},{provide:ye,useClass:me,multi:!0,deps:[T.K0,R.R0b,R.Lbi]},{provide:ye,useClass:Ie,multi:!0,deps:[T.K0]},{provide:ie,useClass:ie,deps:[Oe,Be,R.AFp]},{provide:R.FYo,useExisting:ie},{provide:xe,useExisting:Be},{provide:Be,useClass:Be,deps:[T.K0]},{provide:Oe,useClass:Oe,deps:[ye,R.R0b]},{provide:T.JF,useClass:at,deps:[]},[]];let kt=(()=>{class pe{constructor(Y){}static withServerTransition(Y){return{ngModule:pe,providers:[{provide:R.AFp,useValue:Y.appId},{provide:we,useExisting:R.AFp},de]}}}return pe.\u0275fac=function(Y){return new(Y||pe)(R.LFG(sn,12))},pe.\u0275mod=R.oAB({type:pe}),pe.\u0275inj=R.cJS({providers:[...ii,...qt],imports:[T.ez,R.hGG]}),pe})(),lr=(()=>{class pe{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}}return pe.\u0275fac=function(Y){return new(Y||pe)(R.LFG(T.K0))},pe.\u0275prov=R.Yz7({token:pe,factory:function(Y){let De=null;return De=Y?new Y:function yi(){return new lr((0,R.LFG)(T.K0))}(),De},providedIn:"root"}),pe})();typeof window<"u"&&window},7434:(nt,_e,A)=>{"use strict";A.d(_e,{F0:()=>Ii,Bz:()=>vd,lC:()=>No});var T=A(4650),R=A(2076),t=A(9646),z=A(1135),W=A(6805),J=A(9841),ee=A(7272),le=A(9770),we=A(9635),ge=A(2843),de=A(9751),fe=A(515),at=A(727),ye=A(4482),Oe=A(5403);function ut(){return(0,ye.e)((v,y)=>{let g=null;v._refCount++;const w=(0,Oe.x)(y,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(g=null);const M=v._connection,L=g;g=null,M&&(!L||M===L)&&M.unsubscribe(),y.unsubscribe()});v.subscribe(w),w.closed||(g=v.connect())})}class xe extends de.y{constructor(y,g){super(),this.source=y,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new at.w0;const g=this.getSubject();y.add(this.source.subscribe((0,Oe.x)(g,void 0,()=>{this._teardown(),g.complete()},w=>{this._teardown(),g.error(w)},()=>this._teardown()))),y.closed&&(this._connection=null,y=at.w0.EMPTY)}return y}refCount(){return ut()(this)}}var Be=A(7579),Ne=A(6895),Re=A(4004),Pe=A(3900),Te=A(5698),st=A(3269),it=A(9300),dt=A(5577),je=A(590),Le=A(4351),Ee=A(8505),rt=A(262),ie=A(5026);function Ce(v){return v<=0?()=>fe.E:(0,ye.e)((y,g)=>{let w=[];y.subscribe((0,Oe.x)(g,M=>{w.push(M),v<w.length&&w.shift()},()=>{for(const M of w)g.next(M);g.complete()},void 0,()=>{w=null}))})}var V=A(8068),qe=A(6590),vt=A(4671);function Q(v,y){const g=arguments.length>=2;return w=>w.pipe(v?(0,it.h)((M,L)=>v(M,L,w)):vt.y,Ce(1),g?(0,qe.d)(y):(0,V.T)(()=>new W.K))}var me=A(9718);function U(v){return(0,ye.e)((y,g)=>{try{y.subscribe(g)}finally{g.add(v)}})}var Qe=A(8189),I=A(1481);const Ie="primary",H=Symbol("RouteTitle");class Me{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const g=this.params[y];return Array.isArray(g)?g[0]:g}return null}getAll(y){if(this.has(y)){const g=this.params[y];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Ae(v){return new Me(v)}function Ye(v,y,g){const w=g.path.split("/");if(w.length>v.length||"full"===g.pathMatch&&(y.hasChildren()||w.length<v.length))return null;const M={};for(let L=0;L<w.length;L++){const B=w[L],ce=v[L];if(B.startsWith(":"))M[B.substring(1)]=ce;else if(B!==ce.path)return null}return{consumed:v.slice(0,w.length),posParams:M}}function xt(v,y){const g=v?Object.keys(v):void 0,w=y?Object.keys(y):void 0;if(!g||!w||g.length!=w.length)return!1;let M;for(let L=0;L<g.length;L++)if(M=g[L],!Gt(v[M],y[M]))return!1;return!0}function Gt(v,y){if(Array.isArray(v)&&Array.isArray(y)){if(v.length!==y.length)return!1;const g=[...v].sort(),w=[...y].sort();return g.every((M,L)=>w[L]===M)}return v===y}function an(v){return Array.prototype.concat.apply([],v)}function dn(v){return v.length>0?v[v.length-1]:null}function sn(v,y){for(const g in v)v.hasOwnProperty(g)&&y(v[g],g)}function qt(v){return(0,T.CqO)(v)?v:(0,T.QGY)(v)?(0,R.D)(Promise.resolve(v)):(0,t.of)(v)}const ii=!1,kt={exact:function yi(v,y,g){if(!Mn(v.segments,y.segments)||!Et(v.segments,y.segments,g)||v.numberOfChildren!==y.numberOfChildren)return!1;for(const w in y.children)if(!v.children[w]||!yi(v.children[w],y.children[w],g))return!1;return!0},subset:$t},qi={exact:function Qn(v,y){return xt(v,y)},subset:function lr(v,y){return Object.keys(y).length<=Object.keys(v).length&&Object.keys(y).every(g=>Gt(v[g],y[g]))},ignored:()=>!0};function Oi(v,y,g){return kt[g.paths](v.root,y.root,g.matrixParams)&&qi[g.queryParams](v.queryParams,y.queryParams)&&!("exact"===g.fragment&&v.fragment!==y.fragment)}function $t(v,y,g){return It(v,y,y.segments,g)}function It(v,y,g,w){if(v.segments.length>g.length){const M=v.segments.slice(0,g.length);return!(!Mn(M,g)||y.hasChildren()||!Et(M,g,w))}if(v.segments.length===g.length){if(!Mn(v.segments,g)||!Et(v.segments,g,w))return!1;for(const M in y.children)if(!v.children[M]||!$t(v.children[M],y.children[M],w))return!1;return!0}{const M=g.slice(0,v.segments.length),L=g.slice(v.segments.length);return!!(Mn(v.segments,M)&&Et(v.segments,M,w)&&v.children[Ie])&&It(v.children[Ie],y,L,w)}}function Et(v,y,g){return y.every((w,M)=>qi[g](v[M].parameters,w.parameters))}class ri{constructor(y=new Pt([],{}),g={},w=null){this.root=y,this.queryParams=g,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return ln.serialize(this)}}class Pt{constructor(y,g){this.segments=y,this.children=g,this.parent=null,sn(g,(w,M)=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ci(this)}}class gn{constructor(y,g){this.path=y,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Ae(this.parameters)),this._parameterMap}toString(){return Je(this)}}function Mn(v,y){return v.length===y.length&&v.every((g,w)=>g.path===y[w].path)}let tn=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:function(){return new Er},providedIn:"root"}),v})();class Er{parse(y){const g=new Ft(y);return new ri(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(y){const g=`/${Gn(y.root,!0)}`,w=function hn(v){const y=Object.keys(v).map(g=>{const w=v[g];return Array.isArray(w)?w.map(M=>`${Fi(g)}=${Fi(M)}`).join("&"):`${Fi(g)}=${Fi(w)}`}).filter(g=>!!g);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${g}${w}${"string"==typeof y.fragment?`#${function He(v){return encodeURI(v)}(y.fragment)}`:""}`}}const ln=new Er;function Ci(v){return v.segments.map(y=>Je(y)).join("/")}function Gn(v,y){if(!v.hasChildren())return Ci(v);if(y){const g=v.children[Ie]?Gn(v.children[Ie],!1):"",w=[];return sn(v.children,(M,L)=>{L!==Ie&&w.push(`${L}:${Gn(M,!1)}`)}),w.length>0?`${g}(${w.join("//")})`:g}{const g=function Ji(v,y){let g=[];return sn(v.children,(w,M)=>{M===Ie&&(g=g.concat(y(w,M)))}),sn(v.children,(w,M)=>{M!==Ie&&(g=g.concat(y(w,M)))}),g}(v,(w,M)=>M===Ie?[Gn(v.children[Ie],!1)]:[`${M}:${Gn(w,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Ie]?`${Ci(v)}/${g[0]}`:`${Ci(v)}/(${g.join("//")})`}}function Tn(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fi(v){return Tn(v).replace(/%3B/gi,";")}function K(v){return Tn(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ue(v){return decodeURIComponent(v)}function ot(v){return ue(v.replace(/\+/g,"%20"))}function Je(v){return`${K(v.path)}${function jt(v){return Object.keys(v).map(y=>`;${K(y)}=${K(v[y])}`).join("")}(v.parameters)}`}const pn=/^[^\/()?;=#]+/;function Nt(v){const y=v.match(pn);return y?y[0]:""}const $n=/^[^=?&#]+/,In=/^[^&#]+/;class Ft{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(y.length>0||Object.keys(g).length>0)&&(w[Ie]=new Pt(y,g)),w}parseSegment(){const y=Nt(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new T.vHH(4009,ii);return this.capture(y),new gn(ue(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const g=Nt(this.remaining);if(!g)return;this.capture(g);let w="";if(this.consumeOptional("=")){const M=Nt(this.remaining);M&&(w=M,this.capture(w))}y[ue(g)]=ue(w)}parseQueryParam(y){const g=function Ki(v){const y=v.match($n);return y?y[0]:""}(this.remaining);if(!g)return;this.capture(g);let w="";if(this.consumeOptional("=")){const B=function yn(v){const y=v.match(In);return y?y[0]:""}(this.remaining);B&&(w=B,this.capture(w))}const M=ot(g),L=ot(w);if(y.hasOwnProperty(M)){let B=y[M];Array.isArray(B)||(B=[B],y[M]=B),B.push(L)}else y[M]=L}parseParens(y){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=Nt(this.remaining),M=this.remaining[w.length];if("/"!==M&&")"!==M&&";"!==M)throw new T.vHH(4010,ii);let L;w.indexOf(":")>-1?(L=w.slice(0,w.indexOf(":")),this.capture(L),this.capture(":")):y&&(L=Ie);const B=this.parseChildren();g[L]=1===Object.keys(B).length?B[Ie]:new Pt([],B),this.consumeOptional("//")}return g}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new T.vHH(4011,ii)}}function pe(v){return v.segments.length>0?new Pt([],{[Ie]:v}):v}function te(v){const y={};for(const w of Object.keys(v.children)){const L=te(v.children[w]);(L.segments.length>0||L.hasChildren())&&(y[w]=L)}return function Y(v){if(1===v.numberOfChildren&&v.children[Ie]){const y=v.children[Ie];return new Pt(v.segments.concat(y.segments),y.children)}return v}(new Pt(v.segments,y))}function De(v){return v instanceof ri}const Ve=!1;function Yn(v,y,g,w,M){if(0===g.length)return Di(y.root,y.root,y.root,w,M);const L=function es(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new cr(!0,0,v);let y=0,g=!1;const w=v.reduce((M,L,B)=>{if("object"==typeof L&&null!=L){if(L.outlets){const ce={};return sn(L.outlets,(Xe,bt)=>{ce[bt]="string"==typeof Xe?Xe.split("/"):Xe}),[...M,{outlets:ce}]}if(L.segmentPath)return[...M,L.segmentPath]}return"string"!=typeof L?[...M,L]:0===B?(L.split("/").forEach((ce,Xe)=>{0==Xe&&"."===ce||(0==Xe&&""===ce?g=!0:".."===ce?y++:""!=ce&&M.push(ce))}),M):[...M,L]},[]);return new cr(g,y,w)}(g);return L.toRoot()?Di(y.root,y.root,new Pt([],{}),w,M):function B(Xe){const bt=function Xn(v,y,g,w){if(v.isAbsolute)return new Ui(y.root,!0,0);if(-1===w)return new Ui(g,g===y.root,0);return function Hn(v,y,g){let w=v,M=y,L=g;for(;L>M;){if(L-=M,w=w.parent,!w)throw new T.vHH(4005,Ve&&"Invalid number of '../'");M=w.segments.length}return new Ui(w,!1,M-L)}(g,w+(pi(v.commands[0])?0:1),v.numberOfDoubleDots)}(L,y,v.snapshot?._urlSegment,Xe),At=bt.processChildren?j(bt.segmentGroup,bt.index,L.commands):oe(bt.segmentGroup,bt.index,L.commands);return Di(y.root,bt.segmentGroup,At,w,M)}(v.snapshot?._lastPathIndex)}function pi(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Xt(v){return"object"==typeof v&&null!=v&&v.outlets}function Di(v,y,g,w,M){let B,L={};w&&sn(w,(Xe,bt)=>{L[bt]=Array.isArray(Xe)?Xe.map(At=>`${At}`):`${Xe}`}),B=v===y?g:Qi(v,y,g);const ce=pe(te(B));return new ri(ce,L,M)}function Qi(v,y,g){const w={};return sn(v.children,(M,L)=>{w[L]=M===y?g:Qi(M,y,g)}),new Pt(v.segments,w)}class cr{constructor(y,g,w){if(this.isAbsolute=y,this.numberOfDoubleDots=g,this.commands=w,y&&w.length>0&&pi(w[0]))throw new T.vHH(4003,Ve&&"Root segment cannot have matrix parameters");const M=w.find(Xt);if(M&&M!==dn(w))throw new T.vHH(4004,Ve&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ui{constructor(y,g,w){this.segmentGroup=y,this.processChildren=g,this.index=w}}function oe(v,y,g){if(v||(v=new Pt([],{})),0===v.segments.length&&v.hasChildren())return j(v,y,g);const w=function k(v,y,g){let w=0,M=y;const L={match:!1,pathIndex:0,commandIndex:0};for(;M<v.segments.length;){if(w>=g.length)return L;const B=v.segments[M],ce=g[w];if(Xt(ce))break;const Xe=`${ce}`,bt=w<g.length-1?g[w+1]:null;if(M>0&&void 0===Xe)break;if(Xe&&bt&&"object"==typeof bt&&void 0===bt.outlets){if(!$e(Xe,bt,B))return L;w+=2}else{if(!$e(Xe,{},B))return L;w++}M++}return{match:!0,pathIndex:M,commandIndex:w}}(v,y,g),M=g.slice(w.commandIndex);if(w.match&&w.pathIndex<v.segments.length){const L=new Pt(v.segments.slice(0,w.pathIndex),{});return L.children[Ie]=new Pt(v.segments.slice(w.pathIndex),v.children),j(L,0,M)}return w.match&&0===M.length?new Pt(v.segments,{}):w.match&&!v.hasChildren()?$(v,y,g):w.match?j(v,0,M):$(v,y,g)}function j(v,y,g){if(0===g.length)return new Pt(v.segments,{});{const w=function $r(v){return Xt(v[0])?v[0].outlets:{[Ie]:v}}(g),M={};return sn(w,(L,B)=>{"string"==typeof L&&(L=[L]),null!==L&&(M[B]=oe(v.children[B],y,L))}),sn(v.children,(L,B)=>{void 0===w[B]&&(M[B]=L)}),new Pt(v.segments,M)}}function $(v,y,g){const w=v.segments.slice(0,y);let M=0;for(;M<g.length;){const L=g[M];if(Xt(L)){const Xe=re(L.outlets);return new Pt(w,Xe)}if(0===M&&pi(g[0])){w.push(new gn(v.segments[y].path,ve(g[0]))),M++;continue}const B=Xt(L)?L.outlets[Ie]:`${L}`,ce=M<g.length-1?g[M+1]:null;B&&ce&&pi(ce)?(w.push(new gn(B,ve(ce))),M+=2):(w.push(new gn(B,{})),M++)}return new Pt(w,{})}function re(v){const y={};return sn(v,(g,w)=>{"string"==typeof g&&(g=[g]),null!==g&&(y[w]=$(new Pt([],{}),0,g))}),y}function ve(v){const y={};return sn(v,(g,w)=>y[w]=`${g}`),y}function $e(v,y,g){return v==g.path&&xt(y,g.parameters)}class We{constructor(y,g){this.id=y,this.url=g}}class et extends We{constructor(y,g,w="imperative",M=null){super(y,g),this.type=0,this.navigationTrigger=w,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pt extends We{constructor(y,g,w){super(y,g),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lt extends We{constructor(y,g,w,M){super(y,g),this.reason=w,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ft extends We{constructor(y,g,w,M){super(y,g),this.error=w,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ue extends We{constructor(y,g,w,M){super(y,g),this.urlAfterRedirects=w,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends We{constructor(y,g,w,M){super(y,g),this.urlAfterRedirects=w,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct extends We{constructor(y,g,w,M,L){super(y,g),this.urlAfterRedirects=w,this.state=M,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ht extends We{constructor(y,g,w,M){super(y,g),this.urlAfterRedirects=w,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends We{constructor(y,g,w,M){super(y,g),this.urlAfterRedirects=w,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mn{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cn{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mt{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(y,g,w){this.routerEvent=y,this.position=g,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ds=(()=>{class v{createUrlTree(g,w,M,L,B,ce){return Yn(g||w.root,M,L,B,ce)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})(),Hr=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:function(y){return Ds.\u0275fac(y)},providedIn:"root"}),v})();class Zr{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const g=this.pathFromRoot(y);return g.length>1?g[g.length-2]:null}children(y){const g=si(y,this._root);return g?g.children.map(w=>w.value):[]}firstChild(y){const g=si(y,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(y){const g=Bs(y,this._root);return g.length<2?[]:g[g.length-2].children.map(M=>M.value).filter(M=>M!==y)}pathFromRoot(y){return Bs(y,this._root).map(g=>g.value)}}function si(v,y){if(v===y.value)return y;for(const g of y.children){const w=si(v,g);if(w)return w}return null}function Bs(v,y){if(v===y.value)return[y];for(const g of y.children){const w=Bs(v,g);if(w.length)return w.unshift(y),w}return[]}class Nn{constructor(y,g){this.value=y,this.children=g}toString(){return`TreeNode(${this.value})`}}function ci(v){const y={};return v&&v.children.forEach(g=>y[g.value.outlet]=g),y}class Vr extends Zr{constructor(y,g){super(y),this.snapshot=g,io(this,y)}toString(){return this.snapshot.toString()}}function wi(v,y){const g=function ts(v,y){const B=new $s([],{},{},"",{},Ie,y,null,v.root,-1,{});return new Fo("",new Nn(B,[]))}(v,y),w=new z.X([new gn("",{})]),M=new z.X({}),L=new z.X({}),B=new z.X({}),ce=new z.X(""),Xe=new oi(w,M,B,ce,L,Ie,y,g.root);return Xe.snapshot=g.root,new Vr(new Nn(Xe,[]),g)}class oi{constructor(y,g,w,M,L,B,ce,Xe){this.url=y,this.params=g,this.queryParams=w,this.fragment=M,this.data=L,this.outlet=B,this.component=ce,this.title=this.data?.pipe((0,Re.U)(bt=>bt[H]))??(0,t.of)(void 0),this._futureSnapshot=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Re.U)(y=>Ae(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Re.U)(y=>Ae(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function to(v,y="emptyOnly"){const g=v.pathFromRoot;let w=0;if("always"!==y)for(w=g.length-1;w>=1;){const M=g[w],L=g[w-1];if(M.routeConfig&&""===M.routeConfig.path)w--;else{if(L.component)break;w--}}return function no(v){return v.reduce((y,g)=>({params:{...y.params,...g.params},data:{...y.data,...g.data},resolve:{...g.data,...y.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(w))}class $s{constructor(y,g,w,M,L,B,ce,Xe,bt,At,Wt){this.url=y,this.params=g,this.queryParams=w,this.fragment=M,this.data=L,this.outlet=B,this.component=ce,this.routeConfig=Xe,this._urlSegment=bt,this._lastPathIndex=At,this._resolve=Wt}get title(){return this.data?.[H]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ae(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ae(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fo extends Zr{constructor(y,g){super(g),this.url=y,io(this,g)}toString(){return Ea(this._root)}}function io(v,y){y.value._routerState=v,y.children.forEach(g=>io(v,g))}function Ea(v){const y=v.children.length>0?` { ${v.children.map(Ea).join(", ")} } `:"";return`${v.value}${y}`}function ro(v){if(v.snapshot){const y=v.snapshot,g=v._futureSnapshot;v.snapshot=g,xt(y.queryParams,g.queryParams)||v.queryParams.next(g.queryParams),y.fragment!==g.fragment&&v.fragment.next(g.fragment),xt(y.params,g.params)||v.params.next(g.params),function mt(v,y){if(v.length!==y.length)return!1;for(let g=0;g<v.length;++g)if(!xt(v[g],y[g]))return!1;return!0}(y.url,g.url)||v.url.next(g.url),xt(y.data,g.data)||v.data.next(g.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function ko(v,y){const g=xt(v.params,y.params)&&function zn(v,y){return Mn(v,y)&&v.every((g,w)=>xt(g.parameters,y[w].parameters))}(v.url,y.url);return g&&!(!v.parent!=!y.parent)&&(!v.parent||ko(v.parent,y.parent))}function ns(v,y,g){if(g&&v.shouldReuseRoute(y.value,g.value.snapshot)){const w=g.value;w._futureSnapshot=y.value;const M=function _l(v,y,g){return y.children.map(w=>{for(const M of g.children)if(v.shouldReuseRoute(w.value,M.value.snapshot))return ns(v,w,M);return ns(v,w)})}(v,y,g);return new Nn(w,M)}{if(v.shouldAttach(y.value)){const L=v.retrieve(y.value);if(null!==L){const B=L.route;return B.value._futureSnapshot=y.value,B.children=y.children.map(ce=>ns(v,ce)),B}}const w=function vl(v){return new oi(new z.X(v.url),new z.X(v.params),new z.X(v.queryParams),new z.X(v.fragment),new z.X(v.data),v.outlet,v.component,v)}(y.value),M=y.children.map(L=>ns(v,L));return new Nn(w,M)}}const Sa="ngNavigationCancelingError";function Ma(v,y){const{redirectTo:g,navigationBehaviorOptions:w}=De(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,M=so(!1,0,y);return M.url=g,M.navigationBehaviorOptions=w,M}function so(v,y,g){const w=new Error("NavigationCancelingError: "+(v||""));return w[Sa]=!0,w.cancellationCode=y,g&&(w.url=g),w}function Lo(v){return oo(v)&&De(v.url)}function oo(v){return v&&v[Sa]}class Po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ws,this.attachRef=null}}let ws=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(g,w){const M=this.getOrCreateContext(g);M.outlet=w,this.contexts.set(g,M)}onChildOutletDestroyed(g){const w=this.getContext(g);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let w=this.getContext(g);return w||(w=new Po,this.contexts.set(g,w)),w}getContext(g){return this.contexts.get(g)||null}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ao=!1;let No=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.attachEvents=new T.vpe,this.detachEvents=new T.vpe,this.parentContexts=(0,T.f3M)(ws),this.location=(0,T.f3M)(T.s_b),this.changeDetector=(0,T.f3M)(T.sBO),this.environmentInjector=(0,T.f3M)(T.lqb)}ngOnChanges(g){if(g.name){const{firstChange:w,previousValue:M}=g.name;if(w)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T.vHH(4012,ao);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T.vHH(4012,ao);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T.vHH(4012,ao);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,w){this.activated=g,this._activatedRoute=w,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,w){if(this.isActivated)throw new T.vHH(4013,ao);this._activatedRoute=g;const M=this.location,B=g.snapshot.component,ce=this.parentContexts.getOrCreateContext(this.name).children,Xe=new Bi(g,ce,M.injector);if(w&&function Uo(v){return!!v.resolveComponentFactory}(w)){const bt=w.resolveComponentFactory(B);this.activated=M.createComponent(bt,M.length,Xe)}else this.activated=M.createComponent(B,{index:M.length,injector:Xe,environmentInjector:w??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275dir=T.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[T.TTD]}),v})();class Bi{constructor(y,g,w){this.route=y,this.childContexts=g,this.parent=w}get(y,g){return y===oi?this.route:y===ws?this.childContexts:this.parent.get(y,g)}}let zr=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275cmp=T.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[T.jDz],decls:1,vars:0,template:function(g,w){1&g&&T._UZ(0,"router-outlet")},dependencies:[No],encapsulation:2}),v})();function bs(v,y){return v.providers&&!v._injector&&(v._injector=(0,T.MMx)(v.providers,y,`Route: ${v.path}`)),v._injector??y}function Zs(v){const y=v.children&&v.children.map(Zs),g=y?{...v,children:y}:{...v};return!g.component&&!g.loadComponent&&(y||g.loadChildren)&&g.outlet&&g.outlet!==Ie&&(g.component=zr),g}function ui(v){return v.outlet||Ie}function ei(v,y){const g=v.filter(w=>ui(w)===y);return g.push(...v.filter(w=>ui(w)!==y)),g}function ur(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let y=v.parent;y;y=y.parent){const g=y.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class di{constructor(y,g,w,M){this.routeReuseStrategy=y,this.futureState=g,this.currState=w,this.forwardEvent=M}activate(y){const g=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,w,y),ro(this.futureState.root),this.activateChildRoutes(g,w,y)}deactivateChildRoutes(y,g,w){const M=ci(g);y.children.forEach(L=>{const B=L.value.outlet;this.deactivateRoutes(L,M[B],w),delete M[B]}),sn(M,(L,B)=>{this.deactivateRouteAndItsChildren(L,w)})}deactivateRoutes(y,g,w){const M=y.value,L=g?g.value:null;if(M===L)if(M.component){const B=w.getContext(M.outlet);B&&this.deactivateChildRoutes(y,g,B.children)}else this.deactivateChildRoutes(y,g,w);else L&&this.deactivateRouteAndItsChildren(g,w)}deactivateRouteAndItsChildren(y,g){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,g):this.deactivateRouteAndOutlet(y,g)}detachAndStoreRouteSubtree(y,g){const w=g.getContext(y.value.outlet),M=w&&y.value.component?w.children:g,L=ci(y);for(const B of Object.keys(L))this.deactivateRouteAndItsChildren(L[B],M);if(w&&w.outlet){const B=w.outlet.detach(),ce=w.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:B,route:y,contexts:ce})}}deactivateRouteAndOutlet(y,g){const w=g.getContext(y.value.outlet),M=w&&y.value.component?w.children:g,L=ci(y);for(const B of Object.keys(L))this.deactivateRouteAndItsChildren(L[B],M);w&&w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated(),w.attachRef=null,w.resolver=null,w.route=null)}activateChildRoutes(y,g,w){const M=ci(g);y.children.forEach(L=>{this.activateRoutes(L,M[L.value.outlet],w),this.forwardEvent(new Pn(L.value.snapshot))}),y.children.length&&this.forwardEvent(new Mt(y.value.snapshot))}activateRoutes(y,g,w){const M=y.value,L=g?g.value:null;if(ro(M),M===L)if(M.component){const B=w.getOrCreateContext(M.outlet);this.activateChildRoutes(y,g,B.children)}else this.activateChildRoutes(y,g,w);else if(M.component){const B=w.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const ce=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),B.children.onOutletReAttached(ce.contexts),B.attachRef=ce.componentRef,B.route=ce.route.value,B.outlet&&B.outlet.attach(ce.componentRef,ce.route.value),ro(ce.route.value),this.activateChildRoutes(y,null,B.children)}else{const ce=ur(M.snapshot),Xe=ce?.get(T._Vd)??null;B.attachRef=null,B.route=M,B.resolver=Xe,B.injector=ce,B.outlet&&B.outlet.activateWith(M,B.injector),this.activateChildRoutes(y,null,B.children)}}else this.activateChildRoutes(y,null,w)}}class Aa{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class Ts{constructor(y,g){this.component=y,this.route=g}}function is(v,y,g){const w=v._root;return Gr(w,y?y._root:null,g,[w.value])}function rs(v,y){const g=Symbol(),w=y.get(v,g);return w===g?"function"!=typeof v||(0,T.Z0I)(v)?y.get(v):v:w}function Gr(v,y,g,w,M={canDeactivateChecks:[],canActivateChecks:[]}){const L=ci(y);return v.children.forEach(B=>{(function Oa(v,y,g,w,M={canDeactivateChecks:[],canActivateChecks:[]}){const L=v.value,B=y?y.value:null,ce=g?g.getContext(v.value.outlet):null;if(B&&L.routeConfig===B.routeConfig){const Xe=function Ir(v,y,g){if("function"==typeof g)return g(v,y);switch(g){case"pathParamsChange":return!Mn(v.url,y.url);case"pathParamsOrQueryParamsChange":return!Mn(v.url,y.url)||!xt(v.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ko(v,y)||!xt(v.queryParams,y.queryParams);default:return!ko(v,y)}}(B,L,L.routeConfig.runGuardsAndResolvers);Xe?M.canActivateChecks.push(new Aa(w)):(L.data=B.data,L._resolvedData=B._resolvedData),Gr(v,y,L.component?ce?ce.children:null:g,w,M),Xe&&ce&&ce.outlet&&ce.outlet.isActivated&&M.canDeactivateChecks.push(new Ts(ce.outlet.component,B))}else B&&dr(y,ce,M),M.canActivateChecks.push(new Aa(w)),Gr(v,null,L.component?ce?ce.children:null:g,w,M)})(B,L[B.value.outlet],g,w.concat([B.value]),M),delete L[B.value.outlet]}),sn(L,(B,ce)=>dr(B,g.getContext(ce),M)),M}function dr(v,y,g){const w=ci(v),M=v.value;sn(w,(L,B)=>{dr(L,M.component?y?y.children.getContext(B):null:y,g)}),g.canDeactivateChecks.push(new Ts(M.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,M))}function $i(v){return"function"==typeof v}function ho(v){return v instanceof W.K||"EmptyError"===v?.name}const Ke=Symbol("INITIAL_VALUE");function nn(){return(0,Pe.w)(v=>(0,J.a)(v.map(y=>y.pipe((0,Te.q)(1),function ht(...v){const y=(0,st.yG)(v);return(0,ye.e)((g,w)=>{(y?(0,ee.z)(v,g,y):(0,ee.z)(v,g)).subscribe(w)})}(Ke)))).pipe((0,Re.U)(y=>{for(const g of y)if(!0!==g){if(g===Ke)return Ke;if(!1===g||g instanceof ri)return g}return!0}),(0,it.h)(y=>y!==Ke),(0,Te.q)(1)))}function Yr(v){return(0,we.z)((0,Ee.b)(y=>{if(De(y))throw Ma(0,y)}),(0,Re.U)(y=>!0===y))}const En={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fr(v,y,g,w,M){const L=fo(v,y,g);return L.matched?function ss(v,y,g,w){const M=y.canMatch;if(!M||0===M.length)return(0,t.of)(!0);const L=M.map(B=>{const ce=rs(B,v);return qt(function co(v){return v&&$i(v.canMatch)}(ce)?ce.canMatch(y,g):v.runInContext(()=>ce(y,g)))});return(0,t.of)(L).pipe(nn(),Yr())}(w=bs(y,w),y,g).pipe((0,Re.U)(B=>!0===B?L:{...En})):(0,t.of)(L)}function fo(v,y,g){if(""===y.path)return"full"===y.pathMatch&&(v.hasChildren()||g.length>0)?{...En}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const M=(y.matcher||Ye)(g,v,y);if(!M)return{...En};const L={};sn(M.posParams,(ce,Xe)=>{L[Xe]=ce.path});const B=M.consumed.length>0?{...L,...M.consumed[M.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:M.consumed,remainingSegments:g.slice(M.consumed.length),parameters:B,positionalParamSegments:M.posParams??{}}}function er(v,y,g,w){if(g.length>0&&function Na(v,y,g){return g.some(w=>Hi(v,y,w)&&ui(w)!==Ie)}(v,g,w)){const L=new Pt(y,function Cl(v,y,g,w){const M={};M[Ie]=w,w._sourceSegment=v,w._segmentIndexShift=y.length;for(const L of g)if(""===L.path&&ui(L)!==Ie){const B=new Pt([],{});B._sourceSegment=v,B._segmentIndexShift=y.length,M[ui(L)]=B}return M}(v,y,w,new Pt(g,v.children)));return L._sourceSegment=v,L._segmentIndexShift=y.length,{segmentGroup:L,slicedSegments:[]}}if(0===g.length&&function Ua(v,y,g){return g.some(w=>Hi(v,y,w))}(v,g,w)){const L=new Pt(v.segments,function pr(v,y,g,w,M){const L={};for(const B of w)if(Hi(v,g,B)&&!M[ui(B)]){const ce=new Pt([],{});ce._sourceSegment=v,ce._segmentIndexShift=y.length,L[ui(B)]=ce}return{...M,...L}}(v,y,g,w,v.children));return L._sourceSegment=v,L._segmentIndexShift=y.length,{segmentGroup:L,slicedSegments:g}}const M=new Pt(v.segments,v.children);return M._sourceSegment=v,M._segmentIndexShift=y.length,{segmentGroup:M,slicedSegments:g}}function Hi(v,y,g){return(!(v.hasChildren()||y.length>0)||"full"!==g.pathMatch)&&""===g.path}function os(v,y,g,w){return!!(ui(v)===w||w!==Ie&&Hi(y,g,v))&&("**"===v.path||fo(y,v,g).matched)}function Ar(v,y,g){return 0===y.length&&!v.children[g]}const Or=!1;class Ss{constructor(y){this.segmentGroup=y||null}}class ja{constructor(y){this.urlTree=y}}function Ms(v){return(0,ge._)(new Ss(v))}function po(v){return(0,ge._)(new ja(v))}class go{constructor(y,g,w,M,L){this.injector=y,this.configLoader=g,this.urlSerializer=w,this.urlTree=M,this.config=L,this.allowRedirects=!0}apply(){const y=er(this.urlTree.root,[],[],this.config).segmentGroup,g=new Pt(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,g,Ie).pipe((0,Re.U)(L=>this.createUrlTree(te(L),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,rt.K)(L=>{if(L instanceof ja)return this.allowRedirects=!1,this.match(L.urlTree);throw L instanceof Ss?this.noMatchError(L):L}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,Ie).pipe((0,Re.U)(M=>this.createUrlTree(te(M),y.queryParams,y.fragment))).pipe((0,rt.K)(M=>{throw M instanceof Ss?this.noMatchError(M):M}))}noMatchError(y){return new T.vHH(4002,Or)}createUrlTree(y,g,w){const M=pe(y);return new ri(M,g,w)}expandSegmentGroup(y,g,w,M){return 0===w.segments.length&&w.hasChildren()?this.expandChildren(y,g,w).pipe((0,Re.U)(L=>new Pt([],L))):this.expandSegment(y,w,g,w.segments,M,!0)}expandChildren(y,g,w){const M=[];for(const L of Object.keys(w.children))"primary"===L?M.unshift(L):M.push(L);return(0,R.D)(M).pipe((0,Le.b)(L=>{const B=w.children[L],ce=ei(g,L);return this.expandSegmentGroup(y,ce,B,L).pipe((0,Re.U)(Xe=>({segment:Xe,outlet:L})))}),(0,ie.R)((L,B)=>(L[B.outlet]=B.segment,L),{}),Q())}expandSegment(y,g,w,M,L,B){return(0,R.D)(w).pipe((0,Le.b)(ce=>this.expandSegmentAgainstRoute(y,g,w,ce,M,L,B).pipe((0,rt.K)(bt=>{if(bt instanceof Ss)return(0,t.of)(null);throw bt}))),(0,je.P)(ce=>!!ce),(0,rt.K)((ce,Xe)=>{if(ho(ce))return Ar(g,M,L)?(0,t.of)(new Pt([],{})):Ms(g);throw ce}))}expandSegmentAgainstRoute(y,g,w,M,L,B,ce){return os(M,g,L,B)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(y,g,M,L,B):ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,g,w,M,L,B):Ms(g):Ms(g)}expandSegmentAgainstRouteUsingRedirect(y,g,w,M,L,B){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,w,M,B):this.expandRegularSegmentAgainstRouteUsingRedirect(y,g,w,M,L,B)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,g,w,M){const L=this.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?po(L):this.lineralizeSegments(w,L).pipe((0,dt.z)(B=>{const ce=new Pt(B,{});return this.expandSegment(y,ce,g,B,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,g,w,M,L,B){const{matched:ce,consumedSegments:Xe,remainingSegments:bt,positionalParamSegments:At}=fo(g,M,L);if(!ce)return Ms(g);const Wt=this.applyRedirectCommands(Xe,M.redirectTo,At);return M.redirectTo.startsWith("/")?po(Wt):this.lineralizeSegments(M,Wt).pipe((0,dt.z)(Fn=>this.expandSegment(y,g,w,Fn.concat(bt),B,!1)))}matchSegmentAgainstRoute(y,g,w,M,L){return"**"===w.path?(y=bs(w,y),w.loadChildren?(w._loadedRoutes?(0,t.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):this.configLoader.loadChildren(y,w)).pipe((0,Re.U)(ce=>(w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector,new Pt(M,{})))):(0,t.of)(new Pt(M,{}))):fr(g,w,M,y).pipe((0,Pe.w)(({matched:B,consumedSegments:ce,remainingSegments:Xe})=>B?this.getChildConfig(y=w._injector??y,w,M).pipe((0,dt.z)(At=>{const Wt=At.injector??y,Fn=At.routes,{segmentGroup:Li,slicedSegments:Vi}=er(g,ce,Xe,Fn),Rr=new Pt(Li.segments,Li.children);if(0===Vi.length&&Rr.hasChildren())return this.expandChildren(Wt,Fn,Rr).pipe((0,Re.U)(us=>new Pt(ce,us)));if(0===Fn.length&&0===Vi.length)return(0,t.of)(new Pt(ce,{}));const vr=ui(w)===L;return this.expandSegment(Wt,Rr,Fn,Vi,vr?Ie:L,!0).pipe((0,Re.U)(ir=>new Pt(ce.concat(ir.segments),ir.children)))})):Ms(g)))}getChildConfig(y,g,w){return g.children?(0,t.of)({routes:g.children,injector:y}):g.loadChildren?void 0!==g._loadedRoutes?(0,t.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function Pa(v,y,g,w){const M=y.canLoad;if(void 0===M||0===M.length)return(0,t.of)(!0);const L=M.map(B=>{const ce=rs(B,v);return qt(function jo(v){return v&&$i(v.canLoad)}(ce)?ce.canLoad(y,g):v.runInContext(()=>ce(y,g)))});return(0,t.of)(L).pipe(nn(),Yr())}(y,g,w).pipe((0,dt.z)(M=>M?this.configLoader.loadChildren(y,g).pipe((0,Ee.b)(L=>{g._loadedRoutes=L.routes,g._loadedInjector=L.injector})):function $a(v){return(0,ge._)(so(Or,3))}())):(0,t.of)({routes:[],injector:y})}lineralizeSegments(y,g){let w=[],M=g.root;for(;;){if(w=w.concat(M.segments),0===M.numberOfChildren)return(0,t.of)(w);if(M.numberOfChildren>1||!M.children[Ie])return y.redirectTo,(0,ge._)(new T.vHH(4e3,Or));M=M.children[Ie]}}applyRedirectCommands(y,g,w){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),y,w)}applyRedirectCreateUrlTree(y,g,w,M){const L=this.createSegmentGroup(y,g.root,w,M);return new ri(L,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(y,g){const w={};return sn(y,(M,L)=>{if("string"==typeof M&&M.startsWith(":")){const ce=M.substring(1);w[L]=g[ce]}else w[L]=M}),w}createSegmentGroup(y,g,w,M){const L=this.createSegments(y,g.segments,w,M);let B={};return sn(g.children,(ce,Xe)=>{B[Xe]=this.createSegmentGroup(y,ce,w,M)}),new Pt(L,B)}createSegments(y,g,w,M){return g.map(L=>L.path.startsWith(":")?this.findPosParam(y,L,M):this.findOrReturn(L,w))}findPosParam(y,g,w){const M=w[g.path.substring(1)];if(!M)throw new T.vHH(4001,Or);return M}findOrReturn(y,g){let w=0;for(const M of g){if(M.path===y.path)return g.splice(w),M;w++}return y}}class Ha{}class St{constructor(y,g,w,M,L,B,ce){this.injector=y,this.rootComponentType=g,this.config=w,this.urlTree=M,this.url=L,this.paramsInheritanceStrategy=B,this.urlSerializer=ce}recognize(){const y=er(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,Ie).pipe((0,Re.U)(g=>{if(null===g)return null;const w=new $s([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ie,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new Nn(w,g),L=new Fo(this.url,M);return this.inheritParamsAndData(L._root),L}))}inheritParamsAndData(y){const g=y.value,w=to(g,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data),y.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(y,g,w,M){return 0===w.segments.length&&w.hasChildren()?this.processChildren(y,g,w):this.processSegment(y,g,w,w.segments,M)}processChildren(y,g,w){return(0,R.D)(Object.keys(w.children)).pipe((0,Le.b)(M=>{const L=w.children[M],B=ei(g,M);return this.processSegmentGroup(y,B,L,M)}),(0,ie.R)((M,L)=>M&&L?(M.push(...L),M):null),function he(v,y=!1){return(0,ye.e)((g,w)=>{let M=0;g.subscribe((0,Oe.x)(w,L=>{const B=v(L,M++);(B||y)&&w.next(L),!B&&w.complete()}))})}(M=>null!==M),(0,qe.d)(null),Q(),(0,Re.U)(M=>{if(null===M)return null;const L=Zo(M);return function mo(v){v.sort((y,g)=>y.value.outlet===Ie?-1:g.value.outlet===Ie?1:y.value.outlet.localeCompare(g.value.outlet))}(L),L}))}processSegment(y,g,w,M,L){return(0,R.D)(g).pipe((0,Le.b)(B=>this.processSegmentAgainstRoute(B._injector??y,B,w,M,L)),(0,je.P)(B=>!!B),(0,rt.K)(B=>{if(ho(B))return Ar(w,M,L)?(0,t.of)([]):(0,t.of)(null);throw B}))}processSegmentAgainstRoute(y,g,w,M,L){if(g.redirectTo||!os(g,w,M,L))return(0,t.of)(null);let B;if("**"===g.path){const ce=M.length>0?dn(M).parameters:{},Xe=F(w)+M.length,bt=new $s(M,ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,P(g),ui(g),g.component??g._loadedComponent??null,g,D(w),Xe,q(g));B=(0,t.of)({snapshot:bt,consumedSegments:[],remainingSegments:[]})}else B=fr(w,g,M,y).pipe((0,Re.U)(({matched:ce,consumedSegments:Xe,remainingSegments:bt,parameters:At})=>{if(!ce)return null;const Wt=F(w)+Xe.length;return{snapshot:new $s(Xe,At,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,P(g),ui(g),g.component??g._loadedComponent??null,g,D(w),Wt,q(g)),consumedSegments:Xe,remainingSegments:bt}}));return B.pipe((0,Pe.w)(ce=>{if(null===ce)return(0,t.of)(null);const{snapshot:Xe,consumedSegments:bt,remainingSegments:At}=ce;y=g._injector??y;const Wt=g._loadedInjector??y,Fn=function Dl(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(g),{segmentGroup:Li,slicedSegments:Vi}=er(w,bt,At,Fn.filter(vr=>void 0===vr.redirectTo));if(0===Vi.length&&Li.hasChildren())return this.processChildren(Wt,Fn,Li).pipe((0,Re.U)(vr=>null===vr?null:[new Nn(Xe,vr)]));if(0===Fn.length&&0===Vi.length)return(0,t.of)([new Nn(Xe,[])]);const Rr=ui(g)===L;return this.processSegment(Wt,Fn,Li,Vi,Rr?Ie:L).pipe((0,Re.U)(vr=>null===vr?null:[new Nn(Xe,vr)]))}))}}function wl(v){const y=v.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function Zo(v){const y=[],g=new Set;for(const w of v){if(!wl(w)){y.push(w);continue}const M=y.find(L=>w.value.routeConfig===L.value.routeConfig);void 0!==M?(M.children.push(...w.children),g.add(M)):y.push(w)}for(const w of g){const M=Zo(w.children);y.push(new Nn(w.value,M))}return y.filter(w=>!g.has(w))}function D(v){let y=v;for(;y._sourceSegment;)y=y._sourceSegment;return y}function F(v){let y=v,g=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,g+=y._segmentIndexShift??0;return g-1}function P(v){return v.data||{}}function q(v){return v.resolve||{}}function rn(v){return"string"==typeof v.title||null===v.title}function Zn(v){return(0,Pe.w)(y=>{const g=v(y);return g?(0,R.D)(g).pipe((0,Re.U)(()=>y)):(0,t.of)(y)})}const Zi=new T.OlP("ROUTES");let Ri=(()=>{class v{constructor(g,w){this.injector=g,this.compiler=w,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,t.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const w=qt(g.loadComponent()).pipe((0,Re.U)(nr),(0,Ee.b)(L=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=L}),U(()=>{this.componentLoaders.delete(g)})),M=new xe(w,()=>new Be.x).pipe(ut());return this.componentLoaders.set(g,M),M}loadChildren(g,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,t.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const L=this.loadModuleFactoryOrRoutes(w.loadChildren).pipe((0,Re.U)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w);let Xe,bt,At=!1;Array.isArray(ce)?bt=ce:(Xe=ce.create(g).injector,bt=an(Xe.get(Zi,[],T.XFs.Self|T.XFs.Optional)));return{routes:bt.map(Zs),injector:Xe}}),U(()=>{this.childrenLoaders.delete(w)})),B=new xe(L,()=>new Be.x).pipe(ut());return this.childrenLoaders.set(w,B),B}loadModuleFactoryOrRoutes(g){return qt(g()).pipe((0,Re.U)(nr),(0,dt.z)(M=>M instanceof T.YKP||Array.isArray(M)?(0,t.of)(M):(0,R.D)(this.compiler.compileModuleAsync(M))))}}return v.\u0275fac=function(g){return new(g||v)(T.LFG(T.zs3),T.LFG(T.Sil))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function nr(v){return function tr(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let gr=(()=>{class v{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Be.x,this.configLoader=(0,T.f3M)(Ri),this.environmentInjector=(0,T.f3M)(T.lqb),this.urlSerializer=(0,T.f3M)(tn),this.rootContexts=(0,T.f3M)(ws),this.navigationId=0,this.configLoader.onLoadEndListener=M=>this.events.next(new mn(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new Vt(M))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(g){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:w})}setupNavigations(g){return this.transitions=new z.X({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.h)(w=>0!==w.id),(0,Re.U)(w=>({...w,extractedUrl:g.urlHandlingStrategy.extract(w.rawUrl)})),(0,Pe.w)(w=>{let M=!1,L=!1;return(0,t.of)(w).pipe((0,Ee.b)(B=>{this.currentNavigation={id:B.id,initialUrl:B.rawUrl,extractedUrl:B.extractedUrl,trigger:B.source,extras:B.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(B=>{const ce=g.browserUrlTree.toString(),Xe=!g.navigated||B.extractedUrl.toString()!==ce||ce!==g.currentUrlTree.toString();if(("reload"===g.onSameUrlNavigation||Xe)&&g.urlHandlingStrategy.shouldProcessUrl(B.rawUrl))return Ys(B.source)&&(g.browserUrlTree=B.extractedUrl),(0,t.of)(B).pipe((0,Pe.w)(At=>{const Wt=this.transitions?.getValue();return this.events.next(new et(At.id,this.urlSerializer.serialize(At.extractedUrl),At.source,At.restoredState)),Wt!==this.transitions?.getValue()?fe.E:Promise.resolve(At)}),function Ho(v,y,g,w){return(0,Pe.w)(M=>function $o(v,y,g,w,M){return new go(v,y,g,w,M).apply()}(v,y,g,M.extractedUrl,w).pipe((0,Re.U)(L=>({...M,urlAfterRedirects:L}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,Ee.b)(At=>{this.currentNavigation={...this.currentNavigation,finalUrl:At.urlAfterRedirects},w.urlAfterRedirects=At.urlAfterRedirects}),function Fe(v,y,g,w,M){return(0,dt.z)(L=>function Wr(v,y,g,w,M,L,B="emptyOnly"){return new St(v,y,g,w,M,B,L).recognize().pipe((0,Pe.w)(ce=>null===ce?function gi(v){return new de.y(y=>y.error(v))}(new Ha):(0,t.of)(ce)))}(v,y,g,L.urlAfterRedirects,w.serialize(L.urlAfterRedirects),w,M).pipe((0,Re.U)(B=>({...L,targetSnapshot:B}))))}(this.environmentInjector,g.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,Ee.b)(At=>{if(w.targetSnapshot=At.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!At.extras.skipLocationChange){const Fn=g.urlHandlingStrategy.merge(At.urlAfterRedirects,At.rawUrl);g.setBrowserUrl(Fn,At)}g.browserUrlTree=At.urlAfterRedirects}const Wt=new Ue(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(Wt)}));if(Xe&&g.rawUrlTree&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:Wt,extractedUrl:Fn,source:Li,restoredState:Vi,extras:Rr}=B,vr=new et(Wt,this.urlSerializer.serialize(Fn),Li,Vi);this.events.next(vr);const xl=wi(Fn,g.rootComponentType).snapshot;return w={...B,targetSnapshot:xl,urlAfterRedirects:Fn,extras:{...Rr,skipLocationChange:!1,replaceUrl:!1}},(0,t.of)(w)}return g.rawUrlTree=B.rawUrl,B.resolve(null),fe.E}),(0,Ee.b)(B=>{const ce=new _t(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(ce)}),(0,Re.U)(B=>w={...B,guards:is(B.targetSnapshot,B.currentSnapshot,this.rootContexts)}),function Ra(v,y){return(0,dt.z)(g=>{const{targetSnapshot:w,currentSnapshot:M,guards:{canActivateChecks:L,canDeactivateChecks:B}}=g;return 0===B.length&&0===L.length?(0,t.of)({...g,guardsResult:!0}):function La(v,y,g,w){return(0,R.D)(v).pipe((0,dt.z)(M=>function Es(v,y,g,w,M){const L=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!L||0===L.length)return(0,t.of)(!0);const B=L.map(ce=>{const Xe=ur(y)??M,bt=rs(ce,Xe);return qt(function ka(v){return v&&$i(v.canDeactivate)}(bt)?bt.canDeactivate(v,y,g,w):Xe.runInContext(()=>bt(v,y,g,w))).pipe((0,je.P)())});return(0,t.of)(B).pipe(nn())}(M.component,M.route,g,y,w)),(0,je.P)(M=>!0!==M,!0))}(B,w,M,v).pipe((0,dt.z)(ce=>ce&&function Yt(v){return"boolean"==typeof v}(ce)?function ai(v,y,g,w){return(0,R.D)(y).pipe((0,Le.b)(M=>(0,ee.z)(function zs(v,y){return null!==v&&y&&y(new cn(v)),(0,t.of)(!0)}(M.route.parent,w),function xi(v,y){return null!==v&&y&&y(new Wn(v)),(0,t.of)(!0)}(M.route,w),function Bo(v,y,g){const w=y[y.length-1],L=y.slice(0,y.length-1).reverse().map(B=>function bi(v){const y=v.routeConfig?v.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:v,guards:y}:null}(B)).filter(B=>null!==B).map(B=>(0,le.P)(()=>{const ce=B.guards.map(Xe=>{const bt=ur(B.node)??g,At=rs(Xe,bt);return qt(function Fa(v){return v&&$i(v.canActivateChild)}(At)?At.canActivateChild(w,v):bt.runInContext(()=>At(w,v))).pipe((0,je.P)())});return(0,t.of)(ce).pipe(nn())}));return(0,t.of)(L).pipe(nn())}(v,M.path,g),function hr(v,y,g){const w=y.routeConfig?y.routeConfig.canActivate:null;if(!w||0===w.length)return(0,t.of)(!0);const M=w.map(L=>(0,le.P)(()=>{const B=ur(y)??g,ce=rs(L,B);return qt(function Vs(v){return v&&$i(v.canActivate)}(ce)?ce.canActivate(y,v):B.runInContext(()=>ce(y,v))).pipe((0,je.P)())}));return(0,t.of)(M).pipe(nn())}(v,M.route,g))),(0,je.P)(M=>!0!==M,!0))}(w,L,v,y):(0,t.of)(ce)),(0,Re.U)(ce=>({...g,guardsResult:ce})))})}(this.environmentInjector,B=>this.events.next(B)),(0,Ee.b)(B=>{if(w.guardsResult=B.guardsResult,De(B.guardsResult))throw Ma(0,B.guardsResult);const ce=new Ct(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot,!!B.guardsResult);this.events.next(ce)}),(0,it.h)(B=>!!B.guardsResult||(g.restoreHistory(B),this.cancelNavigationTransition(B,"",3,g),!1)),Zn(B=>{if(B.guards.canActivateChecks.length)return(0,t.of)(B).pipe((0,Ee.b)(ce=>{const Xe=new Ht(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Xe)}),(0,Pe.w)(ce=>{let Xe=!1;return(0,t.of)(ce).pipe(function ze(v,y){return(0,dt.z)(g=>{const{targetSnapshot:w,guards:{canActivateChecks:M}}=g;if(!M.length)return(0,t.of)(g);let L=0;return(0,R.D)(M).pipe((0,Le.b)(B=>function Tt(v,y,g,w){const M=v.routeConfig,L=v._resolve;return void 0!==M?.title&&!rn(M)&&(L[H]=M.title),function un(v,y,g,w){const M=function _n(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===M.length)return(0,t.of)({});const L={};return(0,R.D)(M).pipe((0,dt.z)(B=>function Dn(v,y,g,w){const M=ur(y)??w,L=rs(v,M);return qt(L.resolve?L.resolve(y,g):M.runInContext(()=>L(y,g)))}(v[B],y,g,w).pipe((0,je.P)(),(0,Ee.b)(ce=>{L[B]=ce}))),Ce(1),(0,me.h)(L),(0,rt.K)(B=>ho(B)?fe.E:(0,ge._)(B)))}(L,v,y,w).pipe((0,Re.U)(B=>(v._resolvedData=B,v.data=to(v,g).resolve,M&&rn(M)&&(v.data[H]=M.title),null)))}(B.route,w,v,y)),(0,Ee.b)(()=>L++),Ce(1),(0,dt.z)(B=>L===M.length?(0,t.of)(g):fe.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,Ee.b)({next:()=>Xe=!0,complete:()=>{Xe||(g.restoreHistory(ce),this.cancelNavigationTransition(ce,"",2,g))}}))}),(0,Ee.b)(ce=>{const Xe=new Bt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Xe)}))}),Zn(B=>{const ce=Xe=>{const bt=[];Xe.routeConfig?.loadComponent&&!Xe.routeConfig._loadedComponent&&bt.push(this.configLoader.loadComponent(Xe.routeConfig).pipe((0,Ee.b)(At=>{Xe.component=At}),(0,Re.U)(()=>{})));for(const At of Xe.children)bt.push(...ce(At));return bt};return(0,J.a)(ce(B.targetSnapshot.root)).pipe((0,qe.d)(),(0,Te.q)(1))}),Zn(()=>g.afterPreactivation()),(0,Re.U)(B=>{const ce=function Ro(v,y,g){const w=ns(v,y._root,g?g._root:void 0);return new Vr(w,y)}(g.routeReuseStrategy,B.targetSnapshot,B.currentRouterState);return w={...B,targetRouterState:ce}}),(0,Ee.b)(B=>{g.currentUrlTree=B.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),g.routerState=B.targetRouterState,"deferred"===g.urlUpdateStrategy&&(B.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,B),g.browserUrlTree=B.urlAfterRedirects)}),((v,y,g)=>(0,Re.U)(w=>(new di(y,w.targetRouterState,w.currentRouterState,g).activate(v),w)))(this.rootContexts,g.routeReuseStrategy,B=>this.events.next(B)),(0,Ee.b)({next:B=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new pt(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(B.targetRouterState.snapshot),B.resolve(!0)},complete:()=>{M=!0}}),U(()=>{M||L||this.cancelNavigationTransition(w,"",1,g),this.currentNavigation?.id===w.id&&(this.currentNavigation=null)}),(0,rt.K)(B=>{if(L=!0,oo(B)){Lo(B)||(g.navigated=!0,g.restoreHistory(w,!0));const ce=new lt(w.id,this.urlSerializer.serialize(w.extractedUrl),B.message,B.cancellationCode);if(this.events.next(ce),Lo(B)){const Xe=g.urlHandlingStrategy.merge(B.url,g.rawUrlTree),bt={skipLocationChange:w.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||Ys(w.source)};g.scheduleNavigation(Xe,"imperative",null,bt,{resolve:w.resolve,reject:w.reject,promise:w.promise})}else w.resolve(!1)}else{g.restoreHistory(w,!0);const ce=new ft(w.id,this.urlSerializer.serialize(w.extractedUrl),B,w.targetSnapshot??void 0);this.events.next(ce);try{w.resolve(g.errorHandler(B))}catch(Xe){w.reject(Xe)}}return fe.E}))}))}cancelNavigationTransition(g,w,M,L){const B=new lt(g.id,this.urlSerializer.serialize(g.extractedUrl),w,M);this.events.next(B),g.resolve(!1)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Ys(v){return"imperative"!==v}let Va=(()=>{class v{buildTitle(g){let w,M=g.root;for(;void 0!==M;)w=this.getResolvedTitleForRoute(M)??w,M=M.children.find(L=>L.outlet===Ie);return w}getResolvedTitleForRoute(g){return g.data[H]}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:function(){return(0,T.f3M)(Vo)},providedIn:"root"}),v})(),Vo=(()=>{class v extends Va{constructor(g){super(),this.title=g}updateTitle(g){const w=this.buildTitle(g);void 0!==w&&this.title.setTitle(w)}}return v.\u0275fac=function(g){return new(g||v)(T.LFG(I.Dx))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),bl=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:function(){return(0,T.f3M)(za)},providedIn:"root"}),v})();class zo{shouldDetach(y){return!1}store(y,g){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,g){return y.routeConfig===g.routeConfig}}let za=(()=>{class v extends zo{}return v.\u0275fac=function(){let y;return function(w){return(y||(y=T.n5z(v)))(w||v)}}(),v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Yo=new T.OlP("",{providedIn:"root",factory:()=>({})});let Wo=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:function(){return(0,T.f3M)(Jn)},providedIn:"root"}),v})(),Jn=(()=>{class v{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,w){return g}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Fr(v){throw v}function wc(v,y,g){return y.parse("/")}const qo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ga={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class v{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,T.f3M)(T.c2e),this.isNgZoneEnabled=!1,this.options=(0,T.f3M)(Yo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Fr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wc,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,t.of)(void 0),this.urlHandlingStrategy=(0,T.f3M)(Wo),this.routeReuseStrategy=(0,T.f3M)(bl),this.urlCreationStrategy=(0,T.f3M)(Hr),this.titleStrategy=(0,T.f3M)(Va),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=an((0,T.f3M)(Zi,{optional:!0})??[]),this.navigationTransitions=(0,T.f3M)(gr),this.urlSerializer=(0,T.f3M)(tn),this.location=(0,T.f3M)(Ne.Ye),this.rootComponentType=null,this.isNgZoneEnabled=(0,T.f3M)(T.R0b)instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wi(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const w="popstate"===g.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{const M={replaceUrl:!0},L=g.state?.navigationId?g.state:null;if(g.state){const ce={...g.state};delete ce.navigationId,delete ce.\u0275routerPageId,0!==Object.keys(ce).length&&(M.state=ce)}const B=this.parseUrl(g.url);this.scheduleNavigation(B,w,L,M)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(Zs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,w={}){const{relativeTo:M,queryParams:L,fragment:B,queryParamsHandling:ce,preserveFragment:Xe}=w,bt=Xe?this.currentUrlTree.fragment:B;let At=null;switch(ce){case"merge":At={...this.currentUrlTree.queryParams,...L};break;case"preserve":At=this.currentUrlTree.queryParams;break;default:At=L||null}return null!==At&&(At=this.removeEmptyProps(At)),this.urlCreationStrategy.createUrlTree(M,this.routerState,this.currentUrlTree,g,At,bt??null)}navigateByUrl(g,w={skipLocationChange:!1}){const M=De(g)?g:this.parseUrl(g),L=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(L,"imperative",null,w)}navigate(g,w={skipLocationChange:!1}){return function xs(v){for(let y=0;y<v.length;y++){const g=v[y];if(null==g)throw new T.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,w),w)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let w;try{w=this.urlSerializer.parse(g)}catch(M){w=this.malformedUriErrorHandler(M,this.urlSerializer,g)}return w}isActive(g,w){let M;if(M=!0===w?{...qo}:!1===w?{...Ga}:w,De(g))return Oi(this.currentUrlTree,g,M);const L=this.parseUrl(g);return Oi(this.currentUrlTree,L,M)}removeEmptyProps(g){return Object.keys(g).reduce((w,M)=>{const L=g[M];return null!=L&&(w[M]=L),w},{})}scheduleNavigation(g,w,M,L,B){if(this.disposed)return Promise.resolve(!1);let ce,Xe,bt,At;return B?(ce=B.resolve,Xe=B.reject,bt=B.promise):bt=new Promise((Wt,Fn)=>{ce=Wt,Xe=Fn}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(M=this.location.getState()),At=M&&M.\u0275routerPageId?M.\u0275routerPageId:L.replaceUrl||L.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):At=0,this.navigationTransitions.handleNavigationRequest({targetPageId:At,source:w,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:L,resolve:ce,reject:Xe,promise:bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bt.catch(Wt=>Promise.reject(Wt))}setBrowserUrl(g,w){const M=this.urlSerializer.serialize(g),L={...w.extras.state,...this.generateNgRouterState(w.id,w.targetPageId)};this.location.isCurrentPathEqualTo(M)||w.extras.replaceUrl?this.location.replaceState(M,"",L):this.location.go(M,"",L)}restoreHistory(g,w=!1){if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===M?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===M&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(M)}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,w){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:w}:{navigationId:g}}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class yt{}let gd=(()=>{class v{constructor(g,w,M,L,B){this.router=g,this.injector=M,this.preloadingStrategy=L,this.loader=B}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(g=>g instanceof pt),(0,Le.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,w){const M=[];for(const L of w){L.providers&&!L._injector&&(L._injector=(0,T.MMx)(L.providers,g,`Route: ${L.path}`));const B=L._injector??g,ce=L._loadedInjector??B;L.loadChildren&&!L._loadedRoutes&&void 0===L.canLoad||L.loadComponent&&!L._loadedComponent?M.push(this.preloadConfig(B,L)):(L.children||L._loadedRoutes)&&M.push(this.processRoutes(ce,L.children??L._loadedRoutes))}return(0,R.D)(M).pipe((0,Qe.J)())}preloadConfig(g,w){return this.preloadingStrategy.preload(w,()=>{let M;M=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(g,w):(0,t.of)(null);const L=M.pipe((0,dt.z)(B=>null===B?(0,t.of)(void 0):(w._loadedRoutes=B.routes,w._loadedInjector=B.injector,this.processRoutes(B.injector??g,B.routes))));if(w.loadComponent&&!w._loadedComponent){const B=this.loader.loadComponent(w);return(0,R.D)([L,B]).pipe((0,Qe.J)())}return L})}}return v.\u0275fac=function(g){return new(g||v)(T.LFG(Ii),T.LFG(T.Sil),T.LFG(T.lqb),T.LFG(yt),T.LFG(Ri))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Is=new T.OlP("");let ls=(()=>{class v{constructor(g,w,M,L,B={}){this.urlSerializer=g,this.transitions=w,this.viewportScroller=M,this.zone=L,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof et?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof pt&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof fn&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fn(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(g){T.$Z()},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})();const cs=!1;function mr(v,y){return{\u0275kind:v,\u0275providers:y}}const Jo=new T.OlP("",{providedIn:"root",factory:()=>!1});function Ml(){const v=(0,T.f3M)(T.zs3);return y=>{const g=v.get(T.z2F);if(y!==g.components[0])return;const w=v.get(Ii),M=v.get(kr);1===v.get(Kn)&&w.initialNavigation(),v.get(qr,null,T.XFs.Optional)?.setUpPreloading(),v.get(Is,null,T.XFs.Optional)?.init(),w.resetRootComponentType(g.componentTypes[0]),M.closed||(M.next(),M.unsubscribe())}}const kr=new T.OlP(cs?"bootstrap done indicator":"",{factory:()=>new Be.x}),Kn=new T.OlP(cs?"initial navigation":"",{providedIn:"root",factory:()=>1});function vo(){let v=[];return v=cs?[{provide:T.Xts,multi:!0,useFactory:()=>{const y=(0,T.f3M)(Ii);return()=>y.events.subscribe(g=>{console.group?.(`Router Event: ${g.constructor.name}`),console.log(function Xi(v){if(!("type"in v))return`Unknown Router Event: ${v.constructor.name}`;switch(v.type){case 14:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 2:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case 1:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case 0:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case 6:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 5:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 10:return`RouteConfigLoadEnd(path: ${v.route.path})`;case 9:return`RouteConfigLoadStart(path: ${v.route.path})`;case 4:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 15:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}(g)),console.log(g),console.groupEnd?.()})}}]:[],mr(1,v)}const qr=new T.OlP(cs?"router preloader":"");function As(v){return mr(0,[{provide:qr,useExisting:gd},{provide:yt,useExisting:v}])}const yo=!1,Ko=new T.OlP(yo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),md=[Ne.Ye,{provide:tn,useClass:Er},Ii,ws,{provide:oi,useFactory:function qa(v){return v.routerState.root},deps:[Ii]},Ri,yo?{provide:Jo,useValue:!0}:[]];function _d(){return new T.PXZ("Router",Ii)}let vd=(()=>{class v{constructor(g){}static forRoot(g,w){return{ngModule:v,providers:[md,yo&&w?.enableTracing?vo().\u0275providers:[],{provide:Zi,multi:!0,useValue:g},{provide:Ko,useFactory:Os,deps:[[Ii,new T.FiY,new T.tp0]]},{provide:Yo,useValue:w||{}},w?.useHash?{provide:Ne.S$,useClass:Ne.Do}:{provide:Ne.S$,useClass:Ne.b0},{provide:Is,useFactory:()=>{const v=(0,T.f3M)(Ne.EM),y=(0,T.f3M)(T.R0b),g=(0,T.f3M)(Yo),w=(0,T.f3M)(gr),M=(0,T.f3M)(tn);return g.scrollOffset&&v.setOffset(g.scrollOffset),new ls(M,w,v,y,g)}},w?.preloadingStrategy?As(w.preloadingStrategy).\u0275providers:[],{provide:T.PXZ,multi:!0,useFactory:_d},w?.initialNavigation?Dd(w):[],[{provide:Ec,useFactory:Ml},{provide:T.tb,multi:!0,useExisting:Ec}]]}}static forChild(g){return{ngModule:v,providers:[{provide:Zi,multi:!0,useValue:g}]}}}return v.\u0275fac=function(g){return new(g||v)(T.LFG(Ko,8))},v.\u0275mod=T.oAB({type:v}),v.\u0275inj=T.cJS({imports:[zr]}),v})();function Os(v){if(yo&&v)throw new T.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Dd(v){return["disabled"===v.initialNavigation?mr(3,[{provide:T.ip1,multi:!0,useFactory:()=>{const y=(0,T.f3M)(Ii);return()=>{y.setUpLocationChangeListener()}}},{provide:Kn,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?mr(2,[{provide:Kn,useValue:0},{provide:T.ip1,multi:!0,deps:[T.zs3],useFactory:y=>{const g=y.get(Ne.V_,Promise.resolve());return()=>g.then(()=>new Promise(M=>{const L=y.get(Ii),B=y.get(kr);(function w(M){y.get(Ii).events.pipe((0,it.h)(B=>B instanceof pt||B instanceof lt||B instanceof ft),(0,Re.U)(B=>B instanceof pt||B instanceof lt&&(0===B.code||1===B.code)&&null),(0,it.h)(B=>null!==B),(0,Te.q)(1)).subscribe(()=>{M()})})(()=>{M(!0)}),L.afterPreactivation=()=>(M(!0),B.closed?(0,t.of)(void 0):B),L.initialNavigation()}))}}]).\u0275providers:[]]}const Ec=new T.OlP(yo?"Router Initializer":"")},2409:(nt,_e,A)=>{"use strict";A.d(_e,{a1:()=>cr,Gf:()=>on,ny:()=>es,e8:()=>Qi});var T=A(4650),R=A(1135),t=A(7579),z=A(4707),W=A(6451),J=A(9770),ee=A(9646);function le(oe,j,k){return(0,J.P)(()=>oe()?j:k)}var we=A(2076),ge=A(2843),de=A(5026),fe=A(9300),at=A(1884),ye=A(3900),Oe=A(5577),ut=A(4782),xe=A(4351),Be=A(262),Ne=A(8505),Re=A(2722),Pe=A(4482),Te=A(5403),st=A(8421),ht=A(4671),it=A(5032),dt=A(3269),Le=A(4004),Ee=A(5698),rt=A(590),ie=A(9718),V=A(5861);function qe(oe,j){var k={};for(var $ in oe)Object.prototype.hasOwnProperty.call(oe,$)&&j.indexOf($)<0&&(k[$]=oe[$]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var re=0;for($=Object.getOwnPropertySymbols(oe);re<$.length;re++)j.indexOf($[re])<0&&Object.prototype.propertyIsEnumerable.call(oe,$[re])&&(k[$[re]]=oe[$[re]])}return k}"function"==typeof SuppressedError&&SuppressedError;var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Q(oe){return oe&&oe.__esModule&&Object.prototype.hasOwnProperty.call(oe,"default")?oe.default:oe}function he(oe,j){return oe(j={exports:{}},j.exports),j.exports}var me=he(function(oe,j){Object.defineProperty(j,"__esModule",{value:!0});var k=function(){function $(){var re=this;this.locked=new Map,this.addToLocked=function(ve,$e){var We=re.locked.get(ve);void 0===We?re.locked.set(ve,void 0===$e?[]:[$e]):void 0!==$e&&(We.unshift($e),re.locked.set(ve,We))},this.isLocked=function(ve){return re.locked.has(ve)},this.lock=function(ve){return new Promise(function($e,We){re.isLocked(ve)?re.addToLocked(ve,$e):(re.addToLocked(ve),$e())})},this.unlock=function(ve){var $e=re.locked.get(ve);if(void 0!==$e&&0!==$e.length){var We=$e.pop();re.locked.set(ve,$e),void 0!==We&&setTimeout(We,0)}else re.locked.delete(ve)}}return $.getInstance=function(){return void 0===$.instance&&($.instance=new $),$.instance},$}();j.default=function(){return k.getInstance()}});Q(me);var U=Q(he(function(oe,j){var k=vt&&vt.__awaiter||function(lt,ft,Ue,_t){return new(Ue||(Ue=Promise))(function(Ct,Ht){function Bt(cn){try{mn(_t.next(cn))}catch(Mt){Ht(Mt)}}function Vt(cn){try{mn(_t.throw(cn))}catch(Mt){Ht(Mt)}}function mn(cn){cn.done?Ct(cn.value):new Ue(function(Mt){Mt(cn.value)}).then(Bt,Vt)}mn((_t=_t.apply(lt,ft||[])).next())})},$=vt&&vt.__generator||function(lt,ft){var Ue,_t,Ct,Ht,Bt={label:0,sent:function(){if(1&Ct[0])throw Ct[1];return Ct[1]},trys:[],ops:[]};return Ht={next:Vt(0),throw:Vt(1),return:Vt(2)},"function"==typeof Symbol&&(Ht[Symbol.iterator]=function(){return this}),Ht;function Vt(mn){return function(cn){return function(Mt){if(Ue)throw new TypeError("Generator is already executing.");for(;Bt;)try{if(Ue=1,_t&&(Ct=2&Mt[0]?_t.return:Mt[0]?_t.throw||((Ct=_t.return)&&Ct.call(_t),0):_t.next)&&!(Ct=Ct.call(_t,Mt[1])).done)return Ct;switch(_t=0,Ct&&(Mt=[2&Mt[0],Ct.value]),Mt[0]){case 0:case 1:Ct=Mt;break;case 4:return Bt.label++,{value:Mt[1],done:!1};case 5:Bt.label++,_t=Mt[1],Mt=[0];continue;case 7:Mt=Bt.ops.pop(),Bt.trys.pop();continue;default:if(!((Ct=(Ct=Bt.trys).length>0&&Ct[Ct.length-1])||6!==Mt[0]&&2!==Mt[0])){Bt=0;continue}if(3===Mt[0]&&(!Ct||Mt[1]>Ct[0]&&Mt[1]<Ct[3])){Bt.label=Mt[1];break}if(6===Mt[0]&&Bt.label<Ct[1]){Bt.label=Ct[1],Ct=Mt;break}if(Ct&&Bt.label<Ct[2]){Bt.label=Ct[2],Bt.ops.push(Mt);break}Ct[2]&&Bt.ops.pop(),Bt.trys.pop();continue}Mt=ft.call(lt,Bt)}catch(Wn){Mt=[6,Wn],_t=0}finally{Ue=Ct=0}if(5&Mt[0])throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}([mn,cn])}}},re=vt;Object.defineProperty(j,"__esModule",{value:!0});var ve="browser-tabs-lock-key",$e={key:function(lt){return k(re,void 0,void 0,function(){return $(this,function(ft){throw new Error("Unsupported")})})},getItem:function(lt){return k(re,void 0,void 0,function(){return $(this,function(ft){throw new Error("Unsupported")})})},clear:function(){return k(re,void 0,void 0,function(){return $(this,function(lt){return[2,window.localStorage.clear()]})})},removeItem:function(lt){return k(re,void 0,void 0,function(){return $(this,function(ft){throw new Error("Unsupported")})})},setItem:function(lt,ft){return k(re,void 0,void 0,function(){return $(this,function(Ue){throw new Error("Unsupported")})})},keySync:function(lt){return window.localStorage.key(lt)},getItemSync:function(lt){return window.localStorage.getItem(lt)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(lt){return window.localStorage.removeItem(lt)},setItemSync:function(lt,ft){return window.localStorage.setItem(lt,ft)}};function We(lt){return new Promise(function(ft){return setTimeout(ft,lt)})}function et(lt){for(var ft="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",Ue="",_t=0;_t<lt;_t++)Ue+=ft[Math.floor(Math.random()*ft.length)];return Ue}var pt=function(){function lt(ft){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+et(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=ft,void 0===lt.waiters&&(lt.waiters=[])}return lt.prototype.acquireLock=function(ft,Ue){return void 0===Ue&&(Ue=5e3),k(this,void 0,void 0,function(){var _t,Ct,Ht,Bt,Vt,mn,cn;return $(this,function(Mt){switch(Mt.label){case 0:_t=Date.now()+et(4),Ct=Date.now()+Ue,Ht=ve+"-"+ft,Bt=void 0===this.storageHandler?$e:this.storageHandler,Mt.label=1;case 1:return Date.now()<Ct?[4,We(30)]:[3,8];case 2:return Mt.sent(),null!==Bt.getItemSync(Ht)?[3,5]:(Vt=this.id+"-"+ft+"-"+_t,[4,We(Math.floor(25*Math.random()))]);case 3:return Mt.sent(),Bt.setItemSync(Ht,JSON.stringify({id:this.id,iat:_t,timeoutKey:Vt,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,We(30)];case 4:return Mt.sent(),null!==(mn=Bt.getItemSync(Ht))&&(cn=JSON.parse(mn)).id===this.id&&cn.iat===_t?(this.acquiredIatSet.add(_t),this.refreshLockWhileAcquired(Ht,_t),[2,!0]):[3,7];case 5:return lt.lockCorrector(void 0===this.storageHandler?$e:this.storageHandler),[4,this.waitForSomethingToChange(Ct)];case 6:Mt.sent(),Mt.label=7;case 7:return _t=Date.now()+et(4),[3,1];case 8:return[2,!1]}})})},lt.prototype.refreshLockWhileAcquired=function(ft,Ue){return k(this,void 0,void 0,function(){var _t=this;return $(this,function(Ct){return setTimeout(function(){return k(_t,void 0,void 0,function(){var Ht,Bt,Vt;return $(this,function(mn){switch(mn.label){case 0:return[4,me.default().lock(Ue)];case 1:return mn.sent(),this.acquiredIatSet.has(Ue)?null===(Bt=(Ht=void 0===this.storageHandler?$e:this.storageHandler).getItemSync(ft))?(me.default().unlock(Ue),[2]):((Vt=JSON.parse(Bt)).timeRefreshed=Date.now(),Ht.setItemSync(ft,JSON.stringify(Vt)),me.default().unlock(Ue),this.refreshLockWhileAcquired(ft,Ue),[2]):(me.default().unlock(Ue),[2])}})})},1e3),[2]})})},lt.prototype.waitForSomethingToChange=function(ft){return k(this,void 0,void 0,function(){return $(this,function(Ue){switch(Ue.label){case 0:return[4,new Promise(function(_t){var Ct=!1,Ht=Date.now(),Bt=!1;function Vt(){if(Bt||(window.removeEventListener("storage",Vt),lt.removeFromWaiting(Vt),clearTimeout(mn),Bt=!0),!Ct){Ct=!0;var cn=50-(Date.now()-Ht);cn>0?setTimeout(_t,cn):_t(null)}}window.addEventListener("storage",Vt),lt.addToWaiting(Vt);var mn=setTimeout(Vt,Math.max(0,ft-Date.now()))})];case 1:return Ue.sent(),[2]}})})},lt.addToWaiting=function(ft){this.removeFromWaiting(ft),void 0!==lt.waiters&&lt.waiters.push(ft)},lt.removeFromWaiting=function(ft){void 0!==lt.waiters&&(lt.waiters=lt.waiters.filter(function(Ue){return Ue!==ft}))},lt.notifyWaiters=function(){void 0!==lt.waiters&&lt.waiters.slice().forEach(function(ft){return ft()})},lt.prototype.releaseLock=function(ft){return k(this,void 0,void 0,function(){return $(this,function(Ue){switch(Ue.label){case 0:return[4,this.releaseLock__private__(ft)];case 1:return[2,Ue.sent()]}})})},lt.prototype.releaseLock__private__=function(ft){return k(this,void 0,void 0,function(){var Ue,_t,Ct,Ht;return $(this,function(Bt){switch(Bt.label){case 0:return null===(Ct=(Ue=void 0===this.storageHandler?$e:this.storageHandler).getItemSync(_t=ve+"-"+ft))?[2]:(Ht=JSON.parse(Ct)).id!==this.id?[3,2]:[4,me.default().lock(Ht.iat)];case 1:Bt.sent(),this.acquiredIatSet.delete(Ht.iat),Ue.removeItemSync(_t),me.default().unlock(Ht.iat),lt.notifyWaiters(),Bt.label=2;case 2:return[2]}})})},lt.lockCorrector=function(ft){for(var Ue=Date.now()-5e3,_t=ft,Ct=[],Ht=0;;){var Bt=_t.keySync(Ht);if(null===Bt)break;Ct.push(Bt),Ht++}for(var Vt=!1,mn=0;mn<Ct.length;mn++){var cn=Ct[mn];if(cn.includes(ve)){var Mt=_t.getItemSync(cn);if(null!==Mt){var Wn=JSON.parse(Mt);(void 0===Wn.timeRefreshed&&Wn.timeAcquired<Ue||void 0!==Wn.timeRefreshed&&Wn.timeRefreshed<Ue)&&(_t.removeItemSync(cn),Vt=!0)}}}Vt&&lt.notifyWaiters()},lt.waiters=void 0,lt}();j.default=pt}));const Qe={timeoutInSeconds:60},I={name:"auth0-spa-js",version:"2.1.3"},Ie=()=>Date.now();class H extends Error{constructor(j,k){super(k),this.error=j,this.error_description=k,Object.setPrototypeOf(this,H.prototype)}static fromPayload({error:j,error_description:k}){return new H(j,k)}}class Me extends H{constructor(j,k,$,re=null){super(j,k),this.state=$,this.appState=re,Object.setPrototypeOf(this,Me.prototype)}}class Ae extends H{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Ae.prototype)}}class Ye extends Ae{constructor(j){super(),this.popup=j,Object.setPrototypeOf(this,Ye.prototype)}}class mt extends H{constructor(j){super("cancelled","Popup closed"),this.popup=j,Object.setPrototypeOf(this,mt.prototype)}}class xt extends H{constructor(j,k,$){super(j,k),this.mfa_token=$,Object.setPrototypeOf(this,xt.prototype)}}class Gt extends H{constructor(j,k){super("missing_refresh_token",`Missing Refresh Token (audience: '${an(j,["default"])}', scope: '${an(k)}')`),this.audience=j,this.scope=k,Object.setPrototypeOf(this,Gt.prototype)}}function an(oe,j=[]){return oe&&!j.includes(oe)?oe:""}const dn=()=>window.crypto,bn=()=>{const oe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let j="";return Array.from(dn().getRandomValues(new Uint8Array(43))).forEach(k=>j+=oe[k%oe.length]),j},sn=oe=>btoa(oe),qt=oe=>{var $,{clientId:j}=oe,k=qe(oe,["clientId"]);return new URLSearchParams(($=Object.assign({client_id:j},k),Object.keys($).filter(re=>void 0!==$[re]).reduce((re,ve)=>Object.assign(Object.assign({},re),{[ve]:$[ve]}),{}))).toString()},ii=oe=>{return j=oe.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(atob(j).split("").map(k=>"%"+("00"+k.charCodeAt(0).toString(16)).slice(-2)).join(""));var j},kt=function(){var oe=(0,V.Z)(function*(j,k){const $=yield fetch(j,k);return{ok:$.ok,json:yield $.json()}});return function(k,$){return oe.apply(this,arguments)}}(),qi=function(){var oe=(0,V.Z)(function*(j,k,$){const re=new AbortController;let ve;return k.signal=re.signal,Promise.race([kt(j,k),new Promise(($e,We)=>{ve=setTimeout(()=>{re.abort(),We(new Error("Timeout when executing 'fetch'"))},$)})]).finally(()=>{clearTimeout(ve)})});return function(k,$,re){return oe.apply(this,arguments)}}(),Oi=function(){var oe=(0,V.Z)(function*(j,k,$,re,ve,$e,We){return et={auth:{audience:k,scope:$},timeout:ve,fetchUrl:j,fetchOptions:re,useFormData:We},pt=$e,new Promise(function(lt,ft){const Ue=new MessageChannel;Ue.port1.onmessage=function(_t){_t.data.error?ft(new Error(_t.data.error)):lt(_t.data),Ue.port1.close()},pt.postMessage(et,[Ue.port2])});var et,pt});return function(k,$,re,ve,$e,We,et){return oe.apply(this,arguments)}}(),Qn=function(){var oe=(0,V.Z)(function*(j,k,$,re,ve,$e,We=1e4){return ve?Oi(j,k,$,re,We,ve,$e):qi(j,re,We)});return function(k,$,re,ve,$e,We){return oe.apply(this,arguments)}}();function lr(){return lr=(0,V.Z)(function*(oe,j){var{baseUrl:k,timeout:$,audience:re,scope:ve,auth0Client:$e,useFormData:We}=oe,et=qe(oe,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const pt=We?qt(et):JSON.stringify(et);return yield(lt=(0,V.Z)(function*(ft,Ue,_t,Ct,Ht,Bt,Vt){let mn,cn=null;for(let ji=0;ji<3;ji++)try{mn=yield Qn(ft,_t,Ct,Ht,Bt,Vt,Ue),cn=null;break}catch(Ds){cn=Ds}if(cn)throw cn;const Mt=mn.json,{error:Wn,error_description:Pn}=Mt,fn=qe(Mt,["error","error_description"]),{ok:Xi}=mn;if(!Xi){const ji=Pn||`HTTP error. Unable to fetch ${ft}`;throw"mfa_required"===Wn?new xt(Wn,ji,fn.mfa_token):"missing_refresh_token"===Wn?new Gt(_t,Ct):new H(Wn||"request_error",ji)}return fn}),function(ft,Ue,_t,Ct,Ht,Bt,Vt){return lt.apply(this,arguments)})(`${k}/oauth/token`,$,re||"default",ve,{method:"POST",body:pt,headers:{"Content-Type":We?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify($e||I))}},j,We);var lt}),lr.apply(this,arguments)}const $t=(...oe)=>{return(j=oe.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(j))).join(" ");var j};class It{constructor(j,k="@@auth0spajs@@",$){this.prefix=k,this.suffix=$,this.clientId=j.clientId,this.scope=j.scope,this.audience=j.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(j){const[k,$,re,ve]=j.split("::");return new It({clientId:$,scope:ve,audience:re},k)}static fromCacheEntry(j){const{scope:k,audience:$,client_id:re}=j;return new It({scope:k,audience:$,clientId:re})}}class Et{set(j,k){localStorage.setItem(j,JSON.stringify(k))}get(j){const k=window.localStorage.getItem(j);if(k)try{return JSON.parse(k)}catch{return}}remove(j){localStorage.removeItem(j)}allKeys(){return Object.keys(window.localStorage).filter(j=>j.startsWith("@@auth0spajs@@"))}}class ri{constructor(){this.enclosedCache=function(){let j={};return{set(k,$){j[k]=$},get(k){const $=j[k];if($)return $},remove(k){delete j[k]},allKeys:()=>Object.keys(j)}}()}}class Pt{constructor(j,k,$){this.cache=j,this.keyManifest=k,this.nowProvider=$||Ie}setIdToken(j,k,$){var re=this;return(0,V.Z)(function*(){var ve;const $e=re.getIdTokenCacheKey(j);yield re.cache.set($e,{id_token:k,decodedToken:$}),yield null===(ve=re.keyManifest)||void 0===ve?void 0:ve.add($e)})()}getIdToken(j){var k=this;return(0,V.Z)(function*(){const $=yield k.cache.get(k.getIdTokenCacheKey(j.clientId));if(!$&&j.scope&&j.audience){const re=yield k.get(j);return re&&re.id_token&&re.decodedToken?{id_token:re.id_token,decodedToken:re.decodedToken}:void 0}if($)return{id_token:$.id_token,decodedToken:$.decodedToken}})()}get(j,k=0){var $=this;return(0,V.Z)(function*(){var re;let ve=yield $.cache.get(j.toKey());if(!ve){const et=yield $.getCacheKeys();if(!et)return;const pt=$.matchExistingCacheKey(j,et);pt&&(ve=yield $.cache.get(pt))}if(!ve)return;const $e=yield $.nowProvider(),We=Math.floor($e/1e3);return ve.expiresAt-k<We?ve.body.refresh_token?(ve.body={refresh_token:ve.body.refresh_token},yield $.cache.set(j.toKey(),ve),ve.body):(yield $.cache.remove(j.toKey()),void(yield null===(re=$.keyManifest)||void 0===re?void 0:re.remove(j.toKey()))):ve.body})()}set(j){var k=this;return(0,V.Z)(function*(){var $;const re=new It({clientId:j.client_id,scope:j.scope,audience:j.audience}),ve=yield k.wrapCacheEntry(j);yield k.cache.set(re.toKey(),ve),yield null===($=k.keyManifest)||void 0===$?void 0:$.add(re.toKey())})()}clear(j){var k=this;return(0,V.Z)(function*(){var $;const re=yield k.getCacheKeys();re&&(yield re.filter(ve=>!j||ve.includes(j)).reduce(function(){var ve=(0,V.Z)(function*($e,We){yield $e,yield k.cache.remove(We)});return function($e,We){return ve.apply(this,arguments)}}(),Promise.resolve()),yield null===($=k.keyManifest)||void 0===$?void 0:$.clear())})()}wrapCacheEntry(j){var k=this;return(0,V.Z)(function*(){const $=yield k.nowProvider();return{body:j,expiresAt:Math.floor($/1e3)+j.expires_in}})()}getCacheKeys(){var j=this;return(0,V.Z)(function*(){var k;return j.keyManifest?null===(k=yield j.keyManifest.get())||void 0===k?void 0:k.keys:j.cache.allKeys?j.cache.allKeys():void 0})()}getIdTokenCacheKey(j){return new It({clientId:j},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(j,k){return k.filter($=>{var re;const ve=It.fromKey($),$e=new Set(ve.scope&&ve.scope.split(" ")),We=(null===(re=j.scope)||void 0===re?void 0:re.split(" "))||[],et=ve.scope&&We.reduce((pt,lt)=>pt&&$e.has(lt),!0);return"@@auth0spajs@@"===ve.prefix&&ve.clientId===j.clientId&&ve.audience===j.audience&&et})[0]}}class gn{constructor(j,k,$){this.storage=j,this.clientId=k,this.cookieDomain=$,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(j){this.storage.save(this.storageKey,j,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const zn=oe=>"number"==typeof oe,Mn=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var tn=he(function(oe,j){var k=vt&&vt.__assign||function(){return k=Object.assign||function(et){for(var pt,lt=1,ft=arguments.length;lt<ft;lt++)for(var Ue in pt=arguments[lt])Object.prototype.hasOwnProperty.call(pt,Ue)&&(et[Ue]=pt[Ue]);return et},k.apply(this,arguments)};function $(et,pt){if(!pt)return"";var lt="; "+et;return!0===pt?lt:lt+"="+pt}function re(et,pt,lt){return encodeURIComponent(et).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(pt).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(ft){if("number"==typeof ft.expires){var Ue=new Date;Ue.setMilliseconds(Ue.getMilliseconds()+864e5*ft.expires),ft.expires=Ue}return $("Expires",ft.expires?ft.expires.toUTCString():"")+$("Domain",ft.domain)+$("Path",ft.path)+$("Secure",ft.secure)+$("SameSite",ft.sameSite)}(lt)}function ve(et){for(var pt={},lt=et?et.split("; "):[],ft=/(%[\dA-F]{2})+/gi,Ue=0;Ue<lt.length;Ue++){var _t=lt[Ue].split("="),Ct=_t.slice(1).join("=");'"'===Ct.charAt(0)&&(Ct=Ct.slice(1,-1));try{pt[_t[0].replace(ft,decodeURIComponent)]=Ct.replace(ft,decodeURIComponent)}catch{}}return pt}function $e(){return ve(document.cookie)}function We(et,pt,lt){document.cookie=re(et,pt,k({path:"/"},lt))}j.__esModule=!0,j.encode=re,j.parse=ve,j.getAll=$e,j.get=function(et){return $e()[et]},j.set=We,j.remove=function(et,pt){We(et,"",k(k({},pt),{expires:-1}))}});Q(tn);var Er=tn.get,ln=tn.set,Ci=tn.remove;const Gn={get(oe){const j=Er(oe);if(void 0!==j)return JSON.parse(j)},save(oe,j,k){let $={};"https:"===window.location.protocol&&($={secure:!0,sameSite:"none"}),k?.daysUntilExpire&&($.expires=k.daysUntilExpire),k?.cookieDomain&&($.domain=k.cookieDomain),ln(oe,JSON.stringify(j),$)},remove(oe,j){let k={};j?.cookieDomain&&(k.domain=j.cookieDomain),Ci(oe,k)}},Tn={get:oe=>Gn.get(oe)||Gn.get(`_legacy_${oe}`),save(oe,j,k){let $={};"https:"===window.location.protocol&&($={secure:!0}),k?.daysUntilExpire&&($.expires=k.daysUntilExpire),k?.cookieDomain&&($.domain=k.cookieDomain),ln(`_legacy_${oe}`,JSON.stringify(j),$),Gn.save(oe,j,k)},remove(oe,j){let k={};j?.cookieDomain&&(k.domain=j.cookieDomain),Ci(oe,k),Gn.remove(oe,j),Gn.remove(`_legacy_${oe}`,j)}},Fi={get(oe){if(typeof sessionStorage>"u")return;const j=sessionStorage.getItem(oe);return null!=j?JSON.parse(j):void 0},save(oe,j){sessionStorage.setItem(oe,JSON.stringify(j))},remove(oe){sessionStorage.removeItem(oe)}};var Je,jt=function(oe){return Je=Je||function He(oe,j,k){var $=void 0===j?null:j,re=function(et,pt){var lt=atob(et);if(pt){for(var ft=new Uint8Array(lt.length),Ue=0,_t=lt.length;Ue<_t;++Ue)ft[Ue]=lt.charCodeAt(Ue);return String.fromCharCode.apply(null,new Uint16Array(ft.buffer))}return lt}(oe,void 0!==k&&k),ve=re.indexOf("\n",10)+1,$e=re.substring(ve)+($?"//# sourceMappingURL="+$:""),We=new Blob([$e],{type:"application/javascript"});return URL.createObjectURL(We)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",null,!1),new Worker(Je,oe)};const hn={};class pn{constructor(j,k){this.cache=j,this.clientId=k,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(j){var k=this;return(0,V.Z)(function*(){var $;const re=new Set((null===($=yield k.cache.get(k.manifestKey))||void 0===$?void 0:$.keys)||[]);re.add(j),yield k.cache.set(k.manifestKey,{keys:[...re]})})()}remove(j){var k=this;return(0,V.Z)(function*(){const $=yield k.cache.get(k.manifestKey);if($){const re=new Set($.keys);return re.delete(j),re.size>0?yield k.cache.set(k.manifestKey,{keys:[...re]}):yield k.cache.remove(k.manifestKey)}})()}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(j){return`@@auth0spajs@@::${j}`}}const Nt={memory:()=>(new ri).enclosedCache,localstorage:()=>new Et},$n=oe=>Nt[oe],Ki=oe=>{const{openUrl:j,onRedirect:k}=oe,$=qe(oe,["openUrl","onRedirect"]);return Object.assign(Object.assign({},$),{openUrl:!1===j||j?j:k})},In=new U;class yn{constructor(j){var k=this;let $,re;if(this.userCache=(new ri).enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=(0,V.Z)(function*(){yield In.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",k._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),j),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),j.authorizationParams)}),typeof window<"u"&&(()=>{if(!dn())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===dn().subtle)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),j.cache&&j.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),j.cache)re=j.cache;else{if($=j.cacheLocation||"memory",!$n($))throw new Error(`Invalid cache location "${$}"`);re=$n($)()}this.httpTimeoutMs=j.httpTimeoutInSeconds?1e3*j.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===j.legacySameSiteCookie?Gn:Tn,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(We=>`auth0.${this.options.clientId}.is.authenticated`)(),this.sessionCheckExpiryDays=j.sessionCheckExpiryDays||1;const ve=j.useCookiesForTransactions?this.cookieStorage:Fi;var $e,We,et;this.scope=$t("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new gn(ve,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||Ie,this.cacheManager=new Pt(re,re.allKeys?void 0:new pn(re,this.options.clientId),this.nowProvider),this.domainUrl=/^https?:\/\//.test($e=this.options.domain)?$e:`https://${$e}`,this.tokenIssuer=(et=this.domainUrl,(We=this.options.issuer)?We.startsWith("https://")?We:`https://${We}/`:`${et}/`),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&"memory"===$&&(this.worker=this.options.workerUrl?new Worker(this.options.workerUrl):new jt)}_url(j){const k=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||I)));return`${this.domainUrl}${j}&auth0Client=${k}`}_authorizeUrl(j){return this._url(`/authorize?${qt(j)}`)}_verifyIdToken(j,k,$){var re=this;return(0,V.Z)(function*(){const ve=yield re.nowProvider();return(oe=>{if(!oe.id_token)throw new Error("ID token is required but missing");const j=(ve=>{const $e=ve.split("."),[We,et,pt]=$e;if(3!==$e.length||!We||!et||!pt)throw new Error("ID token could not be decoded");const lt=JSON.parse(ii(et)),ft={__raw:ve},Ue={};return Object.keys(lt).forEach(_t=>{ft[_t]=lt[_t],Mn.includes(_t)||(Ue[_t]=lt[_t])}),{encoded:{header:We,payload:et,signature:pt},header:JSON.parse(ii(We)),claims:ft,user:Ue}})(oe.id_token);if(!j.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(j.claims.iss!==oe.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${oe.iss}", found "${j.claims.iss}"`);if(!j.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==j.header.alg)throw new Error(`Signature algorithm of "${j.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!j.claims.aud||"string"!=typeof j.claims.aud&&!Array.isArray(j.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(j.claims.aud)){if(!j.claims.aud.includes(oe.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${oe.aud}" but was not one of "${j.claims.aud.join(", ")}"`);if(j.claims.aud.length>1){if(!j.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(j.claims.azp!==oe.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${oe.aud}", found "${j.claims.azp}"`)}}else if(j.claims.aud!==oe.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${oe.aud}" but found "${j.claims.aud}"`);if(oe.nonce){if(!j.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(j.claims.nonce!==oe.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${oe.nonce}", found "${j.claims.nonce}"`)}if(oe.max_age&&!zn(j.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(null==j.claims.exp||!zn(j.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!zn(j.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const k=oe.leeway||60,$=new Date(oe.now||Date.now()),re=new Date(0);if(re.setUTCSeconds(j.claims.exp+k),$>re)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${$}) is after expiration time (${re})`);if(null!=j.claims.nbf&&zn(j.claims.nbf)){const ve=new Date(0);if(ve.setUTCSeconds(j.claims.nbf-k),$<ve)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${$}) is before ${ve}`)}if(null!=j.claims.auth_time&&zn(j.claims.auth_time)){const ve=new Date(0);if(ve.setUTCSeconds(parseInt(j.claims.auth_time)+oe.max_age+k),$>ve)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${$}) is after last auth at ${ve}`)}if(oe.organization){const ve=oe.organization.trim();if(ve.startsWith("org_")){const $e=ve;if(!j.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if($e!==j.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${$e}", found "${j.claims.org_id}"`)}else{const $e=ve.toLowerCase();if(!j.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if($e!==j.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${$e}", found "${j.claims.org_name}"`)}}return j})({iss:re.tokenIssuer,aud:re.options.clientId,id_token:j,nonce:k,organization:$,leeway:re.options.leeway,max_age:($e=re.options.authorizationParams.max_age,"string"!=typeof $e?$e:parseInt($e,10)||void 0),now:ve});var $e})()}_processOrgHint(j){j?this.cookieStorage.save(this.orgHintCookieName,j,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(j,k,$){var re=this;return(0,V.Z)(function*(){const ve=sn(bn()),$e=sn(bn()),We=bn(),et=(ft=>{const Ue=new Uint8Array(ft);return(_t=>{const Ct={"+":"-","/":"_","=":""};return _t.replace(/[+/=]/g,Ht=>Ct[Ht])})(window.btoa(String.fromCharCode(...Array.from(Ue))))})(yield(ft=(0,V.Z)(function*(Ue){return yield dn().subtle.digest({name:"SHA-256"},(new TextEncoder).encode(Ue))}),function(Ue){return ft.apply(this,arguments)})(We)),pt=((ft,Ue,_t,Ct,Ht,Bt,Vt,mn)=>Object.assign(Object.assign(Object.assign({client_id:ft.clientId},ft.authorizationParams),_t),{scope:$t(Ue,_t.scope),response_type:"code",response_mode:mn||"query",state:Ct,nonce:Ht,redirect_uri:Vt||ft.authorizationParams.redirect_uri,code_challenge:Bt,code_challenge_method:"S256"}))(re.options,re.scope,j,ve,$e,et,j.redirect_uri||re.options.authorizationParams.redirect_uri||$,k?.response_mode),lt=re._authorizeUrl(pt);var ft;return{nonce:$e,code_verifier:We,scope:pt.scope,audience:pt.audience||"default",redirect_uri:pt.redirect_uri,state:ve,url:lt}})()}loginWithPopup(j,k){var $=this;return(0,V.Z)(function*(){var re;if(j=j||{},!(k=k||{}).popup&&(k.popup=(et=>{const pt=window.screenX+(window.innerWidth-400)/2,lt=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup",`left=${pt},top=${lt},width=400,height=600,resizable,scrollbars=yes,status=1`)})(),!k.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const ve=yield $._prepareAuthorizeUrl(j.authorizationParams||{},{response_mode:"web_message"},window.location.origin);k.popup.location.href=ve.url;const $e=yield(et=Object.assign(Object.assign({},k),{timeoutInSeconds:k.timeoutInSeconds||$.options.authorizeTimeoutInSeconds||60}),new Promise((pt,lt)=>{let ft;const Ue=setInterval(()=>{et.popup&&et.popup.closed&&(clearInterval(Ue),clearTimeout(_t),window.removeEventListener("message",ft,!1),lt(new mt(et.popup)))},1e3),_t=setTimeout(()=>{clearInterval(Ue),lt(new Ye(et.popup)),window.removeEventListener("message",ft,!1)},1e3*(et.timeoutInSeconds||60));ft=function(Ct){if(Ct.data&&"authorization_response"===Ct.data.type){if(clearTimeout(_t),clearInterval(Ue),window.removeEventListener("message",ft,!1),et.popup.close(),Ct.data.response.error)return lt(H.fromPayload(Ct.data.response));pt(Ct.data.response)}},window.addEventListener("message",ft)}));var et;if(ve.state!==$e.state)throw new H("state_mismatch","Invalid state");const We=(null===(re=j.authorizationParams)||void 0===re?void 0:re.organization)||$.options.authorizationParams.organization;yield $._requestToken({audience:ve.audience,scope:ve.scope,code_verifier:ve.code_verifier,grant_type:"authorization_code",code:$e.code,redirect_uri:ve.redirect_uri},{nonceIn:ve.nonce,organization:We})})()}getUser(){var j=this;return(0,V.Z)(function*(){var k;return null===(k=(yield j._getIdTokenFromCache())?.decodedToken)||void 0===k?void 0:k.user})()}getIdTokenClaims(){var j=this;return(0,V.Z)(function*(){var k;return null===(k=(yield j._getIdTokenFromCache())?.decodedToken)||void 0===k?void 0:k.claims})()}loginWithRedirect(j={}){var k=this;return(0,V.Z)(function*(){var $;const re=Ki(j),{openUrl:ve,fragment:$e,appState:We}=re,et=qe(re,["openUrl","fragment","appState"]),pt=(null===($=et.authorizationParams)||void 0===$?void 0:$.organization)||k.options.authorizationParams.organization,lt=yield k._prepareAuthorizeUrl(et.authorizationParams||{}),{url:ft}=lt,Ue=qe(lt,["url"]);k.transactionManager.create(Object.assign(Object.assign(Object.assign({},Ue),{appState:We}),pt&&{organization:pt}));const _t=$e?`${ft}#${$e}`:ft;ve?yield ve(_t):window.location.assign(_t)})()}handleRedirectCallback(j=window.location.href){var k=this;return(0,V.Z)(function*(){const $=j.split("?").slice(1);if(0===$.length)throw new Error("There are no query params available for parsing.");const{state:re,code:ve,error:$e,error_description:We}=(Ue=>{Ue.indexOf("#")>-1&&(Ue=Ue.substring(0,Ue.indexOf("#")));const _t=new URLSearchParams(Ue);return{state:_t.get("state"),code:_t.get("code")||void 0,error:_t.get("error")||void 0,error_description:_t.get("error_description")||void 0}})($.join("")),et=k.transactionManager.get();if(!et)throw new H("missing_transaction","Invalid state");if(k.transactionManager.remove(),$e)throw new Me($e,We||$e,re,et.appState);if(!et.code_verifier||et.state&&et.state!==re)throw new H("state_mismatch","Invalid state");const pt=et.organization,lt=et.nonce,ft=et.redirect_uri;return yield k._requestToken(Object.assign({audience:et.audience,scope:et.scope,code_verifier:et.code_verifier,grant_type:"authorization_code",code:ve},ft?{redirect_uri:ft}:{}),{nonceIn:lt,organization:pt}),{appState:et.appState}})()}checkSession(j){var k=this;return(0,V.Z)(function*(){if(!k.cookieStorage.get(k.isAuthenticatedCookieName)){if(!k.cookieStorage.get("auth0.is.authenticated"))return;k.cookieStorage.save(k.isAuthenticatedCookieName,!0,{daysUntilExpire:k.sessionCheckExpiryDays,cookieDomain:k.options.cookieDomain}),k.cookieStorage.remove("auth0.is.authenticated")}try{yield k.getTokenSilently(j)}catch{}})()}getTokenSilently(j={}){var k=this;return(0,V.Z)(function*(){var $;const re=Object.assign(Object.assign({cacheMode:"on"},j),{authorizationParams:Object.assign(Object.assign(Object.assign({},k.options.authorizationParams),j.authorizationParams),{scope:$t(k.scope,null===($=j.authorizationParams)||void 0===$?void 0:$.scope)})}),ve=yield(($e,We)=>{let et=hn[We];return et||(et=k._getTokenSilently(re).finally(()=>{delete hn[We],et=null}),hn[We]=et),et})(0,`${k.options.clientId}::${re.authorizationParams.audience}::${re.authorizationParams.scope}`);return j.detailedResponse?ve:ve?.access_token})()}_getTokenSilently(j){var k=this;return(0,V.Z)(function*(){const{cacheMode:$}=j,re=qe(j,["cacheMode"]);if("off"!==$){const ve=yield k._getEntryFromCache({scope:re.authorizationParams.scope,audience:re.authorizationParams.audience||"default",clientId:k.options.clientId});if(ve)return ve}if("cache-only"!==$){if(!(yield(ve=(0,V.Z)(function*($e,We=3){for(let et=0;et<We;et++)if(yield $e())return!0;return!1}),function($e){return ve.apply(this,arguments)})(()=>In.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new Ae;try{if(window.addEventListener("pagehide",k._releaseLockOnPageHide),"off"!==$){const lt=yield k._getEntryFromCache({scope:re.authorizationParams.scope,audience:re.authorizationParams.audience||"default",clientId:k.options.clientId});if(lt)return lt}const ve=k.options.useRefreshTokens?yield k._getTokenUsingRefreshToken(re):yield k._getTokenFromIFrame(re),{id_token:$e,access_token:We,oauthTokenScope:et,expires_in:pt}=ve;return Object.assign(Object.assign({id_token:$e,access_token:We},et?{scope:et}:null),{expires_in:pt})}finally{yield In.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",k._releaseLockOnPageHide)}}var ve})()}getTokenWithPopup(j={},k={}){var $=this;return(0,V.Z)(function*(){var re;const ve=Object.assign(Object.assign({},j),{authorizationParams:Object.assign(Object.assign(Object.assign({},$.options.authorizationParams),j.authorizationParams),{scope:$t($.scope,null===(re=j.authorizationParams)||void 0===re?void 0:re.scope)})});return k=Object.assign(Object.assign({},Qe),k),yield $.loginWithPopup(ve,k),(yield $.cacheManager.get(new It({scope:ve.authorizationParams.scope,audience:ve.authorizationParams.audience||"default",clientId:$.options.clientId}))).access_token})()}isAuthenticated(){var j=this;return(0,V.Z)(function*(){return!!(yield j.getUser())})()}_buildLogoutUrl(j){null!==j.clientId?j.clientId=j.clientId||this.options.clientId:delete j.clientId;const k=j.logoutParams||{},{federated:$}=k,re=qe(k,["federated"]),ve=$?"&federated":"";return this._url(`/v2/logout?${qt(Object.assign({clientId:j.clientId},re))}`)+ve}logout(j={}){var k=this;return(0,V.Z)(function*(){const $=Ki(j),{openUrl:re}=$,ve=qe($,["openUrl"]);null===j.clientId?yield k.cacheManager.clear():yield k.cacheManager.clear(j.clientId||k.options.clientId),k.cookieStorage.remove(k.orgHintCookieName,{cookieDomain:k.options.cookieDomain}),k.cookieStorage.remove(k.isAuthenticatedCookieName,{cookieDomain:k.options.cookieDomain}),k.userCache.remove("@@user@@");const $e=k._buildLogoutUrl(ve);re?yield re($e):!1!==re&&window.location.assign($e)})()}_getTokenFromIFrame(j){var k=this;return(0,V.Z)(function*(){const $=Object.assign(Object.assign({},j.authorizationParams),{prompt:"none"}),re=k.cookieStorage.get(k.orgHintCookieName);re&&!$.organization&&($.organization=re);const{url:ve,state:$e,nonce:We,code_verifier:et,redirect_uri:pt,scope:lt,audience:ft}=yield k._prepareAuthorizeUrl($,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new H("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const Ue=j.timeoutInSeconds||k.options.authorizeTimeoutInSeconds,_t=yield((Ht,Bt,Vt=60)=>new Promise((mn,cn)=>{const Mt=window.document.createElement("iframe");Mt.setAttribute("width","0"),Mt.setAttribute("height","0"),Mt.style.display="none";const Wn=()=>{window.document.body.contains(Mt)&&(window.document.body.removeChild(Mt),window.removeEventListener("message",Pn,!1))};let Pn;const fn=setTimeout(()=>{cn(new Ae),Wn()},1e3*Vt);Pn=function(Xi){if(Xi.origin!=Bt||!Xi.data||"authorization_response"!==Xi.data.type)return;const ji=Xi.source;ji&&ji.close(),Xi.data.response.error?cn(H.fromPayload(Xi.data.response)):mn(Xi.data.response),clearTimeout(fn),window.removeEventListener("message",Pn,!1),setTimeout(Wn,2e3)},window.addEventListener("message",Pn,!1),window.document.body.appendChild(Mt),Mt.setAttribute("src",Ht)}))(ve,k.domainUrl,Ue);if($e!==_t.state)throw new H("state_mismatch","Invalid state");const Ct=yield k._requestToken(Object.assign(Object.assign({},j.authorizationParams),{code_verifier:et,code:_t.code,grant_type:"authorization_code",redirect_uri:pt,timeout:j.authorizationParams.timeout||k.httpTimeoutMs}),{nonceIn:We,organization:$.organization});return Object.assign(Object.assign({},Ct),{scope:lt,oauthTokenScope:Ct.scope,audience:ft})}catch(Ue){throw"login_required"===Ue.error&&k.logout({openUrl:!1}),Ue}})()}_getTokenUsingRefreshToken(j){var k=this;return(0,V.Z)(function*(){const $=yield k.cacheManager.get(new It({scope:j.authorizationParams.scope,audience:j.authorizationParams.audience||"default",clientId:k.options.clientId}));if(!($&&$.refresh_token||k.worker)){if(k.options.useRefreshTokensFallback)return yield k._getTokenFromIFrame(j);throw new Gt(j.authorizationParams.audience||"default",j.authorizationParams.scope)}const re=j.authorizationParams.redirect_uri||k.options.authorizationParams.redirect_uri||window.location.origin,ve="number"==typeof j.timeoutInSeconds?1e3*j.timeoutInSeconds:null;try{const $e=yield k._requestToken(Object.assign(Object.assign(Object.assign({},j.authorizationParams),{grant_type:"refresh_token",refresh_token:$&&$.refresh_token,redirect_uri:re}),ve&&{timeout:ve}));return Object.assign(Object.assign({},$e),{scope:j.authorizationParams.scope,oauthTokenScope:$e.scope,audience:j.authorizationParams.audience||"default"})}catch($e){if(($e.message.indexOf("Missing Refresh Token")>-1||$e.message&&$e.message.indexOf("invalid refresh token")>-1)&&k.options.useRefreshTokensFallback)return yield k._getTokenFromIFrame(j);throw $e}})()}_saveEntryInCache(j){var k=this;return(0,V.Z)(function*(){const{id_token:$,decodedToken:re}=j,ve=qe(j,["id_token","decodedToken"]);k.userCache.set("@@user@@",{id_token:$,decodedToken:re}),yield k.cacheManager.setIdToken(k.options.clientId,j.id_token,j.decodedToken),yield k.cacheManager.set(ve)})()}_getIdTokenFromCache(){var j=this;return(0,V.Z)(function*(){const k=j.options.authorizationParams.audience||"default",$=yield j.cacheManager.getIdToken(new It({clientId:j.options.clientId,audience:k,scope:j.scope})),re=j.userCache.get("@@user@@");return $&&$.id_token===re?.id_token?re:(j.userCache.set("@@user@@",$),$)})()}_getEntryFromCache({scope:j,audience:k,clientId:$}){var re=this;return(0,V.Z)(function*(){const ve=yield re.cacheManager.get(new It({scope:j,audience:k,clientId:$}),60);if(ve&&ve.access_token){const{access_token:$e,oauthTokenScope:We,expires_in:et}=ve,pt=yield re._getIdTokenFromCache();return pt&&Object.assign(Object.assign({id_token:pt.id_token,access_token:$e},We?{scope:We}:null),{expires_in:et})}})()}_requestToken(j,k){var $=this;return(0,V.Z)(function*(){const{nonceIn:re,organization:ve}=k||{},$e=yield function yi(oe,j){return lr.apply(this,arguments)}(Object.assign({baseUrl:$.domainUrl,client_id:$.options.clientId,auth0Client:$.options.auth0Client,useFormData:$.options.useFormData,timeout:$.httpTimeoutMs},j),$.worker),We=yield $._verifyIdToken($e.id_token,re,ve);return yield $._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},$e),{decodedToken:We,scope:j.scope,audience:j.audience||"default"}),$e.scope?{oauthTokenScope:$e.scope}:null),{client_id:$.options.clientId})),$.cookieStorage.save($.isAuthenticatedCookieName,!0,{daysUntilExpire:$.sessionCheckExpiryDays,cookieDomain:$.options.cookieDomain}),$._processOrgHint(ve||We.claims.org_id),Object.assign(Object.assign({},$e),{decodedToken:We})})()}}var Y=A(7434),De=A(6895);class Lt{static createClient(j){const k=j.get();if(!k)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new yn({...k,auth0Client:{name:"@auth0/auth0-angular",version:"2.2.2",env:{"angular/core":T.q4F.full}}})}}const Se=new T.OlP("auth0.client");function Cn(oe){return"string"!=typeof oe}const Yn=new T.OlP("auth0-angular.config");let pi=(()=>{class oe{constructor(k){k&&this.set(k)}set(k){this.config=k}get(){return this.config}}return oe.\u0275fac=function(k){return new(k||oe)(T.LFG(Yn,8))},oe.\u0275prov=T.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Xt=(()=>{class oe{constructor(k,$){this.location=k;try{this.router=$.get(Y.F0)}catch{}}navigateByUrl(k){this.router?this.router.navigateByUrl(k):this.location.replaceState(k)}}return oe.\u0275fac=function(k){return new(k||oe)(T.LFG(De.Ye),T.LFG(T.zs3))},oe.\u0275prov=T.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Di=(()=>{class oe{constructor(k){this.auth0Client=k,this.isLoadingSubject$=new R.X(!0),this.refresh$=new t.x,this.accessToken$=new z.t(1),this.errorSubject$=new z.t(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe((0,de.R)(($,re)=>({previous:$.current,current:re}),{current:null,previous:null}),(0,fe.h)(({previous:$,current:re})=>$!==re)),this.isAuthenticatedTrigger$=this.isLoading$.pipe((0,fe.h)($=>!$),(0,at.x)(),(0,ye.w)(()=>(0,W.T)((0,J.P)(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe((0,Oe.z)(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe((0,Oe.z)(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe((0,at.x)(),(0,ut.d)(1)),this.user$=this.isAuthenticatedTrigger$.pipe((0,xe.b)($=>$?this.auth0Client.getUser():(0,ee.of)(null)),(0,at.x)()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe((0,xe.b)($=>$?this.auth0Client.getIdTokenClaims():(0,ee.of)(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(k){this.isLoadingSubject$.next(k)}refresh(){this.refresh$.next()}setAccessToken(k){this.accessToken$.next(k)}setError(k){this.errorSubject$.next(k)}}return oe.\u0275fac=function(k){return new(k||oe)(T.LFG(Se))},oe.\u0275prov=T.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Qi=(()=>{class oe{constructor(k,$,re,ve){this.auth0Client=k,this.configFactory=$,this.navigator=re,this.authState=ve,this.appStateSubject$=new z.t(1),this.ngUnsubscribe$=new t.x,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();const $e=We=>le(()=>We,this.handleRedirectCallback(),(0,J.P)(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe((0,ye.w)(We=>$e(We).pipe((0,Be.K)(et=>{const pt=this.configFactory.get();return this.navigator.navigateByUrl(pt.errorPath||"/"),this.authState.setError(et),(0,ee.of)(void 0)}))),(0,Ne.b)(()=>{this.authState.setIsLoading(!1)}),(0,Re.R)(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(k){return(0,we.D)(this.auth0Client.loginWithRedirect(k))}loginWithPopup(k,$){return(0,we.D)(this.auth0Client.loginWithPopup(k,$).then(()=>{this.authState.refresh()}))}logout(k){return(0,we.D)(this.auth0Client.logout(k).then(()=>{(!1===k?.openUrl||k?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(k={}){return(0,ee.of)(this.auth0Client).pipe((0,xe.b)($=>$.getTokenSilently(!0===k.detailedResponse?{...k,detailedResponse:!0}:k)),(0,Ne.b)($=>{$&&this.authState.setAccessToken("string"==typeof $?$:$.access_token)}),(0,Be.K)($=>(this.authState.setError($),this.authState.refresh(),(0,ge._)($))))}getAccessTokenWithPopup(k){return(0,ee.of)(this.auth0Client).pipe((0,xe.b)($=>$.getTokenWithPopup(k)),(0,Ne.b)($=>{$&&this.authState.setAccessToken($)}),(0,Be.K)($=>(this.authState.setError($),this.authState.refresh(),(0,ge._)($))))}handleRedirectCallback(k){return(0,J.P)(()=>this.auth0Client.handleRedirectCallback(k)).pipe(function je(...oe){const j=(0,dt.jO)(oe);return(0,Pe.e)((k,$)=>{const re=oe.length,ve=new Array(re);let $e=oe.map(()=>!1),We=!1;for(let et=0;et<re;et++)(0,st.Xf)(oe[et]).subscribe((0,Te.x)($,pt=>{ve[et]=pt,!We&&!$e[et]&&($e[et]=!0,(We=$e.every(ht.y))&&($e=null))},it.Z));k.subscribe((0,Te.x)($,et=>{if(We){const pt=[et,...ve];$.next(j?j(...pt):pt)}}))})}(this.authState.isLoading$),(0,Ne.b)(([$,re])=>{re||this.authState.refresh();const ve=$?.appState,$e=ve?.target??"/";ve&&this.appStateSubject$.next(ve),this.navigator.navigateByUrl($e)}),(0,Le.U)(([$])=>$))}shouldHandleCallback(){return(0,ee.of)(location.search).pipe((0,Le.U)(k=>{const $=new URLSearchParams(k);return($.has("code")||$.has("error"))&&$.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return oe.\u0275fac=function(k){return new(k||oe)(T.LFG(Se),T.LFG(pi),T.LFG(Xt),T.LFG(Di))},oe.\u0275prov=T.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),cr=(()=>{class oe{constructor(k){this.auth=k}canLoad(k,$){return this.auth.isAuthenticated$.pipe((0,Ee.q)(1))}canActivate(k,$){return this.redirectIfUnauthenticated($)}canActivateChild(k,$){return this.redirectIfUnauthenticated($)}redirectIfUnauthenticated(k){return this.auth.isAuthenticated$.pipe((0,Ne.b)($=>{$||this.auth.loginWithRedirect({appState:{target:k.url}})}))}}return oe.\u0275fac=function(k){return new(k||oe)(T.LFG(Qi))},oe.\u0275prov=T.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),es=(()=>{class oe{static forRoot(k){return{ngModule:oe,providers:[Qi,cr,{provide:Yn,useValue:k},{provide:Se,useFactory:Lt.createClient,deps:[pi]}]}}}return oe.\u0275fac=function(k){return new(k||oe)},oe.\u0275mod=T.oAB({type:oe}),oe.\u0275inj=T.cJS({}),oe})(),on=(()=>{class oe{constructor(k,$,re,ve){this.configFactory=k,this.auth0Client=$,this.authState=re,this.authService=ve}intercept(k,$){const re=this.configFactory.get();if(!re.httpInterceptor?.allowedList)return $.handle(k);const ve=this.authService.isLoading$.pipe((0,fe.h)($e=>!$e));return this.findMatchingRoute(k,re.httpInterceptor).pipe((0,xe.b)($e=>le(()=>null!==$e,(0,ee.of)($e).pipe((oe=>j=>j.pipe((0,Oe.z)(k=>oe.pipe((0,rt.P)(),(0,ie.h)(k)))))(ve),function Ce(...oe){const j=oe.length;if(0===j)throw new Error("list of properties cannot be empty.");return(0,Le.U)(k=>{let $=k;for(let re=0;re<j;re++){const ve=$?.[oe[re]];if(!(typeof ve<"u"))return;$=ve}return $})}("tokenOptions"),(0,xe.b)(We=>this.getAccessTokenSilently(We).pipe((0,Be.K)(et=>this.allowAnonymous($e,et)?(0,ee.of)(""):(this.authState.setError(et),(0,ge._)(et))))),(0,ye.w)(We=>{const et=We?k.clone({headers:k.headers.set("Authorization",`Bearer ${We}`)}):k;return $.handle(et)})),$.handle(k))))}getAccessTokenSilently(k){return(0,ee.of)(this.auth0Client).pipe((0,xe.b)($=>$.getTokenSilently(k)),(0,Ne.b)($=>this.authState.setAccessToken($)),(0,Be.K)($=>(this.authState.refresh(),(0,ge._)($))))}stripQueryFrom(k){return k.indexOf("?")>-1&&(k=k.substr(0,k.indexOf("?"))),k.indexOf("#")>-1&&(k=k.substr(0,k.indexOf("#"))),k}canAttachToken(k,$){const re=ve=>!!ve&&(ve===this.stripQueryFrom($.url)||ve.indexOf("*")===ve.length-1&&$.url.startsWith(ve.substr(0,ve.length-1)));return Cn(k)?(!k.httpMethod||k.httpMethod===$.method)&&(!k.uri&&!k.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),k.uriMatcher?k.uriMatcher($.url):re(k.uri)):re(k)}findMatchingRoute(k,$){return(0,we.D)($.allowedList).pipe((0,rt.P)(re=>this.canAttachToken(re,k),null))}allowAnonymous(k,$){return!!k&&Cn(k)&&!!k.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes($.error)}}return oe.\u0275fac=function(k){return new(k||oe)(T.LFG(pi),T.LFG(Se),T.LFG(Di),T.LFG(Qi))},oe.\u0275prov=T.Yz7({token:oe,factory:oe.\u0275fac}),oe})()},7126:(nt,_e,A)=>{"use strict";A.d(_e,{Pi:()=>me,aw:()=>Qe,X$:()=>U,sK:()=>he});var T=A(4650),R=A(9646),t=A(9751),z=A(576);function W(I){return!!I&&(I instanceof t.y||(0,z.m)(I.lift)&&(0,z.m)(I.subscribe))}var J=A(4742),ee=A(8421),le=A(3269),we=A(5403),ge=A(3268),de=A(1810),at=A(7272),ye=A(9770),Oe=A(5698),ut=A(4782),xe=A(4004),Be=A(4351),Ne=A(3900);class Re{}let Pe=(()=>{class I extends Re{getTranslation(H){return(0,R.of)({})}}return I.\u0275fac=function(){let Ie;return function(Me){return(Ie||(Ie=T.n5z(I)))(Me||I)}}(),I.\u0275prov=T.Yz7({token:I,factory:I.\u0275fac}),I})();class Te{}let st=(()=>{class I{handle(H){return H.key}}return I.\u0275fac=function(H){return new(H||I)},I.\u0275prov=T.Yz7({token:I,factory:I.\u0275fac}),I})();function ht(I,Ie){if(I===Ie)return!0;if(null===I||null===Ie)return!1;if(I!=I&&Ie!=Ie)return!0;let Ae,Ye,mt,H=typeof I;if(H==typeof Ie&&"object"==H){if(!Array.isArray(I)){if(Array.isArray(Ie))return!1;for(Ye in mt=Object.create(null),I){if(!ht(I[Ye],Ie[Ye]))return!1;mt[Ye]=!0}for(Ye in Ie)if(!(Ye in mt)&&typeof Ie[Ye]<"u")return!1;return!0}if(!Array.isArray(Ie))return!1;if((Ae=I.length)==Ie.length){for(Ye=0;Ye<Ae;Ye++)if(!ht(I[Ye],Ie[Ye]))return!1;return!0}}return!1}function it(I){return typeof I<"u"&&null!==I}function dt(I){return I&&"object"==typeof I&&!Array.isArray(I)}function je(I,Ie){let H=Object.assign({},I);return dt(I)&&dt(Ie)&&Object.keys(Ie).forEach(Me=>{dt(Ie[Me])?Me in I?H[Me]=je(I[Me],Ie[Me]):Object.assign(H,{[Me]:Ie[Me]}):Object.assign(H,{[Me]:Ie[Me]})}),H}class Le{}let Ee=(()=>{class I extends Le{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(H,Me){let Ae;return Ae="string"==typeof H?this.interpolateString(H,Me):"function"==typeof H?this.interpolateFunction(H,Me):H,Ae}getValue(H,Me){let Ae="string"==typeof Me?Me.split("."):[Me];Me="";do{Me+=Ae.shift(),!it(H)||!it(H[Me])||"object"!=typeof H[Me]&&Ae.length?Ae.length?Me+=".":H=void 0:(H=H[Me],Me="")}while(Ae.length);return H}interpolateFunction(H,Me){return H(Me)}interpolateString(H,Me){return Me?H.replace(this.templateMatcher,(Ae,Ye)=>{let mt=this.getValue(Me,Ye);return it(mt)?mt:Ae}):H}}return I.\u0275fac=function(){let Ie;return function(Me){return(Ie||(Ie=T.n5z(I)))(Me||I)}}(),I.\u0275prov=T.Yz7({token:I,factory:I.\u0275fac}),I})();class rt{}let ie=(()=>{class I extends rt{compile(H,Me){return H}compileTranslations(H,Me){return H}}return I.\u0275fac=function(){let Ie;return function(Me){return(Ie||(Ie=T.n5z(I)))(Me||I)}}(),I.\u0275prov=T.Yz7({token:I,factory:I.\u0275fac}),I})();class Ce{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new T.vpe,this.onLangChange=new T.vpe,this.onDefaultLangChange=new T.vpe}}const V=new T.OlP("USE_STORE"),qe=new T.OlP("USE_DEFAULT_LANG"),vt=new T.OlP("DEFAULT_LANGUAGE"),Q=new T.OlP("USE_EXTEND");let he=(()=>{class I{constructor(H,Me,Ae,Ye,mt,xt=!0,Gt=!1,an=!1,dn){this.store=H,this.currentLoader=Me,this.compiler=Ae,this.parser=Ye,this.missingTranslationHandler=mt,this.useDefaultLang=xt,this.isolate=Gt,this.extend=an,this.pending=!1,this._onTranslationChange=new T.vpe,this._onLangChange=new T.vpe,this._onDefaultLangChange=new T.vpe,this._langs=[],this._translations={},this._translationRequests={},dn&&this.setDefaultLang(dn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(H){this.isolate?this._defaultLang=H:this.store.defaultLang=H}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(H){this.isolate?this._currentLang=H:this.store.currentLang=H}get langs(){return this.isolate?this._langs:this.store.langs}set langs(H){this.isolate?this._langs=H:this.store.langs=H}get translations(){return this.isolate?this._translations:this.store.translations}set translations(H){this.isolate?this._translations=H:this.store.translations=H}setDefaultLang(H){if(H===this.defaultLang)return;let Me=this.retrieveTranslations(H);typeof Me<"u"?(null==this.defaultLang&&(this.defaultLang=H),Me.pipe((0,Oe.q)(1)).subscribe(Ae=>{this.changeDefaultLang(H)})):this.changeDefaultLang(H)}getDefaultLang(){return this.defaultLang}use(H){if(H===this.currentLang)return(0,R.of)(this.translations[H]);let Me=this.retrieveTranslations(H);return typeof Me<"u"?(this.currentLang||(this.currentLang=H),Me.pipe((0,Oe.q)(1)).subscribe(Ae=>{this.changeLang(H)}),Me):(this.changeLang(H),(0,R.of)(this.translations[H]))}retrieveTranslations(H){let Me;return(typeof this.translations[H]>"u"||this.extend)&&(this._translationRequests[H]=this._translationRequests[H]||this.getTranslation(H),Me=this._translationRequests[H]),Me}getTranslation(H){this.pending=!0;const Me=this.currentLoader.getTranslation(H).pipe((0,ut.d)(1),(0,Oe.q)(1));return this.loadingTranslations=Me.pipe((0,xe.U)(Ae=>this.compiler.compileTranslations(Ae,H)),(0,ut.d)(1),(0,Oe.q)(1)),this.loadingTranslations.subscribe({next:Ae=>{this.translations[H]=this.extend&&this.translations[H]?{...Ae,...this.translations[H]}:Ae,this.updateLangs(),this.pending=!1},error:Ae=>{this.pending=!1}}),Me}setTranslation(H,Me,Ae=!1){Me=this.compiler.compileTranslations(Me,H),this.translations[H]=(Ae||this.extend)&&this.translations[H]?je(this.translations[H],Me):Me,this.updateLangs(),this.onTranslationChange.emit({lang:H,translations:this.translations[H]})}getLangs(){return this.langs}addLangs(H){H.forEach(Me=>{-1===this.langs.indexOf(Me)&&this.langs.push(Me)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(H,Me,Ae){let Ye;if(Me instanceof Array){let mt={},xt=!1;for(let Gt of Me)mt[Gt]=this.getParsedResult(H,Gt,Ae),W(mt[Gt])&&(xt=!0);return xt?function fe(...I){const Ie=(0,le.jO)(I),{args:H,keys:Me}=(0,J.D)(I),Ae=new t.y(Ye=>{const{length:mt}=H;if(!mt)return void Ye.complete();const xt=new Array(mt);let Gt=mt,an=mt;for(let dn=0;dn<mt;dn++){let bn=!1;(0,ee.Xf)(H[dn]).subscribe((0,we.x)(Ye,sn=>{bn||(bn=!0,an--),xt[dn]=sn},()=>Gt--,void 0,()=>{(!Gt||!bn)&&(an||Ye.next(Me?(0,de.n)(Me,xt):xt),Ye.complete())}))}});return Ie?Ae.pipe((0,ge.Z)(Ie)):Ae}(Me.map(an=>W(mt[an])?mt[an]:(0,R.of)(mt[an]))).pipe((0,xe.U)(an=>{let dn={};return an.forEach((bn,sn)=>{dn[Me[sn]]=bn}),dn})):mt}if(H&&(Ye=this.parser.interpolate(this.parser.getValue(H,Me),Ae)),typeof Ye>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ye=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Me),Ae)),typeof Ye>"u"){let mt={key:Me,translateService:this};typeof Ae<"u"&&(mt.interpolateParams=Ae),Ye=this.missingTranslationHandler.handle(mt)}return typeof Ye<"u"?Ye:Me}get(H,Me){if(!it(H)||!H.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Be.b)(Ae=>W(Ae=this.getParsedResult(Ae,H,Me))?Ae:(0,R.of)(Ae)));{let Ae=this.getParsedResult(this.translations[this.currentLang],H,Me);return W(Ae)?Ae:(0,R.of)(Ae)}}getStreamOnTranslationChange(H,Me){if(!it(H)||!H.length)throw new Error('Parameter "key" required');return(0,at.z)((0,ye.P)(()=>this.get(H,Me)),this.onTranslationChange.pipe((0,Ne.w)(Ae=>{const Ye=this.getParsedResult(Ae.translations,H,Me);return"function"==typeof Ye.subscribe?Ye:(0,R.of)(Ye)})))}stream(H,Me){if(!it(H)||!H.length)throw new Error('Parameter "key" required');return(0,at.z)((0,ye.P)(()=>this.get(H,Me)),this.onLangChange.pipe((0,Ne.w)(Ae=>{const Ye=this.getParsedResult(Ae.translations,H,Me);return W(Ye)?Ye:(0,R.of)(Ye)})))}instant(H,Me){if(!it(H)||!H.length)throw new Error('Parameter "key" required');let Ae=this.getParsedResult(this.translations[this.currentLang],H,Me);if(W(Ae)){if(H instanceof Array){let Ye={};return H.forEach((mt,xt)=>{Ye[H[xt]]=H[xt]}),Ye}return H}return Ae}set(H,Me,Ae=this.currentLang){this.translations[Ae][H]=this.compiler.compile(Me,Ae),this.updateLangs(),this.onTranslationChange.emit({lang:Ae,translations:this.translations[Ae]})}changeLang(H){this.currentLang=H,this.onLangChange.emit({lang:H,translations:this.translations[H]}),null==this.defaultLang&&this.changeDefaultLang(H)}changeDefaultLang(H){this.defaultLang=H,this.onDefaultLangChange.emit({lang:H,translations:this.translations[H]})}reloadLang(H){return this.resetLang(H),this.getTranslation(H)}resetLang(H){this._translationRequests[H]=void 0,this.translations[H]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let H=window.navigator.languages?window.navigator.languages[0]:null;return H=H||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof H>"u"?void 0:(-1!==H.indexOf("-")&&(H=H.split("-")[0]),-1!==H.indexOf("_")&&(H=H.split("_")[0]),H)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let H=window.navigator.languages?window.navigator.languages[0]:null;return H=H||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,H}}return I.\u0275fac=function(H){return new(H||I)(T.LFG(Ce),T.LFG(Re),T.LFG(rt),T.LFG(Le),T.LFG(Te),T.LFG(qe),T.LFG(V),T.LFG(Q),T.LFG(vt))},I.\u0275prov=T.Yz7({token:I,factory:I.\u0275fac}),I})(),me=(()=>{class I{constructor(H,Me,Ae){this.translateService=H,this.element=Me,this._ref=Ae,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(Ye=>{Ye.lang===this.translateService.currentLang&&this.checkNodes(!0,Ye.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(Ye=>{this.checkNodes(!0,Ye.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(Ye=>{this.checkNodes(!0)}))}set translate(H){H&&(this.key=H,this.checkNodes())}set translateParams(H){ht(this.currentParams,H)||(this.currentParams=H,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(H=!1,Me){let Ae=this.element.nativeElement.childNodes;Ae.length||(this.setContent(this.element.nativeElement,this.key),Ae=this.element.nativeElement.childNodes);for(let Ye=0;Ye<Ae.length;++Ye){let mt=Ae[Ye];if(3===mt.nodeType){let xt;if(H&&(mt.lastKey=null),it(mt.lookupKey))xt=mt.lookupKey;else if(this.key)xt=this.key;else{let Gt=this.getContent(mt),an=Gt.trim();an.length&&(mt.lookupKey=an,Gt!==mt.currentValue?(xt=an,mt.originalContent=Gt||mt.originalContent):mt.originalContent?xt=mt.originalContent.trim():Gt!==mt.currentValue&&(xt=an,mt.originalContent=Gt||mt.originalContent))}this.updateValue(xt,mt,Me)}}}updateValue(H,Me,Ae){if(H){if(Me.lastKey===H&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let Ye=mt=>{mt!==H&&(Me.lastKey=H),Me.originalContent||(Me.originalContent=this.getContent(Me)),Me.currentValue=it(mt)?mt:Me.originalContent||H,this.setContent(Me,this.key?Me.currentValue:Me.originalContent.replace(H,Me.currentValue)),this._ref.markForCheck()};if(it(Ae)){let mt=this.translateService.getParsedResult(Ae,H,this.currentParams);W(mt)?mt.subscribe({next:Ye}):Ye(mt)}else this.translateService.get(H,this.currentParams).subscribe(Ye)}}getContent(H){return it(H.textContent)?H.textContent:H.data}setContent(H,Me){it(H.textContent)?H.textContent=Me:H.data=Me}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return I.\u0275fac=function(H){return new(H||I)(T.Y36(he),T.Y36(T.SBq),T.Y36(T.sBO))},I.\u0275dir=T.lG2({type:I,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),I})(),U=(()=>{class I{constructor(H,Me){this.translate=H,this._ref=Me,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(H,Me,Ae){let Ye=mt=>{this.value=void 0!==mt?mt:H,this.lastKey=H,this._ref.markForCheck()};if(Ae){let mt=this.translate.getParsedResult(Ae,H,Me);W(mt.subscribe)?mt.subscribe(Ye):Ye(mt)}this.translate.get(H,Me).subscribe(Ye)}transform(H,...Me){if(!H||!H.length)return H;if(ht(H,this.lastKey)&&ht(Me,this.lastParams))return this.value;let Ae;if(it(Me[0])&&Me.length)if("string"==typeof Me[0]&&Me[0].length){let Ye=Me[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Ae=JSON.parse(Ye)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Me[0]}`)}}else"object"==typeof Me[0]&&!Array.isArray(Me[0])&&(Ae=Me[0]);return this.lastKey=H,this.lastParams=Me,this.updateValue(H,Ae),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ye=>{this.lastKey&&Ye.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(H,Ae,Ye.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ye=>{this.lastKey&&(this.lastKey=null,this.updateValue(H,Ae,Ye.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(H,Ae))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return I.\u0275fac=function(H){return new(H||I)(T.Y36(he,16),T.Y36(T.sBO,16))},I.\u0275pipe=T.Yjl({name:"translate",type:I,pure:!1}),I.\u0275prov=T.Yz7({token:I,factory:I.\u0275fac}),I})(),Qe=(()=>{class I{static forRoot(H={}){return{ngModule:I,providers:[H.loader||{provide:Re,useClass:Pe},H.compiler||{provide:rt,useClass:ie},H.parser||{provide:Le,useClass:Ee},H.missingTranslationHandler||{provide:Te,useClass:st},Ce,{provide:V,useValue:H.isolate},{provide:qe,useValue:H.useDefaultLang},{provide:Q,useValue:H.extend},{provide:vt,useValue:H.defaultLanguage},he]}}static forChild(H={}){return{ngModule:I,providers:[H.loader||{provide:Re,useClass:Pe},H.compiler||{provide:rt,useClass:ie},H.parser||{provide:Le,useClass:Ee},H.missingTranslationHandler||{provide:Te,useClass:st},{provide:V,useValue:H.isolate},{provide:qe,useValue:H.useDefaultLang},{provide:Q,useValue:H.extend},{provide:vt,useValue:H.defaultLanguage},he]}}}return I.\u0275fac=function(H){return new(H||I)},I.\u0275mod=T.oAB({type:I}),I.\u0275inj=T.cJS({}),I})()},5861:(nt,_e,A)=>{"use strict";function T(t,z,W,J,ee,le,we){try{var ge=t[le](we),de=ge.value}catch(fe){return void W(fe)}ge.done?z(de):Promise.resolve(de).then(J,ee)}function R(t){return function(){var z=this,W=arguments;return new Promise(function(J,ee){var le=t.apply(z,W);function we(de){T(le,J,ee,we,ge,"next",de)}function ge(de){T(le,J,ee,we,ge,"throw",de)}we(void 0)})}}A.d(_e,{Z:()=>R})},7582:(nt,_e,A)=>{"use strict";function fe(Q,he,me,U){return new(me||(me=Promise))(function(I,Ie){function H(Ye){try{Ae(U.next(Ye))}catch(mt){Ie(mt)}}function Me(Ye){try{Ae(U.throw(Ye))}catch(mt){Ie(mt)}}function Ae(Ye){Ye.done?I(Ye.value):function Qe(I){return I instanceof me?I:new me(function(Ie){Ie(I)})}(Ye.value).then(H,Me)}Ae((U=U.apply(Q,he||[])).next())})}function Pe(Q){return this instanceof Pe?(this.v=Q,this):new Pe(Q)}function Te(Q,he,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,U=me.apply(Q,he||[]),I=[];return Qe={},Ie("next"),Ie("throw"),Ie("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function Ie(xt){U[xt]&&(Qe[xt]=function(Gt){return new Promise(function(an,dn){I.push([xt,Gt,an,dn])>1||H(xt,Gt)})})}function H(xt,Gt){try{!function Me(xt){xt.value instanceof Pe?Promise.resolve(xt.value.v).then(Ae,Ye):mt(I[0][2],xt)}(U[xt](Gt))}catch(an){mt(I[0][3],an)}}function Ae(xt){H("next",xt)}function Ye(xt){H("throw",xt)}function mt(xt,Gt){xt(Gt),I.shift(),I.length&&H(I[0][0],I[0][1])}}function ht(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,he=Q[Symbol.asyncIterator];return he?he.call(Q):(Q=function ut(Q){var he="function"==typeof Symbol&&Symbol.iterator,me=he&&Q[he],U=0;if(me)return me.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&U>=Q.length&&(Q=void 0),{value:Q&&Q[U++],done:!Q}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),me={},U("next"),U("throw"),U("return"),me[Symbol.asyncIterator]=function(){return this},me);function U(I){me[I]=Q[I]&&function(Ie){return new Promise(function(H,Me){!function Qe(I,Ie,H,Me){Promise.resolve(Me).then(function(Ae){I({value:Ae,done:H})},Ie)}(H,Me,(Ie=Q[I](Ie)).done,Ie.value)})}}}A.d(_e,{FC:()=>Te,KL:()=>ht,mG:()=>fe,qq:()=>Pe}),"function"==typeof SuppressedError&&SuppressedError}},nt=>{nt(nt.s=2226)}]);