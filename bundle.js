/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n={5704:(e,t)=>{"use strict";t.CA=function(e){for(var t,r=e.length,s=r%3,i=[],a=16383,c=0,l=r-s;c<l;c+=a)i.push(o(e,c,c+a>l?l:c+a));return 1===s?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===s&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],s=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),i=0;i<64;++i)n[i]=s[i],r[s.charCodeAt(i)]=i;function o(e,t,r){for(var s,i,o=[],a=t;a<r;a+=3)s=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(i=s)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2264:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",s="minute",i="hour",o="day",a="week",c="month",l="quarter",u="year",h="date",p="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+f(r,2,"0")+":"+f(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(r,c),i=n-s<0,o=t.clone().add(r+(i?-1:1),c);return+(-(r+(n-s)/(i?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:a,d:o,D:h,h:i,m:s,s:r,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=m;var w="$isDayjsObject",D=function(e){return e instanceof x||!(!e||!e[w])},C=function e(t,n,r){var s;if(!t)return y;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(s=i),n&&(b[i]=n,s=i);var o=t.split("-");if(!s&&o.length>1)return e(o[0])}else{var a=t.name;b[a]=t,s=a}return!r&&s&&(y=s),s||!r&&y},_=function(e,t){if(D(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new x(n)},S=v;S.l=C,S.i=D,S.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function m(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var f=m.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return S},f.isValid=function(){return!(this.$d.toString()===p)},f.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return _(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<_(e)},f.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var n=this,l=!!S.u(t)||t,p=S.p(e),d=function(e,t){var r=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return l?r:r.endOf(o)},g=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,f=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(p){case u:return l?d(1,0):d(31,11);case c:return l?d(1,f):d(0,f+1);case a:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return d(l?v-w:v+(6-w),f);case o:case h:return g(y+"Hours",0);case i:return g(y+"Minutes",1);case s:return g(y+"Seconds",2);case r:return g(y+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,t){var a,l=S.p(e),p="set"+(this.$u?"UTC":""),d=(a={},a[o]=p+"Date",a[h]=p+"Date",a[c]=p+"Month",a[u]=p+"FullYear",a[i]=p+"Hours",a[s]=p+"Minutes",a[r]=p+"Seconds",a[n]=p+"Milliseconds",a)[l],g=l===o?this.$D+(t-this.$W):t;if(l===c||l===u){var m=this.clone().set(h,1);m.$d[d](g),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](g);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[S.p(e)]()},f.add=function(n,l){var h,p=this;n=Number(n);var d=S.p(l),g=function(e){var t=_(p);return S.w(t.date(t.date()+Math.round(e*n)),p)};if(d===c)return this.set(c,this.$M+n);if(d===u)return this.set(u,this.$y+n);if(d===o)return g(1);if(d===a)return g(7);var m=(h={},h[s]=e,h[i]=t,h[r]=1e3,h)[d]||1,f=this.$d.getTime()+n*m;return S.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=S.z(this),i=this.$H,o=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,h=function(e,n,s,i){return e&&(e[n]||e(t,r))||s[n].slice(0,i)},d=function(e){return S.s(i%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(g,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return a+1;case"MM":return S.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,l,3);case"MMMM":return h(l,a);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,c,2);case"ddd":return h(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return S.s(i,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return m(i,o,!0);case"A":return m(i,o,!1);case"m":return String(o);case"mm":return S.s(o,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(n,h,p){var d,g=this,m=S.p(h),f=_(n),v=(f.utcOffset()-this.utcOffset())*e,y=this-f,b=function(){return S.m(g,f)};switch(m){case u:d=b()/12;break;case c:d=b();break;case l:d=b()/3;break;case a:d=(y-v)/6048e5;break;case o:d=(y-v)/864e5;break;case i:d=y/t;break;case s:d=y/e;break;case r:d=y/1e3;break;default:d=y}return p?d:S.a(d)},f.daysInMonth=function(){return this.endOf(c).$D},f.$locale=function(){return b[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},f.clone=function(){return S.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},m}(),I=x.prototype;return _.prototype=I,[["$ms",n],["$s",r],["$m",s],["$H",i],["$W",o],["$M",c],["$y",u],["$D",h]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,x,_),e.$i=!0),_},_.locale=C,_.isDayjs=D,_.unix=function(e){return _(1e3*e)},_.en=b[y],_.Ls=b,_.p={},_}()},8256:function(e){e.exports=function(){"use strict";return function(e,t,n){var r="h:mm A",s={lastDay:"[Yesterday at] "+r,sameDay:"[Today at] "+r,nextDay:"[Tomorrow at] "+r,nextWeek:"dddd [at] "+r,lastWeek:"[Last] dddd [at] "+r,sameElse:"MM/DD/YYYY"};t.prototype.calendar=function(e,t){var r=t||this.$locale().calendar||s,i=n(e||void 0).startOf("d"),o=this.diff(i,"d",!0),a="sameElse",c=o<-6?a:o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":a,l=r[c]||s[c];return"function"==typeof l?l.call(this,n()):this.format(l)}}}()},7336:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,s){return r.fromToBase(e,t,n,s)}n.en.relativeTime=s,r.fromToBase=function(t,r,i,o,a){for(var c,l,u,h=i.$locale().relativeTime||s,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],d=p.length,g=0;g<d;g+=1){var m=p[g];m.d&&(c=o?n(t).diff(i,m.d,!0):i.diff(t,m.d,!0));var f=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,f<=m.r||!m.r){f<=1&&g>0&&(m=p[g-1]);var v=h[m.l];a&&(f=a(""+f)),l="string"==typeof v?v.replace("%d",f):v(f,r,m.l,u);break}}if(r)return l;var y=u?h.future:h.past;return"function"==typeof y?y(l):y.replace("%s",l)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var o=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(o(this),e)},r.fromNow=function(e){return this.from(o(this),e)}}}()},3956:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},7424:(e,t,n)=>{var r=null;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:void 0!==n.g?r=n.g.WebSocket||n.g.MozWebSocket:"undefined"!=typeof window?r=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),e.exports=r},3072:(e,t,n)=>{var r,s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,a="object"==typeof self&&self&&self.Object===Object&&self,c=o||a||Function("return this")(),l=(r={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},function(e){return null==r?void 0:r[e]}),u=Object.prototype.toString,h=c.Symbol,p=h?h.prototype:void 0,d=p?p.toString:void 0;e.exports=function(e){var t;return(e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t))&&e.replace(s,l).replace(i,"")}},1016:e=>{"use strict";const t=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],n=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],s=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],i=(e,t,n)=>{let r=e;return"string"==typeof t||Array.isArray(t)?r=e.toLocaleString(t,n):!0!==t&&void 0===n||(r=e.toLocaleString(void 0,n)),r};e.exports=(e,o)=>{if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);const a=(o=Object.assign({bits:!1,binary:!1},o)).bits?o.binary?s:r:o.binary?n:t;if(o.signed&&0===e)return` 0 ${a[0]}`;const c=e<0,l=c?"-":o.signed?"+":"";let u;if(c&&(e=-e),void 0!==o.minimumFractionDigits&&(u={minimumFractionDigits:o.minimumFractionDigits}),void 0!==o.maximumFractionDigits&&(u=Object.assign({maximumFractionDigits:o.maximumFractionDigits},u)),e<1)return l+i(e,o.locale,u)+" "+a[0];const h=Math.min(Math.floor(o.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),a.length-1);return e/=Math.pow(o.binary?1024:1e3,h),u||(e=e.toPrecision(3)),l+i(Number(e),o.locale,u)+" "+a[h]}},928:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var r=n(1316),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,r.ct)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(3588).E)},1944:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var r=n(5596),s=n(8888),i=n(60),o=n(7819),a=n(1363),c=n(3844),l=n(8748),u=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,o=this,a=(i=e)&&i instanceof r.yR||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(i)&&(0,s.GI)(i)?e:new r.ot(e,t,n);return(0,l.c)((function(){var e=o,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?o._subscribe(a):o._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=h(t))((function(t,s){var i=new r.ot({next:function(t){try{e(t)}catch(e){s(e),i.unsubscribe()}},error:s,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,o.Y)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function h(e){var t;return null!==(t=null!=e?e:a.E.Promise)&&void 0!==t?t:Promise}},7168:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(1316),s=n(3588),i=n(2304),o=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=i.K);var s=e.call(this)||this;return s._bufferSize=t,s._windowTime=n,s._timestampProvider=r,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=n===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,n),s}return(0,r.ct)(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,s=n._buffer,i=n._infiniteTimeWindow,o=n._timestampProvider,a=n._windowTime;r||(s.push(t),!i&&s.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),s=0;s<r.length&&!e.closed;s+=n?1:2)e.next(r[s]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,s=e._infiniteTimeWindow,i=(s?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!s){for(var o=n.now(),a=0,c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}},t}(s.E)},3588:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var r=n(1316),s=n(1944),i=n(8888),o=(0,n(9792).w)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),a=n(9777),c=n(8748),l=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.ct)(t,e),t.prototype.lift=function(e){var t=new u(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new o},t.prototype.next=function(e){var t=this;(0,c.c)((function(){var n,s;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,r.gR)(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){n={error:e}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;(0,c.c)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,c.c)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,s=n.isStopped,o=n.observers;return r||s?i.au:(this.currentObservers=null,o.push(e),new i.wH((function(){t.currentObservers=null,(0,a.k)(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,s=t.isStopped;n?e.error(r):s&&e.complete()},t.prototype.asObservable=function(){var e=new s._;return e.source=this,e},t.create=function(e,t){return new u(e,t)},t}(s._),u=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.ct)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:i.au},t}(l)},5596:(e,t,n)=>{"use strict";n.d(t,{ot:()=>v,yR:()=>d});var r=n(1316),s=n(3844),i=n(8888),o=n(1363),a=n(6168),c=n(7428),l=u("C",void 0,void 0);function u(e,t,n){return{kind:e,value:t,error:n}}var h=n(1340),p=n(8748),d=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,i.GI)(t)&&t.add(n)):n.destination=w,n}return(0,r.ct)(t,e),t.create=function(e,t,n){return new v(e,t,n)},t.prototype.next=function(e){this.isStopped?b(function(e){return u("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?b(u("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?b(l,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(i.wH),g=Function.prototype.bind;function m(e,t){return g.call(e,t)}var f=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){y(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){y(e)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){y(e)}},e}(),v=function(e){function t(t,n,r){var i,a,c=e.call(this)||this;return(0,s.m)(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:c&&o.E.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},i={next:t.next&&m(t.next,a),error:t.error&&m(t.error,a),complete:t.complete&&m(t.complete,a)}):i=t,c.destination=new f(i),c}return(0,r.ct)(t,e),t}(d);function y(e){o.E.useDeprecatedSynchronousErrorHandling?(0,p.q)(e):(0,a.U)(e)}function b(e,t){var n=o.E.onStoppedNotification;n&&h.u.setTimeout((function(){return n(e,t)}))}var w={closed:!0,next:c.K,error:function(e){throw e},complete:c.K}},8888:(e,t,n)=>{"use strict";n.d(t,{au:()=>c,wH:()=>a,GI:()=>l});var r=n(1316),s=n(3844),i=(0,n(9792).w)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),o=n(9777),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,o,a;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var l=(0,r.gR)(c),h=l.next();!h.done;h=l.next())h.value.remove(this)}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else c.remove(this);var p=this.initialTeardown;if((0,s.m)(p))try{p()}catch(e){a=e instanceof i?e.errors:[e]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var g=(0,r.gR)(d),m=g.next();!m.done;m=g.next()){var f=m.value;try{u(f)}catch(e){a=null!=a?a:[],e instanceof i?a=(0,r.Mt)((0,r.Mt)([],(0,r.o5)(a)),(0,r.o5)(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}}if(a)throw new i(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)u(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,o.k)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,o.k)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),c=a.EMPTY;function l(e){return e instanceof a||e&&"closed"in e&&(0,s.m)(e.remove)&&(0,s.m)(e.add)&&(0,s.m)(e.unsubscribe)}function u(e){(0,s.m)(e)?e():e.unsubscribe()}},1363:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2808:(e,t,n)=>{"use strict";n.d(t,{E:()=>p});var r=n(1944),s=n(4324),i=n(6292),o=n(3500),a=n(1632),c=n(5132),l=n(9896),u=n(3760),h=n(1556);function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,c.e_)(e),h=(0,c.yu)(e),p=(0,s.Q)(e),g=p.args,m=p.keys;if(0===g.length)return(0,i.Q)([],n);var f=new r._(function(e,t,n){return void 0===n&&(n=o.Z),function(r){d(t,(function(){for(var s=e.length,o=new Array(s),a=s,c=s,l=function(s){d(t,(function(){var l=(0,i.Q)(e[s],t),h=!1;l.subscribe((0,u.e)(r,(function(e){o[s]=e,h||(h=!0,c--),c||r.next(n(o.slice()))}),(function(){--a||r.complete()})))}),r)},h=0;h<s;h++)l(h)}),r)}}(g,n,m?function(e){return(0,l.q)(m,e)}:o.Z));return h?f.pipe((0,a.j)(h)):f}function d(e,t,n){e?(0,h._)(n,e,t):t()}},84:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(844),s=n(5132),i=n(6292);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.u)(1)((0,i.Q)(e,(0,s.e_)(e)))}},2024:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(1944),s=n(5448);function i(e){return new r._((function(t){(0,s.Uv)(e()).subscribe(t)}))}},460:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=new(n(1944)._)((function(e){return e.complete()}))},6292:(e,t,n)=>{"use strict";n.d(t,{Q:()=>w});var r=n(5448),s=n(1556),i=n(6816),o=n(3760);function a(e,t){return void 0===t&&(t=0),(0,i.i)((function(n,r){n.subscribe((0,o.e)(r,(function(n){return(0,s._)(r,e,(function(){return r.next(n)}),t)}),(function(){return(0,s._)(r,e,(function(){return r.complete()}),t)}),(function(n){return(0,s._)(r,e,(function(){return r.error(n)}),t)})))}))}function c(e,t){return void 0===t&&(t=0),(0,i.i)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}var l=n(1944),u=n(7e3),h=n(3844);function p(e,t){if(!e)throw new Error("Iterable cannot be null");return new l._((function(n){(0,s._)(n,t,(function(){var r=e[Symbol.asyncIterator]();(0,s._)(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}var d=n(2895),g=n(644),m=n(6699),f=n(744),v=n(2500),y=n(9228),b=n(2904);function w(e,t){return t?function(e,t){if(null!=e){if((0,d.O)(e))return function(e,t){return(0,r.Uv)(e).pipe(c(t),a(t))}(e,t);if((0,m.G)(e))return function(e,t){return new l._((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if((0,g.u)(e))return function(e,t){return(0,r.Uv)(e).pipe(c(t),a(t))}(e,t);if((0,v.E)(e))return p(e,t);if((0,f.i)(e))return function(e,t){return new l._((function(n){var r;return(0,s._)(n,t,(function(){r=e[u.w](),(0,s._)(n,t,(function(){var e,t,s;try{t=(e=r.next()).value,s=e.done}catch(e){return void n.error(e)}s?n.complete():n.next(t)}),0,!0)})),function(){return(0,h.m)(null==r?void 0:r.return)&&r.return()}}))}(e,t);if((0,b.K)(e))return function(e,t){return p((0,b._)(e),t)}(e,t)}throw(0,y.W)(e)}(e,t):(0,r.Uv)(e)}},5448:(e,t,n)=>{"use strict";n.d(t,{Uv:()=>m});var r=n(1316),s=n(6699),i=n(644),o=n(1944),a=n(2895),c=n(2500),l=n(9228),u=n(744),h=n(2904),p=n(3844),d=n(6168),g=n(60);function m(e){if(e instanceof o._)return e;if(null!=e){if((0,a.O)(e))return y=e,new o._((function(e){var t=y[g.a]();if((0,p.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,s.G)(e))return v=e,new o._((function(e){for(var t=0;t<v.length&&!e.closed;t++)e.next(v[t]);e.complete()}));if((0,i.u)(e))return m=e,new o._((function(e){m.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,d.U)}));if((0,c.E)(e))return f(e);if((0,u.i)(e))return n=e,new o._((function(e){var t,s;try{for(var i=(0,r.gR)(n),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){t={error:e}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(t)throw t.error}}e.complete()}));if((0,h.K)(e))return t=e,f((0,h._)(t))}var t,n,m,v,y;throw(0,l.W)(e)}function f(e){return new o._((function(t){(function(e,t){var n,s,i,o;return(0,r.kH)(this,void 0,void 0,(function(){var a,c;return(0,r.KE)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,r.mA)(e),l.label=1;case 1:return[4,n.next()];case 2:if((s=l.sent()).done)return[3,4];if(a=s.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=l.sent(),i={error:c},[3,11];case 6:return l.trys.push([6,,9,10]),s&&!s.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},2700:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(844),s=n(5448),i=n(460),o=n(5132),a=n(6292);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,o.e_)(e),c=(0,o._8)(e,1/0),l=e;return l.length?1===l.length?(0,s.Uv)(l[0]):(0,r.u)(c)((0,a.Q)(l,n)):i.k}},7288:(e,t,n)=>{"use strict";n.d(t,{of:()=>i});var r=n(5132),s=n(6292);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,r.e_)(e);return(0,s.Q)(e,n)}},3980:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(1944),s=n(3844);function i(e,t){var n=(0,s.m)(e)?e:function(){return e},i=function(e){return e.error(n())};return new r._(t?function(e){return t.schedule(i,0,e)}:i)}},3760:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var r=n(1316);function s(e,t,n,r,s){return new i(e,t,n,r,s)}var i=function(e){function t(t,n,r,s,i,o){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=o,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=s?function(e){try{s(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,r.ct)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(5596).yR)},5972:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var r=n(5448),s=n(3760),i=n(6816);function o(e){return(0,i.i)((function(t,n){var i,a=null,c=!1;a=t.subscribe((0,s.e)(n,void 0,void 0,(function(s){i=(0,r.Uv)(e(s,o(e)(t))),a?(a.unsubscribe(),a=null,i.subscribe(n)):c=!0}))),c&&(a.unsubscribe(),a=null,i.subscribe(n))}))}},7964:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(6632),s=n(3844);function i(e,t){return(0,s.m)(t)?(0,r.O)(e,t,1):(0,r.O)(e,1)}},6896:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(6816),s=n(3760);function i(e){return(0,r.i)((function(t,n){var r=!1;t.subscribe((0,s.e)(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}},8728:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var r=n(3500),s=n(6816),i=n(3760);function o(e,t){return void 0===t&&(t=r.Z),e=null!=e?e:a,(0,s.i)((function(n,r){var s,o=!0;n.subscribe((0,i.e)(r,(function(n){var i=t(n);!o&&e(s,i)||(o=!1,s=i,r.next(n))})))}))}function a(e,t){return e===t}},5232:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(6816),s=n(3760);function i(e,t){return(0,r.i)((function(n,r){var i=0;n.subscribe((0,s.e)(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}},8376:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var r=n(3300),s=n(5232),i=n(1544),o=n(6896),a=n(6080),c=n(3500);function l(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?(0,s.I)((function(t,n){return e(t,n,l)})):c.Z,(0,i.U)(1),n?(0,o.G)(t):(0,a._)((function(){return new r.G})))}}},4864:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(6816),s=n(3760);function i(e,t){return(0,r.i)((function(n,r){var i=0;n.subscribe((0,s.e)(r,(function(n){r.next(e.call(t,n,i++))})))}))}},7576:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var r=n(4864);function s(e){return(0,r.k)((function(){return e}))}},844:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(6632),s=n(3500);function i(e){return void 0===e&&(e=1/0),(0,r.O)(s.Z,e)}},6632:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var r=n(4864),s=n(5448),i=n(6816),o=(n(1556),n(3760)),a=n(3844);function c(e,t,n){return void 0===n&&(n=1/0),(0,a.m)(t)?c((function(n,i){return(0,r.k)((function(e,r){return t(n,e,i,r)}))((0,s.Uv)(e(n,i)))}),n):("number"==typeof t&&(n=t),(0,i.i)((function(t,r){return function(e,t,n,r,i,a,c,l){var u=[],h=0,p=0,d=!1,g=function(){!d||u.length||h||t.complete()},m=function(e){return h<r?f(e):u.push(e)},f=function(e){h++;var i=!1;(0,s.Uv)(n(e,p++)).subscribe((0,o.e)(t,(function(e){t.next(e)}),(function(){i=!0}),void 0,(function(){if(i)try{h--;for(;u.length&&h<r;)e=void 0,e=u.shift(),f(e);g()}catch(e){t.error(e)}var e})))};return e.subscribe((0,o.e)(t,m,(function(){d=!0,g()}))),function(){}}(t,r,e,n)})))}},648:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(6816),s=n(3760);function i(e,t){return(0,r.i)(function(e,t,n,r,i){return function(r,i){var o=n,a=t,c=0;r.subscribe((0,s.e)(i,(function(t){var n=c++;a=o?e(a,t,n):(o=!0,t),i.next(a)}),undefined))}}(e,t,arguments.length>=2))}},3192:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r=n(1316),s=n(5448),i=n(3588),o=n(5596),a=n(6816);function c(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new i.E}:t,r=e.resetOnError,c=void 0===r||r,u=e.resetOnComplete,h=void 0===u||u,p=e.resetOnRefCountZero,d=void 0===p||p;return function(e){var t,r,i,u=0,p=!1,g=!1,m=function(){null==r||r.unsubscribe(),r=void 0},f=function(){m(),t=i=void 0,p=g=!1},v=function(){var e=t;f(),null==e||e.unsubscribe()};return(0,a.i)((function(e,a){u++,g||p||m();var y=i=null!=i?i:n();a.add((function(){0!=--u||g||p||(r=l(v,d))})),y.subscribe(a),!t&&u>0&&(t=new o.ot({next:function(e){return y.next(e)},error:function(e){g=!0,m(),r=l(f,c,e),y.error(e)},complete:function(){p=!0,m(),r=l(f,h),y.complete()}}),(0,s.Uv)(e).subscribe(t))}))(e)}}function l(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(!0!==t){if(!1!==t){var i=new o.ot({next:function(){i.unsubscribe(),e()}});return t.apply(void 0,(0,r.Mt)([],(0,r.o5)(n))).subscribe(i)}}else e()}},2204:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(7168),s=n(3192);function i(e,t,n){var i,o,a,c,l=!1;return e&&"object"==typeof e?(i=e.bufferSize,c=void 0===i?1/0:i,o=e.windowTime,t=void 0===o?1/0:o,l=void 0!==(a=e.refCount)&&a,n=e.scheduler):c=null!=e?e:1/0,(0,s.o)({connector:function(){return new r.o(c,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}},8128:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(5448),s=n(6816),i=n(3760);function o(e,t){return(0,s.i)((function(n,s){var o=null,a=0,c=!1,l=function(){return c&&!o&&s.complete()};n.subscribe((0,i.e)(s,(function(n){null==o||o.unsubscribe();var c=0,u=a++;(0,r.Uv)(e(n,u)).subscribe(o=(0,i.e)(s,(function(e){return s.next(t?t(n,e,u,c++):e)}),(function(){o=null,l()})))}),(function(){c=!0,l()})))}))}},1544:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(460),s=n(6816),i=n(3760);function o(e){return e<=0?function(){return r.k}:(0,s.i)((function(t,n){var r=0;t.subscribe((0,i.e)(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},3012:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(6816),s=n(3760),i=n(5448),o=n(7428);function a(e){return(0,r.i)((function(t,n){(0,i.Uv)(e).subscribe((0,s.e)(n,(function(){return n.complete()}),o.K)),!n.closed&&t.subscribe(n)}))}},260:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var r=n(3844),s=n(6816),i=n(3760),o=n(3500);function a(e,t,n){var a=(0,r.m)(e)||t||n?{next:e,error:t,complete:n}:e;return a?(0,s.i)((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe((0,i.e)(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):o.Z}},6080:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(3300),s=n(6816),i=n(3760);function o(e){return void 0===e&&(e=a),(0,s.i)((function(t,n){var r=!1;t.subscribe((0,i.e)(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function a(){return new r.G}},2304:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},1340:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(1316),s={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=s.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,r.Mt)([e,t],(0,r.o5)(n))):setTimeout.apply(void 0,(0,r.Mt)([e,t],(0,r.o5)(n)))},clearTimeout:function(e){var t=s.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},7e3:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},60:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},3300:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=(0,n(9792).w)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},5132:(e,t,n)=>{"use strict";n.d(t,{_8:()=>c,e_:()=>a,yu:()=>o});var r=n(3844),s=n(5664);function i(e){return e[e.length-1]}function o(e){return(0,r.m)(i(e))?e.pop():void 0}function a(e){return(0,s.G)(i(e))?e.pop():void 0}function c(e,t){return"number"==typeof i(e)?e.pop():t}},4324:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=Array.isArray,s=Object.getPrototypeOf,i=Object.prototype,o=Object.keys;function a(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if((a=t)&&"object"==typeof a&&s(a)===i){var n=o(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var a;return{args:e,keys:null}}},9777:(e,t,n)=>{"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{k:()=>r})},9792:(e,t,n)=>{"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{w:()=>r})},9896:(e,t,n)=>{"use strict";function r(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}n.d(t,{q:()=>r})},8748:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,q:()=>o});var r=n(1363),s=null;function i(e){if(r.E.useDeprecatedSynchronousErrorHandling){var t=!s;if(t&&(s={errorThrown:!1,error:null}),e(),t){var n=s,i=n.errorThrown,o=n.error;if(s=null,i)throw o}}else e()}function o(e){r.E.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=e)}},1556:(e,t,n)=>{"use strict";function r(e,t,n,r,s){void 0===r&&(r=0),void 0===s&&(s=!1);var i=t.schedule((function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!s)return i}n.d(t,{_:()=>r})},3500:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{Z:()=>r})},6699:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},2500:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(3844);function s(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},3844:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},2895:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(60),s=n(3844);function i(e){return(0,s.m)(e[r.a])}},744:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(7e3),s=n(3844);function i(e){return(0,s.m)(null==e?void 0:e[r.w])}},644:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(3844);function s(e){return(0,r.m)(null==e?void 0:e.then)}},2904:(e,t,n)=>{"use strict";n.d(t,{K:()=>o,_:()=>i});var r=n(1316),s=n(3844);function i(e){return(0,r.o7)(this,arguments,(function(){var t,n,s;return(0,r.KE)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,r.U1)(t.read())];case 3:return n=i.sent(),s=n.value,n.done?[4,(0,r.U1)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,r.U1)(s)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function o(e){return(0,s.m)(null==e?void 0:e.getReader)}},5664:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(3844);function s(e){return e&&(0,r.m)(e.schedule)}},6816:(e,t,n)=>{"use strict";n.d(t,{e:()=>s,i:()=>i});var r=n(3844);function s(e){return(0,r.m)(null==e?void 0:e.lift)}function i(e){return function(t){if(s(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},1632:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(1316),s=n(4864),i=Array.isArray;function o(e){return(0,s.k)((function(t){return function(e,t){return i(t)?e.apply(void 0,(0,r.Mt)([],(0,r.o5)(t))):e(t)}(e,t)}))}},7428:(e,t,n)=>{"use strict";function r(){}n.d(t,{K:()=>r})},7819:(e,t,n)=>{"use strict";n.d(t,{W:()=>s,Y:()=>i});var r=n(3500);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.Z:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},6168:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(1363),s=n(1340);function i(e){s.u.setTimeout((function(){var t=r.E.onUnhandledError;if(!t)throw e;t(e)}))}},9228:(e,t,n)=>{"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{W:()=>r})},5552:(e,t,n)=>{"use strict";n.d(t,{mM:()=>ui,Kc:()=>ai,Yz:()=>so,QP:()=>ro,iY:()=>vi});var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Le,hasStandardBrowserEnv:()=>je,hasStandardBrowserWebWorkerEnv:()=>Ue});var s=n(1316),i=n(8676),o=n(928),a=n(7168),c=n(2808),l=n(3588),u=n(1944),h=function(e){function t(t,n){return e.call(this)||this}return(0,s.ct)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(8888).wH),p={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=p.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,(0,s.Mt)([e,t],(0,s.o5)(n))):setInterval.apply(void 0,(0,s.Mt)([e,t],(0,s.o5)(n)))},clearInterval:function(e){var t=p.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},d=n(9777),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,s.ct)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),p.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&p.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,d.k)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(h),m=n(2304),f=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=m.K.now,e}(),v=new(function(e){function t(t,n){void 0===n&&(n=f.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,s.ct)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(f))(g),y=v,b=n(5664);function w(e,t,n){void 0===e&&(e=0),void 0===n&&(n=y);var r=-1;return null!=t&&((0,b.G)(t)?n=t:r=t),new u._((function(t){var s,i=(s=e)instanceof Date&&!isNaN(s)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}var D=n(5704);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function E(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){T(i,r,s,o,a,"next",e)}function a(e){T(i,r,s,o,a,"throw",e)}o(void 0)}))}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_(t)?t:String(t)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function O(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=n(3248),L=n.n(P);function j(e,t){return function(){return e.apply(t,arguments)}}const{toString:N}=Object.prototype,{getPrototypeOf:U}=Object,V=($=Object.create(null),e=>{const t=N.call(e);return $[t]||($[t]=t.slice(8,-1).toLowerCase())});var $;const B=e=>(e=e.toLowerCase(),t=>V(t)===e),H=e=>t=>typeof t===e,{isArray:q}=Array,z=H("undefined"),W=B("ArrayBuffer"),K=H("string"),G=H("function"),Z=H("number"),Y=e=>null!==e&&"object"==typeof e,Q=e=>{if("object"!==V(e))return!1;const t=U(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},J=B("Date"),X=B("File"),ee=B("Blob"),te=B("FileList"),ne=B("URLSearchParams");function re(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),q(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let o;for(r=0;r<i;r++)o=s[r],t.call(null,e[o],o,e)}}function se(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,oe=e=>!z(e)&&e!==ie,ae=(ce="undefined"!=typeof Uint8Array&&U(Uint8Array),e=>ce&&e instanceof ce);var ce;const le=B("HTMLFormElement"),ue=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),he=B("RegExp"),pe=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};re(n,((n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)})),Object.defineProperties(e,r)},de="abcdefghijklmnopqrstuvwxyz",ge="0123456789",me={DIGIT:ge,ALPHA:de,ALPHA_DIGIT:de+de.toUpperCase()+ge},fe=B("AsyncFunction"),ve={isArray:q,isArrayBuffer:W,isBuffer:function(e){return null!==e&&!z(e)&&null!==e.constructor&&!z(e.constructor)&&G(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||G(e.append)&&("formdata"===(t=V(e))||"object"===t&&G(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&W(e.buffer),t},isString:K,isNumber:Z,isBoolean:e=>!0===e||!1===e,isObject:Y,isPlainObject:Q,isUndefined:z,isDate:J,isFile:X,isBlob:ee,isRegExp:he,isFunction:G,isStream:e=>Y(e)&&G(e.pipe),isURLSearchParams:ne,isTypedArray:ae,isFileList:te,forEach:re,merge:function e(){const{caseless:t}=oe(this)&&this||{},n={},r=(r,s)=>{const i=t&&se(n,s)||s;Q(n[i])&&Q(r)?n[i]=e(n[i],r):Q(r)?n[i]=e({},r):q(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&re(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(re(t,((t,r)=>{n&&G(t)?e[r]=j(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&U(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:V,kindOfTest:B,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(q(e))return e;let t=e.length;if(!Z(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:le,hasOwnProperty:ue,hasOwnProp:ue,reduceDescriptors:pe,freezeMethods:e=>{pe(e,((t,n)=>{if(G(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];G(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return q(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:se,global:ie,isContextDefined:oe,ALPHABET:me,generateString:(e=16,t=me.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&G(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=q(e)?[]:{};return re(e,((e,t)=>{const i=n(e,r+1);!z(i)&&(s[t]=i)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:fe,isThenable:e=>e&&(Y(e)||G(e))&&G(e.then)&&G(e.catch)};function ye(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}ve.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const be=ye.prototype,we={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{we[e]={value:e}})),Object.defineProperties(ye,we),Object.defineProperty(be,"isAxiosError",{value:!0}),ye.from=(e,t,n,r,s,i)=>{const o=Object.create(be);return ve.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ye.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const De=ye;function Ce(e){return ve.isPlainObject(e)||ve.isArray(e)}function _e(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function Se(e,t,n){return e?e.concat(t).map((function(e,t){return e=_e(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const xe=ve.toFlatObject(ve,{},null,(function(e){return/^is[A-Z]/.test(e)})),Ie=function(e,t,n){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ve.isUndefined(t[e])}))).metaTokens,s=n.visitor||l,i=n.dots,o=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(ve.isDate(e))return e.toISOString();if(!a&&ve.isBlob(e))throw new De("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(e)||ve.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,s){let a=e;if(e&&!s&&"object"==typeof e)if(ve.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ve.isArray(e)&&function(e){return ve.isArray(e)&&!e.some(Ce)}(e)||(ve.isFileList(e)||ve.endsWith(n,"[]"))&&(a=ve.toArray(e)))return n=_e(n),a.forEach((function(e,r){!ve.isUndefined(e)&&null!==e&&t.append(!0===o?Se([n],r,i):null===o?n:n+"[]",c(e))})),!1;return!!Ce(e)||(t.append(Se(s,n,i),c(e)),!1)}const u=[],h=Object.assign(xe,{defaultVisitor:l,convertValue:c,isVisitable:Ce});if(!ve.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ve.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),ve.forEach(n,(function(n,i){!0===(!(ve.isUndefined(n)||null===n)&&s.call(t,n,ve.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function Ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Te(e,t){this._pairs=[],e&&Ie(e,this,t)}const ke=Te.prototype;ke.append=function(e,t){this._pairs.push([e,t])},ke.toString=function(e){const t=e?function(t){return e.call(this,t,Ee)}:Ee;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Me=Te;function Ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fe(e,t,n){if(!t)return e;const r=n&&n.encode||Ae,s=n&&n.serialize;let i;if(i=s?s(t,n):ve.isURLSearchParams(t)?t.toString():new Me(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Oe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Re={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pe={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Me,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Le="undefined"!=typeof window&&"undefined"!=typeof document,je=(Ne="undefined"!=typeof navigator&&navigator.product,Le&&["ReactNative","NativeScript","NS"].indexOf(Ne)<0);var Ne;const Ue="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ve={...r,...Pe},$e=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),a=s>=e.length;return i=!i&&ve.isArray(r)?r.length:i,a?(ve.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o):(r[i]&&ve.isObject(r[i])||(r[i]=[]),t(e,n,r[i],s)&&ve.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!o)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const n={};return ve.forEachEntry(e,((e,r)=>{t(function(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},Be={transitional:Re,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=ve.isObject(e);if(s&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return r&&r?JSON.stringify($e(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ie(e,new Ve.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ve.isNode&&ve.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=ve.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ie(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(ve.isString(e))try{return(0,JSON.parse)(e),ve.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Be.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&ve.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw De.from(e,De.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],(e=>{Be.headers[e]={}}));const He=Be,qe=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ze=Symbol("internals");function We(e){return e&&String(e).trim().toLowerCase()}function Ke(e){return!1===e||null==e?e:ve.isArray(e)?e.map(Ke):String(e)}function Ge(e,t,n,r,s){return ve.isFunction(r)?r.call(this,t,n):(s&&(t=n),ve.isString(t)?ve.isString(r)?-1!==t.indexOf(r):ve.isRegExp(r)?r.test(t):void 0:void 0)}class Ze{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=We(t);if(!s)throw new Error("header name must be a non-empty string");const i=ve.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Ke(e))}const i=(e,t)=>ve.forEach(e,((e,n)=>s(e,n,t)));return ve.isPlainObject(e)||e instanceof this.constructor?i(e,t):ve.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&qe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&s(t,e,n),this}get(e,t){if(e=We(e)){const n=ve.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ve.isFunction(t))return t.call(this,e,n);if(ve.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=We(e)){const n=ve.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ge(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=We(e)){const s=ve.findKey(n,e);!s||t&&!Ge(0,n[s],s,t)||(delete n[s],r=!0)}}return ve.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Ge(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return ve.forEach(this,((r,s)=>{const i=ve.findKey(n,s);if(i)return t[i]=Ke(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();o!==s&&delete t[s],t[o]=Ke(r),n[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ve.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[ze]=this[ze]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=We(e);t[r]||(function(e,t){const n=ve.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return ve.isArray(e)?e.forEach(r):r(e),this}}Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ve.reduceDescriptors(Ze.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),ve.freezeMethods(Ze);const Ye=Ze;function Qe(e,t){const n=this||He,r=t||n,s=Ye.from(r.headers);let i=r.data;return ve.forEach(e,(function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function Je(e){return!(!e||!e.__CANCEL__)}function Xe(e,t,n){De.call(this,null==e?"canceled":e,De.ERR_CANCELED,t,n),this.name="CanceledError"}ve.inherits(Xe,De,{__CANCEL__:!0});const et=Xe,tt=Ve.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];ve.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ve.isString(r)&&o.push("path="+r),ve.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function nt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const rt=Ve.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=ve.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function st(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[o];s||(s=c),n[i]=a,r[i]=c;let u=o,h=0;for(;u!==i;)h+=n[u++],u%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const p=l&&c-l;return p?Math.round(1e3*h/p):void 0}}(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,c=r(a);n=i;const l={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&i<=o?(o-i)/c:void 0,event:s};l[t?"download":"upload"]=!0,e(l)}}const it={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const s=Ye.from(e.headers).normalize();let i,o,{responseType:a,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(ve.isFormData(r))if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if(!1!==(o=s.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(t+":"+n))}const h=nt(e.baseURL,e.url);function p(){if(!u)return;const r=Ye.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new De("Request failed with status code "+n.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Fe(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(n(new De("Request aborted",De.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new De("Network Error",De.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Re;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new De(t,r.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,e,u)),u=null},Ve.hasStandardBrowserEnv&&(c&&ve.isFunction(c)&&(c=c(e)),c||!1!==c&&rt(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&tt.read(e.xsrfCookieName);t&&s.set(e.xsrfHeaderName,t)}void 0===r&&s.setContentType(null),"setRequestHeader"in u&&ve.forEach(s.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),ve.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",st(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",st(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{u&&(n(!t||t.type?new et(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);d&&-1===Ve.protocols.indexOf(d)?n(new De("Unsupported protocol "+d+":",De.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};ve.forEach(it,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const ot=e=>`- ${e}`,at=e=>ve.isFunction(e)||null===e||!1===e,ct=e=>{e=ve.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!at(n)&&(r=it[(t=String(n)).toLowerCase()],void 0===r))throw new De(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(ot).join("\n"):" "+ot(e[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function lt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new et(null,e)}function ut(e){return lt(e),e.headers=Ye.from(e.headers),e.data=Qe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ct(e.adapter||He.adapter)(e).then((function(t){return lt(e),t.data=Qe.call(e,e.transformResponse,t),t.headers=Ye.from(t.headers),t}),(function(t){return Je(t)||(lt(e),t&&t.response&&(t.response.data=Qe.call(e,e.transformResponse,t.response),t.response.headers=Ye.from(t.response.headers))),Promise.reject(t)}))}const ht=e=>e instanceof Ye?e.toJSON():e;function pt(e,t){t=t||{};const n={};function r(e,t,n){return ve.isPlainObject(e)&&ve.isPlainObject(t)?ve.merge.call({caseless:n},e,t):ve.isPlainObject(t)?ve.merge({},t):ve.isArray(t)?t.slice():t}function s(e,t,n){return ve.isUndefined(t)?ve.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!ve.isUndefined(t))return r(void 0,t)}function o(e,t){return ve.isUndefined(t)?ve.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>s(ht(e),ht(t),!0)};return ve.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||s,o=i(e[r],t[r],r);ve.isUndefined(o)&&i!==a||(n[r]=o)})),n}const dt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{dt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const gt={};dt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new De(r(s," has been removed"+(t?" in "+t:"")),De.ERR_DEPRECATED);return t&&!gt[s]&&(gt[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}};const mt={assertOptions:function(e,t,n){if("object"!=typeof e)throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const t=e[i],n=void 0===t||o(t,i,e);if(!0!==n)throw new De("option "+i+" must be "+n,De.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new De("Unknown option "+i,De.ERR_BAD_OPTION)}},validators:dt},ft=mt.validators;class vt{constructor(e){this.defaults=e,this.interceptors={request:new Oe,response:new Oe}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=pt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&mt.assertOptions(n,{silentJSONParsing:ft.transitional(ft.boolean),forcedJSONParsing:ft.transitional(ft.boolean),clarifyTimeoutError:ft.transitional(ft.boolean)},!1),null!=r&&(ve.isFunction(r)?t.paramsSerializer={serialize:r}:mt.assertOptions(r,{encode:ft.function,serialize:ft.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&ve.merge(s.common,s[t.method]);s&&ve.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Ye.concat(i,s);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[ut.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);h<u;)l=l.then(e[h++],e[h++]);return l}u=o.length;let p=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{p=e(p)}catch(e){t.call(this,e);break}}try{l=ut.call(this,p)}catch(e){return Promise.reject(e)}for(h=0,u=c.length;h<u;)l=l.then(c[h++],c[h++]);return l}getUri(e){return Fe(nt((e=pt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ve.forEach(["delete","get","head","options"],(function(e){vt.prototype[e]=function(t,n){return this.request(pt(n||{},{method:e,url:t,data:(n||{}).data}))}})),ve.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(pt(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}vt.prototype[e]=t(),vt.prototype[e+"Form"]=t(!0)}));const yt=vt;class bt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new et(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new bt((function(t){e=t})),cancel:e}}}const wt=bt,Dt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dt).forEach((([e,t])=>{Dt[t]=e}));const Ct=Dt,_t=function e(t){const n=new yt(t),r=j(yt.prototype.request,n);return ve.extend(r,yt.prototype,n,{allOwnKeys:!0}),ve.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(pt(t,n))},r}(He);_t.Axios=yt,_t.CanceledError=et,_t.CancelToken=wt,_t.isCancel=Je,_t.VERSION="1.6.5",_t.toFormData=Ie,_t.AxiosError=De,_t.Cancel=_t.CanceledError,_t.all=function(e){return Promise.all(e)},_t.spread=function(e){return function(t){return e.apply(null,t)}},_t.isAxiosError=function(e){return ve.isObject(e)&&!0===e.isAxiosError},_t.mergeConfig=pt,_t.AxiosHeaders=Ye,_t.formToJSON=e=>$e(ve.isHTMLForm(e)?new FormData(e):e),_t.getAdapter=ct,_t.HttpStatusCode=Ct,_t.default=_t;const St=_t;function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var It=n(3956),Et=n.n(It),Tt=n(7424),kt=n.n(Tt);function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},At(e,t)}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}function Ot(e,t,n){return Ot=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return n&&At(s,n.prototype),s},Ot.apply(null,arguments)}function Rt(e){var t="function"==typeof Map?new Map:void 0;return Rt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ot(e,arguments,Ft(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),At(r,e)},Rt(e)}function Pt(e){return"string"==typeof e}function Lt(e,t){return!!t&&Pt(e)}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=function(){function e(t){var n,r=this;M(this,e),R(this,"_channel",void 0),R(this,"watcher_count",void 0),R(this,"typing",void 0),R(this,"read",void 0),R(this,"pinnedMessages",void 0),R(this,"pending_messages",void 0),R(this,"threads",void 0),R(this,"mutedUsers",void 0),R(this,"watchers",void 0),R(this,"members",void 0),R(this,"unreadCount",void 0),R(this,"membership",void 0),R(this,"last_message_at",void 0),R(this,"isUpToDate",void 0),R(this,"messageSets",[]),R(this,"setIsUpToDate",(function(e){r.isUpToDate=e})),R(this,"removeMessageFromArray",(function(e,t){var n=e.filter((function(e){return!(e.id&&t.id&&e.id===t.id)}));return{removed:n.length<e.length,result:n}})),R(this,"updateUserMessages",(function(e){var t=function(e,t){for(var n=0;n<e.length;n++){var r,s=e[n];(null===(r=s.user)||void 0===r?void 0:r.id)===t.id&&(e[n]=Nt(Nt({},s),{},{user:t}))}};for(var n in r.messageSets.forEach((function(n){return t(n.messages,e)})),r.threads)t(r.threads[n],e);t(r.pinnedMessages,e)})),R(this,"deleteUserMessages",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++){var s,i=e[r];(null===(s=i.user)||void 0===s?void 0:s.id)===t.id&&(e[r]=n?{cid:i.cid,created_at:i.created_at,deleted_at:t.deleted_at,id:i.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:i.parent_id,reply_count:i.reply_count,status:i.status,thread_participants:i.thread_participants,type:"deleted",updated_at:i.updated_at,user:i.user}:Nt(Nt({},i),{},{type:"deleted",deleted_at:t.deleted_at}))}};for(var s in r.messageSets.forEach((function(r){return n(r.messages,e,t)})),r.threads)n(r.threads[s],e,t);n(r.pinnedMessages,e,t)})),this._channel=t,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=null!=(null==t||null===(n=t.state)||void 0===n?void 0:n.last_message_at)?new Date(t.state.last_message_at):null}var t;return O(e,[{key:"messages",get:function(){var e;return(null===(e=this.messageSets.find((function(e){return e.isCurrent})))||void 0===e?void 0:e.messages)||[]},set:function(e){var t=this.messageSets.findIndex((function(e){return e.isCurrent}));this.messageSets[t].messages=e}},{key:"latestMessages",get:function(){var e;return(null===(e=this.messageSets.find((function(e){return e.isLatest})))||void 0===e?void 0:e.messages)||[]},set:function(e){var t=this.messageSets.findIndex((function(e){return e.isLatest}));this.messageSets[t].messages=e}},{key:"addMessageSorted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"latest";return this.addMessagesSorted([e],t,!1,n,r)}},{key:"formatMessage",value:function(e){return Nt(Nt({},e),{},{__html:e.html,pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received"})}},{key:"addMessagesSorted",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"current",i=this.findTargetMessageSet(e,r,s),o=i.messagesToAdd,a=i.targetMessageSetIndex,c=0;c<o.length;c+=1)if(!o[c].shadowed){var l,u=void 0;o[c].created_at instanceof Date?u=o[c]:((u=this.formatMessage(o[c])).user&&null!==(l=this._channel)&&void 0!==l&&l.cid&&this._channel.getClient().state.updateUserReference(u.user,this._channel.cid),n&&u.id&&this.threads[u.id]&&delete this.threads[u.id],this.last_message_at||(this.last_message_at=new Date(u.created_at.getTime())),u.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(u.created_at.getTime())));var h=u.parent_id;if(h&&!u.show_in_channel||-1===a||(this.messageSets[a].messages=this._addToMessageList(this.messageSets[a].messages,u,t,"created_at",r)),h&&!n){var p=this.threads[h]||[],d=this._addToMessageList(p,u,t,"created_at",r);this.threads[h]=d}}return{messageSet:this.messageSets[a]}}},{key:"addPinnedMessages",value:function(e){for(var t=0;t<e.length;t+=1)this.addPinnedMessage(e[t])}},{key:"addPinnedMessage",value:function(e){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(e),!1,"pinned_at")}},{key:"removePinnedMessage",value:function(e){var t=this.removeMessageFromArray(this.pinnedMessages,e).result;this.pinnedMessages=t}},{key:"addReaction",value:function(e,t,n){var r=this;if(t){var s=t;return this._updateMessage(t,(function(t){return s.own_reactions=r._addOwnReactionToMessage(t.own_reactions,e,n),r.formatMessage(s)})),s}}},{key:"_addOwnReactionToMessage",value:function(e,t,n){return e=(e=n?[]:this._removeOwnReactionFromMessage(e,t))||[],this._channel.getClient().userID===t.user_id&&e.push(t),e}},{key:"_removeOwnReactionFromMessage",value:function(e,t){return e?e.filter((function(e){return e.user_id!==t.user_id||e.type!==t.type})):e}},{key:"removeReaction",value:function(e,t){var n=this;if(t){var r=t;return this._updateMessage(t,(function(t){return r.own_reactions=n._removeOwnReactionFromMessage(t.own_reactions,e),n.formatMessage(r)})),r}}},{key:"removeQuotedMessageReferences",value:function(e){var t=this,n=function(e){var t,n;return Nt(Nt({},e),{},{created_at:e.created_at.toISOString(),pinned_at:null===(t=e.pinned_at)||void 0===t?void 0:t.toISOString(),updated_at:null===(n=e.updated_at)||void 0===n?void 0:n.toISOString()})};this.messageSets.forEach((function(r){var s=r.messages.filter((function(t){return t.quoted_message_id===e.id})).map(n).map((function(t){return Nt(Nt({},t),{},{quoted_message:Nt(Nt({},e),{},{attachments:[]})})}));t.addMessagesSorted(s,!0)}))}},{key:"_updateMessage",value:function(e,t){var n=e.parent_id,r=e.show_in_channel,s=e.pinned;if(n&&this.threads[n]){var i=this.threads[n],o=i.findIndex((function(t){return t.id===e.id}));-1!==o&&(i[o]=t(i[o]),this.threads[n]=i)}if(!r&&!n||r){var a=this.findMessageSetIndex(e);if(-1!==a){var c=this.messageSets[a].messages.findIndex((function(t){return t.id===e.id}));-1!==c&&(this.messageSets[a].messages[c]=t(this.messageSets[a].messages[c]))}}if(s){var l=this.pinnedMessages.findIndex((function(t){return t.id===e.id}));-1!==l&&(this.pinnedMessages[l]=t(this.pinnedMessages[l]))}}},{key:"_addToMessageList",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"created_at",s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4]||n,i=e;n&&(i=i.filter((function(e){return!(e.id&&t.id===e.id)})));var o=i.length;if(0===o&&s)return i.concat(t);if(0===o)return E(i);var a=t[r].getTime(),c=i[o-1][r].getTime()<a;if(c&&s)return i.concat(t);if(c)return E(i);for(var l=0,u=0,h=o-1;l<=h;)i[u=Math.floor((h+l)/2)][r].getTime()<=a?l=u+1:h=u-1;if(!n&&t.id){if(i[l]&&t.id===i[l].id)return i[l]=t,E(i);if(i[l-1]&&t.id===i[l-1].id)return i[l-1]=t,E(i)}return s&&i.splice(l,0,t),E(i)}},{key:"removeMessage",value:function(e){var t=!1;if(e.parent_id&&this.threads[e.parent_id]){var n=this.removeMessageFromArray(this.threads[e.parent_id],e),r=n.removed,s=n.result;this.threads[e.parent_id]=s,t=r}else{var i,o=null!==(i=e.messageSetIndex)&&void 0!==i?i:this.findMessageSetIndex(e);if(-1!==o){var a=this.removeMessageFromArray(this.messageSets[o].messages,e),c=a.removed,l=a.result;this.messageSets[o].messages=l,t=c}}return t}},{key:"filterErrorMessages",value:function(){var e=this.latestMessages.filter((function(e){return"error"!==e.type}));this.latestMessages=e}},{key:"clean",value:function(){for(var e=new Date,t=0,n=Object.entries(this.typing);t<n.length;t++){var r=xt(n[t],2),s=r[0],i=r[1],o="string"==typeof i.received_at?new Date(i.received_at):i.received_at||new Date;e.getTime()-o.getTime()>7e3&&(delete this.typing[s],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:s}}))}}},{key:"clearMessages",value:function(){this.initMessages(),this.pinnedMessages=[]}},{key:"initMessages",value:function(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0}]}},{key:"loadMessageIntoState",value:(t=k(L().mark((function e(t,n){var r,s,i,o,a,c,l=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.length>2&&void 0!==l[2]?l[2]:25,o=!1,a=!1,c=n||t,"latest"!==t){e.next=10;break}if(this.messages!==this.latestMessages){e.next=7;break}return e.abrupt("return");case 7:i=this.messageSets.findIndex((function(e){return e.isLatest})),e.next=11;break;case 10:i=this.findMessageSetIndex({id:c});case 11:if(-1!==i&&(this.switchToMessageSet(i),o=!0),a=!n||!(null===(r=this.threads[n])||void 0===r||!r.find((function(e){return e.id===t}))),!o||!a){e.next=15;break}return e.abrupt("return");case 15:if(o){e.next=18;break}return e.next=18,this._channel.query({messages:{id_around:c,limit:s}},"new");case 18:if(a||!n){e.next=21;break}return e.next=21,this._channel.getReplies(n,{id_around:t,limit:s});case 21:-1!==(i=this.findMessageSetIndex({id:c}))&&this.switchToMessageSet(i);case 23:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"findMessage",value:function(e,t){if(t){var n=this.threads[t];if(!n)return;return n.find((function(t){return t.id===e}))}var r=this.findMessageSetIndex({id:e});if(-1!==r)return this.messageSets[r].messages.find((function(t){return t.id===e}))}},{key:"switchToMessageSet",value:function(e){var t=this.messageSets.find((function(e){return e.isCurrent}));t&&(t.isCurrent=!1,this.messageSets[e].isCurrent=!0)}},{key:"areMessageSetsOverlap",value:function(e,t){return e.some((function(e){return t.find((function(t){return e.id===t.id}))}))}},{key:"findMessageSetIndex",value:function(e){return this.messageSets.findIndex((function(t){return!!t.messages.find((function(t){return t.id===e.id}))}))}},{key:"findTargetMessageSet",value:function(e){var t,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",s=e;if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])t=this.findMessageSetIndex(e[0]);else{var i=this.messageSets.map((function(e,t){return t})).filter((function(t){return n.areMessageSetsOverlap(n.messageSets[t].messages,e)}));switch(r){case"new":i.length>0?t=i[0]:e.some((function(e){return!e.parent_id}))&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1}),t=this.messageSets.length-1);break;case"current":t=this.messageSets.findIndex((function(e){return e.isCurrent}));break;case"latest":t=this.messageSets.findIndex((function(e){return e.isLatest}));break;default:t=-1}var o=i.splice(0,1)[0],a=E(i);if(void 0!==o&&o!==t&&a.push(t),a.length>0){var c=this.messageSets[o],l=this.messageSets.filter((function(e,t){return-1!==a.indexOf(t)}));l.forEach((function(e){c.isLatest=c.isLatest||e.isLatest,c.isCurrent=c.isCurrent||e.isCurrent,s=[].concat(E(s),E(e.messages))})),l.forEach((function(e){return n.messageSets.splice(n.messageSets.indexOf(e),1)}));var u=this.messageSets.findIndex((function(t){return n.areMessageSetsOverlap(t.messages,e)}));t=u}}return{targetMessageSetIndex:t,messagesToAdd:s}}}]),e}();function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Bt(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}function Ht(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){a=!0,i=e})),f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(Array.isArray(e)?e:[e]);try{for(r.s();!(t=r.n()).done;){var s=t.value,i=Object.entries(s);i.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(var o=0,a=i;o<a.length;o++){var c=xt(a[o],2),l=c[0],u=c[1];n.push({field:l,direction:u})}}}catch(e){r.e(e)}finally{r.f()}return n}function qt(e){var t=Math.min(500+2e3*e,25e3),n=Math.min(Math.max(250,2e3*(e-1)),25e3);return Math.floor(Math.random()*(t-n)+n)}function zt(){return(e=function(e){var t=new Uint8Array(16);return Gt(t),t}())[6]=15&e[6]|64,e[8]=191&e[8]|128,Wt(e.subarray(0,4))+"-"+Wt(e.subarray(4,6))+"-"+Wt(e.subarray(6,8))+"-"+Wt(e.subarray(8,10))+"-"+Wt(e.subarray(10,16));var e}function Wt(e){for(var t="",n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}var Kt,Gt="undefined"!=typeof crypto&&void 0!==(null===(Kt=crypto)||void 0===Kt?void 0:Kt.getRandomValues)?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(e){for(var t=Math.pow(2,8*e.byteLength/e.length),n=0;n<e.length;n++)e[n]=Math.random()*t};function Zt(e){var t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}))}catch(e){return{error:"failed to serialize the error"}}return t}function Yt(e){"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("offline",e),window.addEventListener("online",e))}function Qt(e){"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("offline",e),window.removeEventListener("online",e))}var Jt=function(e){var t=[];for(var n in e)void 0!==e[n]&&(Array.isArray(e[n])||"object"===_(e[n])?t.push("".concat(n,"=").concat(encodeURIComponent(JSON.stringify(e[n])))):t.push("".concat(n,"=").concat(encodeURIComponent(e[n]))));return t.join("&")};function Xt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=function(){function e(t,n,r,s){var i=this;if(M(this,e),R(this,"_client",void 0),R(this,"type",void 0),R(this,"id",void 0),R(this,"data",void 0),R(this,"_data",void 0),R(this,"cid",void 0),R(this,"listeners",void 0),R(this,"state",void 0),R(this,"initialized",void 0),R(this,"offlineMode",void 0),R(this,"lastKeyStroke",void 0),R(this,"lastTypingEvent",void 0),R(this,"isTyping",void 0),R(this,"disconnected",void 0),R(this,"create",function(){var e=k(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nn(nn({},t),{},{watch:!1,state:!1,presence:!1}),e.next=3,i.query(n,"latest");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R(this,"_callChannelListeners",(function(e){var t=i,n=[];t.listeners.all&&n.push.apply(n,E(t.listeners.all)),t.listeners[e.type]&&n.push.apply(n,E(t.listeners[e.type]));for(var r=0,s=n;r<s.length;r++){var o=s[r];"string"!=typeof o&&o(e)}})),R(this,"_channelURL",(function(){if(!i.id)throw new Error("channel id is not defined");return"".concat(i.getClient().baseURL,"/channels/").concat(i.type,"/").concat(i.id)})),!/^[\w_-]+$/.test(n))throw new Error("Invalid chat type ".concat(n,', letters, numbers and "_-" are allowed'));if("string"==typeof r&&!/^[\w!_-]+$/.test(r))throw new Error("Invalid chat id ".concat(r,', letters, numbers and "!-_" are allowed'));this._client=t,this.type=n,this.id=r,this.data=s,this._data=nn({},s),this.cid="".concat(n,":").concat(r),this.listeners={},this.state=new Ut(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1}var t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v,y,b,w,D,C,S,x,I,T,A,F,P,j,N,U,V,$,B,H,q,z;return O(e,[{key:"getClient",value:function(){if(!0===this.disconnected)throw Error("You can't use a channel after client.disconnect() was called");return this._client}},{key:"getConfig",value:function(){return this.getClient().configs[this.cid]}},{key:"sendMessage",value:(z=k(L().mark((function e(t,n){var r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/message",nn({message:t},n));case 2:return r=e.sent,this.state.unreadCount=0,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return z.apply(this,arguments)})},{key:"sendFile",value:function(e,t,n,r){return this.getClient().sendFile("".concat(this._channelURL(),"/file"),e,t,n,r)}},{key:"sendImage",value:function(e,t,n,r){return this.getClient().sendFile("".concat(this._channelURL(),"/image"),e,t,n,r)}},{key:"deleteFile",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/file"),{url:e})}},{key:"deleteImage",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/image"),{url:e})}},{key:"sendEvent",value:(q=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().post(this._channelURL()+"/event",{event:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return q.apply(this,arguments)})},{key:"search",value:(H=k(L().mark((function e(t){var n,r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=s.length>1&&void 0!==s[1]?s[1]:{}).offset||!n.next){e.next=3;break}throw Error("Cannot specify offset with next");case 3:if(r=nn(nn({filter_conditions:{cid:this.cid}},n),{},{sort:n.sort?Ht(n.sort):void 0}),"string"!=typeof t){e.next=8;break}r.query=t,e.next=13;break;case 8:if("object"!==_(t)){e.next=12;break}r.message_filter_conditions=t,e.next=13;break;case 12:throw Error("Invalid type ".concat(_(t)," for query parameter"));case 13:return e.next=15,this.getClient().wsPromise;case 15:return e.next=17,this.getClient().get(this.getClient().baseURL+"/search",{payload:r});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return H.apply(this,arguments)})},{key:"queryMembers",value:(B=k(L().mark((function e(t){var n,r,s,i,o,a,c=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:[],s=c.length>2&&void 0!==c[2]?c[2]:{},o=this.type,this.id?i=this.id:null!==(n=this.data)&&void 0!==n&&n.members&&Array.isArray(this.data.members)&&(a=this.data.members),e.next=6,this.getClient().get(this.getClient().baseURL+"/members",{payload:nn({type:o,id:i,members:a,sort:Ht(r),filter_conditions:t},s)});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return B.apply(this,arguments)})},{key:"sendReaction",value:($=k(L().mark((function e(t,n,r){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Message id is missing");case 2:if(n&&0!==Object.keys(n).length){e.next=4;break}throw Error("Reaction object is missing");case 4:return e.next=6,this.getClient().post(this.getClient().baseURL+"/messages/".concat(t,"/reaction"),nn({reaction:n},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return $.apply(this,arguments)})},{key:"deleteReaction",value:function(e,t,n){if(this._checkInitialized(),!t||!e)throw Error("Deleting a reaction requires specifying both the message and reaction type");var r=this.getClient().baseURL+"/messages/".concat(e,"/reaction/").concat(t);return n?this.getClient().delete(r,{user_id:n}):this.getClient().delete(r,{})}},{key:"update",value:(V=k(L().mark((function e(){var t,n,r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1?s[1]:void 0,r=s.length>2?s[2]:void 0,["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach((function(e){delete t[e]})),e.next=7,this._update(nn({message:n,data:t},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(){return V.apply(this,arguments)})},{key:"updatePartial",value:(U=k(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().patch(this._channelURL(),t);case 2:return n=e.sent,this.data=n.channel,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"enableSlowMode",value:(N=k(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{cooldown:t});case 2:return n=e.sent,this.data=n.channel,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)})},{key:"disableSlowMode",value:(j=k(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{cooldown:0});case 2:return t=e.sent,this.data=t.channel,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return j.apply(this,arguments)})},{key:"delete",value:(P=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.getClient().delete(this._channelURL(),nn({},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return P.apply(this,arguments)})},{key:"truncate",value:(F=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.getClient().post(this._channelURL()+"/truncate",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return F.apply(this,arguments)})},{key:"acceptInvite",value:(A=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this._update(nn({accept_invite:!0},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"rejectInvite",value:(T=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this._update(nn({reject_invite:!0},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"addMembers",value:(I=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(nn({add_members:t,message:n},r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)})},{key:"addModerators",value:(x=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(nn({add_moderators:t,message:n},r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"assignRoles",value:(S=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(nn({assign_roles:t,message:n},r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"inviteMembers",value:(C=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(nn({invites:t,message:n},r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)})},{key:"removeMembers",value:(D=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(nn({remove_members:t,message:n},r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return D.apply(this,arguments)})},{key:"demoteModerators",value:(w=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(nn({demote_moderators:t,message:n},r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"_update",value:(b=k(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),t);case 2:return n=e.sent,this.data=n.channel,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"mute",value:(y=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",nn({channel_cid:this.cid},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"unmute",value:(v=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",nn({channel_cid:this.cid},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"muteStatus",value:function(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}},{key:"sendAction",value:function(e,t){if(this._checkInitialized(),!e)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+"/messages/".concat(e,"/action"),{message_id:e,form_data:t,id:this.id,type:this.type})}},{key:"keystroke",value:(f=k(L().mark((function e(t){var n,r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=this.getConfig())&&void 0!==n&&n.typing_events){e.next=2;break}return e.abrupt("return");case 2:if(r=new Date,s=this.lastTypingEvent&&r.getTime()-this.lastTypingEvent.getTime(),this.lastKeyStroke=r,this.isTyping=!0,!(null===s||s>2e3)){e.next=10;break}return this.lastTypingEvent=new Date,e.next=10,this.sendEvent({type:"typing.start",parent_id:t});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"stopTyping",value:(m=k(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=this.getConfig())&&void 0!==n&&n.typing_events){e.next=2;break}return e.abrupt("return");case 2:return this.lastTypingEvent=null,this.isTyping=!1,e.next=6,this.sendEvent({type:"typing.stop",parent_id:t});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"lastMessage",value:function(){var e=this.state.latestMessages.length-5;e<0&&(e=0);var t=this.state.latestMessages.length+1,n=this.state.latestMessages.slice(e,t);return n.sort((function(e,t){return t.created_at.getTime()-e.created_at.getTime()})),n[0]}},{key:"markRead",value:(g=k(L().mark((function e(){var t,n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:{},this._checkInitialized(),null!==(t=this.getConfig())&&void 0!==t&&t.read_events){e.next=4;break}return e.abrupt("return",Promise.resolve(null));case 4:return e.next=6,this.getClient().post(this._channelURL()+"/read",nn({},n));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"markUnread",value:(d=k(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._checkInitialized(),null!==(n=this.getConfig())&&void 0!==n&&n.read_events){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:return e.next=5,this.getClient().post(this._channelURL()+"/unread",nn({},t));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"clean",value:function(){var e;this.lastKeyStroke&&(new Date).getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&(e=this.stopTyping(),"stop typing event",e.then().catch((function(e){console.warn("failed to do ".concat("stop typing event",", ran into error: "),e)}))),this.state.clean()}},{key:"watch",value:(p=k(L().mark((function e(t){var n,r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={state:!0,watch:!0,presence:!1},e.next=3,this.getClient().wsPromise;case 3:return this.getClient()._hasConnectionID()||(n.watch=!1),r=nn(nn({},n),t),e.next=7,this.query(r,"latest");case 7:return s=e.sent,this.initialized=!0,this.data=s.channel,this._client.logger("info","channel:watch() - started watching channel ".concat(this.cid),{tags:["channel"],channel:this}),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"stopWatching",value:(h=k(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/stop-watching",{});case 2:return t=e.sent,this._client.logger("info","channel:watch() - stopped watching channel ".concat(this.cid),{tags:["channel"],channel:this}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getReplies",value:(u=k(L().mark((function e(t,n){var r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().get(this.getClient().baseURL+"/messages/".concat(t,"/replies"),nn({},n));case 2:return(r=e.sent).messages&&this.state.addMessagesSorted(r.messages),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"getPinnedMessages",value:(l=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],e.next=3,this.getClient().get(this.getClient().baseURL+"/channels/".concat(this.type,"/").concat(this.id,"/pinned_messages"),{payload:nn(nn({},t),{},{sort:Ht(n)})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getReactions",value:function(e,t){return this.getClient().get(this.getClient().baseURL+"/messages/".concat(e,"/reactions"),nn({},t))}},{key:"getMessagesById",value:function(e){return this.getClient().get(this._channelURL()+"/messages",{ids:e.join(",")})}},{key:"lastRead",value:function(){var e=this.getClient().userID;if(e)return this.state.read[e]?this.state.read[e].last_read:null}},{key:"_countMessageAsUnread",value:function(e){var t,n,r,s;return!(e.shadowed||e.silent||e.parent_id&&!e.show_in_channel||(null===(t=e.user)||void 0===t?void 0:t.id)===this.getClient().userID||null!==(n=e.user)&&void 0!==n&&n.id&&this.getClient().userMuteStatus(e.user.id)||"system"===e.type||Array.isArray(null===(r=this.data)||void 0===r?void 0:r.own_capabilities)&&(null===(s=this.data)||void 0===s||!s.own_capabilities.includes("read-events"))||this.muteStatus().muted)}},{key:"countUnread",value:function(e){if(!e)return this.state.unreadCount;for(var t=0,n=0;n<this.state.latestMessages.length;n+=1){var r=this.state.latestMessages[n];r.created_at>e&&this._countMessageAsUnread(r)&&t++}return t}},{key:"countUnreadMentions",value:function(){for(var e=this.lastRead(),t=this.getClient().userID,n=0,r=0;r<this.state.latestMessages.length;r+=1){var s,i=this.state.latestMessages[r];this._countMessageAsUnread(i)&&(!e||i.created_at>e)&&null!==(s=i.mentioned_users)&&void 0!==s&&s.some((function(e){return e.id===t}))&&n++}return n}},{key:"query",value:(c=k(L().mark((function e(t){var n,r,s,i,o,a,c,l,u,h,p=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=p.length>1&&void 0!==p[1]?p[1]:"current",e.next=3,this.getClient().wsPromise;case 3:return i="".concat(this.getClient().baseURL,"/channels/").concat(this.type),this.id&&(i+="/".concat(this.id)),e.next=7,this.getClient().post(i+"/query",nn({data:this._data,state:!0},t));case 7:return o=e.sent,this.id||(this.id=o.channel.id,this.cid=o.channel.cid,a=o.members.map((function(e){var t;return e.user_id||(null===(t=e.user)||void 0===t?void 0:t.id)})).sort().join(","),(c="".concat(this.type,":!members-").concat(a))in this.getClient().activeChannels&&delete this.getClient().activeChannels[c],this.cid in this.getClient().activeChannels||(this.getClient().activeChannels[this.cid]=this)),this.getClient()._addChannelConfig(o.channel),l=this._initializeState(o,s),u=l.messageSet,h=E(o.channel.own_capabilities||[]).sort().join()!==E(Array.isArray(null===(n=this.data)||void 0===n?void 0:n.own_capabilities)?null===(r=this.data)||void 0===r?void 0:r.own_capabilities:[]).sort().join(),this.data=o.channel,this.offlineMode=!1,h&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:o.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[o],isLatestMessageSet:u.isLatest}}),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"banUser",value:(a=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().banUser(t,nn(nn({},n),{},{type:this.type,id:this.id}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"hide",value:(o=k(L().mark((function e(){var t,n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,n=r.length>1&&void 0!==r[1]&&r[1],this._checkInitialized(),e.next=5,this.getClient().post("".concat(this._channelURL(),"/hide"),{user_id:t,clear_history:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"show",value:(i=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,this._checkInitialized(),e.next=4,this.getClient().post("".concat(this._channelURL(),"/show"),{user_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"unbanUser",value:(s=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().unbanUser(t,{type:this.type,id:this.id});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"shadowBan",value:(r=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().shadowBan(t,nn(nn({},n),{},{type:this.type,id:this.id}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"removeShadowBan",value:(n=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().removeShadowBan(t,{type:this.type,id:this.id});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"createCall",value:(t=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/call",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"on",value:function(e,t){var n=this,r=t?e:"all",s=t||e;return r in this.listeners||(this.listeners[r]=[]),this._client.logger("info","Attaching listener for ".concat(r," event on channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[r].push(s),{unsubscribe:function(){n._client.logger("info","Removing listener for ".concat(r," event from channel ").concat(n.cid),{tags:["event","channel"],channel:n}),n.listeners[r]=n.listeners[r].filter((function(e){return e!==s}))}}}},{key:"off",value:function(e,t){var n=t?e:"all",r=t||e;n in this.listeners||(this.listeners[n]=[]),this._client.logger("info","Removing listener for ".concat(n," event from channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[n]=this.listeners[n].filter((function(e){return e!==r}))}},{key:"_handleChannelEvent",value:function(e){var t,n,r,s,i,o,a,c,l,u,h,p,d=this;this._client.logger("info","channel:_handleChannelEvent - Received event of type { ".concat(e.type," } on ").concat(this.cid),{tags:["event","channel"],channel:this});var g=d.state;switch(e.type){case"typing.start":null!==(t=e.user)&&void 0!==t&&t.id&&(g.typing[e.user.id]=e);break;case"typing.stop":null!==(n=e.user)&&void 0!==n&&n.id&&delete g.typing[e.user.id];break;case"message.read":var m,f;null!==(r=e.user)&&void 0!==r&&r.id&&e.created_at&&(g.read[e.user.id]={last_read:new Date(e.created_at),last_read_message_id:e.last_read_message_id,user:e.user,unread_messages:0},(null===(m=e.user)||void 0===m?void 0:m.id)===(null===(f=this.getClient().user)||void 0===f?void 0:f.id)&&(g.unreadCount=0));break;case"user.watching.start":case"user.updated":null!==(s=e.user)&&void 0!==s&&s.id&&(g.watchers[e.user.id]=e.user);break;case"user.watching.stop":null!==(i=e.user)&&void 0!==i&&i.id&&delete g.watchers[e.user.id];break;case"message.deleted":e.message&&(this._extendEventWithOwnReactions(e),e.hard_delete?g.removeMessage(e.message):g.addMessageSorted(e.message,!1,!1),g.removeQuotedMessageReferences(e.message),e.message.pinned&&g.removePinnedMessage(e.message));break;case"message.new":if(e.message){var v,y,b,w=(null===(v=e.user)||void 0===v?void 0:v.id)===(null===(y=this.getClient().user)||void 0===y?void 0:y.id),D=e.message.parent_id&&!e.message.show_in_channel;if((this.state.isUpToDate||D)&&g.addMessageSorted(e.message,w),e.message.pinned&&g.addPinnedMessage(e.message),null!==(b=e.user)&&void 0!==b&&b.id)for(var C in g.read)C===e.user.id?g.read[e.user.id]={last_read:new Date(e.created_at),user:e.user,unread_messages:0}:g.read[C].unread_messages+=1;w?g.unreadCount=0:this._countMessageAsUnread(e.message)&&(g.unreadCount=g.unreadCount+1)}break;case"message.updated":e.message&&(this._extendEventWithOwnReactions(e),g.addMessageSorted(e.message,!1,!1),e.message.pinned?g.addPinnedMessage(e.message):g.removePinnedMessage(e.message));break;case"channel.truncated":if(null!==(o=e.channel)&&void 0!==o&&o.truncated_at){var _=+new Date(e.channel.truncated_at);g.messageSets.forEach((function(e,t){e.messages.forEach((function(e){var n=e.created_at,r=e.id;_>+n&&g.removeMessage({id:r,messageSetIndex:t})}))})),g.pinnedMessages.forEach((function(e){var t=e.id,n=e.created_at;_>+n&&g.removePinnedMessage({id:t})}))}else g.clearMessages();g.unreadCount=0,e.message&&(g.addMessageSorted(e.message),e.message.pinned&&g.addPinnedMessage(e.message));break;case"member.added":case"member.updated":null!==(a=e.member)&&void 0!==a&&a.user_id&&(g.members[e.member.user_id]=e.member);break;case"member.removed":null!==(c=e.user)&&void 0!==c&&c.id&&delete g.members[e.user.id];break;case"channel.updated":var S,x,I,E,T,k,M,A;e.channel&&(void 0!==(null===(S=e.channel)||void 0===S?void 0:S.frozen)&&e.channel.frozen!==(null===(x=d.data)||void 0===x?void 0:x.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}}),d.data=nn(nn({},e.channel),{},{hidden:null!==(I=null===(E=e.channel)||void 0===E?void 0:E.hidden)&&void 0!==I?I:null===(T=d.data)||void 0===T?void 0:T.hidden,own_capabilities:null!==(k=null===(M=e.channel)||void 0===M?void 0:M.own_capabilities)&&void 0!==k?k:null===(A=d.data)||void 0===A?void 0:A.own_capabilities}));break;case"reaction.new":e.message&&e.reaction&&(e.message=g.addReaction(e.reaction,e.message));break;case"reaction.deleted":e.reaction&&(e.message=g.removeReaction(e.reaction,e.message));break;case"reaction.updated":e.reaction&&(e.message=g.addReaction(e.reaction,e.message,!0));break;case"channel.hidden":d.data=nn(nn({},d.data),{},{hidden:!0}),e.clear_history&&g.clearMessages();break;case"channel.visible":d.data=nn(nn({},d.data),{},{hidden:!1});break;case"user.banned":if(null===(l=e.user)||void 0===l||!l.id)break;g.members[e.user.id]=nn(nn({},g.members[e.user.id]||{}),{},{shadow_banned:!!e.shadow,banned:!e.shadow,user:nn(nn({},(null===(u=g.members[e.user.id])||void 0===u?void 0:u.user)||{}),e.user)});break;case"user.unbanned":if(null===(h=e.user)||void 0===h||!h.id)break;g.members[e.user.id]=nn(nn({},g.members[e.user.id]||{}),{},{shadow_banned:!1,banned:!1,user:nn(nn({},(null===(p=g.members[e.user.id])||void 0===p?void 0:p.user)||{}),e.user)})}void 0!==e.watcher_count&&(d.state.watcher_count=e.watcher_count)}},{key:"_checkInitialized",value:function(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error("Channel ".concat(this.cid," hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve"))}},{key:"_initializeState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",n=this.getClient(),r=n.state,s=n.user,i=n.userID;if(e.members){var o,a=Xt(e.members);try{for(a.s();!(o=a.n()).done;){var c=o.value;c.user&&r.updateUserReference(c.user,this.cid)}}catch(e){a.e(e)}finally{a.f()}}this.state.membership=e.membership||{};var l=e.messages||[];this.state.messages||this.state.initMessages();var u=this.state.addMessagesSorted(l,!1,!0,!0,t).messageSet;if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(e.pinned_messages||[]),e.pending_messages&&(this.state.pending_messages=e.pending_messages),void 0!==e.watcher_count&&(this.state.watcher_count=e.watcher_count),e.watchers){var h,p=Xt(e.watchers);try{for(p.s();!(h=p.n()).done;){var d=h.value;d&&(r.updateUserReference(d,this.cid),this.state.watchers[d.id]=d)}}catch(e){p.e(e)}finally{p.f()}}if(null!=i){var g=this.state.last_message_at||new Date;s&&(this.state.read[s.id]={user:s,last_read:g,unread_messages:0})}if(e.read){var m,f=Xt(e.read);try{for(f.s();!(m=f.n()).done;){var v,y=m.value;this.state.read[y.user.id]={last_read:new Date(y.last_read),last_read_message_id:y.last_read_message_id,unread_messages:null!==(v=y.unread_messages)&&void 0!==v?v:0,user:y.user},y.user.id===(null==s?void 0:s.id)&&(this.state.unreadCount=this.state.read[y.user.id].unread_messages)}}catch(e){f.e(e)}finally{f.f()}}return e.members&&(this.state.members=e.members.reduce((function(e,t){return t.user&&(e[t.user.id]=t),e}),{})),{messageSet:u}}},{key:"_extendEventWithOwnReactions",value:function(e){if(e.message){var t=this.state.findMessage(e.message.id,e.message.parent_id);t&&(e.message.own_reactions=t.own_reactions)}}},{key:"_disconnect",value:function(){this._client.logger("info","channel:disconnect() - Disconnecting the channel ".concat(this.cid),{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}}]),e}();function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var on=function(){function e(){M(this,e),R(this,"users",void 0),R(this,"userChannelReferences",void 0),this.users={},this.userChannelReferences={}}return O(e,[{key:"updateUsers",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.updateUser(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"updateUser",value:function(e){null!=e&&(this.users[e.id]=e)}},{key:"updateUserReference",value:function(e,t){null!=e&&(this.updateUser(e),this.userChannelReferences[e.id]||(this.userChannelReferences[e.id]={}),this.userChannelReferences[e.id][t]=!0)}},{key:"deleteAllChannelReference",value:function(e){for(var t in this.userChannelReferences)delete this.userChannelReferences[t][e]}}]),e}();function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function e(){M(this,e),R(this,"connectionStartTimestamp",void 0),R(this,"wsConsecutiveFailures",void 0),R(this,"wsTotalFailures",void 0),R(this,"instanceClientId",void 0),this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=zt()},un=function(){var e=k(L().mark((function e(t,n){var r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=3,s=0;case 2:if(!(s<r)){e.next=17;break}return e.prev=3,e.next=6,St.post("https://chat-insights.getstream.io/insights/".concat(t),n);case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,$t(3e3*(s+1));case 12:return e.abrupt("continue",14);case 13:return e.abrupt("break",17);case 14:s++,e.next=2;break;case 17:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}();function hn(e){var t,n,r,s=e.client;return{ready_state:null===(t=e.ws)||void 0===t?void 0:t.readyState,url:e._buildUrl(),api_key:s.key,start_ts:s.insightMetrics.connectionStartTimestamp,end_ts:(new Date).getTime(),auth_type:s.getAuthType(),token:s.tokenManager.token,user_id:s.userID,user_details:s._user,device:s.options.device,client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:s.insightMetrics.wsConsecutiveFailures,ws_total_failures:s.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?null===(n=navigator)||void 0===n?void 0:n.onLine:null,user_agent:"undefined"!=typeof navigator?null===(r=navigator)||void 0===r?void 0:r.userAgent:null,instance_client_id:s.insightMetrics.instanceClientId}}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var dn=function(){function e(t){var n=this,r=t.client;M(this,e),R(this,"client",void 0),R(this,"connectionID",void 0),R(this,"connectionOpen",void 0),R(this,"consecutiveFailures",void 0),R(this,"pingInterval",void 0),R(this,"healthCheckTimeoutRef",void 0),R(this,"isConnecting",void 0),R(this,"isDisconnected",void 0),R(this,"isHealthy",void 0),R(this,"isResolved",void 0),R(this,"lastEvent",void 0),R(this,"connectionCheckTimeout",void 0),R(this,"connectionCheckTimeoutRef",void 0),R(this,"rejectPromise",void 0),R(this,"requestID",void 0),R(this,"resolvePromise",void 0),R(this,"totalFailures",void 0),R(this,"ws",void 0),R(this,"wsID",void 0),R(this,"_buildUrl",(function(){var e=encodeURIComponent(n.client._buildWSPayload(n.requestID)),t=n.client.tokenManager.getToken();return"".concat(n.client.wsBaseURL,"/connect?json=").concat(e,"&api_key=").concat(n.client.key,"&authorization=").concat(t,"&stream-auth-type=").concat(n.client.getAuthType(),"&X-Stream-Client=").concat(n.client.getUserAgent())})),R(this,"onlineStatusChanged",(function(e){"offline"===e.type?(n._log("onlineStatusChanged() - Status changing to offline"),n._setHealth(!1)):"online"===e.type&&(n._log("onlineStatusChanged() - Status changing to online. isHealthy: ".concat(n.isHealthy)),n.isHealthy||n._reconnect({interval:10}))})),R(this,"onopen",(function(e){n.wsID===e&&n._log("onopen() - onopen callback",{wsID:e})})),R(this,"onmessage",(function(e,t){if(n.wsID===e){n._log("onmessage() - onmessage callback",{event:t,wsID:e});var r="string"==typeof t.data?JSON.parse(t.data):null;if(!n.isResolved&&r){var s,i;if(n.isResolved=!0,r.error)return void(null===(i=n.rejectPromise)||void 0===i||i.call(n,n._errorFromWSEvent(r,!1)));null===(s=n.resolvePromise)||void 0===s||s.call(n,r),n._setHealth(!0)}n.lastEvent=new Date,r&&"health.check"===r.type&&n.scheduleNextPing(),n.client.handleEvent(t),n.scheduleConnectionCheck()}})),R(this,"onclose",(function(e,t){if(n.wsID===e)if(n._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),1e3===t.code){var r,s=new Error("WS connection reject with error ".concat(t.reason));s.reason=t.reason,s.code=t.code,s.wasClean=t.wasClean,s.target=t.target,null===(r=n.rejectPromise)||void 0===r||r.call(n,s),n._log("onclose() - WS connection reject with error ".concat(t.reason),{event:t})}else{var i;n.consecutiveFailures+=1,n.totalFailures+=1,n._setHealth(!1),n.isConnecting=!1,null===(i=n.rejectPromise)||void 0===i||i.call(n,n._errorFromWSEvent(t)),n._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),n._reconnect()}})),R(this,"onerror",(function(e,t){var r;n.wsID===e&&(n.consecutiveFailures+=1,n.totalFailures+=1,n._setHealth(!1),n.isConnecting=!1,null===(r=n.rejectPromise)||void 0===r||r.call(n,n._errorFromWSEvent(t)),n._log("onerror() - WS connection resulted into error",{event:t}),n._reconnect())})),R(this,"_setHealth",(function(e){e!==n.isHealthy&&(n.isHealthy=e,n.isHealthy?n.client.dispatchEvent({type:"connection.changed",online:n.isHealthy}):setTimeout((function(){n.isHealthy||n.client.dispatchEvent({type:"connection.changed",online:n.isHealthy})}),5e3))})),R(this,"_errorFromWSEvent",(function(e){var t,r,s,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0!==e.code&&(t=e.code,r="unknown",s=e.reason),void 0!==e.error&&(t=e.error.code,r=e.error.StatusCode,s=e.error.message),n._log("_errorFromWSEvent() - WS failed with code ".concat(t),{event:e},"warn");var o=new Error("WS failed with code ".concat(t," and reason - ").concat(s));return o.code=t,o.StatusCode=r,o.isWSFailure=i,o})),R(this,"_setupConnectionPromise",(function(){n.isResolved=!1,n.connectionOpen=new Promise((function(e,t){n.resolvePromise=e,n.rejectPromise=t}))})),R(this,"scheduleNextPing",(function(){n.healthCheckTimeoutRef&&clearTimeout(n.healthCheckTimeoutRef),n.healthCheckTimeoutRef=setTimeout((function(){var e=[{type:"health.check",client_id:n.client.clientID}];try{var t;null===(t=n.ws)||void 0===t||t.send(JSON.stringify(e))}catch(e){}}),n.pingInterval)})),R(this,"scheduleConnectionCheck",(function(){n.connectionCheckTimeoutRef&&clearTimeout(n.connectionCheckTimeoutRef),n.connectionCheckTimeoutRef=setTimeout((function(){var e=new Date;n.lastEvent&&e.getTime()-n.lastEvent.getTime()>n.connectionCheckTimeout&&(n._log("scheduleConnectionCheck - going to reconnect"),n._setHealth(!1),n._reconnect())}),n.connectionCheckTimeout)})),this.client=r,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,Yt(this.onlineStatusChanged)}var t,n,r,s;return O(e,[{key:"_log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";this.client.logger(n,"connection:"+e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tags:["connection"]},t))}},{key:"setClient",value:function(e){this.client=e}},{key:"connect",value:(s=k(L().mark((function e(){var t,n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:15e3,!this.isConnecting){e.next=3;break}throw Error("You've called connect twice, can only attempt 1 connection at the time");case 3:return this.isDisconnected=!1,e.prev=4,e.next=7,this._connect();case 7:n=e.sent,this.consecutiveFailures=0,this._log("connect() - Established ws connection with healthcheck: ".concat(n)),e.next=23;break;case 12:if(e.prev=12,e.t0=e.catch(4),this.isHealthy=!1,this.consecutiveFailures+=1,40!==e.t0.code||this.client.tokenManager.isStatic()){e.next=21;break}this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}),e.next=23;break;case 21:if(e.t0.isWSFailure){e.next=23;break}throw new Error(JSON.stringify({code:e.t0.code,StatusCode:e.t0.StatusCode,message:e.t0.message,isWSFailure:e.t0.isWSFailure}));case 23:return e.next=25,this._waitForHealthy(t);case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(){return s.apply(this,arguments)})},{key:"_waitForHealthy",value:(r=k(L().mark((function e(){var t,n=this,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:15e3,e.abrupt("return",Promise.race([k(L().mark((function e(){var r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=50,s=0;case 2:if(!(s<=t)){e.next=18;break}return e.prev=3,e.next=6,n.connectionOpen;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),s!==t){e.next=13;break}throw new Error(JSON.stringify({code:e.t0.code,StatusCode:e.t0.StatusCode,message:e.t0.message,isWSFailure:e.t0.isWSFailure}));case 13:return e.next=15,$t(r);case 15:s+=r,e.next=2;break;case 18:case"end":return e.stop()}}),e,null,[[3,9]])})))(),k(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(t);case 2:throw n.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}));case 4:case"end":return e.stop()}}),e)})))()]));case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"disconnect",value:function(e){var t,n=this;this._log("disconnect() - Closing the websocket connection for wsID ".concat(this.wsID)),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),Qt(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();var r=this.ws;return r&&r.close&&r.readyState===r.OPEN?(t=new Promise((function(t){var s=function(e){n._log("disconnect() - resolving isClosedPromise ".concat(e?"with":"without"," close frame"),{event:e}),t()};r.onclose=s,setTimeout(s,null!=e?e:1e3)})),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),r.close(1e3,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}},{key:"_connect",value:(n=k(L().mark((function e(){var t,n,r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)){e.next=2;break}return e.abrupt("return");case 2:return this.isConnecting=!0,this.requestID=zt(),this.client.insightMetrics.connectionStartTimestamp=(new Date).getTime(),t=!1,e.prev=6,this._log("_connect() - waiting for token"),e.next=10,this.client.tokenManager.tokenReady();case 10:t=!0,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:if(e.prev=15,t){e.next=20;break}return this._log("_connect() - tokenProvider failed before, so going to retry"),e.next=20,this.client.tokenManager.loadToken();case 20:return this._setupConnectionPromise(),n=this._buildUrl(),this._log("_connect() - Connecting to ".concat(n),{wsURL:n,requestID:this.requestID}),this.ws=new(kt())(n),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID),e.next=30,this.connectionOpen;case 30:if(r=e.sent,this.isConnecting=!1,!r){e.next=36;break}return this.connectionID=r.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(un("ws_success_after_failure",hn(this)),this.client.insightMetrics.wsConsecutiveFailures=0),e.abrupt("return",r);case 36:e.next=44;break;case 38:throw e.prev=38,e.t1=e.catch(15),this.isConnecting=!1,this._log("_connect() - Error - ",e.t1),this.client.options.enableInsights&&(this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++,i=this,o=Zt(e.t1),s=cn(cn({},o),hn(i)),null==un||un("ws_fatal",s)),e.t1;case 44:case"end":return e.stop()}var i,o}),e,this,[[6,13],[15,38]])}))),function(){return n.apply(this,arguments)})},{key:"_reconnect",value:(t=k(L().mark((function e(){var t,n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},this._log("_reconnect() - Initiating the reconnect"),!this.isConnecting&&!this.isHealthy){e.next=5;break}return this._log("_reconnect() - Abort (1) since already connecting or healthy"),e.abrupt("return");case 5:return(n=t.interval)||(n=qt(this.consecutiveFailures)),e.next=9,$t(n);case 9:if(!this.isConnecting&&!this.isHealthy){e.next=12;break}return this._log("_reconnect() - Abort (2) since already connecting or healthy"),e.abrupt("return");case 12:if(!this.isDisconnected||!this.client.options.enableWSFallback){e.next=15;break}return this._log("_reconnect() - Abort (3) since disconnect() is called"),e.abrupt("return");case 15:if(this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),!t.refreshToken){e.next=20;break}return e.next=20,this.client.tokenManager.loadToken();case 20:return e.prev=20,e.next=23,this._connect();case 23:return this._log("_reconnect() - Waiting for recoverCallBack"),e.next=26,this.client.recoverState();case 26:this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0,e.next=38;break;case 30:if(e.prev=30,e.t0=e.catch(20),this.isHealthy=!1,this.consecutiveFailures+=1,40!==e.t0.code||this.client.tokenManager.isStatic()){e.next=37;break}return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),e.abrupt("return",this._reconnect({refreshToken:!0}));case 37:e.t0.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect());case 38:this._log("_reconnect() - == END ==");case 39:case"end":return e.stop()}}),e,this,[[20,30]])}))),function(){return t.apply(this,arguments)})},{key:"_destroyCurrentWSConnection",value:function(){this.wsID+=1;try{var e,t;null==this||null===(e=this.ws)||void 0===e||e.removeAllListeners(),null==this||null===(t=this.ws)||void 0===t||t.close()}catch(e){}}}]),e}();function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof t)throw new TypeError("userId should be a string");throw function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}}({user_id:t},n),Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.")}function fn(e){var t=C({algorithm:"HS256",noTimestamp:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return null.sign({server:!0},e,t)}var vn,yn=function e(t){var n=this;M(this,e),R(this,"loadTokenPromise",void 0),R(this,"type",void 0),R(this,"secret",void 0),R(this,"token",void 0),R(this,"tokenProvider",void 0),R(this,"user",void 0),R(this,"setTokenOrProvider",function(){var e=k(L().mark((function e(t,r){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.validateToken(t,r),n.user=r,Bt(t)&&(n.tokenProvider=t,n.type="provider"),"string"==typeof t&&(n.token=t,n.type="static"),!t&&n.user&&n.secret&&(n.token=mn(n.secret,r.id,{},{}),n.type="static"),e.next=7,n.loadToken();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),R(this,"reset",(function(){n.token=void 0,n.user=void 0,n.loadTokenPromise=null})),R(this,"validateToken",(function(e,t){if(!t||!t.anon||e){if(!n.secret&&!e)throw new Error("User token can not be empty");if(e&&"string"!=typeof e&&!Bt(e))throw new Error("user token should either be a string or a function");if("string"==typeof e){if(t.anon&&""===e)return;var r=function(e){var t=e.split(".");if(3!==t.length)return"";var n=function(e){var t,n,r,s={},i=String.fromCharCode,o=e.length,a=0,c=0,l="";for(t=0;t<64;t++)s["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(n=0;n<o;n++)for(a=(a<<6)+s[e.charAt(n)],c+=6;c>=8;)((r=a>>>(c-=8)&255)||n<o-2)&&(l+=i(r));return l}(t[1]);return JSON.parse(n).user_id}(e);if(null!=e&&(null==r||""===r||r!==t.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}})),R(this,"tokenReady",(function(){return n.loadTokenPromise})),R(this,"loadToken",(function(){return n.loadTokenPromise=new Promise(function(){var e=k(L().mark((function e(t,r){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("static"!==n.type){e.next=2;break}return e.abrupt("return",t(n.token));case 2:if(!n.tokenProvider||"string"==typeof n.tokenProvider){e.next=13;break}return e.prev=3,e.next=6,n.tokenProvider();case 6:n.token=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",r(new Error("Call to tokenProvider failed with message: ".concat(e.t0))));case 12:t(n.token);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}()),n.loadTokenPromise})),R(this,"getToken",(function(){if(n.token)return n.token;if(n.user&&n.user.anon&&!n.token)return n.token;if(n.secret)return fn(n.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")})),R(this,"isStatic",(function(){return"static"===n.type})),this.loadTokenPromise=null,t&&(this.secret=t),this.type="static",this.secret&&(this.token=fn(this.secret))},bn={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function wn(e){if(!e.code)return!1;var t=bn["".concat(e.code)];return!!t&&t.retryable}function Dn(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(vn||(vn={}));var Sn=function(){function e(t){var n=this,r=t.client;M(this,e),R(this,"client",void 0),R(this,"state",void 0),R(this,"consecutiveFailures",void 0),R(this,"connectionID",void 0),R(this,"cancelToken",void 0),R(this,"_onlineStatusChanged",(function(e){var t;if(n._log("_onlineStatusChanged() - ".concat(e.type)),"offline"===e.type)return n._setState(vn.Closed),null===(t=n.cancelToken)||void 0===t||t.cancel("disconnect() is called"),void(n.cancelToken=void 0);"online"===e.type&&n.state===vn.Closed&&n.connect(!0)})),R(this,"_req",function(){var e=k(L().mark((function e(t,r,s){var i,o;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.cancelToken||t.close||(n.cancelToken=St.CancelToken.source()),e.prev=1,e.next=4,n.client.doAxiosRequest("get",n.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:_n(_n({},r),{},{cancelToken:null===(i=n.cancelToken)||void 0===i?void 0:i.token}),params:t});case 4:return o=e.sent,n.consecutiveFailures=0,e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(1),n.consecutiveFailures+=1,!s||!wn(e.t0)){e.next=17;break}return n._log("_req() - Retryable error, retrying request"),e.next=16,$t(qt(n.consecutiveFailures));case 16:return e.abrupt("return",n._req(t,r,s));case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()),R(this,"_poll",k(L().mark((function e(){var t,r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state!==vn.Connected){e.next=25;break}return e.prev=1,e.next=4,n._req({},{timeout:3e4},!0);case 4:if(r=e.sent,null!==(t=r.events)&&void 0!==t&&t.length)for(s=0;s<r.events.length;s++)n.client.dispatchEvent(r.events[s]);e.next=23;break;case 8:if(e.prev=8,e.t0=e.catch(1),!St.isCancel(e.t0)){e.next=13;break}return n._log("_poll() - axios canceled request"),e.abrupt("return");case 13:if(46!==e.t0.code){e.next=18;break}return n._log("_poll() - ConnectionID error, connecting without ID..."),n._setState(vn.Disconnected),n.connect(!0),e.abrupt("return");case 18:if(void 0===e.t0.code||wn(e.t0)){e.next=21;break}return n._setState(vn.Closed),e.abrupt("return");case 21:return e.next=23,$t(qt(n.consecutiveFailures));case 23:e.next=0;break;case 25:case"end":return e.stop()}}),e,null,[[1,8]])})))),R(this,"connect",k(L().mark((function e(){var t,r,s,i=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],n.state!==vn.Connecting){e.next=4;break}return n._log("connect() - connecting already in progress",{reconnect:t},"warn"),e.abrupt("return");case 4:if(n.state!==vn.Connected){e.next=7;break}return n._log("connect() - already connected and polling",{reconnect:t},"warn"),e.abrupt("return");case 7:return n._setState(vn.Connecting),n.connectionID=void 0,e.prev=9,e.next=12,n._req({json:n.client._buildWSPayload()},{timeout:8e3},t);case 12:return r=e.sent,s=r.event,n._setState(vn.Connected),n.connectionID=s.connection_id,n.client.dispatchEvent(s),n._poll(),t&&n.client.recoverState(),e.abrupt("return",s);case 22:throw e.prev=22,e.t0=e.catch(9),n._setState(vn.Closed),e.t0;case 26:case"end":return e.stop()}}),e,null,[[9,22]])})))),R(this,"isHealthy",(function(){return!!n.connectionID&&n.state===vn.Connected})),R(this,"disconnect",k(L().mark((function e(){var t,r,s,i=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:2e3,Qt(n._onlineStatusChanged),n._setState(vn.Disconnected),null===(t=n.cancelToken)||void 0===t||t.cancel("disconnect() is called"),n.cancelToken=void 0,s=n.connectionID,n.connectionID=void 0,e.prev=7,e.next=10,n._req({close:!0,connection_id:s},{timeout:r},!1);case 10:n._log("disconnect() - Closed connectionID"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),n._log("disconnect() - Failed",{err:e.t0},"error");case 16:case"end":return e.stop()}}),e,null,[[7,13]])})))),this.client=r,this.state=vn.Init,this.consecutiveFailures=0,Yt(this._onlineStatusChanged)}return O(e,[{key:"_log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";this.client.logger(n,"WSConnectionFallback:"+e,_n({tags:["connection_fallback","connection"]},t))}},{key:"_setState",value:function(e){this._log("_setState() - ".concat(e)),this.state===vn.Connecting&&e===vn.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),e!==vn.Closed&&e!==vn.Disconnected||this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}]),e}();var xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}(s,e);var t,n,r=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ft(t);if(n){var s=Ft(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}(this,e)});function s(){var e;M(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return R(Mt(e=r.call.apply(r,[this].concat(n))),"code",void 0),R(Mt(e),"response",void 0),R(Mt(e),"status",void 0),e}return s}(Rt(Error)),In=["created_at","updated_at","last_active","online"],En=["params","headers"];function Tn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e){return"string"==typeof e||e instanceof String}var On=function(){function e(t,n,r){var s,i=this;M(this,e),R(this,"_user",void 0),R(this,"activeChannels",void 0),R(this,"anonymous",void 0),R(this,"persistUserOnConnectionFailure",void 0),R(this,"axiosInstance",void 0),R(this,"baseURL",void 0),R(this,"browser",void 0),R(this,"cleaningIntervalRef",void 0),R(this,"clientID",void 0),R(this,"configs",void 0),R(this,"key",void 0),R(this,"listeners",void 0),R(this,"logger",void 0),R(this,"recoverStateOnReconnect",void 0),R(this,"mutedChannels",void 0),R(this,"mutedUsers",void 0),R(this,"node",void 0),R(this,"options",void 0),R(this,"secret",void 0),R(this,"setUserPromise",void 0),R(this,"state",void 0),R(this,"tokenManager",void 0),R(this,"user",void 0),R(this,"userAgent",void 0),R(this,"userID",void 0),R(this,"wsBaseURL",void 0),R(this,"wsConnection",void 0),R(this,"wsFallback",void 0),R(this,"wsPromise",void 0),R(this,"consecutiveFailures",void 0),R(this,"insightMetrics",void 0),R(this,"defaultWSTimeoutWithFallback",void 0),R(this,"defaultWSTimeout",void 0),R(this,"nextRequestAbortController",null),R(this,"_getConnectionID",(function(){var e,t;return(null===(e=i.wsConnection)||void 0===e?void 0:e.connectionID)||(null===(t=i.wsFallback)||void 0===t?void 0:t.connectionID)})),R(this,"_hasConnectionID",(function(){return Boolean(i._getConnectionID())})),R(this,"connectUser",function(){var e=k(L().mark((function e(t,n){var r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}throw new Error('The "id" field on the user is missing');case 2:if(i.userID!==t.id||!i.setUserPromise){e.next=5;break}return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),e.abrupt("return",i.setUserPromise);case 5:if(!i.userID){e.next=7;break}throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");case 7:return!i._isUsingServerAuth()&&!i.node||i.options.allowServerSideConnect||console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),i.userID=t.id,i.anonymous=!1,r=i._setToken(t,n),i._setUser(t),s=i.openConnection(),i.setUserPromise=Promise.all([r,s]).then((function(e){return e[1]})),e.prev=14,e.next=17,i.setUserPromise;case 17:return e.abrupt("return",e.sent);case 20:throw e.prev=20,e.t0=e.catch(14),i.persistUserOnConnectionFailure?i.closeConnection():i.disconnectUser(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(t,n){return e.apply(this,arguments)}}()),R(this,"setUser",this.connectUser),R(this,"_setToken",(function(e,t){return i.tokenManager.setTokenOrProvider(t,e)})),R(this,"closeConnection",function(){var e=k(L().mark((function e(t){var n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=i.cleaningIntervalRef&&(clearInterval(i.cleaningIntervalRef),i.cleaningIntervalRef=void 0),e.next=3,Promise.all([null===(n=i.wsConnection)||void 0===n?void 0:n.disconnect(t),null===(r=i.wsFallback)||void 0===r?void 0:r.disconnect(t)]);case 3:return e.abrupt("return",Promise.resolve());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R(this,"openConnection",k(L().mark((function e(){var t,n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.userID){e.next=2;break}throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");case 2:if(null===(t=i.wsConnection)||void 0===t||!t.isConnecting||!i.wsPromise){e.next=5;break}return i.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),e.abrupt("return",i.wsPromise);case 5:if(!(null!==(n=i.wsConnection)&&void 0!==n&&n.isHealthy||null!==(r=i.wsFallback)&&void 0!==r&&r.isHealthy())||!i._hasConnectionID()){e.next=8;break}return i.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]}),e.abrupt("return",Promise.resolve());case 8:return i.clientID="".concat(i.userID,"--").concat(zt()),i.wsPromise=i.connect(),i._startCleaning(),e.abrupt("return",i.wsPromise);case 12:case"end":return e.stop()}}),e)})))),R(this,"_setupConnection",this.openConnection),R(this,"_normalizeDate",(function(e){if(e instanceof Date&&(e=e.toISOString()),""===e)throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return e})),R(this,"disconnectUser",function(){var e=k(L().mark((function e(t){var n,r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete i.user,delete i._user,delete i.userID,i.anonymous=!1,n=i.closeConnection(t),r=0,s=Object.values(i.activeChannels);r<s.length;r++)s[r]._disconnect();return i.activeChannels={},i.state=new on,setTimeout(i.tokenManager.reset),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R(this,"disconnect",this.disconnectUser),R(this,"connectAnonymousUser",(function(){!i._isUsingServerAuth()&&!i.node||i.options.allowServerSideConnect||console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),i.anonymous=!0,i.userID=zt();var e={id:i.userID,anon:!0};return i._setToken(e,""),i._setUser(e),i._setupConnection()})),R(this,"setAnonymousUser",this.connectAnonymousUser),R(this,"doAxiosRequest",function(){var e=k(L().mark((function e(t,n,r){var s,o,a,c,l=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>3&&void 0!==l[3]?l[3]:{},e.next=3,i.tokenManager.tokenReady();case 3:o=i._enrichAxiosOptions(s),e.prev=4,i._logApiRequest(t,n,r,o),e.t0=t,e.next="get"===e.t0?9:"delete"===e.t0?13:"post"===e.t0?17:"postForm"===e.t0?21:"put"===e.t0?25:"patch"===e.t0?29:"options"===e.t0?33:37;break;case 9:return e.next=11,i.axiosInstance.get(n,o);case 11:case 15:case 19:case 23:case 27:case 31:case 35:return a=e.sent,e.abrupt("break",38);case 13:return e.next=15,i.axiosInstance.delete(n,o);case 17:return e.next=19,i.axiosInstance.post(n,r,o);case 21:return e.next=23,i.axiosInstance.postForm(n,r,o);case 25:return e.next=27,i.axiosInstance.put(n,r,o);case 29:return e.next=31,i.axiosInstance.patch(n,r,o);case 33:return e.next=35,i.axiosInstance.options(n,o);case 37:throw new Error("Invalid request type");case 38:return i._logApiResponse(t,n,a),i.consecutiveFailures=0,e.abrupt("return",i.handleResponse(a));case 43:if(e.prev=43,e.t1=e.catch(4),e.t1.client_request_id=null===(c=o.headers)||void 0===c?void 0:c["x-client-request-id"],i._logApiError(t,n,e.t1),i.consecutiveFailures+=1,!e.t1.response){e.next=60;break}if(40!==e.t1.response.data.code||i.tokenManager.isStatic()){e.next=57;break}if(!(i.consecutiveFailures>1)){e.next=53;break}return e.next=53,$t(qt(i.consecutiveFailures));case 53:return i.tokenManager.loadToken(),e.next=56,i.doAxiosRequest(t,n,r,s);case 56:return e.abrupt("return",e.sent);case 57:return e.abrupt("return",i.handleResponse(e.t1.response));case 60:throw e.t1;case 61:case"end":return e.stop()}}),e,null,[[4,43]])})));return function(t,n,r){return e.apply(this,arguments)}}()),R(this,"dispatchEvent",(function(e){e.received_at||(e.received_at=new Date);var t=i._handleClientEvent(e),n=e.cid,r=n?i.activeChannels[n]:void 0;r&&r._handleChannelEvent(e),i._callClientListeners(e),r&&r._callChannelListeners(e),t.forEach((function(e){return e()}))})),R(this,"handleEvent",(function(e){var t=e.data,n=JSON.parse(t);i.dispatchEvent(n)})),R(this,"_updateMemberWatcherReferences",(function(e){var t=i.state.userChannelReferences[e.id]||{};for(var n in t){var r=i.activeChannels[n];null!=r&&r.state&&(r.state.members[e.id]&&(r.state.members[e.id].user=e),r.state.watchers[e.id]&&(r.state.watchers[e.id]=e),r.state.read[e.id]&&(r.state.read[e.id].user=e))}})),R(this,"_updateUserReferences",this._updateMemberWatcherReferences),R(this,"_updateUserMessageReferences",(function(e){var t=i.state.userChannelReferences[e.id]||{};for(var n in t){var r=i.activeChannels[n].state;null==r||r.updateUserMessages(e)}})),R(this,"_deleteUserMessageReference",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i.state.userChannelReferences[e.id]||{};for(var r in n){var s=i.activeChannels[r].state;null==s||s.deleteUserMessages(e,t)}})),R(this,"_handleUserEvent",(function(e){if(e.user){if("user.presence.changed"===e.type||"user.updated"===e.type){if(e.user.id===i.userID){var t=An({},i.user||{}),n=An({},i._user||{});for(var r in i.user)r in e.user||{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,invisible:!0,roles:!0}[r]||(delete t[r],delete n[r]);for(var s in e.user)n&&s in n&&(n[s]=e.user[s]);i._user=An({},n),i.user=An(An({},t),e.user)}i.state.updateUser(e.user),i._updateMemberWatcherReferences(e.user)}"user.updated"===e.type&&i._updateUserMessageReferences(e.user),"user.deleted"===e.type&&e.user.deleted_at&&(e.mark_messages_deleted||e.hard_delete)&&i._deleteUserMessageReference(e.user,e.hard_delete)}})),R(this,"_callClientListeners",(function(e){var t=i,n=[];t.listeners.all&&n.push.apply(n,E(t.listeners.all)),t.listeners[e.type]&&n.push.apply(n,E(t.listeners[e.type]));for(var r=0,s=n;r<s.length;r++)(0,s[r])(e)})),R(this,"recoverState",k(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.logger("info","client:recoverState() - Start of recoverState with connectionID ".concat(i._getConnectionID()),{tags:["connection"]}),!(t=Object.keys(i.activeChannels)).length||!i.recoverStateOnReconnect){e.next=10;break}return i.logger("info","client:recoverState() - Start the querying of ".concat(t.length," channels"),{tags:["connection","client"]}),e.next=6,i.queryChannels({cid:{$in:t}},{last_message_at:-1},{limit:30});case 6:i.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),i.dispatchEvent({type:"connection.recovered"}),e.next=11;break;case 10:i.dispatchEvent({type:"connection.recovered"});case 11:i.wsPromise=Promise.resolve(),i.setUserPromise=Promise.resolve();case 13:case"end":return e.stop()}}),e)})))),R(this,"getChannelByMembers",(function(e,t){var n=E(t.members||[]).sort().join(","),r="".concat(e,":!members-").concat(n);if(!n)throw Error("Please specify atleast one member when creating unique conversation");for(var s in i.activeChannels){var o=i.activeChannels[s];if(!o.disconnected){if(s===r)return o;if(0===s.indexOf("".concat(e,":!members-"))&&Object.keys(o.state.members).sort().join(",")===n)return o}}var a=new rn(i,e,void 0,t);return i.activeChannels[r]=a,a})),R(this,"getChannelById",(function(e,t,n){if("string"==typeof t&&~t.indexOf(":"))throw Error("Invalid channel id ".concat(t,", can't contain the : character"));var r="".concat(e,":").concat(t);if(r in i.activeChannels&&!i.activeChannels[r].disconnected){var s=i.activeChannels[r];return Object.keys(n).length>0&&(s.data=n,s._data=n),s}var o=new rn(i,e,t,n);return i.activeChannels[o.cid]=o,o})),R(this,"updateUsers",this.upsertUsers),R(this,"updateUser",this.upsertUser),R(this,"_unblockMessage",this.unblockMessage),R(this,"markAllRead",this.markChannelsRead),R(this,"_isUsingServerAuth",(function(){return!!i.secret})),R(this,"_buildWSPayload",(function(e){return JSON.stringify({user_id:i.userID,user_details:i._user,device:i.options.device,client_request_id:e})})),this.key=t,this.listeners={},this.state=new on,this.mutedChannels=[],this.mutedUsers=[],n&&Fn(n)&&(this.secret=n);var o=r||(n&&!Fn(n)?n:{});this.browser=void 0!==o.browser?o.browser:"undefined"!=typeof window,this.node=!this.browser,this.options=An({timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0},o),this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new null.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=St.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+process.env.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=null===(s=this.options)||void 0===s?void 0:s.persistUserOnConnectionFailure,this.tokenManager=new yn(this.secret),this.consecutiveFailures=0,this.insightMetrics=new ln,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.axiosInstance.defaults.paramsSerializer=Jt,this.logger=Bt(o.logger)?o.logger:function(){return null},this.recoverStateOnReconnect=this.options.recoverStateOnReconnect}var t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v,y,b,w,x,I,T,A,F,P,j,N,U,V,$,B,H,q,z,W,K,G,Z,Y,Q,J,X,ee,te,ne,re,se,ie,oe,ae,ce,le,ue,he,pe,de,ge,me,fe,ve,ye,be,we,De,Ce,_e,Se,xe,Ie,Ee,Te,ke,Me,Ae,Fe,Oe;return O(e,[{key:"devToken",value:function(e){return n=e,["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",(t=JSON.stringify({user_id:n}),(0,D.CA)(new Uint8Array(function(e,t){var n=[];if(Pt(e)&&Lt(e,t)){for(var r=0,s=e.length;r<s;r++)if(e.charAt(r)){var i=t(e.charAt(r));n[r]=i}}else if(!Pt(e)&&!Lt(e,t))for(var o=0,a=e.length;o<a;o++)if(o in e){var c=t(e[o]);n[o]=c}return n}(t,(function(e){return e.charCodeAt(0)}))))),"devtoken"].join(".");var t,n}},{key:"getAuthType",value:function(){return this.anonymous?"anonymous":"jwt"}},{key:"setBaseURL",value:function(e){this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}},{key:"_setUser",value:function(e){this.user=e,this.userID=e.id,this._user=An({},e)}},{key:"updateAppSettings",value:(Oe=k(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=(n=t.apn_config)&&n.p12_cert&&(t=An(An({},t),{},{apn_config:An(An({},n),{},{p12_cert:Buffer.from(n.p12_cert).toString("base64")})})),e.next=4,this.patch(this.baseURL+"/app",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return Oe.apply(this,arguments)})},{key:"revokeTokens",value:(Fe=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Fe.apply(this,arguments)})},{key:"revokeUserToken",value:(Ae=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.revokeUsersToken([t],n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return Ae.apply(this,arguments)})},{key:"revokeUsersToken",value:(Me=k(L().mark((function e(t,n){var r,s,i,o;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=void 0===n?(new Date).toISOString():this._normalizeDate(n),r=[],s=Tn(t);try{for(s.s();!(i=s.n()).done;)o=i.value,r.push({id:o,set:{revoke_tokens_issued_before:n}})}catch(e){s.e(e)}finally{s.f()}return e.next=6,this.partialUpdateUsers(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return Me.apply(this,arguments)})},{key:"getAppSettings",value:(ke=k(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return ke.apply(this,arguments)})},{key:"testPushSettings",value:(Te=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/check_push",An(An(An(An(An(An(An({user_id:t},n.messageID?{message_id:n.messageID}:{}),n.apnTemplate?{apn_template:n.apnTemplate}:{}),n.firebaseTemplate?{firebase_template:n.firebaseTemplate}:{}),n.firebaseDataTemplate?{firebase_data_template:n.firebaseDataTemplate}:{}),n.skipDevices?{skip_devices:!0}:{}),n.pushProviderName?{push_provider_name:n.pushProviderName}:{}),n.pushProviderType?{push_provider_type:n.pushProviderType}:{}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Te.apply(this,arguments)})},{key:"testSQSSettings",value:(Ee=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.post(this.baseURL+"/check_sqs",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return Ee.apply(this,arguments)})},{key:"testSNSSettings",value:(Ie=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.post(this.baseURL+"/check_sns",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return Ie.apply(this,arguments)})},{key:"setGuestUser",value:(xe=k(L().mark((function e(t){var n,r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.anonymous=!0,e.prev=1,e.next=4,this.post(this.baseURL+"/guest",{user:t});case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),this.anonymous=!1,e.t0;case 11:return this.anonymous=!1,(r=n.user).created_at,r.updated_at,r.last_active,r.online,s=S(r,In),e.next=15,this.connectUser(s,n.access_token);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return xe.apply(this,arguments)})},{key:"createToken",value:function(e,t,n){if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");var r={};return t&&(r.exp=t),n&&(r.iat=n),mn(this.secret,e,r,{})}},{key:"on",value:function(e,t){var n=this,r=t?e:"all",s=t||e;return r in this.listeners||(this.listeners[r]=[]),this.logger("info","Attaching listener for ".concat(r," event"),{tags:["event","client"]}),this.listeners[r].push(s),{unsubscribe:function(){n.logger("info","Removing listener for ".concat(r," event"),{tags:["event","client"]}),n.listeners[r]=n.listeners[r].filter((function(e){return e!==s}))}}}},{key:"off",value:function(e,t){var n=t?e:"all",r=t||e;n in this.listeners||(this.listeners[n]=[]),this.logger("info","Removing listener for ".concat(n," event"),{tags:["event","client"]}),this.listeners[n]=this.listeners[n].filter((function(e){return e!==r}))}},{key:"_logApiRequest",value:function(e,t,n,r){this.logger("info","client: ".concat(e," - Request - ").concat(t),{tags:["api","api_request","client"],url:t,payload:n,config:r})}},{key:"_logApiResponse",value:function(e,t,n){this.logger("info","client:".concat(e," - Response - url: ").concat(t," > status ").concat(n.status),{tags:["api","api_response","client"],url:t,response:n})}},{key:"_logApiError",value:function(e,t,n){this.logger("error","client:".concat(e," - Error - url: ").concat(t),{tags:["api","api_response","client"],url:t,error:n})}},{key:"get",value:function(e,t){return this.doAxiosRequest("get",e,null,{params:t})}},{key:"put",value:function(e,t){return this.doAxiosRequest("put",e,t)}},{key:"post",value:function(e,t){return this.doAxiosRequest("post",e,t)}},{key:"patch",value:function(e,t){return this.doAxiosRequest("patch",e,t)}},{key:"delete",value:function(e,t){return this.doAxiosRequest("delete",e,null,{params:t})}},{key:"sendFile",value:function(e,t,n,r,s){var i=function(e,t,n){var r,s=new(Et());return null!==(r=e)&&"object"===_(r)&&(r.readable||"function"==typeof r._read)||function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}(e)||function(e){return"undefined"!=typeof window&&"File"in window&&e instanceof File}(e)||function(e){return"undefined"!=typeof window&&"Blob"in window&&e instanceof Blob}(e)?t?s.append("file",e,t):s.append("file",e):s.append("file",{uri:e,name:t||e.split("/").reverse()[0],contentType:n||void 0,type:n||void 0}),s}(t,n,r||"multipart/form-data");return null!=s&&i.append("user",JSON.stringify(s)),this.doAxiosRequest("postForm",e,i,{headers:i.getHeaders?i.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}},{key:"errorFromResponse",value:function(e){var t;return t=new xn("StreamChat error HTTP code: ".concat(e.status)),e.data&&e.data.code&&((t=new Error("StreamChat error code ".concat(e.data.code,": ").concat(e.data.message))).code=e.data.code),t.response=e,t.status=e.status,t}},{key:"handleResponse",value:function(e){var t,n=e.data;if(!(t=e).status||t.status<200||300<=t.status)throw this.errorFromResponse(e);return n}},{key:"_handleClientEvent",value:function(e){var t,n,r,s=this,i=this,o=[];if(this.logger("info","client:_handleClientEvent - Received event of type { ".concat(e.type," }"),{tags:["event","client"],event:e}),"user.presence.changed"!==e.type&&"user.updated"!==e.type&&"user.deleted"!==e.type||this._handleUserEvent(e),"health.check"===e.type&&e.me&&(i.user=e.me,i.state.updateUser(e.me),i.mutedChannels=e.me.channel_mutes,i.mutedUsers=e.me.mutes),e.channel&&"notification.message_new"===e.type&&this._addChannelConfig(e.channel),"notification.channel_mutes_updated"===e.type&&null!==(t=e.me)&&void 0!==t&&t.channel_mutes){var a=[],c=[];this.mutedChannels.forEach((function(e){return e.channel&&a.push(e.channel.cid)})),e.me.channel_mutes.forEach((function(e){return e.channel&&c.push(e.channel.cid)})),a.forEach((function(e){!c.includes(e)&&s.activeChannels[e]&&(s.activeChannels[e].state.unreadCount=0)})),this.mutedChannels=e.me.channel_mutes}return"notification.mutes_updated"===e.type&&null!==(n=e.me)&&void 0!==n&&n.mutes&&(this.mutedUsers=e.me.mutes),"notification.mark_read"===e.type&&0===e.unread_channels&&Object.keys(this.activeChannels).forEach((function(e){return s.activeChannels[e].state.unreadCount=0})),"channel.deleted"!==e.type&&"notification.channel_deleted"!==e.type||!e.cid||(i.state.deleteAllChannelReference(e.cid),null===(r=this.activeChannels[e.cid])||void 0===r||r._disconnect(),o.push((function(){e.cid&&delete s.activeChannels[e.cid]}))),o}},{key:"_muteStatus",value:function(e){for(var t,n=0;n<this.mutedChannels.length;n++){var r,s=this.mutedChannels[n];if((null===(r=s.channel)||void 0===r?void 0:r.cid)===e){t={muted:!s.expires||new Date(s.expires).getTime()>(new Date).getTime(),createdAt:s.created_at?new Date(s.created_at):new Date,expiresAt:s.expires?new Date(s.expires):null};break}}return t||{muted:!1,createdAt:null,expiresAt:null}}},{key:"connect",value:(Se=k(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userID&&this._user){e.next=2;break}throw Error("Call connectUser or connectAnonymousUser before starting the connection");case 2:if(this.wsBaseURL){e.next=4;break}throw Error("Websocket base url not set");case 4:if(this.clientID){e.next=6;break}throw Error("clientID is not set");case 6:if(this.wsConnection||!this.options.warmUp&&!this.options.enableInsights||this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new dn({client:this}),e.prev=8,!this.wsFallback){e.next=13;break}return e.next=12,this.wsFallback.connect();case 12:case 15:case 28:return e.abrupt("return",e.sent);case 13:return e.next=15,this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout);case 18:if(e.prev=18,e.t0=e.catch(8),!(this.options.enableWSFallback&&Dn(e.t0)&&(void 0,t="undefined"!=typeof navigator?navigator:"undefined"!=typeof window&&window.navigator?window.navigator:void 0,t?"boolean"!=typeof t.onLine||t.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),1)))){e.next=29;break}return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new Sn({client:this}),e.next=28,this.wsFallback.connect();case 29:throw e.t0;case 30:case"end":return e.stop()}var t}),e,this,[[8,18]])}))),function(){return Se.apply(this,arguments)})},{key:"_sayHi",value:function(){var e=this,t=zt(),n={headers:{"x-client-request-id":t}};this.doAxiosRequest("get",this.baseURL+"/hi",null,n).catch((function(n){e.options.enableInsights&&un("http_hi_failed",{api_key:e.key,err:n,client_request_id:t})}))}},{key:"queryUsers",value:(_e=k(L().mark((function e(t){var n,r,s,i,o=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],r=o.length>2&&void 0!==o[2]?o[2]:{},s={presence:!1},e.next=5,this.wsPromise;case 5:return this._hasConnectionID()||(s.presence=!1),e.next=8,this.get(this.baseURL+"/users",{payload:An(An({filter_conditions:t,sort:Ht(n)},s),r)});case 8:return i=e.sent,this.state.updateUsers(i.users),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return _e.apply(this,arguments)})},{key:"queryBannedUsers",value:(Ce=k(L().mark((function e(){var t,n,r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:[],r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=5,this.get(this.baseURL+"/query_banned_users",{payload:An({filter_conditions:t,sort:Ht(n)},r)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return Ce.apply(this,arguments)})},{key:"queryMessageFlags",value:(De=k(L().mark((function e(){var t,n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this.get(this.baseURL+"/moderation/flags/message",{payload:An({filter_conditions:t},n)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return De.apply(this,arguments)})},{key:"queryChannels",value:(we=k(L().mark((function e(t){var n,r,s,i,o,a,c=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],r=c.length>2&&void 0!==c[2]?c[2]:{},s=c.length>3&&void 0!==c[3]?c[3]:{},i={state:!0,watch:!0,presence:!1},e.next=6,this.wsPromise;case 6:return this._hasConnectionID()||(i.watch=!1),o=An(An({filter_conditions:t,sort:Ht(n)},i),r),e.next=10,this.post(this.baseURL+"/channels",o);case 10:return a=e.sent,this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:a.channels,isLatestMessageSet:!0}}),e.abrupt("return",this.hydrateActiveChannels(a.channels,s));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return we.apply(this,arguments)})},{key:"hydrateActiveChannels",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.skipInitialization,s=n.offlineMode,i=void 0!==s&&s,o=Tn(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;this._addChannelConfig(a.channel)}}catch(e){o.e(e)}finally{o.f()}var c,l=[],u=Tn(t);try{for(u.s();!(c=u.n()).done;){var h=c.value,p=this.channel(h.channel.type,h.channel.id);p.data=h.channel,p.offlineMode=i,p.initialized=!i,void 0===r?p._initializeState(h,"latest"):r.includes(h.channel.id)||(p.state.clearMessages(),p._initializeState(h,"latest")),l.push(p)}}catch(e){u.e(e)}finally{u.f()}return l}},{key:"search",value:(be=k(L().mark((function e(t,n){var r,s,i=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=i.length>2&&void 0!==i[2]?i[2]:{}).offset||!r.next){e.next=3;break}throw Error("Cannot specify offset with next");case 3:if(s=An(An({filter_conditions:t},r),{},{sort:r.sort?Ht(r.sort):void 0}),"string"!=typeof n){e.next=8;break}s.query=n,e.next=13;break;case 8:if("object"!==_(n)){e.next=12;break}s.message_filter_conditions=n,e.next=13;break;case 12:throw Error("Invalid type ".concat(_(n)," for query parameter"));case 13:return e.next=15,this.wsPromise;case 15:return e.next=17,this.get(this.baseURL+"/search",{payload:s});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return be.apply(this,arguments)})},{key:"setLocalDevice",value:function(e){var t,n,r;if(null!==(t=this.wsConnection)&&void 0!==t&&t.isConnecting&&this.wsPromise||(null!==(n=this.wsConnection)&&void 0!==n&&n.isHealthy||null!==(r=this.wsFallback)&&void 0!==r&&r.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=e}},{key:"addDevice",value:(ye=k(L().mark((function e(t,n,r,s){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/devices",An(An({id:t,push_provider:n},null!=r?{user_id:r}:{}),null!=s?{push_provider_name:s}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return ye.apply(this,arguments)})},{key:"getDevices",value:(ve=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/devices",t?{user_id:t}:{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return ve.apply(this,arguments)})},{key:"getUnreadCount",value:(fe=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/unread",t?{user_id:t}:{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return fe.apply(this,arguments)})},{key:"removeDevice",value:(me=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/devices",An({id:t},n?{user_id:n}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return me.apply(this,arguments)})},{key:"getRateLimits",value:(ge=k(L().mark((function e(t){var n,r,s,i,o,a;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=t||{}).serverSide,s=n.web,i=n.android,o=n.ios,a=n.endpoints,e.abrupt("return",this.get(this.baseURL+"/rate_limits",{server_side:r,web:s,android:i,ios:o,endpoints:a?a.join(","):void 0}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return ge.apply(this,arguments)})},{key:"_addChannelConfig",value:function(e){var t=e.cid,n=e.config;this.configs[t]=n}},{key:"channel",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~e.indexOf(":"))throw Error("Invalid channel group ".concat(e,", can't contain the : character"));return t&&"object"===_(t)?this.getChannelByMembers(e,t):!t&&"object"===_(r)&&null!==(n=r.members)&&void 0!==n&&n.length?this.getChannelByMembers(e,r):t?this.getChannelById(e,t,r):new rn(this,e,void 0,r)}},{key:"partialUpdateUser",value:(de=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.partialUpdateUsers([t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return de.apply(this,arguments)})},{key:"upsertUsers",value:(pe=k(L().mark((function e(t){var n,r,s,i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},r=Tn(t),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=11;break}if((i=s.value).id){e.next=8;break}throw Error("User ID is required when updating a user");case 8:n[i.id]=i;case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:return e.next=21,this.post(this.baseURL+"/users",{users:n});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,this,[[2,13,16,19]])}))),function(e){return pe.apply(this,arguments)})},{key:"upsertUser",value:function(e){return this.upsertUsers([e])}},{key:"partialUpdateUsers",value:(he=k(L().mark((function e(t){var n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tn(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}if(r.value.id){e.next=7;break}throw Error("User ID is required when updating a user");case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:return e.next=19,this.patch(this.baseURL+"/users",{users:t});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))),function(e){return he.apply(this,arguments)})},{key:"deleteUser",value:(ue=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/users/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return ue.apply(this,arguments)})},{key:"restoreUsers",value:(le=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/restore",{user_ids:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return le.apply(this,arguments)})},{key:"reactivateUser",value:(ce=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/".concat(t,"/reactivate"),An({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return ce.apply(this,arguments)})},{key:"reactivateUsers",value:(ae=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/reactivate",An({user_ids:t},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return ae.apply(this,arguments)})},{key:"deactivateUser",value:(oe=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/".concat(t,"/deactivate"),An({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return oe.apply(this,arguments)})},{key:"deactivateUsers",value:(ie=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/deactivate",An({user_ids:t},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return ie.apply(this,arguments)})},{key:"exportUser",value:(se=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/users/".concat(t,"/export"),An({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return se.apply(this,arguments)})},{key:"banUser",value:(re=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/moderation/ban",An({target_user_id:t},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return re.apply(this,arguments)})},{key:"unbanUser",value:(ne=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/moderation/ban",An({target_user_id:t},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return ne.apply(this,arguments)})},{key:"shadowBan",value:(te=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.banUser(t,An({shadow:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return te.apply(this,arguments)})},{key:"removeShadowBan",value:(ee=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unbanUser(t,An({shadow:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return ee.apply(this,arguments)})},{key:"muteUser",value:(X=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this.post(this.baseURL+"/moderation/mute",An(An({target_id:t},n?{user_id:n}:{}),r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return X.apply(this,arguments)})},{key:"unmuteUser",value:(J=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/moderation/unmute",An({target_id:t},n?{user_id:n}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return J.apply(this,arguments)})},{key:"userMuteStatus",value:function(e){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(var t=0;t<this.mutedUsers.length;t+=1)if(this.mutedUsers[t].target.id===e)return!0;return!1}},{key:"flagMessage",value:(Q=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/flag",An({target_message_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Q.apply(this,arguments)})},{key:"flagUser",value:(Y=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/flag",An({target_user_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Y.apply(this,arguments)})},{key:"unflagMessage",value:(Z=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unflag",An({target_message_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return Z.apply(this,arguments)})},{key:"unflagUser",value:(G=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unflag",An({target_user_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return G.apply(this,arguments)})},{key:"getCallToken",value:(K=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/calls/".concat(t),An({},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return K.apply(this,arguments)})},{key:"_queryFlags",value:(W=k(L().mark((function e(){var t,n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this.post(this.baseURL+"/moderation/flags",An({filter_conditions:t},n));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return W.apply(this,arguments)})},{key:"_queryFlagReports",value:(z=k(L().mark((function e(){var t,n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,this.post(this.baseURL+"/moderation/reports",An({filter_conditions:t},n));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return z.apply(this,arguments)})},{key:"_reviewFlagReport",value:(q=k(L().mark((function e(t,n){var r,s=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this.patch(this.baseURL+"/moderation/reports/".concat(t),An({review_result:n},r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return q.apply(this,arguments)})},{key:"unblockMessage",value:(H=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unblock_message",An({target_message_id:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return H.apply(this,arguments)})},{key:"markChannelsRead",value:(B=k(L().mark((function e(){var t,n=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.post(this.baseURL+"/channels/read",An({},t));case 3:case"end":return e.stop()}}),e,this)}))),function(){return B.apply(this,arguments)})},{key:"createCommand",value:function(e){return this.post(this.baseURL+"/commands",e)}},{key:"getCommand",value:function(e){return this.get(this.baseURL+"/commands/".concat(e))}},{key:"updateCommand",value:function(e,t){return this.put(this.baseURL+"/commands/".concat(e),t)}},{key:"deleteCommand",value:function(e){return this.delete(this.baseURL+"/commands/".concat(e))}},{key:"listCommands",value:function(){return this.get(this.baseURL+"/commands")}},{key:"createChannelType",value:function(e){var t=C({},{commands:["all"]},e);return this.post(this.baseURL+"/channeltypes",t)}},{key:"getChannelType",value:function(e){return this.get(this.baseURL+"/channeltypes/".concat(e))}},{key:"updateChannelType",value:function(e,t){return this.put(this.baseURL+"/channeltypes/".concat(e),t)}},{key:"deleteChannelType",value:function(e){return this.delete(this.baseURL+"/channeltypes/".concat(e))}},{key:"listChannelTypes",value:function(){return this.get(this.baseURL+"/channeltypes")}},{key:"translateMessage",value:($=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/messages/".concat(t,"/translate"),{language:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return $.apply(this,arguments)})},{key:"_normalizeExpiration",value:function(e){var t=null;if("number"==typeof e){var n=new Date;n.setSeconds(n.getSeconds()+e),t=n.toISOString()}else Fn(e)?t=e:e instanceof Date&&(t=e.toISOString());return t}},{key:"_validateAndGetMessageId",value:function(e,t){var n;if("string"==typeof e)n=e;else{if(!e.id)throw Error(t);n=e.id}return n}},{key:"pinMessage",value:function(e,t,n,r){var s=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(s,{set:{pinned:!0,pin_expires:this._normalizeExpiration(t),pinned_at:this._normalizeExpiration(r)}},n)}},{key:"unpinMessage",value:function(e,t){var n=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(n,{set:{pinned:!1}},t)}},{key:"updateMessage",value:(V=k(L().mark((function e(t,n,r){var s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}throw Error("Please specify the message id when calling updateMessage");case 2:return delete(s=C({},t)).id,["command","created_at","html","latest_reactions","own_reactions","quoted_message","reaction_counts","reply_count","type","updated_at","user","__html"].forEach((function(e){null!=s[e]&&delete s[e]})),null!=n&&(Fn(n)?s.user_id=n:s.user={id:n.id}),Array.isArray(s.mentioned_users)&&!Fn(s.mentioned_users[0])&&(s.mentioned_users=s.mentioned_users.map((function(e){return e.id}))),e.next=10,this.post(this.baseURL+"/messages/".concat(t.id),An({message:s},r));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return V.apply(this,arguments)})},{key:"partialUpdateMessage",value:(U=k(L().mark((function e(t,n,r,s){var i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Please specify the message id when calling partialUpdateMessage");case 2:return i=r,null!=r&&Fn(r)&&(i={id:r}),e.next=6,this.put(this.baseURL+"/messages/".concat(t),An(An(An({},n),s),{},{user:i}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return U.apply(this,arguments)})},{key:"deleteMessage",value:(N=k(L().mark((function e(t,n){var r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n&&(r={hard:!0}),e.next=4,this.delete(this.baseURL+"/messages/".concat(t),r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return N.apply(this,arguments)})},{key:"getMessage",value:(j=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/messages/".concat(encodeURIComponent(t)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"getUserAgent",value:function(){return this.userAgent||"stream-chat-javascript-client-".concat(this.node?"node":"browser","-","8.14.4")}},{key:"setUserAgent",value:function(e){this.userAgent=e}},{key:"_enrichAxiosOptions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}},n=this._getToken(),r=n?{Authorization:n}:void 0,s=null;null!==this.nextRequestAbortController&&(s=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),null!==(e=t.headers)&&void 0!==e&&e["x-client-request-id"]||(t.headers=An(An({},t.headers),{},{"x-client-request-id":zt()}));var i=this.options.axiosRequestConfig||{},o=i.params,a=i.headers,c=S(i,En);return An(An(An({params:An(An({user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key},t.params),o||{}),headers:An(An(An({},r),{},{"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent()},t.headers),a||{})},s?{signal:s}:{}),t.config),c||{})}},{key:"_getToken",value:function(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}},{key:"_startCleaning",value:function(){var e=this;null==this.cleaningIntervalRef&&(this.cleaningIntervalRef=setInterval((function(){for(var t=0,n=Object.values(e.activeChannels);t<n.length;t++)n[t].clean()}),500))}},{key:"verifyWebhook",value:function(e,t){return!!this.secret&&function(e,t,n){var r=Buffer.from(t,"utf8"),s=null.createHmac("sha256",r).update(e).digest("hex");try{return null.timingSafeEqual(Buffer.from(s),Buffer.from(n))}catch(e){return!1}}(e,this.secret,t)}},{key:"getPermission",value:function(e){return this.get("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"createPermission",value:function(e){return this.post("".concat(this.baseURL,"/permissions"),An({},e))}},{key:"updatePermission",value:function(e,t){return this.put("".concat(this.baseURL,"/permissions/").concat(e),An({},t))}},{key:"deletePermission",value:function(e){return this.delete("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"listPermissions",value:function(){return this.get("".concat(this.baseURL,"/permissions"))}},{key:"createRole",value:function(e){return this.post("".concat(this.baseURL,"/roles"),{name:e})}},{key:"listRoles",value:function(){return this.get("".concat(this.baseURL,"/roles"))}},{key:"deleteRole",value:function(e){return this.delete("".concat(this.baseURL,"/roles/").concat(e))}},{key:"sync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.post("".concat(this.baseURL,"/sync"),An({channel_cids:e,last_sync_at:t},n))}},{key:"sendUserCustomEvent",value:(P=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("".concat(this.baseURL,"/users/").concat(t,"/event"),{event:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return P.apply(this,arguments)})},{key:"createBlockList",value:function(e){return this.post("".concat(this.baseURL,"/blocklists"),e)}},{key:"listBlockLists",value:function(){return this.get("".concat(this.baseURL,"/blocklists"))}},{key:"getBlockList",value:function(e){return this.get("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"updateBlockList",value:function(e,t){return this.put("".concat(this.baseURL,"/blocklists/").concat(e),t)}},{key:"deleteBlockList",value:function(e){return this.delete("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"exportChannels",value:function(e){var t=An({channels:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return this.post("".concat(this.baseURL,"/export_channels"),t)}},{key:"exportUsers",value:function(e){return this.post("".concat(this.baseURL,"/export/users"),e)}},{key:"exportChannel",value:function(e,t){return this.exportChannels([e],t)}},{key:"getExportChannelStatus",value:function(e){return this.get("".concat(this.baseURL,"/export_channels/").concat(e))}},{key:"createSegment",value:(F=k(L().mark((function e(t){var n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/segments",{segment:t});case 2:return n=e.sent,r=n.segment,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"querySegments",value:(A=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.get(this.baseURL+"/segments",{payload:An({filter_conditions:t},n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"updateSegment",value:(T=k(L().mark((function e(t,n){var r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.put(this.baseURL+"/segments/".concat(t),{segment:n});case 2:return r=e.sent,s=r.segment,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return T.apply(this,arguments)})},{key:"deleteSegment",value:(I=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.delete(this.baseURL+"/segments/".concat(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"createCampaign",value:(x=k(L().mark((function e(t){var n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/campaigns",{campaign:t});case 2:return n=e.sent,r=n.campaign,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"queryCampaigns",value:(w=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.get(this.baseURL+"/campaigns",{payload:An({filter_conditions:t},n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"updateCampaign",value:(b=k(L().mark((function e(t,n){var r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.put(this.baseURL+"/campaigns/".concat(t),{campaign:n});case 2:return r=e.sent,s=r.campaign,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"deleteCampaign",value:(y=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.delete(this.baseURL+"/campaigns/".concat(t),n));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"scheduleCampaign",value:(v=k(L().mark((function e(t,n){var r,s,i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.scheduledFor,e.next=3,this.patch(this.baseURL+"/campaigns/".concat(t,"/schedule"),{scheduled_for:r});case 3:return s=e.sent,i=s.campaign,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"stopCampaign",value:(f=k(L().mark((function e(t){var n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.patch(this.baseURL+"/campaigns/".concat(t,"/stop"));case 2:return n=e.sent,r=n.campaign,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"resumeCampaign",value:(m=k(L().mark((function e(t){var n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.patch(this.baseURL+"/campaigns/".concat(t,"/resume"));case 2:return n=e.sent,r=n.campaign,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"testCampaign",value:(g=k(L().mark((function e(t,n){var r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.users,e.next=3,this.post(this.baseURL+"/campaigns/".concat(t,"/test"),{users:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"queryRecipients",value:(d=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.get(this.baseURL+"/recipients",{payload:An({filter_conditions:t},n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"enrichURL",value:(p=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(this.baseURL+"/og",{url:t}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getTask",value:(h=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("".concat(this.baseURL,"/tasks/").concat(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"deleteChannels",value:(u=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.post(this.baseURL+"/channels/delete",An({cids:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"deleteUsers",value:(l=k(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("soft"===(null==n?void 0:n.user)||"hard"===(null==n?void 0:n.user)){e.next=2;break}throw new Error("Invalid delete user options. user must be one of [soft hard]");case 2:if(void 0===n.messages||"soft"===n.messages||"hard"===n.messages){e.next=4;break}throw new Error("Invalid delete user options. messages must be one of [soft hard]");case 4:if(void 0===n.conversations||"soft"===n.conversations||"hard"===n.conversations){e.next=6;break}throw new Error("Invalid delete user options. conversations must be one of [soft hard]");case 6:return e.next=8,this.post(this.baseURL+"/users/delete",An({user_ids:t},n));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"_createImportURL",value:(c=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/import_urls",{filename:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_createImport",value:(a=k(L().mark((function e(t){var n,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{mode:"upsert"},e.next=3,this.post(this.baseURL+"/imports",An({path:t},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_getImport",value:(o=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/imports/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_listImports",value:(i=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/imports",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"upsertPushProvider",value:(s=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/push_providers",{push_provider:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"deletePushProvider",value:(r=k(L().mark((function e(t){var n,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.name,e.next=3,this.delete(this.baseURL+"/push_providers/".concat(n,"/").concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"listPushProviders",value:(n=k(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/push_providers");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createAbortControllerForNextRequest",value:function(){return this.nextRequestAbortController=new AbortController}},{key:"commitMessage",value:(t=k(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/messages/".concat(t,"/commit"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}],[{key:"getInstance",value:function(t,n,r){return e._instance||(e._instance="string"==typeof n?new e(t,n,r):new e(t,n)),e._instance}}]),e}();R(On,"_instance",void 0);var Rn,Pn="Allow",Ln=["*"],jn=["*"],Nn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ln,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jn,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pn;M(this,e),R(this,"name",void 0),R(this,"action",void 0),R(this,"owner",void 0),R(this,"priority",void 0),R(this,"resources",void 0),R(this,"roles",void 0),this.name=t,this.action=o,this.owner=i,this.priority=n,this.resources=r,this.roles=s},Un=(new Nn("Allow all",999,Ln,jn,!1,Pn),new Nn("Deny all",1,Ln,jn,!1,"Deny"),n(1544)),Vn=n(2204),$n=n(4864),Bn=n(8376),Hn=n(5232),qn=n(260),zn=n(8728),Wn=n(6816),Kn=n(3760),Gn=new Uint8Array(16);function Zn(){if(!Rn&&!(Rn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rn(Gn)}const Yn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Qn=[],Jn=0;Jn<256;++Jn)Qn.push((Jn+256).toString(16).substr(1));const Xn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Qn[e[t+0]]+Qn[e[t+1]]+Qn[e[t+2]]+Qn[e[t+3]]+"-"+Qn[e[t+4]]+Qn[e[t+5]]+"-"+Qn[e[t+6]]+Qn[e[t+7]]+"-"+Qn[e[t+8]]+Qn[e[t+9]]+"-"+Qn[e[t+10]]+Qn[e[t+11]]+Qn[e[t+12]]+Qn[e[t+13]]+Qn[e[t+14]]+Qn[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Yn.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},er=function(e,t,n){var r=(e=e||{}).random||(e.rng||Zn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return Xn(r)};var tr=n(9752),nr=n(1132),rr=n(1016),sr=n.n(rr);function ir(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function or(e){return e instanceof ir(e).Element||e instanceof Element}function ar(e){return e instanceof ir(e).HTMLElement||e instanceof HTMLElement}function cr(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ir(e).ShadowRoot||e instanceof ShadowRoot)}var lr=Math.max,ur=Math.min,hr=Math.round;function pr(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function dr(){return!/^((?!chrome|android).)*safari/i.test(pr())}function gr(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),s=1,i=1;t&&ar(e)&&(s=e.offsetWidth>0&&hr(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&hr(r.height)/e.offsetHeight||1);var o=(or(e)?ir(e):window).visualViewport,a=!dr()&&n,c=(r.left+(a&&o?o.offsetLeft:0))/s,l=(r.top+(a&&o?o.offsetTop:0))/i,u=r.width/s,h=r.height/i;return{width:u,height:h,top:l,right:c+u,bottom:l+h,left:c,x:c,y:l}}function mr(e){var t=ir(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function fr(e){return e?(e.nodeName||"").toLowerCase():null}function vr(e){return((or(e)?e.ownerDocument:e.document)||window.document).documentElement}function yr(e){return gr(vr(e)).left+mr(e).scrollLeft}function br(e){return ir(e).getComputedStyle(e)}function wr(e){var t=br(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Dr(e,t,n){void 0===n&&(n=!1);var r,s,i=ar(t),o=ar(t)&&function(e){var t=e.getBoundingClientRect(),n=hr(t.width)/e.offsetWidth||1,r=hr(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=vr(t),c=gr(e,o,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&(("body"!==fr(t)||wr(a))&&(l=(r=t)!==ir(r)&&ar(r)?{scrollLeft:(s=r).scrollLeft,scrollTop:s.scrollTop}:mr(r)),ar(t)?((u=gr(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=yr(a))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function Cr(e){var t=gr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _r(e){return"html"===fr(e)?e:e.assignedSlot||e.parentNode||(cr(e)?e.host:null)||vr(e)}function Sr(e){return["html","body","#document"].indexOf(fr(e))>=0?e.ownerDocument.body:ar(e)&&wr(e)?e:Sr(_r(e))}function xr(e,t){var n;void 0===t&&(t=[]);var r=Sr(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),i=ir(r),o=s?[i].concat(i.visualViewport||[],wr(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(xr(_r(o)))}function Ir(e){return["table","td","th"].indexOf(fr(e))>=0}function Er(e){return ar(e)&&"fixed"!==br(e).position?e.offsetParent:null}function Tr(e){for(var t=ir(e),n=Er(e);n&&Ir(n)&&"static"===br(n).position;)n=Er(n);return n&&("html"===fr(n)||"body"===fr(n)&&"static"===br(n).position)?t:n||function(e){var t=/firefox/i.test(pr());if(/Trident/i.test(pr())&&ar(e)&&"fixed"===br(e).position)return null;var n=_r(e);for(cr(n)&&(n=n.host);ar(n)&&["html","body"].indexOf(fr(n))<0;){var r=br(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var kr="top",Mr="bottom",Ar="right",Fr="left",Or="auto",Rr=[kr,Mr,Ar,Fr],Pr="start",Lr="end",jr="viewport",Nr="popper",Ur=Rr.reduce((function(e,t){return e.concat([t+"-"+Pr,t+"-"+Lr])}),[]),Vr=[].concat(Rr,[Or]).reduce((function(e,t){return e.concat([t,t+"-"+Pr,t+"-"+Lr])}),[]),$r=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Br(e){var t=new Map,n=new Set,r=[];function s(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&s(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||s(e)})),r}var Hr={placement:"bottom",modifiers:[],strategy:"absolute"};function qr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function zr(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,s=t.defaultOptions,i=void 0===s?Hr:s;return function(e,t,n){void 0===n&&(n=i);var s,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hr,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(n){var s="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},i,a.options,s),a.scrollParents={reference:or(e)?xr(e):e.contextElement?xr(e.contextElement):[],popper:xr(t)};var o,l,p=function(e){var t=Br(e);return $r.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(r,a.options.modifiers),l=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(l).map((function(e){return l[e]}))));return a.orderedModifiers=p.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var i=s({state:a,name:t,instance:u,options:r});c.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(qr(t,n)){a.rects={reference:Dr(t,Tr(n),"fixed"===a.options.strategy),popper:Cr(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var s=a.orderedModifiers[r],i=s.fn,o=s.options,c=void 0===o?{}:o,h=s.name;"function"==typeof i&&(a=i({state:a,options:c,name:h,instance:u})||a)}else a.reset=!1,r=-1}}},update:(s=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(s())}))}))),o}),destroy:function(){h(),l=!0}};if(!qr(e,t))return u;function h(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Wr={passive:!0};function Kr(e){return e.split("-")[0]}function Gr(e){return e.split("-")[1]}function Zr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Yr(e){var t,n=e.reference,r=e.element,s=e.placement,i=s?Kr(s):null,o=s?Gr(s):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case kr:t={x:a,y:n.y-r.height};break;case Mr:t={x:a,y:n.y+n.height};break;case Ar:t={x:n.x+n.width,y:c};break;case Fr:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?Zr(i):null;if(null!=l){var u="y"===l?"height":"width";switch(o){case Pr:t[l]=t[l]-(n[u]/2-r[u]/2);break;case Lr:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}var Qr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jr(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,o=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,h=e.isFixed,p=o.x,d=void 0===p?0:p,g=o.y,m=void 0===g?0:g,f="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=f.x,m=f.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Fr,w=kr,D=window;if(l){var C=Tr(n),_="clientHeight",S="clientWidth";C===ir(n)&&"static"!==br(C=vr(n)).position&&"absolute"===a&&(_="scrollHeight",S="scrollWidth"),(s===kr||(s===Fr||s===Ar)&&i===Lr)&&(w=Mr,m-=(h&&C===D&&D.visualViewport?D.visualViewport.height:C[_])-r.height,m*=c?1:-1),s!==Fr&&(s!==kr&&s!==Mr||i!==Lr)||(b=Ar,d-=(h&&C===D&&D.visualViewport?D.visualViewport.width:C[S])-r.width,d*=c?1:-1)}var x,I=Object.assign({position:a},l&&Qr),E=!0===u?function(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:hr(n*s)/s||0,y:hr(r*s)/s||0}}({x:d,y:m},ir(n)):{x:d,y:m};return d=E.x,m=E.y,c?Object.assign({},I,((x={})[w]=y?"0":"",x[b]=v?"0":"",x.transform=(D.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",x)):Object.assign({},I,((t={})[w]=y?m+"px":"",t[b]=v?d+"px":"",t.transform="",t))}var Xr={left:"right",right:"left",bottom:"top",top:"bottom"};function es(e){return e.replace(/left|right|bottom|top/g,(function(e){return Xr[e]}))}var ts={start:"end",end:"start"};function ns(e){return e.replace(/start|end/g,(function(e){return ts[e]}))}function rs(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&cr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ss(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function is(e,t,n){return t===jr?ss(function(e,t){var n=ir(e),r=vr(e),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;var l=dr();(l||!l&&"fixed"===t)&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a+yr(e),y:c}}(e,n)):or(t)?function(e,t){var n=gr(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ss(function(e){var t,n=vr(e),r=mr(e),s=null==(t=e.ownerDocument)?void 0:t.body,i=lr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=lr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+yr(e),c=-r.scrollTop;return"rtl"===br(s||n).direction&&(a+=lr(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}(vr(e)))}function os(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function as(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function cs(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,i=n.strategy,o=void 0===i?e.strategy:i,a=n.boundary,c=void 0===a?"clippingParents":a,l=n.rootBoundary,u=void 0===l?jr:l,h=n.elementContext,p=void 0===h?Nr:h,d=n.altBoundary,g=void 0!==d&&d,m=n.padding,f=void 0===m?0:m,v=os("number"!=typeof f?f:as(f,Rr)),y=p===Nr?"reference":Nr,b=e.rects.popper,w=e.elements[g?y:p],D=function(e,t,n,r){var s="clippingParents"===t?function(e){var t=xr(_r(e)),n=["absolute","fixed"].indexOf(br(e).position)>=0&&ar(e)?Tr(e):e;return or(n)?t.filter((function(e){return or(e)&&rs(e,n)&&"body"!==fr(e)})):[]}(e):[].concat(t),i=[].concat(s,[n]),o=i[0],a=i.reduce((function(t,n){var s=is(e,n,r);return t.top=lr(s.top,t.top),t.right=ur(s.right,t.right),t.bottom=ur(s.bottom,t.bottom),t.left=lr(s.left,t.left),t}),is(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(or(w)?w:w.contextElement||vr(e.elements.popper),c,u,o),C=gr(e.elements.reference),_=Yr({reference:C,element:b,strategy:"absolute",placement:s}),S=ss(Object.assign({},b,_)),x=p===Nr?S:C,I={top:D.top-x.top+v.top,bottom:x.bottom-D.bottom+v.bottom,left:D.left-x.left+v.left,right:x.right-D.right+v.right},E=e.modifiersData.offset;if(p===Nr&&E){var T=E[s];Object.keys(I).forEach((function(e){var t=[Ar,Mr].indexOf(e)>=0?1:-1,n=[kr,Mr].indexOf(e)>=0?"y":"x";I[e]+=T[n]*t}))}return I}const ls={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=void 0===s||s,o=n.altAxis,a=void 0===o||o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,h=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,g=void 0===d||d,m=n.allowedAutoPlacements,f=t.options.placement,v=Kr(f),y=c||(v!==f&&g?function(e){if(Kr(e)===Or)return[];var t=es(e);return[ns(e),t,ns(t)]}(f):[es(f)]),b=[f].concat(y).reduce((function(e,n){return e.concat(Kr(n)===Or?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?Vr:c,u=Gr(r),h=u?a?Ur:Ur.filter((function(e){return Gr(e)===u})):Rr,p=h.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=h);var d=p.reduce((function(t,n){return t[n]=cs(e,{placement:n,boundary:s,rootBoundary:i,padding:o})[Kr(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:l,flipVariations:g,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,D=t.rects.popper,C=new Map,_=!0,S=b[0],x=0;x<b.length;x++){var I=b[x],E=Kr(I),T=Gr(I)===Pr,k=[kr,Mr].indexOf(E)>=0,M=k?"width":"height",A=cs(t,{placement:I,boundary:u,rootBoundary:h,altBoundary:p,padding:l}),F=k?T?Ar:Fr:T?Mr:kr;w[M]>D[M]&&(F=es(F));var O=es(F),R=[];if(i&&R.push(A[E]<=0),a&&R.push(A[F]<=0,A[O]<=0),R.every((function(e){return e}))){S=I,_=!1;break}C.set(I,R)}if(_)for(var P=function(e){var t=b.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},L=g?3:1;L>0&&"break"!==P(L);L--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function us(e,t,n){return lr(e,ur(t,n))}function hs(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ps(e){return[kr,Ar,Mr,Fr].some((function(t){return e[t]>=0}))}var ds=zr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=void 0===s||s,o=r.resize,a=void 0===o||o,c=ir(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,Wr)})),a&&c.addEventListener("resize",n.update,Wr),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Wr)})),a&&c.removeEventListener("resize",n.update,Wr)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Yr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=void 0===r||r,i=n.adaptive,o=void 0===i||i,a=n.roundOffsets,c=void 0===a||a,l={placement:Kr(t.placement),variation:Gr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Jr(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Jr(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];ar(s)&&fr(s)&&(Object.assign(s.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],s=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});ar(r)&&fr(r)&&(Object.assign(r.style,i),Object.keys(s).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=void 0===s?[0,0]:s,o=Vr.reduce((function(e,n){return e[n]=function(e,t,n){var r=Kr(e),s=[Fr,kr].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[Fr,Ar].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(n,t.rects,i),e}),{}),a=o[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}},ls,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=void 0===s||s,o=n.altAxis,a=void 0!==o&&o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,h=n.padding,p=n.tether,d=void 0===p||p,g=n.tetherOffset,m=void 0===g?0:g,f=cs(t,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),v=Kr(t.placement),y=Gr(t.placement),b=!y,w=Zr(v),D="x"===w?"y":"x",C=t.modifiersData.popperOffsets,_=t.rects.reference,S=t.rects.popper,x="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"==typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(C){if(i){var k,M="y"===w?kr:Fr,A="y"===w?Mr:Ar,F="y"===w?"height":"width",O=C[w],R=O+f[M],P=O-f[A],L=d?-S[F]/2:0,j=y===Pr?_[F]:S[F],N=y===Pr?-S[F]:-_[F],U=t.elements.arrow,V=d&&U?Cr(U):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=$[M],H=$[A],q=us(0,_[F],V[F]),z=b?_[F]/2-L-q-B-I.mainAxis:j-q-B-I.mainAxis,W=b?-_[F]/2+L+q+H+I.mainAxis:N+q+H+I.mainAxis,K=t.elements.arrow&&Tr(t.elements.arrow),G=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Z=null!=(k=null==E?void 0:E[w])?k:0,Y=O+W-Z,Q=us(d?ur(R,O+z-Z-G):R,O,d?lr(P,Y):P);C[w]=Q,T[w]=Q-O}if(a){var J,X="x"===w?kr:Fr,ee="x"===w?Mr:Ar,te=C[D],ne="y"===D?"height":"width",re=te+f[X],se=te-f[ee],ie=-1!==[kr,Fr].indexOf(v),oe=null!=(J=null==E?void 0:E[D])?J:0,ae=ie?re:te-_[ne]-S[ne]-oe+I.altAxis,ce=ie?te+_[ne]+S[ne]-oe-I.altAxis:se,le=d&&ie?function(e,t,n){var r=us(e,t,n);return r>n?n:r}(ae,te,ce):us(d?ae:re,te,d?ce:se);C[D]=le,T[D]=le-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Kr(n.placement),c=Zr(a),l=[Fr,Ar].indexOf(a)>=0?"height":"width";if(i&&o){var u=function(e,t){return os("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:as(e,Rr))}(s.padding,n),h=Cr(i),p="y"===c?kr:Fr,d="y"===c?Mr:Ar,g=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],m=o[c]-n.rects.reference[c],f=Tr(i),v=f?"y"===c?f.clientHeight||0:f.clientWidth||0:0,y=g/2-m/2,b=u[p],w=v-h[l]-u[d],D=v/2-h[l]/2+y,C=us(b,D,w),_=c;n.modifiersData[r]=((t={})[_]=C,t.centerOffset=C-D,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&rs(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,o=cs(t,{elementContext:"reference"}),a=cs(t,{altBoundary:!0}),c=hs(o,r),l=hs(a,s,i),u=ps(c),h=ps(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),gs=n(5448),ms=n(6632),fs=n(6699),vs=n(3844),ys=n(1632),bs=["addListener","removeListener"],ws=["addEventListener","removeEventListener"],Ds=["on","off"];function Cs(e,t,n,r){if((0,vs.m)(n)&&(r=n,n=void 0),r)return Cs(e,t,n).pipe((0,ys.j)(r));var i=(0,s.o5)(function(e){return(0,vs.m)(e.addEventListener)&&(0,vs.m)(e.removeEventListener)}(e)?ws.map((function(r){return function(s){return e[r](t,s,n)}})):function(e){return(0,vs.m)(e.addListener)&&(0,vs.m)(e.removeListener)}(e)?bs.map(_s(e,t)):function(e){return(0,vs.m)(e.on)&&(0,vs.m)(e.off)}(e)?Ds.map(_s(e,t)):[],2),o=i[0],a=i[1];if(!o&&(0,fs.G)(e))return(0,ms.O)((function(e){return Cs(e,t,n)}))((0,gs.Uv)(e));if(!o)throw new TypeError("Invalid event target");return new u._((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return o(t),function(){return a(t)}}))}function _s(e,t){return function(n){return function(r){return e[n](t,r)}}}var Ss,xs,Is=n(3012);!function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.TOPSTART="top-start",e.BOTTOMSTART="bottom-start",e.LEFTSTART="left-start",e.RIGHTSTART="right-start",e.TOPEND="top-end",e.BOTTOMEND="bottom-end",e.LEFTEND="left-end",e.RIGHTEND="right-end",e.AUTO="auto",e.AUTOSTART="auto-start",e.AUTOEND="auto-end"}(Ss||(Ss={})),function(e){e.click="click",e.hover="hover",e.mousedown="mousedown",e.none="none"}(xs||(xs={}));class Es{constructor(e,t,n){this.elRef=e,this._viewRef=t,this._changeDetectorRef=n,this.arrowColor=null,this.id="ngx_poppperjs_"+ ++Es.nextId,this.isMouseOver=!1,this.onHidden=new i.EventEmitter,this.popperOptions={disableAnimation:!1,disableDefaultStyling:!1,placement:Ss.AUTO,boundariesElement:"",trigger:xs.hover,positionFixed:!1,appendToBody:!1,popperModifiers:[]},this._baseModifiers=[{name:"offset",enabled:!0,options:{offset:[0,8]}},{name:"arrow",enabled:!0,options:{element:".ngxp__arrow",padding:3},requires:["arrow"]}],this._destroy$=new l.E,this._styleId=`${this.id}_style`,this._toggleVisibility(!1)}clean(){this.toggleVisibility(!1),this.popperInstance&&this.popperInstance.destroy()}extractAppliedClassListExpr(e=[]){return(Array.isArray(e)?e:"string"==typeof e?e.replace(/ /,"").split(","):[]).reduce(((e,t)=>(e[t]=!0,e)),{})}hide(){this.popperInstance&&this.popperInstance.destroy(),this.toggleVisibility(!1),this.onHidden.emit()}ngOnDestroy(){this._destroy$.next(),this.clean(),this.popperOptions.appendTo&&this.elRef&&this.elRef.nativeElement&&this.elRef.nativeElement.parentNode&&(this._viewRef.detach(),this.elRef.nativeElement.parentNode.removeChild(this.elRef.nativeElement))}onDocumentResize(){this.update()}onMouseOver(){this.isMouseOver=!0}show(){if(!this.referenceObject)return;const e=this.popperOptions.appendTo&&document.querySelector(this.popperOptions.appendTo);e&&this.elRef.nativeElement.parentNode!==e&&(this.elRef.nativeElement.parentNode&&this.elRef.nativeElement.parentNode.removeChild(this.elRef.nativeElement),e.appendChild(this.elRef.nativeElement));const t={strategy:this.popperOptions.positionFixed?"fixed":"absolute",placement:this.popperOptions.placement,modifiers:this._baseModifiers};this.onUpdate&&(t.onFirstUpdate=this.onUpdate);const n=this.popperOptions.boundariesElement&&document.querySelector(this.popperOptions.boundariesElement);if(t.modifiers&&n&&t.modifiers.push({name:"preventOverflow",enabled:this.popperOptions.preventOverflow,options:{boundary:n}}),t.modifiers){const e=t.modifiers.find((e=>"preventOverflow"===e.name));if(e&&!e.enabled){const e=t.modifiers.find((e=>"preventOverflow"===e.name));e&&(e.enabled=!1)}}this._determineArrowColor(),t.modifiers=t.modifiers.concat(this.popperOptions.popperModifiers),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.popperInstance=ds(this.referenceObject,this.popperViewRef.nativeElement,t)}))})),this.toggleVisibility(!0),Cs(document,"resize").pipe((0,Is.a)(this._destroy$)).subscribe({next:()=>this.onDocumentResize()})}showOnLeave(){this.isMouseOver=!1,(this.popperOptions.trigger===xs.hover||this.popperOptions.hideOnMouseLeave)&&this.hide()}toggleVisibility(e){this._toggleVisibility(e),this._changeDetectorRef.destroyed||this._changeDetectorRef.detectChanges()}update(){this.popperInstance&&this.popperInstance.update()}_createArrowSelector(){return`div#${this.id}.ngxp__container > .ngxp__arrow.ngxp__force-arrow`}_determineArrowColor(){if(!this.popperOptions.styles||this.arrowColor)return!1;const e=this.popperOptions.styles["background-color"]||this.popperOptions.styles.backgroundColor;if(this.arrowColor===e)return!1;this.arrowColor=e;let t=document.querySelector(`#${this._styleId}`);const n=this.arrowColor?`${this._createArrowSelector()}:before { background-color: ${this.arrowColor}; }`:"";t||(t=document.createElement("style"),t.id=this._styleId,t.setAttribute("type","text/css"),document.head.appendChild(t)),t.styleSheet?t.styleSheet.cssText=n:t.innerHTML=n}_toggleVisibility(e){this.displayType=["none","block"][+e],this.opacity=+e,this.ariaHidden=`${!e}`,this.state=e}}Es.nextId=0,Es.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:Es,deps:[{token:i.ElementRef},{token:i.ViewContainerRef},{token:i.ChangeDetectorRef}],target:i["ɵɵFactoryTarget"].Component}),Es.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"15.2.9",type:Es,selector:"popper-content",host:{listeners:{mouseover:"onMouseOver()",mouseleave:"showOnLeave()"}},viewQueries:[{propertyName:"popperViewRef",first:!0,predicate:["popperViewRef"],descendants:!0,static:!0}],exportAs:["ngxPopperjsContent"],ngImport:i,template:'<div #popperViewRef\r\n     [attr.id]="id"\r\n     [class.ngxp__container]="!popperOptions.disableDefaultStyling"\r\n     [class.ngxp__animation]="!popperOptions.disableAnimation"\r\n     [style.display]="displayType"\r\n     [style.opacity]="opacity"\r\n     [ngStyle]="popperOptions.styles"\r\n     [ngClass]="extractAppliedClassListExpr(popperOptions.applyClass)"\r\n     attr.aria-hidden="{{ariaHidden}}"\r\n     [attr.aria-describedby]="popperOptions.ariaDescribe || null"\r\n     attr.role="{{popperOptions.ariaRole}}">\r\n    <div *ngIf="text"\r\n         class="ngxp__inner"\r\n         [innerHTML]="text">\r\n        <ng-content></ng-content>\r\n    </div>\r\n    <div *ngIf="!text"\r\n         class="ngxp__inner">\r\n        <ng-content></ng-content>\r\n    </div>\r\n    <div class="ngxp__arrow"\r\n         data-popper-arrow\r\n         [class.ngxp__force-arrow]="arrowColor"\r\n         [ngClass]="extractAppliedClassListExpr(popperOptions.applyArrowClass)"></div>\r\n\r\n</div>\r\n',styles:['popper-content{position:relative;display:block}.ngxp__container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.ngxp__container.ngxp__animation{animation:ngxp-fadeIn .15s ease-out}.ngxp__container>.ngxp__arrow,.ngxp__container>.ngxp__arrow:before{position:absolute;width:10px;height:10px;z-index:-1}.ngxp__container>.ngxp__arrow:before{transform:rotate(45deg);content:"";background-color:#fff;top:0;left:0}.ngxp__container[data-popper-placement^=top]>.ngxp__arrow{bottom:-4px}.ngxp__container[data-popper-placement^=bottom]>.ngxp__arrow{top:-4px}.ngxp__container[data-popper-placement^=left]>.ngxp__arrow{right:-4px}.ngxp__container[data-popper-placement^=right]>.ngxp__arrow{left:-4px}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}\n'],dependencies:[{kind:"directive",type:nr.QF,selector:"[ngClass]",inputs:["class","ngClass"]},{kind:"directive",type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{kind:"directive",type:nr.Qt,selector:"[ngStyle]",inputs:["ngStyle"]}],changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:Es,decorators:[{type:i.Component,args:[{selector:"popper-content",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,exportAs:"ngxPopperjsContent",template:'<div #popperViewRef\r\n     [attr.id]="id"\r\n     [class.ngxp__container]="!popperOptions.disableDefaultStyling"\r\n     [class.ngxp__animation]="!popperOptions.disableAnimation"\r\n     [style.display]="displayType"\r\n     [style.opacity]="opacity"\r\n     [ngStyle]="popperOptions.styles"\r\n     [ngClass]="extractAppliedClassListExpr(popperOptions.applyClass)"\r\n     attr.aria-hidden="{{ariaHidden}}"\r\n     [attr.aria-describedby]="popperOptions.ariaDescribe || null"\r\n     attr.role="{{popperOptions.ariaRole}}">\r\n    <div *ngIf="text"\r\n         class="ngxp__inner"\r\n         [innerHTML]="text">\r\n        <ng-content></ng-content>\r\n    </div>\r\n    <div *ngIf="!text"\r\n         class="ngxp__inner">\r\n        <ng-content></ng-content>\r\n    </div>\r\n    <div class="ngxp__arrow"\r\n         data-popper-arrow\r\n         [class.ngxp__force-arrow]="arrowColor"\r\n         [ngClass]="extractAppliedClassListExpr(popperOptions.applyArrowClass)"></div>\r\n\r\n</div>\r\n',styles:['popper-content{position:relative;display:block}.ngxp__container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.ngxp__container.ngxp__animation{animation:ngxp-fadeIn .15s ease-out}.ngxp__container>.ngxp__arrow,.ngxp__container>.ngxp__arrow:before{position:absolute;width:10px;height:10px;z-index:-1}.ngxp__container>.ngxp__arrow:before{transform:rotate(45deg);content:"";background-color:#fff;top:0;left:0}.ngxp__container[data-popper-placement^=top]>.ngxp__arrow{bottom:-4px}.ngxp__container[data-popper-placement^=bottom]>.ngxp__arrow{top:-4px}.ngxp__container[data-popper-placement^=left]>.ngxp__arrow{right:-4px}.ngxp__container[data-popper-placement^=right]>.ngxp__arrow{left:-4px}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}\n']}]}],ctorParameters:function(){return[{type:i.ElementRef},{type:i.ViewContainerRef},{type:i.ChangeDetectorRef}]},propDecorators:{popperViewRef:[{type:i.ViewChild,args:["popperViewRef",{static:!0}]}],onMouseOver:[{type:i.HostListener,args:["mouseover"]}],showOnLeave:[{type:i.HostListener,args:["mouseleave"]}]}});const Ts=new i.InjectionToken("NGX_POPPERJS_DEFAULTS");class ks{static coerceBooleanProperty(e){return null!=e&&"false"!=`${e}`}}class Ms{constructor(e,t,n,r={}){this._changeDetectorRef=e,this._elementRef=t,this._vcr=n,this._popperDefaults=r,this.hideTimeout=0,this.popperOnHidden=new i.EventEmitter,this.popperOnShown=new i.EventEmitter,this.popperOnUpdate=new i.EventEmitter,this.timeoutAfterShow=0,this._destroy$=new l.E,this._globalEventListenersCtrl$=new l.E,this._popperContentClass=Es,this._scheduledHideTimeoutCtrl$=new l.E,this._scheduledShowTimeoutCtrl$=new l.E,this._shown=!1,Ms.baseOptions={...Ms.baseOptions,...this._popperDefaults}}set applyClass(e){e!==this._applyClass&&(this._applyClass=e,this._checkExisting("applyClass",e))}get applyClass(){return this._applyClass}set content(e){e!==this._content&&(this._content=e,this._popperContent&&("string"==typeof e?this._popperContent.text=e:this._popperContent=e))}get content(){return this._content}set disabled(e){e!==this._disabled&&(this._disabled=!!e,this._shown&&this.hide())}get disabled(){return this._disabled}set placement(e){this._popperPlacement=e,this._checkExisting("placement",e)}get placement(){return this._popperPlacement}set popperApplyArrowClass(e){if(e!==this._popperApplyArrowClass&&(this._popperApplyArrowClass=e,this._popperContent)){if(this._popperContent.popperOptions.applyArrowClass=e,!this._shown)return;this._popperContent.popperInstance.setOptions(this._popperContent.popperOptions)}}get popperApplyArrowClass(){return this._popperApplyArrowClass}set preventOverflow(e){this._popperPreventOverflow=ks.coerceBooleanProperty(e),this._checkExisting("preventOverflow",this._popperPreventOverflow)}get preventOverflow(){return this._popperPreventOverflow}static assignDefined(e,...t){for(const n of t)for(const t of Object.keys(n)){const r=n[t];void 0!==r&&(e[t]=r)}return e}applyTriggerListeners(){switch(this.showTrigger){case xs.click:this._addListener("click",this.toggle.bind(this));break;case xs.mousedown:this._addListener("mousedown",this.toggle.bind(this));break;case xs.hover:this._addListener("mouseenter",this.scheduledShow.bind(this,this.showDelay)),["touchend","touchcancel","mouseleave"].forEach((e=>{this._addListener(e,this.scheduledHide.bind(this,null,this.hideTimeout))}))}this.showTrigger!==xs.hover&&this.hideOnMouseLeave&&["touchend","touchcancel","mouseleave"].forEach((e=>{this._addListener(e,this.scheduledHide.bind(this,null,this.hideTimeout))}))}getRefElement(){return this.targetElement||this._elementRef.nativeElement}hide(){this.disabled||(this._shown?(this._shown=!1,this._popperContentRef?this._popperContentRef.instance.hide():this._popperContent.hide(),this.popperOnHidden.emit(this),this._globalEventListenersCtrl$.next()):this._scheduledShowTimeoutCtrl$.next())}hideOnClickOutsideHandler(e){this.disabled||!this.hideOnClickOutside||e.target===this._popperContent.elRef.nativeElement||this._popperContent.elRef.nativeElement.contains(e.target)||this.scheduledHide(e,this.hideTimeout)}hideOnScrollHandler(e){!this.disabled&&this.hideOnScroll&&this.scheduledHide(e,this.hideTimeout)}ngOnDestroy(){this._destroy$.next(),this._popperContent&&this._popperContent.clean()}ngOnInit(){this.hideOnClickOutside=void 0===this.hideOnClickOutside?this.closeOnClickOutside:this.hideOnClickOutside,"string"==typeof this.content?(this._popperContent=this._constructContent(),this._popperContent.text=this.content):void 0===this.content?(this._popperContent=this._constructContent(),this._popperContent.text=""):this._popperContent=this.content;const e=this._popperContent;e.referenceObject=this.getRefElement(),this._setContentProperties(e),this._setDefaults(),this.applyTriggerListeners(),this.showOnStart&&this.scheduledShow()}scheduledHide(e=null,t=this.hideTimeout){this.disabled||(this._scheduledShowTimeoutCtrl$.next(),w(t).pipe((0,Is.a)(this._scheduledHideTimeoutCtrl$),(0,Is.a)(this._destroy$)).subscribe({next:()=>{const t=e?e.toElement:null,n=!!this._popperContent.popperViewRef&&this._popperContent.popperViewRef.nativeElement;!n||n===t||n.contains(t)||this.content&&this.content.isMouseOver||(this.hide(),this._applyChanges())}}))}scheduledShow(e=this.showDelay){this.disabled||(this._scheduledHideTimeoutCtrl$.next(),w(e).pipe((0,Is.a)(this._scheduledShowTimeoutCtrl$),(0,Is.a)(this._destroy$)).subscribe({next:()=>{this.show(),this._applyChanges()}}))}show(){if(this._shown)return void this._scheduledHideTimeoutCtrl$.next();this._shown=!0;const e=this._popperContent,t=this.getRefElement();e.referenceObject!==t&&(e.referenceObject=t),this._setContentProperties(e),e.show(),this.popperOnShown.emit(this),this.timeoutAfterShow>0&&this.scheduledHide(null,this.timeoutAfterShow),Cs(document,"click").pipe((0,Is.a)(this._globalEventListenersCtrl$),(0,Is.a)(this._destroy$)).subscribe({next:e=>this.hideOnClickOutsideHandler(e)}),Cs(this._getScrollParent(this.getRefElement()),"scroll").pipe((0,Is.a)(this._globalEventListenersCtrl$),(0,Is.a)(this._destroy$)).subscribe({next:e=>{this.hideOnScrollHandler(e)}})}toggle(){this.disabled||(this._shown?this.scheduledHide(null,this.hideTimeout):this.scheduledShow())}_addListener(e,t){Cs(this._elementRef.nativeElement,e).pipe((0,Is.a)(this._destroy$)).subscribe({next:t})}_applyChanges(){this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges()}_checkExisting(e,t){if(this._popperContent){if(this._popperContent.popperOptions[e]=t,!this._shown)return;this._popperContent.popperInstance.setOptions(this._popperContent.popperOptions)}}_constructContent(){return this._popperContentRef=this._vcr.createComponent(this._popperContentClass),this._popperContentRef.instance}_getScrollParent(e){const t=e instanceof HTMLElement&&window.getComputedStyle(e).overflowY;return e?"visible"!==t&&"hidden"!==t&&e.scrollHeight>e.clientHeight?e:this._getScrollParent(e.parentNode)||document:null}_onPopperUpdate(e){this.popperOnUpdate.emit(e)}_setContentProperties(e){e.popperOptions=Ms.assignDefined(e.popperOptions,Ms.baseOptions,{showDelay:this.showDelay,disableAnimation:this.disableAnimation,disableDefaultStyling:this.disableStyle,placement:this.placement,boundariesElement:this.boundariesElement,trigger:this.showTrigger,positionFixed:this.positionFixed,popperModifiers:this.popperModifiers,ariaDescribe:this.ariaDescribe,ariaRole:this.ariaRole,applyClass:this.applyClass,applyArrowClass:this.popperApplyArrowClass,hideOnMouseLeave:this.hideOnMouseLeave,styles:this.styles,appendTo:this.popperAppendTo,preventOverflow:this.preventOverflow}),e.onUpdate=this._onPopperUpdate.bind(this),e.onHidden.pipe((0,Is.a)(this._destroy$)).subscribe(this.hide.bind(this))}_setDefaults(){["showDelay","hideOnScroll","hideOnMouseLeave","hideOnClickOutside","ariaRole","ariaDescribe"].forEach((e=>{this[e]=void 0===this[e]?Ms.baseOptions[e]:this[e]})),this.showTrigger=this.showTrigger||Ms.baseOptions.trigger,this.styles=void 0===this.styles?{...Ms.baseOptions.styles}:this.styles}}Ms.baseOptions={showDelay:0,placement:Ss.AUTO,hideOnClickOutside:!0,hideOnMouseLeave:!1,hideOnScroll:!1,appendTo:void 0,ariaRole:"popper",ariaDescribe:"",styles:{},trigger:xs.click},Ms.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:Ms,deps:[{token:i.ChangeDetectorRef},{token:i.ElementRef},{token:i.ViewContainerRef},{token:Ts}],target:i["ɵɵFactoryTarget"].Directive}),Ms.ɵdir=i["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.2.9",type:Ms,selector:"[popper]",inputs:{applyClass:["popperApplyClass","applyClass"],ariaDescribe:["popperAriaDescribeBy","ariaDescribe"],ariaRole:["popperAriaRole","ariaRole"],boundariesElement:["popperBoundaries","boundariesElement"],closeOnClickOutside:["popperCloseOnClickOutside","closeOnClickOutside"],content:["popper","content"],disableAnimation:["popperDisableAnimation","disableAnimation"],disabled:["popperDisabled","disabled"],disableStyle:["popperDisableStyle","disableStyle"],hideOnClickOutside:["popperHideOnClickOutside","hideOnClickOutside"],hideOnMouseLeave:["popperHideOnMouseLeave","hideOnMouseLeave"],hideOnScroll:["popperHideOnScroll","hideOnScroll"],hideTimeout:["popperTimeout","hideTimeout"],placement:["popperPlacement","placement"],popperAppendTo:"popperAppendTo",popperApplyArrowClass:"popperApplyArrowClass",popperModifiers:"popperModifiers",positionFixed:["popperPositionFixed","positionFixed"],preventOverflow:["popperPreventOverflow","preventOverflow"],showDelay:["popperDelay","showDelay"],showOnStart:["popperShowOnStart","showOnStart"],showTrigger:["popperTrigger","showTrigger"],styles:["popperStyles","styles"],targetElement:["popperTarget","targetElement"],timeoutAfterShow:["popperTimeoutAfterShow","timeoutAfterShow"]},outputs:{popperOnHidden:"popperOnHidden",popperOnShown:"popperOnShown",popperOnUpdate:"popperOnUpdate"},exportAs:["popper"],ngImport:i}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:Ms,decorators:[{type:i.Directive,args:[{selector:"[popper]",exportAs:"popper"}]}],ctorParameters:function(){return[{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.ViewContainerRef},{type:void 0,decorators:[{type:i.Inject,args:[Ts]}]}]},propDecorators:{applyClass:[{type:i.Input,args:["popperApplyClass"]}],ariaDescribe:[{type:i.Input,args:["popperAriaDescribeBy"]}],ariaRole:[{type:i.Input,args:["popperAriaRole"]}],boundariesElement:[{type:i.Input,args:["popperBoundaries"]}],closeOnClickOutside:[{type:i.Input,args:["popperCloseOnClickOutside"]}],content:[{type:i.Input,args:["popper"]}],disableAnimation:[{type:i.Input,args:["popperDisableAnimation"]}],disabled:[{type:i.Input,args:["popperDisabled"]}],disableStyle:[{type:i.Input,args:["popperDisableStyle"]}],hideOnClickOutside:[{type:i.Input,args:["popperHideOnClickOutside"]}],hideOnMouseLeave:[{type:i.Input,args:["popperHideOnMouseLeave"]}],hideOnScroll:[{type:i.Input,args:["popperHideOnScroll"]}],hideTimeout:[{type:i.Input,args:["popperTimeout"]}],placement:[{type:i.Input,args:["popperPlacement"]}],popperAppendTo:[{type:i.Input}],popperApplyArrowClass:[{type:i.Input}],popperModifiers:[{type:i.Input}],popperOnHidden:[{type:i.Output}],popperOnShown:[{type:i.Output}],popperOnUpdate:[{type:i.Output}],positionFixed:[{type:i.Input,args:["popperPositionFixed"]}],preventOverflow:[{type:i.Input,args:["popperPreventOverflow"]}],showDelay:[{type:i.Input,args:["popperDelay"]}],showOnStart:[{type:i.Input,args:["popperShowOnStart"]}],showTrigger:[{type:i.Input,args:["popperTrigger"]}],styles:[{type:i.Input,args:["popperStyles"]}],targetElement:[{type:i.Input,args:["popperTarget"]}],timeoutAfterShow:[{type:i.Input,args:["popperTimeoutAfterShow"]}]}});class As extends Ms{constructor(e,t,n,r={}){super(e,t,n,r)}set popperLoose(e){this.content=e}set popperLoosePlacement(e){this.placement=e}set popperLooseTrigger(e){this.showTrigger=e}}function Fs(e={}){return[{provide:Ts,useValue:e}]}As.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:As,deps:[{token:i.ChangeDetectorRef},{token:i.ElementRef},{token:i.ViewContainerRef},{token:Ts}],target:i["ɵɵFactoryTarget"].Directive}),As.ɵdir=i["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.2.9",type:As,selector:"[popperLoose]",inputs:{popperLoose:"popperLoose",popperLoosePlacement:"popperLoosePlacement",popperLooseTrigger:"popperLooseTrigger"},exportAs:["popperLoose"],usesInheritance:!0,ngImport:i}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:As,decorators:[{type:i.Directive,args:[{selector:"[popperLoose]",exportAs:"popperLoose"}]}],ctorParameters:function(){return[{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.ViewContainerRef},{type:void 0,decorators:[{type:i.Inject,args:[Ts]}]}]},propDecorators:{popperLoose:[{type:i.Input}],popperLoosePlacement:[{type:i.Input}],popperLooseTrigger:[{type:i.Input}]}});class Os{static forRoot(e){return{ngModule:Os,providers:[Fs(e)]}}}Os.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:Os,deps:[],target:i["ɵɵFactoryTarget"].NgModule}),Os.ɵmod=i["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.2.9",ngImport:i,type:Os,declarations:[Es,Ms,As],imports:[nr.MD],exports:[Es,Ms,As]}),Os.ɵinj=i["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:Os,providers:[Fs()],imports:[nr.MD]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.2.9",ngImport:i,type:Os,decorators:[{type:i.NgModule,args:[{imports:[nr.MD],declarations:[Es,Ms,As],exports:[Es,Ms,As],providers:[Fs()]}]}]});var Rs=n(2264),Ps=n.n(Rs),Ls=n(8256),js=n.n(Ls),Ns=n(7336),Us=n.n(Ns),Vs=n(3072);function $s(){return $s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}var Bs=/[|\\{}()[\]^$+*?.]/g,Hs=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(Bs,"\\$&")};const qs=[["ß","ss"],["ẞ","Ss"],["ä","ae"],["Ä","Ae"],["ö","oe"],["Ö","Oe"],["ü","ue"],["Ü","Ue"],["À","A"],["Á","A"],["Â","A"],["Ã","A"],["Ä","Ae"],["Å","A"],["Æ","AE"],["Ç","C"],["È","E"],["É","E"],["Ê","E"],["Ë","E"],["Ì","I"],["Í","I"],["Î","I"],["Ï","I"],["Ð","D"],["Ñ","N"],["Ò","O"],["Ó","O"],["Ô","O"],["Õ","O"],["Ö","Oe"],["Ő","O"],["Ø","O"],["Ù","U"],["Ú","U"],["Û","U"],["Ü","Ue"],["Ű","U"],["Ý","Y"],["Þ","TH"],["ß","ss"],["à","a"],["á","a"],["â","a"],["ã","a"],["ä","ae"],["å","a"],["æ","ae"],["ç","c"],["è","e"],["é","e"],["ê","e"],["ë","e"],["ì","i"],["í","i"],["î","i"],["ï","i"],["ð","d"],["ñ","n"],["ò","o"],["ó","o"],["ô","o"],["õ","o"],["ö","oe"],["ő","o"],["ø","o"],["ù","u"],["ú","u"],["û","u"],["ü","ue"],["ű","u"],["ý","y"],["þ","th"],["ÿ","y"],["ẞ","SS"],["à","a"],["À","A"],["á","a"],["Á","A"],["â","a"],["Â","A"],["ã","a"],["Ã","A"],["è","e"],["È","E"],["é","e"],["É","E"],["ê","e"],["Ê","E"],["ì","i"],["Ì","I"],["í","i"],["Í","I"],["ò","o"],["Ò","O"],["ó","o"],["Ó","O"],["ô","o"],["Ô","O"],["õ","o"],["Õ","O"],["ù","u"],["Ù","U"],["ú","u"],["Ú","U"],["ý","y"],["Ý","Y"],["ă","a"],["Ă","A"],["Đ","D"],["đ","d"],["ĩ","i"],["Ĩ","I"],["ũ","u"],["Ũ","U"],["ơ","o"],["Ơ","O"],["ư","u"],["Ư","U"],["ạ","a"],["Ạ","A"],["ả","a"],["Ả","A"],["ấ","a"],["Ấ","A"],["ầ","a"],["Ầ","A"],["ẩ","a"],["Ẩ","A"],["ẫ","a"],["Ẫ","A"],["ậ","a"],["Ậ","A"],["ắ","a"],["Ắ","A"],["ằ","a"],["Ằ","A"],["ẳ","a"],["Ẳ","A"],["ẵ","a"],["Ẵ","A"],["ặ","a"],["Ặ","A"],["ẹ","e"],["Ẹ","E"],["ẻ","e"],["Ẻ","E"],["ẽ","e"],["Ẽ","E"],["ế","e"],["Ế","E"],["ề","e"],["Ề","E"],["ể","e"],["Ể","E"],["ễ","e"],["Ễ","E"],["ệ","e"],["Ệ","E"],["ỉ","i"],["Ỉ","I"],["ị","i"],["Ị","I"],["ọ","o"],["Ọ","O"],["ỏ","o"],["Ỏ","O"],["ố","o"],["Ố","O"],["ồ","o"],["Ồ","O"],["ổ","o"],["Ổ","O"],["ỗ","o"],["Ỗ","O"],["ộ","o"],["Ộ","O"],["ớ","o"],["Ớ","O"],["ờ","o"],["Ờ","O"],["ở","o"],["Ở","O"],["ỡ","o"],["Ỡ","O"],["ợ","o"],["Ợ","O"],["ụ","u"],["Ụ","U"],["ủ","u"],["Ủ","U"],["ứ","u"],["Ứ","U"],["ừ","u"],["Ừ","U"],["ử","u"],["Ử","U"],["ữ","u"],["Ữ","U"],["ự","u"],["Ự","U"],["ỳ","y"],["Ỳ","Y"],["ỵ","y"],["Ỵ","Y"],["ỷ","y"],["Ỷ","Y"],["ỹ","y"],["Ỹ","Y"],["ء","e"],["آ","a"],["أ","a"],["ؤ","w"],["إ","i"],["ئ","y"],["ا","a"],["ب","b"],["ة","t"],["ت","t"],["ث","th"],["ج","j"],["ح","h"],["خ","kh"],["د","d"],["ذ","dh"],["ر","r"],["ز","z"],["س","s"],["ش","sh"],["ص","s"],["ض","d"],["ط","t"],["ظ","z"],["ع","e"],["غ","gh"],["ـ","_"],["ف","f"],["ق","q"],["ك","k"],["ل","l"],["م","m"],["ن","n"],["ه","h"],["و","w"],["ى","a"],["ي","y"],["َ‎","a"],["ُ","u"],["ِ‎","i"],["٠","0"],["١","1"],["٢","2"],["٣","3"],["٤","4"],["٥","5"],["٦","6"],["٧","7"],["٨","8"],["٩","9"],["چ","ch"],["ک","k"],["گ","g"],["پ","p"],["ژ","zh"],["ی","y"],["۰","0"],["۱","1"],["۲","2"],["۳","3"],["۴","4"],["۵","5"],["۶","6"],["۷","7"],["۸","8"],["۹","9"],["ټ","p"],["ځ","z"],["څ","c"],["ډ","d"],["ﺫ","d"],["ﺭ","r"],["ړ","r"],["ﺯ","z"],["ږ","g"],["ښ","x"],["ګ","g"],["ڼ","n"],["ۀ","e"],["ې","e"],["ۍ","ai"],["ٹ","t"],["ڈ","d"],["ڑ","r"],["ں","n"],["ہ","h"],["ھ","h"],["ے","e"],["А","A"],["а","a"],["Б","B"],["б","b"],["В","V"],["в","v"],["Г","G"],["г","g"],["Д","D"],["д","d"],["ъе","ye"],["Ъе","Ye"],["ъЕ","yE"],["ЪЕ","YE"],["Е","E"],["е","e"],["Ё","Yo"],["ё","yo"],["Ж","Zh"],["ж","zh"],["З","Z"],["з","z"],["И","I"],["и","i"],["ый","iy"],["Ый","Iy"],["ЫЙ","IY"],["ыЙ","iY"],["Й","Y"],["й","y"],["К","K"],["к","k"],["Л","L"],["л","l"],["М","M"],["м","m"],["Н","N"],["н","n"],["О","O"],["о","o"],["П","P"],["п","p"],["Р","R"],["р","r"],["С","S"],["с","s"],["Т","T"],["т","t"],["У","U"],["у","u"],["Ф","F"],["ф","f"],["Х","Kh"],["х","kh"],["Ц","Ts"],["ц","ts"],["Ч","Ch"],["ч","ch"],["Ш","Sh"],["ш","sh"],["Щ","Sch"],["щ","sch"],["Ъ",""],["ъ",""],["Ы","Y"],["ы","y"],["Ь",""],["ь",""],["Э","E"],["э","e"],["Ю","Yu"],["ю","yu"],["Я","Ya"],["я","ya"],["ă","a"],["Ă","A"],["ș","s"],["Ș","S"],["ț","t"],["Ț","T"],["ţ","t"],["Ţ","T"],["ş","s"],["Ş","S"],["ç","c"],["Ç","C"],["ğ","g"],["Ğ","G"],["ı","i"],["İ","I"],["ա","a"],["Ա","A"],["բ","b"],["Բ","B"],["գ","g"],["Գ","G"],["դ","d"],["Դ","D"],["ե","ye"],["Ե","Ye"],["զ","z"],["Զ","Z"],["է","e"],["Է","E"],["ը","y"],["Ը","Y"],["թ","t"],["Թ","T"],["ժ","zh"],["Ժ","Zh"],["ի","i"],["Ի","I"],["լ","l"],["Լ","L"],["խ","kh"],["Խ","Kh"],["ծ","ts"],["Ծ","Ts"],["կ","k"],["Կ","K"],["հ","h"],["Հ","H"],["ձ","dz"],["Ձ","Dz"],["ղ","gh"],["Ղ","Gh"],["ճ","tch"],["Ճ","Tch"],["մ","m"],["Մ","M"],["յ","y"],["Յ","Y"],["ն","n"],["Ն","N"],["շ","sh"],["Շ","Sh"],["ո","vo"],["Ո","Vo"],["չ","ch"],["Չ","Ch"],["պ","p"],["Պ","P"],["ջ","j"],["Ջ","J"],["ռ","r"],["Ռ","R"],["ս","s"],["Ս","S"],["վ","v"],["Վ","V"],["տ","t"],["Տ","T"],["ր","r"],["Ր","R"],["ց","c"],["Ց","C"],["ու","u"],["ՈՒ","U"],["Ու","U"],["փ","p"],["Փ","P"],["ք","q"],["Ք","Q"],["օ","o"],["Օ","O"],["ֆ","f"],["Ֆ","F"],["և","yev"],["ა","a"],["ბ","b"],["გ","g"],["დ","d"],["ე","e"],["ვ","v"],["ზ","z"],["თ","t"],["ი","i"],["კ","k"],["ლ","l"],["მ","m"],["ნ","n"],["ო","o"],["პ","p"],["ჟ","zh"],["რ","r"],["ს","s"],["ტ","t"],["უ","u"],["ფ","ph"],["ქ","q"],["ღ","gh"],["ყ","k"],["შ","sh"],["ჩ","ch"],["ც","ts"],["ძ","dz"],["წ","ts"],["ჭ","tch"],["ხ","kh"],["ჯ","j"],["ჰ","h"],["č","c"],["ď","d"],["ě","e"],["ň","n"],["ř","r"],["š","s"],["ť","t"],["ů","u"],["ž","z"],["Č","C"],["Ď","D"],["Ě","E"],["Ň","N"],["Ř","R"],["Š","S"],["Ť","T"],["Ů","U"],["Ž","Z"],["ހ","h"],["ށ","sh"],["ނ","n"],["ރ","r"],["ބ","b"],["ޅ","lh"],["ކ","k"],["އ","a"],["ވ","v"],["މ","m"],["ފ","f"],["ދ","dh"],["ތ","th"],["ލ","l"],["ގ","g"],["ޏ","gn"],["ސ","s"],["ޑ","d"],["ޒ","z"],["ޓ","t"],["ޔ","y"],["ޕ","p"],["ޖ","j"],["ޗ","ch"],["ޘ","tt"],["ޙ","hh"],["ޚ","kh"],["ޛ","th"],["ޜ","z"],["ޝ","sh"],["ޞ","s"],["ޟ","d"],["ޠ","t"],["ޡ","z"],["ޢ","a"],["ޣ","gh"],["ޤ","q"],["ޥ","w"],["ަ","a"],["ާ","aa"],["ި","i"],["ީ","ee"],["ު","u"],["ޫ","oo"],["ެ","e"],["ޭ","ey"],["ޮ","o"],["ޯ","oa"],["ް",""],["α","a"],["β","v"],["γ","g"],["δ","d"],["ε","e"],["ζ","z"],["η","i"],["θ","th"],["ι","i"],["κ","k"],["λ","l"],["μ","m"],["ν","n"],["ξ","ks"],["ο","o"],["π","p"],["ρ","r"],["σ","s"],["τ","t"],["υ","y"],["φ","f"],["χ","x"],["ψ","ps"],["ω","o"],["ά","a"],["έ","e"],["ί","i"],["ό","o"],["ύ","y"],["ή","i"],["ώ","o"],["ς","s"],["ϊ","i"],["ΰ","y"],["ϋ","y"],["ΐ","i"],["Α","A"],["Β","B"],["Γ","G"],["Δ","D"],["Ε","E"],["Ζ","Z"],["Η","I"],["Θ","TH"],["Ι","I"],["Κ","K"],["Λ","L"],["Μ","M"],["Ν","N"],["Ξ","KS"],["Ο","O"],["Π","P"],["Ρ","R"],["Σ","S"],["Τ","T"],["Υ","Y"],["Φ","F"],["Χ","X"],["Ψ","PS"],["Ω","O"],["Ά","A"],["Έ","E"],["Ί","I"],["Ό","O"],["Ύ","Y"],["Ή","I"],["Ώ","O"],["Ϊ","I"],["Ϋ","Y"],["ā","a"],["ē","e"],["ģ","g"],["ī","i"],["ķ","k"],["ļ","l"],["ņ","n"],["ū","u"],["Ā","A"],["Ē","E"],["Ģ","G"],["Ī","I"],["Ķ","K"],["Ļ","L"],["Ņ","N"],["Ū","U"],["č","c"],["š","s"],["ž","z"],["Č","C"],["Š","S"],["Ž","Z"],["ą","a"],["č","c"],["ę","e"],["ė","e"],["į","i"],["š","s"],["ų","u"],["ū","u"],["ž","z"],["Ą","A"],["Č","C"],["Ę","E"],["Ė","E"],["Į","I"],["Š","S"],["Ų","U"],["Ū","U"],["Ќ","Kj"],["ќ","kj"],["Љ","Lj"],["љ","lj"],["Њ","Nj"],["њ","nj"],["Тс","Ts"],["тс","ts"],["ą","a"],["ć","c"],["ę","e"],["ł","l"],["ń","n"],["ś","s"],["ź","z"],["ż","z"],["Ą","A"],["Ć","C"],["Ę","E"],["Ł","L"],["Ń","N"],["Ś","S"],["Ź","Z"],["Ż","Z"],["Є","Ye"],["І","I"],["Ї","Yi"],["Ґ","G"],["є","ye"],["і","i"],["ї","yi"],["ґ","g"],["Ĳ","IJ"],["ĳ","ij"],["¢","c"],["¥","Y"],["߿","b"],["৳","t"],["૱","Bo"],["฿","B"],["₠","CE"],["₡","C"],["₢","Cr"],["₣","F"],["₥","m"],["₦","N"],["₧","Pt"],["₨","Rs"],["₩","W"],["₫","s"],["€","E"],["₭","K"],["₮","T"],["₯","Dp"],["₰","S"],["₱","P"],["₲","G"],["₳","A"],["₴","S"],["₵","C"],["₶","tt"],["₷","S"],["₸","T"],["₹","R"],["₺","L"],["₽","P"],["₿","B"],["﹩","$"],["￠","c"],["￥","Y"],["￦","W"],["𝐀","A"],["𝐁","B"],["𝐂","C"],["𝐃","D"],["𝐄","E"],["𝐅","F"],["𝐆","G"],["𝐇","H"],["𝐈","I"],["𝐉","J"],["𝐊","K"],["𝐋","L"],["𝐌","M"],["𝐍","N"],["𝐎","O"],["𝐏","P"],["𝐐","Q"],["𝐑","R"],["𝐒","S"],["𝐓","T"],["𝐔","U"],["𝐕","V"],["𝐖","W"],["𝐗","X"],["𝐘","Y"],["𝐙","Z"],["𝐚","a"],["𝐛","b"],["𝐜","c"],["𝐝","d"],["𝐞","e"],["𝐟","f"],["𝐠","g"],["𝐡","h"],["𝐢","i"],["𝐣","j"],["𝐤","k"],["𝐥","l"],["𝐦","m"],["𝐧","n"],["𝐨","o"],["𝐩","p"],["𝐪","q"],["𝐫","r"],["𝐬","s"],["𝐭","t"],["𝐮","u"],["𝐯","v"],["𝐰","w"],["𝐱","x"],["𝐲","y"],["𝐳","z"],["𝐴","A"],["𝐵","B"],["𝐶","C"],["𝐷","D"],["𝐸","E"],["𝐹","F"],["𝐺","G"],["𝐻","H"],["𝐼","I"],["𝐽","J"],["𝐾","K"],["𝐿","L"],["𝑀","M"],["𝑁","N"],["𝑂","O"],["𝑃","P"],["𝑄","Q"],["𝑅","R"],["𝑆","S"],["𝑇","T"],["𝑈","U"],["𝑉","V"],["𝑊","W"],["𝑋","X"],["𝑌","Y"],["𝑍","Z"],["𝑎","a"],["𝑏","b"],["𝑐","c"],["𝑑","d"],["𝑒","e"],["𝑓","f"],["𝑔","g"],["𝑖","i"],["𝑗","j"],["𝑘","k"],["𝑙","l"],["𝑚","m"],["𝑛","n"],["𝑜","o"],["𝑝","p"],["𝑞","q"],["𝑟","r"],["𝑠","s"],["𝑡","t"],["𝑢","u"],["𝑣","v"],["𝑤","w"],["𝑥","x"],["𝑦","y"],["𝑧","z"],["𝑨","A"],["𝑩","B"],["𝑪","C"],["𝑫","D"],["𝑬","E"],["𝑭","F"],["𝑮","G"],["𝑯","H"],["𝑰","I"],["𝑱","J"],["𝑲","K"],["𝑳","L"],["𝑴","M"],["𝑵","N"],["𝑶","O"],["𝑷","P"],["𝑸","Q"],["𝑹","R"],["𝑺","S"],["𝑻","T"],["𝑼","U"],["𝑽","V"],["𝑾","W"],["𝑿","X"],["𝒀","Y"],["𝒁","Z"],["𝒂","a"],["𝒃","b"],["𝒄","c"],["𝒅","d"],["𝒆","e"],["𝒇","f"],["𝒈","g"],["𝒉","h"],["𝒊","i"],["𝒋","j"],["𝒌","k"],["𝒍","l"],["𝒎","m"],["𝒏","n"],["𝒐","o"],["𝒑","p"],["𝒒","q"],["𝒓","r"],["𝒔","s"],["𝒕","t"],["𝒖","u"],["𝒗","v"],["𝒘","w"],["𝒙","x"],["𝒚","y"],["𝒛","z"],["𝒜","A"],["𝒞","C"],["𝒟","D"],["𝒢","g"],["𝒥","J"],["𝒦","K"],["𝒩","N"],["𝒪","O"],["𝒫","P"],["𝒬","Q"],["𝒮","S"],["𝒯","T"],["𝒰","U"],["𝒱","V"],["𝒲","W"],["𝒳","X"],["𝒴","Y"],["𝒵","Z"],["𝒶","a"],["𝒷","b"],["𝒸","c"],["𝒹","d"],["𝒻","f"],["𝒽","h"],["𝒾","i"],["𝒿","j"],["𝓀","h"],["𝓁","l"],["𝓂","m"],["𝓃","n"],["𝓅","p"],["𝓆","q"],["𝓇","r"],["𝓈","s"],["𝓉","t"],["𝓊","u"],["𝓋","v"],["𝓌","w"],["𝓍","x"],["𝓎","y"],["𝓏","z"],["𝓐","A"],["𝓑","B"],["𝓒","C"],["𝓓","D"],["𝓔","E"],["𝓕","F"],["𝓖","G"],["𝓗","H"],["𝓘","I"],["𝓙","J"],["𝓚","K"],["𝓛","L"],["𝓜","M"],["𝓝","N"],["𝓞","O"],["𝓟","P"],["𝓠","Q"],["𝓡","R"],["𝓢","S"],["𝓣","T"],["𝓤","U"],["𝓥","V"],["𝓦","W"],["𝓧","X"],["𝓨","Y"],["𝓩","Z"],["𝓪","a"],["𝓫","b"],["𝓬","c"],["𝓭","d"],["𝓮","e"],["𝓯","f"],["𝓰","g"],["𝓱","h"],["𝓲","i"],["𝓳","j"],["𝓴","k"],["𝓵","l"],["𝓶","m"],["𝓷","n"],["𝓸","o"],["𝓹","p"],["𝓺","q"],["𝓻","r"],["𝓼","s"],["𝓽","t"],["𝓾","u"],["𝓿","v"],["𝔀","w"],["𝔁","x"],["𝔂","y"],["𝔃","z"],["𝔄","A"],["𝔅","B"],["𝔇","D"],["𝔈","E"],["𝔉","F"],["𝔊","G"],["𝔍","J"],["𝔎","K"],["𝔏","L"],["𝔐","M"],["𝔑","N"],["𝔒","O"],["𝔓","P"],["𝔔","Q"],["𝔖","S"],["𝔗","T"],["𝔘","U"],["𝔙","V"],["𝔚","W"],["𝔛","X"],["𝔜","Y"],["𝔞","a"],["𝔟","b"],["𝔠","c"],["𝔡","d"],["𝔢","e"],["𝔣","f"],["𝔤","g"],["𝔥","h"],["𝔦","i"],["𝔧","j"],["𝔨","k"],["𝔩","l"],["𝔪","m"],["𝔫","n"],["𝔬","o"],["𝔭","p"],["𝔮","q"],["𝔯","r"],["𝔰","s"],["𝔱","t"],["𝔲","u"],["𝔳","v"],["𝔴","w"],["𝔵","x"],["𝔶","y"],["𝔷","z"],["𝔸","A"],["𝔹","B"],["𝔻","D"],["𝔼","E"],["𝔽","F"],["𝔾","G"],["𝕀","I"],["𝕁","J"],["𝕂","K"],["𝕃","L"],["𝕄","M"],["𝕆","N"],["𝕊","S"],["𝕋","T"],["𝕌","U"],["𝕍","V"],["𝕎","W"],["𝕏","X"],["𝕐","Y"],["𝕒","a"],["𝕓","b"],["𝕔","c"],["𝕕","d"],["𝕖","e"],["𝕗","f"],["𝕘","g"],["𝕙","h"],["𝕚","i"],["𝕛","j"],["𝕜","k"],["𝕝","l"],["𝕞","m"],["𝕟","n"],["𝕠","o"],["𝕡","p"],["𝕢","q"],["𝕣","r"],["𝕤","s"],["𝕥","t"],["𝕦","u"],["𝕧","v"],["𝕨","w"],["𝕩","x"],["𝕪","y"],["𝕫","z"],["𝕬","A"],["𝕭","B"],["𝕮","C"],["𝕯","D"],["𝕰","E"],["𝕱","F"],["𝕲","G"],["𝕳","H"],["𝕴","I"],["𝕵","J"],["𝕶","K"],["𝕷","L"],["𝕸","M"],["𝕹","N"],["𝕺","O"],["𝕻","P"],["𝕼","Q"],["𝕽","R"],["𝕾","S"],["𝕿","T"],["𝖀","U"],["𝖁","V"],["𝖂","W"],["𝖃","X"],["𝖄","Y"],["𝖅","Z"],["𝖆","a"],["𝖇","b"],["𝖈","c"],["𝖉","d"],["𝖊","e"],["𝖋","f"],["𝖌","g"],["𝖍","h"],["𝖎","i"],["𝖏","j"],["𝖐","k"],["𝖑","l"],["𝖒","m"],["𝖓","n"],["𝖔","o"],["𝖕","p"],["𝖖","q"],["𝖗","r"],["𝖘","s"],["𝖙","t"],["𝖚","u"],["𝖛","v"],["𝖜","w"],["𝖝","x"],["𝖞","y"],["𝖟","z"],["𝖠","A"],["𝖡","B"],["𝖢","C"],["𝖣","D"],["𝖤","E"],["𝖥","F"],["𝖦","G"],["𝖧","H"],["𝖨","I"],["𝖩","J"],["𝖪","K"],["𝖫","L"],["𝖬","M"],["𝖭","N"],["𝖮","O"],["𝖯","P"],["𝖰","Q"],["𝖱","R"],["𝖲","S"],["𝖳","T"],["𝖴","U"],["𝖵","V"],["𝖶","W"],["𝖷","X"],["𝖸","Y"],["𝖹","Z"],["𝖺","a"],["𝖻","b"],["𝖼","c"],["𝖽","d"],["𝖾","e"],["𝖿","f"],["𝗀","g"],["𝗁","h"],["𝗂","i"],["𝗃","j"],["𝗄","k"],["𝗅","l"],["𝗆","m"],["𝗇","n"],["𝗈","o"],["𝗉","p"],["𝗊","q"],["𝗋","r"],["𝗌","s"],["𝗍","t"],["𝗎","u"],["𝗏","v"],["𝗐","w"],["𝗑","x"],["𝗒","y"],["𝗓","z"],["𝗔","A"],["𝗕","B"],["𝗖","C"],["𝗗","D"],["𝗘","E"],["𝗙","F"],["𝗚","G"],["𝗛","H"],["𝗜","I"],["𝗝","J"],["𝗞","K"],["𝗟","L"],["𝗠","M"],["𝗡","N"],["𝗢","O"],["𝗣","P"],["𝗤","Q"],["𝗥","R"],["𝗦","S"],["𝗧","T"],["𝗨","U"],["𝗩","V"],["𝗪","W"],["𝗫","X"],["𝗬","Y"],["𝗭","Z"],["𝗮","a"],["𝗯","b"],["𝗰","c"],["𝗱","d"],["𝗲","e"],["𝗳","f"],["𝗴","g"],["𝗵","h"],["𝗶","i"],["𝗷","j"],["𝗸","k"],["𝗹","l"],["𝗺","m"],["𝗻","n"],["𝗼","o"],["𝗽","p"],["𝗾","q"],["𝗿","r"],["𝘀","s"],["𝘁","t"],["𝘂","u"],["𝘃","v"],["𝘄","w"],["𝘅","x"],["𝘆","y"],["𝘇","z"],["𝘈","A"],["𝘉","B"],["𝘊","C"],["𝘋","D"],["𝘌","E"],["𝘍","F"],["𝘎","G"],["𝘏","H"],["𝘐","I"],["𝘑","J"],["𝘒","K"],["𝘓","L"],["𝘔","M"],["𝘕","N"],["𝘖","O"],["𝘗","P"],["𝘘","Q"],["𝘙","R"],["𝘚","S"],["𝘛","T"],["𝘜","U"],["𝘝","V"],["𝘞","W"],["𝘟","X"],["𝘠","Y"],["𝘡","Z"],["𝘢","a"],["𝘣","b"],["𝘤","c"],["𝘥","d"],["𝘦","e"],["𝘧","f"],["𝘨","g"],["𝘩","h"],["𝘪","i"],["𝘫","j"],["𝘬","k"],["𝘭","l"],["𝘮","m"],["𝘯","n"],["𝘰","o"],["𝘱","p"],["𝘲","q"],["𝘳","r"],["𝘴","s"],["𝘵","t"],["𝘶","u"],["𝘷","v"],["𝘸","w"],["𝘹","x"],["𝘺","y"],["𝘻","z"],["𝘼","A"],["𝘽","B"],["𝘾","C"],["𝘿","D"],["𝙀","E"],["𝙁","F"],["𝙂","G"],["𝙃","H"],["𝙄","I"],["𝙅","J"],["𝙆","K"],["𝙇","L"],["𝙈","M"],["𝙉","N"],["𝙊","O"],["𝙋","P"],["𝙌","Q"],["𝙍","R"],["𝙎","S"],["𝙏","T"],["𝙐","U"],["𝙑","V"],["𝙒","W"],["𝙓","X"],["𝙔","Y"],["𝙕","Z"],["𝙖","a"],["𝙗","b"],["𝙘","c"],["𝙙","d"],["𝙚","e"],["𝙛","f"],["𝙜","g"],["𝙝","h"],["𝙞","i"],["𝙟","j"],["𝙠","k"],["𝙡","l"],["𝙢","m"],["𝙣","n"],["𝙤","o"],["𝙥","p"],["𝙦","q"],["𝙧","r"],["𝙨","s"],["𝙩","t"],["𝙪","u"],["𝙫","v"],["𝙬","w"],["𝙭","x"],["𝙮","y"],["𝙯","z"],["𝙰","A"],["𝙱","B"],["𝙲","C"],["𝙳","D"],["𝙴","E"],["𝙵","F"],["𝙶","G"],["𝙷","H"],["𝙸","I"],["𝙹","J"],["𝙺","K"],["𝙻","L"],["𝙼","M"],["𝙽","N"],["𝙾","O"],["𝙿","P"],["𝚀","Q"],["𝚁","R"],["𝚂","S"],["𝚃","T"],["𝚄","U"],["𝚅","V"],["𝚆","W"],["𝚇","X"],["𝚈","Y"],["𝚉","Z"],["𝚊","a"],["𝚋","b"],["𝚌","c"],["𝚍","d"],["𝚎","e"],["𝚏","f"],["𝚐","g"],["𝚑","h"],["𝚒","i"],["𝚓","j"],["𝚔","k"],["𝚕","l"],["𝚖","m"],["𝚗","n"],["𝚘","o"],["𝚙","p"],["𝚚","q"],["𝚛","r"],["𝚜","s"],["𝚝","t"],["𝚞","u"],["𝚟","v"],["𝚠","w"],["𝚡","x"],["𝚢","y"],["𝚣","z"],["𝚤","l"],["𝚥","j"],["𝛢","A"],["𝛣","B"],["𝛤","G"],["𝛥","D"],["𝛦","E"],["𝛧","Z"],["𝛨","I"],["𝛩","TH"],["𝛪","I"],["𝛫","K"],["𝛬","L"],["𝛭","M"],["𝛮","N"],["𝛯","KS"],["𝛰","O"],["𝛱","P"],["𝛲","R"],["𝛳","TH"],["𝛴","S"],["𝛵","T"],["𝛶","Y"],["𝛷","F"],["𝛸","x"],["𝛹","PS"],["𝛺","O"],["𝛻","D"],["𝛼","a"],["𝛽","b"],["𝛾","g"],["𝛿","d"],["𝜀","e"],["𝜁","z"],["𝜂","i"],["𝜃","th"],["𝜄","i"],["𝜅","k"],["𝜆","l"],["𝜇","m"],["𝜈","n"],["𝜉","ks"],["𝜊","o"],["𝜋","p"],["𝜌","r"],["𝜍","s"],["𝜎","s"],["𝜏","t"],["𝜐","y"],["𝜑","f"],["𝜒","x"],["𝜓","ps"],["𝜔","o"],["𝜕","d"],["𝜖","E"],["𝜗","TH"],["𝜘","K"],["𝜙","f"],["𝜚","r"],["𝜛","p"],["𝜜","A"],["𝜝","V"],["𝜞","G"],["𝜟","D"],["𝜠","E"],["𝜡","Z"],["𝜢","I"],["𝜣","TH"],["𝜤","I"],["𝜥","K"],["𝜦","L"],["𝜧","M"],["𝜨","N"],["𝜩","KS"],["𝜪","O"],["𝜫","P"],["𝜬","S"],["𝜭","TH"],["𝜮","S"],["𝜯","T"],["𝜰","Y"],["𝜱","F"],["𝜲","X"],["𝜳","PS"],["𝜴","O"],["𝜵","D"],["𝜶","a"],["𝜷","v"],["𝜸","g"],["𝜹","d"],["𝜺","e"],["𝜻","z"],["𝜼","i"],["𝜽","th"],["𝜾","i"],["𝜿","k"],["𝝀","l"],["𝝁","m"],["𝝂","n"],["𝝃","ks"],["𝝄","o"],["𝝅","p"],["𝝆","r"],["𝝇","s"],["𝝈","s"],["𝝉","t"],["𝝊","y"],["𝝋","f"],["𝝌","x"],["𝝍","ps"],["𝝎","o"],["𝝏","a"],["𝝐","e"],["𝝑","i"],["𝝒","k"],["𝝓","f"],["𝝔","r"],["𝝕","p"],["𝝖","A"],["𝝗","B"],["𝝘","G"],["𝝙","D"],["𝝚","E"],["𝝛","Z"],["𝝜","I"],["𝝝","TH"],["𝝞","I"],["𝝟","K"],["𝝠","L"],["𝝡","M"],["𝝢","N"],["𝝣","KS"],["𝝤","O"],["𝝥","P"],["𝝦","R"],["𝝧","TH"],["𝝨","S"],["𝝩","T"],["𝝪","Y"],["𝝫","F"],["𝝬","X"],["𝝭","PS"],["𝝮","O"],["𝝯","D"],["𝝰","a"],["𝝱","v"],["𝝲","g"],["𝝳","d"],["𝝴","e"],["𝝵","z"],["𝝶","i"],["𝝷","th"],["𝝸","i"],["𝝹","k"],["𝝺","l"],["𝝻","m"],["𝝼","n"],["𝝽","ks"],["𝝾","o"],["𝝿","p"],["𝞀","r"],["𝞁","s"],["𝞂","s"],["𝞃","t"],["𝞄","y"],["𝞅","f"],["𝞆","x"],["𝞇","ps"],["𝞈","o"],["𝞉","a"],["𝞊","e"],["𝞋","i"],["𝞌","k"],["𝞍","f"],["𝞎","r"],["𝞏","p"],["𝞐","A"],["𝞑","V"],["𝞒","G"],["𝞓","D"],["𝞔","E"],["𝞕","Z"],["𝞖","I"],["𝞗","TH"],["𝞘","I"],["𝞙","K"],["𝞚","L"],["𝞛","M"],["𝞜","N"],["𝞝","KS"],["𝞞","O"],["𝞟","P"],["𝞠","S"],["𝞡","TH"],["𝞢","S"],["𝞣","T"],["𝞤","Y"],["𝞥","F"],["𝞦","X"],["𝞧","PS"],["𝞨","O"],["𝞩","D"],["𝞪","av"],["𝞫","g"],["𝞬","d"],["𝞭","e"],["𝞮","z"],["𝞯","i"],["𝞰","i"],["𝞱","th"],["𝞲","i"],["𝞳","k"],["𝞴","l"],["𝞵","m"],["𝞶","n"],["𝞷","ks"],["𝞸","o"],["𝞹","p"],["𝞺","r"],["𝞻","s"],["𝞼","s"],["𝞽","t"],["𝞾","y"],["𝞿","f"],["𝟀","x"],["𝟁","ps"],["𝟂","o"],["𝟃","a"],["𝟄","e"],["𝟅","i"],["𝟆","k"],["𝟇","f"],["𝟈","r"],["𝟉","p"],["𝟊","F"],["𝟋","f"],["⒜","(a)"],["⒝","(b)"],["⒞","(c)"],["⒟","(d)"],["⒠","(e)"],["⒡","(f)"],["⒢","(g)"],["⒣","(h)"],["⒤","(i)"],["⒥","(j)"],["⒦","(k)"],["⒧","(l)"],["⒨","(m)"],["⒩","(n)"],["⒪","(o)"],["⒫","(p)"],["⒬","(q)"],["⒭","(r)"],["⒮","(s)"],["⒯","(t)"],["⒰","(u)"],["⒱","(v)"],["⒲","(w)"],["⒳","(x)"],["⒴","(y)"],["⒵","(z)"],["Ⓐ","(A)"],["Ⓑ","(B)"],["Ⓒ","(C)"],["Ⓓ","(D)"],["Ⓔ","(E)"],["Ⓕ","(F)"],["Ⓖ","(G)"],["Ⓗ","(H)"],["Ⓘ","(I)"],["Ⓙ","(J)"],["Ⓚ","(K)"],["Ⓛ","(L)"],["Ⓝ","(N)"],["Ⓞ","(O)"],["Ⓟ","(P)"],["Ⓠ","(Q)"],["Ⓡ","(R)"],["Ⓢ","(S)"],["Ⓣ","(T)"],["Ⓤ","(U)"],["Ⓥ","(V)"],["Ⓦ","(W)"],["Ⓧ","(X)"],["Ⓨ","(Y)"],["Ⓩ","(Z)"],["ⓐ","(a)"],["ⓑ","(b)"],["ⓒ","(b)"],["ⓓ","(c)"],["ⓔ","(e)"],["ⓕ","(f)"],["ⓖ","(g)"],["ⓗ","(h)"],["ⓘ","(i)"],["ⓙ","(j)"],["ⓚ","(k)"],["ⓛ","(l)"],["ⓜ","(m)"],["ⓝ","(n)"],["ⓞ","(o)"],["ⓟ","(p)"],["ⓠ","(q)"],["ⓡ","(r)"],["ⓢ","(s)"],["ⓣ","(t)"],["ⓤ","(u)"],["ⓥ","(v)"],["ⓦ","(w)"],["ⓧ","(x)"],["ⓨ","(y)"],["ⓩ","(z)"],["Ċ","C"],["ċ","c"],["Ġ","G"],["ġ","g"],["Ħ","H"],["ħ","h"],["Ż","Z"],["ż","z"],["𝟎","0"],["𝟏","1"],["𝟐","2"],["𝟑","3"],["𝟒","4"],["𝟓","5"],["𝟔","6"],["𝟕","7"],["𝟖","8"],["𝟗","9"],["𝟘","0"],["𝟙","1"],["𝟚","2"],["𝟛","3"],["𝟜","4"],["𝟝","5"],["𝟞","6"],["𝟟","7"],["𝟠","8"],["𝟡","9"],["𝟢","0"],["𝟣","1"],["𝟤","2"],["𝟥","3"],["𝟦","4"],["𝟧","5"],["𝟨","6"],["𝟩","7"],["𝟪","8"],["𝟫","9"],["𝟬","0"],["𝟭","1"],["𝟮","2"],["𝟯","3"],["𝟰","4"],["𝟱","5"],["𝟲","6"],["𝟳","7"],["𝟴","8"],["𝟵","9"],["𝟶","0"],["𝟷","1"],["𝟸","2"],["𝟹","3"],["𝟺","4"],["𝟻","5"],["𝟼","6"],["𝟽","7"],["𝟾","8"],["𝟿","9"],["①","1"],["②","2"],["③","3"],["④","4"],["⑤","5"],["⑥","6"],["⑦","7"],["⑧","8"],["⑨","9"],["⑩","10"],["⑪","11"],["⑫","12"],["⑬","13"],["⑭","14"],["⑮","15"],["⑯","16"],["⑰","17"],["⑱","18"],["⑲","19"],["⑳","20"],["⑴","1"],["⑵","2"],["⑶","3"],["⑷","4"],["⑸","5"],["⑹","6"],["⑺","7"],["⑻","8"],["⑼","9"],["⑽","10"],["⑾","11"],["⑿","12"],["⒀","13"],["⒁","14"],["⒂","15"],["⒃","16"],["⒄","17"],["⒅","18"],["⒆","19"],["⒇","20"],["⒈","1."],["⒉","2."],["⒊","3."],["⒋","4."],["⒌","5."],["⒍","6."],["⒎","7."],["⒏","8."],["⒐","9."],["⒑","10."],["⒒","11."],["⒓","12."],["⒔","13."],["⒕","14."],["⒖","15."],["⒗","16."],["⒘","17."],["⒙","18."],["⒚","19."],["⒛","20."],["⓪","0"],["⓫","11"],["⓬","12"],["⓭","13"],["⓮","14"],["⓯","15"],["⓰","16"],["⓱","17"],["⓲","18"],["⓳","19"],["⓴","20"],["⓵","1"],["⓶","2"],["⓷","3"],["⓸","4"],["⓹","5"],["⓺","6"],["⓻","7"],["⓼","8"],["⓽","9"],["⓾","10"],["⓿","0"],["🙰","&"],["🙱","&"],["🙲","&"],["🙳","&"],["🙴","&"],["🙵","&"],["🙶",'"'],["🙷",'"'],["🙸",'"'],["‽","?!"],["🙹","?!"],["🙺","?!"],["🙻","?!"],["🙼","/"],["🙽","\\"],["🜇","AR"],["🜈","V"],["🜉","V"],["🜆","VR"],["🜅","VF"],["🜩","2"],["🜪","5"],["🝡","f"],["🝢","W"],["🝣","U"],["🝧","V"],["🝨","T"],["🝪","V"],["🝫","MB"],["🝬","VB"],["🝲","3B"],["🝳","3B"],["💯","100"],["🔙","BACK"],["🔚","END"],["🔛","ON!"],["🔜","SOON"],["🔝","TOP"],["🔞","18"],["🔤","abc"],["🔠","ABCD"],["🔡","abcd"],["🔢","1234"],["🔣","T&@%"],["#️⃣","#"],["*️⃣","*"],["0️⃣","0"],["1️⃣","1"],["2️⃣","2"],["3️⃣","3"],["4️⃣","4"],["5️⃣","5"],["6️⃣","6"],["7️⃣","7"],["8️⃣","8"],["9️⃣","9"],["🔟","10"],["🅰️","A"],["🅱️","B"],["🆎","AB"],["🆑","CL"],["🅾️","O"],["🅿","P"],["🆘","SOS"],["🅲","C"],["🅳","D"],["🅴","E"],["🅵","F"],["🅶","G"],["🅷","H"],["🅸","I"],["🅹","J"],["🅺","K"],["🅻","L"],["🅼","M"],["🅽","N"],["🆀","Q"],["🆁","R"],["🆂","S"],["🆃","T"],["🆄","U"],["🆅","V"],["🆆","W"],["🆇","X"],["🆈","Y"],["🆉","Z"]];function zs(e,t){if("string"!=typeof e)throw new TypeError(`Expected a string, got \`${typeof e}\``);t=$s({customReplacements:[]},t);const n=new Map([...qs,...t.customReplacements]);return e=((e,t)=>{for(const[n,r]of t)e=e.replace(new RegExp(Hs(n),"g"),r);return e})(e=e.normalize(),n),Vs(e)}function Ws(e){return Gs(e)?e.value:e.textContent}function Ks(e,t,n,r,s,i=!1){if(function(e){return null!=e&&("INPUT"==e.nodeName||"TEXTAREA"==e.nodeName||"#text"==e.nodeName)}(e)){let i=Ws(e);!function(e,t){Gs(e)?e.value=t:e.textContent=t}(e,i.substring(0,t)+r+i.substring(n,i.length)),Zs(e,t+r.length,s)}else if(!i){let e=Js(s);if(e&&e.rangeCount>0){var o=e.getRangeAt(0).startOffset;Ks(e.anchorNode,o-(n-t),o,r,s,!0)}}}function Gs(e){return null!=e&&("INPUT"==e.nodeName||"TEXTAREA"==e.nodeName)}function Zs(e,t,n=null){if(Gs(e)&&e.selectionStart)e.focus(),e.setSelectionRange(t,t);else{let r=Qs(n).createRange();r.setStart(e,t),r.collapse(!0);let s=Js(n);s.removeAllRanges(),s.addRange(r)}}function Ys(e,t=null){if(Gs(e))return e.value.slice(0,e.selectionStart).length;var n=Js(t);if(n.rangeCount>0){var r=n.getRangeAt(0),s=r.cloneRange();return s.selectNodeContents(e),s.setEnd(r.endContainer,r.endOffset),s.toString().length}}function Qs(e){return e?e.contentWindow.document:document}function Js(e){return e?e.contentWindow.getSelection():window.getSelection()}function Xs(e){let t="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),n=Qs(e?e.iframe:null),r=Js(e?e.iframe:null),s=r.getRangeAt(0),i=n.createRange();i.setStart(r.anchorNode,s.startOffset),i.setEnd(r.anchorNode,s.startOffset),i.collapse(!1);let o=n.createElement("span");o.id=t,o.appendChild(n.createTextNode("\ufeff")),i.insertNode(o),r.removeAllRanges(),r.addRange(s);let a={left:0,top:o.offsetHeight};return function(e,t,n){let r=t,s=e?e.iframe:null;for(;r&&(null==e.parent||e.parent!=r);)n.left+=r.offsetLeft+r.clientLeft,n.top+=r.offsetTop+r.clientTop,r=r.offsetParent,!r&&s&&(r=s,s=null);for(r=t,s=e?e.iframe:null;r!==Qs(null).body&&null!=r&&(null==e.parent||e.parent!=r);)r.scrollTop&&r.scrollTop>0&&(n.top-=r.scrollTop),r.scrollLeft&&r.scrollLeft>0&&(n.left-=r.scrollLeft),r=r.parentNode,!r&&s&&(r=s,s=null)}(e,o,a),o.parentNode.removeChild(o),a}var ei=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],ti="undefined"!=typeof window,ni=ti&&null!=window.mozInnerScreenX;class ri{constructor(e){this.element=e,this.labelKey="label",this.itemClick=new i.EventEmitter,this.items=[],this.activeIndex=0,this.hidden=!1,this.dropUp=!1,this.styleOff=!1,this.coords={top:0,left:0},this.offset=0}ngAfterContentChecked(){this.itemTemplate||(this.itemTemplate=this.defaultItemTemplate)}position(e,t=null){if(Gs(e))this.coords=function(e,t,n){if(!ti)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var r=document.createElement("div");r.id="input-textarea-caret-position-mirror-div",document.body.appendChild(r);var s=r.style,i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o="INPUT"===e.nodeName;s.whiteSpace="pre-wrap",o||(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",ei.forEach((function(e){if(o&&"lineHeight"===e)if("border-box"===i.boxSizing){var t=parseInt(i.height),n=parseInt(i.paddingTop)+parseInt(i.paddingBottom)+parseInt(i.borderTopWidth)+parseInt(i.borderBottomWidth),r=n+parseInt(i.lineHeight);s.lineHeight=t>r?t-n+"px":t===r?i.lineHeight:"0"}else s.lineHeight=i.height;else s[e]=i[e]})),ni?e.scrollHeight>parseInt(i.height)&&(s.overflowY="scroll"):s.overflow="hidden",r.textContent=e.value.substring(0,t),o&&(r.textContent=r.textContent.replace(/\s/g," "));var a=document.createElement("span");a.textContent=e.value.substring(t)||".",r.appendChild(a);var c={top:a.offsetTop+parseInt(i.borderTopWidth),left:a.offsetLeft+parseInt(i.borderLeftWidth),height:parseInt(i.lineHeight)};return document.body.removeChild(r),c}(e,e.selectionStart),this.coords.top=e.offsetTop+this.coords.top-e.scrollTop,this.coords.left=e.offsetLeft+this.coords.left-e.scrollLeft,this.offset=this.getBlockCursorDimensions(e).height;else if(t){let e={iframe:t,parent:t.offsetParent};this.coords=Xs(e)}else{let n=document.documentElement,r=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),s=(window.pageYOffset||n.scrollTop)-(n.clientTop||0),i=Xs({iframe:t}),o=e.getBoundingClientRect();this.coords.top=i.top-o.top+e.offsetTop-s,this.coords.left=i.left-o.left+e.offsetLeft-r}this.positionElement()}get activeItem(){return this.items[this.activeIndex]}activateNextItem(){let e=this.list.nativeElement,t=e.getElementsByClassName("active").item(0);if(t){let n=t.nextSibling;if(n&&"LI"==n.nodeName){let t=n.getBoundingClientRect();t.bottom>e.getBoundingClientRect().bottom&&(e.scrollTop=n.offsetTop+t.height-e.clientHeight)}}this.activeIndex=Math.max(Math.min(this.activeIndex+1,this.items.length-1),0)}activatePreviousItem(){let e=this.list.nativeElement,t=e.getElementsByClassName("active").item(0);if(t){let n=t.previousSibling;n&&"LI"==n.nodeName&&n.getBoundingClientRect().top<e.getBoundingClientRect().top&&(e.scrollTop=n.offsetTop)}this.activeIndex=Math.max(Math.min(this.activeIndex-1,this.items.length-1),0)}reset(){this.list.nativeElement.scrollTop=0,this.checkBounds()}checkBounds(){let e=this.coords.left,t=this.coords.top,n=this.dropUp;const r=this.list.nativeElement.getBoundingClientRect();r.left+r.width>window.innerWidth&&(e-=r.left+r.width-window.innerWidth+10),r.top<0&&(n=!1),this.positionElement(e,t,n)}positionElement(e=this.coords.left,t=this.coords.top,n=this.dropUp){const r=this.element.nativeElement;t+=n?0:this.offset,r.className=n?"dropup":null,r.style.position="absolute",r.style.left=e+"px",r.style.top=t+"px"}getBlockCursorDimensions(e){const t=window.getComputedStyle(e);return{height:parseFloat(t.lineHeight),width:parseFloat(t.fontSize)}}}ri.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ri,deps:[{token:i.ElementRef}],target:i["ɵɵFactoryTarget"].Component}),ri.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"14.0.6",type:ri,selector:"mention-list",inputs:{labelKey:"labelKey",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},viewQueries:[{propertyName:"list",first:!0,predicate:["list"],descendants:!0,static:!0},{propertyName:"defaultItemTemplate",first:!0,predicate:["defaultItemTemplate"],descendants:!0,static:!0}],ngImport:i,template:'\n    <ng-template #defaultItemTemplate let-item="item">\n      {{item[labelKey]}}\n    </ng-template>\n    <ul #list [hidden]="hidden" class="dropdown-menu scrollable-menu"\n      [class.mention-menu]="!styleOff" [class.mention-dropdown]="!styleOff && dropUp">\n      <li *ngFor="let item of items; let i = index"\n        [class.active]="activeIndex==i" [class.mention-active]="!styleOff && activeIndex==i">\n        <a class="dropdown-item" [class.mention-item]="!styleOff"\n          (mousedown)="activeIndex=i;itemClick.emit();$event.preventDefault()">\n          <ng-template [ngTemplateOutlet]="itemTemplate" [ngTemplateOutletContext]="{\'item\':item}"></ng-template>\n        </a>\n      </li>\n    </ul>\n    ',isInline:!0,styles:[".mention-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:11em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25em}.mention-item{display:block;padding:.2em 1.5em;line-height:1.5em;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.mention-active>a{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.scrollable-menu{display:block;height:auto;max-height:292px;overflow:auto}[hidden]{display:none}.mention-dropdown{bottom:100%;top:auto;margin-bottom:2px}\n"],dependencies:[{kind:"directive",type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{kind:"directive",type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet","ngTemplateOutletInjector"]}]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ri,decorators:[{type:i.Component,args:[{selector:"mention-list",template:'\n    <ng-template #defaultItemTemplate let-item="item">\n      {{item[labelKey]}}\n    </ng-template>\n    <ul #list [hidden]="hidden" class="dropdown-menu scrollable-menu"\n      [class.mention-menu]="!styleOff" [class.mention-dropdown]="!styleOff && dropUp">\n      <li *ngFor="let item of items; let i = index"\n        [class.active]="activeIndex==i" [class.mention-active]="!styleOff && activeIndex==i">\n        <a class="dropdown-item" [class.mention-item]="!styleOff"\n          (mousedown)="activeIndex=i;itemClick.emit();$event.preventDefault()">\n          <ng-template [ngTemplateOutlet]="itemTemplate" [ngTemplateOutletContext]="{\'item\':item}"></ng-template>\n        </a>\n      </li>\n    </ul>\n    ',styles:[".mention-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:11em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25em}.mention-item{display:block;padding:.2em 1.5em;line-height:1.5em;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.mention-active>a{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.scrollable-menu{display:block;height:auto;max-height:292px;overflow:auto}[hidden]{display:none}.mention-dropdown{bottom:100%;top:auto;margin-bottom:2px}\n"]}]}],ctorParameters:function(){return[{type:i.ElementRef}]},propDecorators:{labelKey:[{type:i.Input}],itemTemplate:[{type:i.Input}],itemClick:[{type:i.Output}],list:[{type:i.ViewChild,args:["list",{static:!0}]}],defaultItemTemplate:[{type:i.ViewChild,args:["defaultItemTemplate",{static:!0}]}]}});class si{constructor(e,t,n){this._element=e,this._componentResolver=t,this._viewContainerRef=n,this.mentionConfig={items:[]},this.DEFAULT_CONFIG={items:[],triggerChar:"@",labelKey:"label",maxItems:-1,allowSpace:!1,returnTrigger:!1,mentionSelect:(e,t)=>this.activeConfig.triggerChar+e[this.activeConfig.labelKey],mentionFilter:(e,t)=>{const n=e.toLowerCase();return t.filter((e=>e[this.activeConfig.labelKey].toLowerCase().startsWith(n)))}},this.searchTerm=new i.EventEmitter,this.itemSelected=new i.EventEmitter,this.opened=new i.EventEmitter,this.closed=new i.EventEmitter,this.triggerChars={}}set mention(e){this.mentionItems=e}ngOnChanges(e){(e.mention||e.mentionConfig)&&this.updateConfig()}updateConfig(){let e=this.mentionConfig;this.triggerChars={},this.mentionItems&&(e.items=this.mentionItems),this.addConfig(e),e.mentions&&e.mentions.forEach((e=>this.addConfig(e)))}addConfig(e){let t=Object.assign({},this.DEFAULT_CONFIG),n=(e=Object.assign(t,e)).items;n&&n.length>0&&("string"==typeof n[0]&&(n=n.map((t=>{let n={};return n[e.labelKey]=t,n}))),e.labelKey&&(n=n.filter((t=>t[e.labelKey])),e.disableSort||n.sort(((t,n)=>t[e.labelKey].localeCompare(n[e.labelKey]))))),e.items=n,this.triggerChars[e.triggerChar]=e,this.activeConfig&&this.activeConfig.triggerChar==e.triggerChar&&(this.activeConfig=e,this.updateSearchList())}setIframe(e){this.iframe=e}stopEvent(e){e.wasClick||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}blurHandler(e){this.stopEvent(e),this.stopSearch()}inputHandler(e,t=this._element.nativeElement){if(229===this.lastKeyCode&&e.data){let n=e.data.charCodeAt(0);this.keyHandler({keyCode:n,inputEvent:!0},t)}}keyHandler(e,t=this._element.nativeElement){if(this.lastKeyCode=e.keyCode,e.isComposing||229===e.keyCode)return;let n=Ws(t),r=Ys(t,this.iframe),s=e.key;if(!s){let t=e.which||e.keyCode;s=!e.shiftKey&&t>=65&&t<=90?String.fromCharCode(t+32):String.fromCharCode(e.which||e.keyCode)}13==e.keyCode&&e.wasClick&&r<this.startPos&&(r=this.startNode.length,Zs(this.startNode,r,this.iframe));let i=this.triggerChars[s];if(i)this.activeConfig=i,this.startPos=e.inputEvent?r-1:r,this.startNode=(this.iframe?this.iframe.contentWindow.getSelection():window.getSelection()).anchorNode,this.searching=!0,this.searchString=null,this.showSearchList(t),this.updateSearchList(),i.returnTrigger&&this.searchTerm.emit(i.triggerChar);else if(this.startPos>=0&&this.searching)if(r<=this.startPos)this.searchList.hidden=!0;else if(16!==e.keyCode&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&r>this.startPos){if(this.activeConfig.allowSpace||32!==e.keyCode){if(8===e.keyCode&&r>0)r--,r==this.startPos&&this.stopSearch();else if(this.searchList.hidden){if(9===e.keyCode||13===e.keyCode)return void this.stopSearch()}else if(!this.searchList.hidden){if(9===e.keyCode||13===e.keyCode){this.stopEvent(e),this.itemSelected.emit(this.searchList.activeItem);const n=this.activeConfig.mentionSelect(this.searchList.activeItem,this.activeConfig.triggerChar);if(Ks(t,this.startPos,r,n,this.iframe),"createEvent"in document){let e=document.createEvent("HTMLEvents");this.iframe?e.initEvent("change",!0,!1):e.initEvent("input",!0,!1),this._element.nativeElement.dispatchEvent(e)}return this.startPos=-1,this.stopSearch(),!1}if(27===e.keyCode)return this.stopEvent(e),this.stopSearch(),!1;if(40===e.keyCode)return this.stopEvent(e),this.searchList.activateNextItem(),!1;if(38===e.keyCode)return this.stopEvent(e),this.searchList.activatePreviousItem(),!1}}else this.startPos=-1;if(1!=s.length&&8!=e.keyCode)return this.stopEvent(e),!1;if(this.searching){let t=n.substring(this.startPos+1,r);if(8===e.keyCode||e.inputEvent||(t+=s),this.searchString=t,this.activeConfig.returnTrigger){const t=this.searchString||8===e.keyCode?n.substring(this.startPos,this.startPos+1):"";this.searchTerm.emit(t+this.searchString)}else this.searchTerm.emit(this.searchString);this.updateSearchList()}}}startSearch(e,t=this._element.nativeElement){e=e||this.mentionConfig.triggerChar||this.DEFAULT_CONFIG.triggerChar;const n=Ys(t,this.iframe);Ks(t,n,n,e,this.iframe),this.keyHandler({key:e,inputEvent:!0},t)}stopSearch(){this.searchList&&!this.searchList.hidden&&(this.searchList.hidden=!0,this.closed.emit()),this.activeConfig=null,this.searching=!1}updateSearchList(){let e=[];if(this.activeConfig&&this.activeConfig.items){let t=this.activeConfig.items;!this.activeConfig.disableSearch&&this.searchString&&this.activeConfig.labelKey&&this.activeConfig.mentionFilter&&(t=this.activeConfig.mentionFilter(this.searchString,t)),e=t,this.activeConfig.maxItems>0&&(e=e.slice(0,this.activeConfig.maxItems))}this.searchList&&(this.searchList.items=e,this.searchList.hidden=0==e.length)}showSearchList(e){if(this.opened.emit(),null==this.searchList){let t=this._componentResolver.resolveComponentFactory(ri),n=this._viewContainerRef.createComponent(t);this.searchList=n.instance,this.searchList.itemTemplate=this.mentionListTemplate,n.instance.itemClick.subscribe((()=>{e.focus();this.keyHandler({key:"Enter",keyCode:13,wasClick:!0},e)}))}this.searchList.labelKey=this.activeConfig.labelKey,this.searchList.dropUp=this.activeConfig.dropUp,this.searchList.styleOff=this.mentionConfig.disableStyle,this.searchList.activeIndex=0,this.searchList.position(e,this.iframe),window.requestAnimationFrame((()=>this.searchList.reset()))}}si.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:si,deps:[{token:i.ElementRef},{token:i.ComponentFactoryResolver},{token:i.ViewContainerRef}],target:i["ɵɵFactoryTarget"].Directive}),si.ɵdir=i["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"14.0.6",type:si,selector:"[mention], [mentionConfig]",inputs:{mention:"mention",mentionConfig:"mentionConfig",mentionListTemplate:"mentionListTemplate"},outputs:{searchTerm:"searchTerm",itemSelected:"itemSelected",opened:"opened",closed:"closed"},host:{attributes:{autocomplete:"off"},listeners:{keydown:"keyHandler($event)",input:"inputHandler($event)",blur:"blurHandler($event)"}},usesOnChanges:!0,ngImport:i}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:si,decorators:[{type:i.Directive,args:[{selector:"[mention], [mentionConfig]",host:{"(keydown)":"keyHandler($event)","(input)":"inputHandler($event)","(blur)":"blurHandler($event)",autocomplete:"off"}}]}],ctorParameters:function(){return[{type:i.ElementRef},{type:i.ComponentFactoryResolver},{type:i.ViewContainerRef}]},propDecorators:{mention:[{type:i.Input,args:["mention"]}],mentionConfig:[{type:i.Input}],mentionListTemplate:[{type:i.Input}],searchTerm:[{type:i.Output}],itemSelected:[{type:i.Output}],opened:[{type:i.Output}],closed:[{type:i.Output}]}});class ii{}ii.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ii,deps:[],target:i["ɵɵFactoryTarget"].NgModule}),ii.ɵmod=i["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"14.0.6",ngImport:i,type:ii,declarations:[si,ri],imports:[nr.MD],exports:[si]}),ii.ɵinj=i["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ii,imports:[nr.MD]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"14.0.6",ngImport:i,type:ii,decorators:[{type:i.NgModule,args:[{declarations:[si,ri],imports:[nr.MD],exports:[si]}]}]});class oi{constructor(){this.notificationsSubject=new o.g([]),this.notifications$=this.notificationsSubject.asObservable()}addTemporaryNotification(e,t="error",n=5e3,r,s){const i=this.createNotification(e,t,r,s),o=setTimeout((()=>this.removeNotification(i.id)),n);return i.dismissFn=()=>{clearTimeout(o),this.removeNotification(i.id)},this.notificationsSubject.next([...this.notificationsSubject.getValue(),i]),i.dismissFn}addPermanentNotification(e,t="error",n,r){const s=this.createNotification(e,t,n,r);return this.notificationsSubject.next([...this.notificationsSubject.getValue(),s]),s.dismissFn}createNotification(e,t,n,r){const s=(new Date).getTime().toString()+Math.random().toString();return{id:s,["string"==typeof e?"text":"template"]:e,type:t,translateParams:n,templateContext:r,dismissFn:()=>this.removeNotification(s)}}removeNotification(e){const t=this.notificationsSubject.getValue(),n=t.findIndex((t=>t.id===e));-1!==n&&(t.splice(n,1),this.notificationsSubject.next([...t]))}}oi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:oi,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),oi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:oi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:oi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class ai{constructor(e,t){this.ngZone=e,this.notificationService=t,this.notificationSubject=new a.o(1),this.connectionStateSubject=new a.o(1),this.appSettingsSubject=new o.g(void 0),this.pendingInvitesSubject=new o.g([]),this.userSubject=new a.o(1),this.subscriptions=[],this.events$=this.notificationSubject.asObservable(),this.connectionState$=this.connectionStateSubject.asObservable(),this.appSettings$=this.appSettingsSubject.asObservable(),this.pendingInvites$=this.pendingInvitesSubject.asObservable(),this.user$=this.userSubject.asObservable()}init(e,t,n,r){var i;return(0,s.kH)(this,void 0,void 0,(function*(){let o;this.chatClient=On.getInstance(e,r),this.chatClient.devToken,yield this.ngZone.runOutsideAngular((()=>(0,s.kH)(this,void 0,void 0,(function*(){var e;const r="string"==typeof t?{id:t}:t;try{o=yield(null!==(e={guest:()=>this.chatClient.setGuestUser(r),anonymous:()=>this.chatClient.connectAnonymousUser()}[`${n}`])&&void 0!==e?e:()=>this.chatClient.connectUser(r,n))()}catch(e){throw this.notificationService.addPermanentNotification("streamChat.Error connecting to chat, refresh the page to try again.","error"),e}this.userSubject.next(this.chatClient.user?Object.assign({},this.chatClient.user):void 0);const s="stream-chat-angular";this.chatClient.getUserAgent().includes(s)||this.chatClient.setUserAgent(`${s}-4.52.2-${this.chatClient.getUserAgent()}`)}))));const a=yield this.chatClient.queryChannels({invite:"pending"},{},{user_id:null===(i=this.chatClient.user)||void 0===i?void 0:i.id});let c;return this.pendingInvitesSubject.next(a),this.appSettingsSubject.next(void 0),this.subscriptions.push(this.chatClient.on((e=>{this.updateUser(e),this.updatePendingInvites(e),this.notificationSubject.next({eventType:e.type,event:e})}))),this.subscriptions.push(this.chatClient.on("connection.changed",(e=>{this.ngZone.run((()=>{const t=e.online;t?c&&c():c=this.notificationService.addPermanentNotification("streamChat.Connection failure, reconnecting now..."),this.connectionStateSubject.next(t?"online":"offline")}))}))),o}))}disconnectUser(){return(0,s.kH)(this,void 0,void 0,(function*(){this.pendingInvitesSubject.next([]),yield this.chatClient.disconnectUser(),this.userSubject.next(void 0),this.subscriptions.forEach((e=>e.unsubscribe()))}))}getAppSettings(){return(0,s.kH)(this,void 0,void 0,(function*(){if(this.appSettingsSubject.getValue())return;const e=yield this.chatClient.getAppSettings();this.appSettingsSubject.next(e.app||{})}))}flagMessage(e){return(0,s.kH)(this,void 0,void 0,(function*(){yield this.chatClient.flagMessage(e)}))}autocompleteUsers(e){return(0,s.kH)(this,void 0,void 0,(function*(){return e?(yield this.chatClient.queryUsers({$or:[{id:{$autocomplete:e}},{name:{$autocomplete:e}}],id:{$ne:this.chatClient.userID}})).users:[]}))}updatePendingInvites(e){var t,n,r;if((null===(n=null===(t=e.member)||void 0===t?void 0:t.user)||void 0===n?void 0:n.id)===(null===(r=this.chatClient.user)||void 0===r?void 0:r.id)&&e.channel){const t=this.pendingInvitesSubject.getValue();if("notification.invited"===e.type)this.pendingInvitesSubject.next([...t,e.channel]);else if("notification.invite_accepted"===e.type||"notification.invite_rejected"===e.type){const n=t.findIndex((t=>{var n;return(null==t?void 0:t.cid)===(null===(n=e.channel)||void 0===n?void 0:n.cid)}));-1!==n&&(t.splice(n,1),this.pendingInvitesSubject.next([...t]))}}}updateUser(e){var t;if(void 0!==e.total_unread_count){let t;this.userSubject.pipe((0,Un.U)(1)).subscribe((e=>{t=e})),t&&t.total_unread_count!==e.total_unread_count&&this.userSubject.next(Object.assign(Object.assign({},t),{total_unread_count:e.total_unread_count}))}if(void 0!==e.unread_channels){let t;this.userSubject.pipe((0,Un.U)(1)).subscribe((e=>{t=e})),t&&t.unread_channels!==e.unread_channels&&this.userSubject.next(Object.assign(Object.assign({},t),{unread_channels:e.unread_channels}))}if(void 0!==e.unread_count){let t;this.userSubject.pipe((0,Un.U)(1)).subscribe((e=>{t=e})),t&&t.unread_count!==e.unread_count&&this.userSubject.next(Object.assign(Object.assign({},t),{unread_count:e.unread_count}))}"user.updated"===e.type&&this.chatClient.user&&(null===(t=e.user)||void 0===t?void 0:t.id)===this.chatClient.user.id&&this.userSubject.next(Object.assign({},this.chatClient.user))}}ai.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ai,deps:[{token:i.NgZone},{token:oi}],target:i["ɵɵFactoryTarget"].Injectable}),ai.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ai,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ai,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:i.NgZone},{type:oi}]}});const ci=(e,t,n)=>{var r,s;const i=(null==n?void 0:n.language)||(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.auto_translation_language);return i&&(null==e?void 0:e.i18n)&&(null===(s=null==e?void 0:e.user)||void 0===s?void 0:s.id)!==(null==n?void 0:n.id)?e.i18n[`${i}_text`]:void 0},li=(e,t)=>{const n=[];return Object.keys(t.state.read).forEach((r=>{var s;t.state.read[r].last_read.getTime()>=e.created_at.getTime()&&(null===(s=e.user)||void 0===s?void 0:s.id)!==r&&n.push(t.state.read[r].user)})),n};class ui{constructor(e,t,n){this.chatClientService=e,this.ngZone=t,this.notificationService=n,this.channelsSubject=new o.g(void 0),this.activeChannelSubject=new o.g(void 0),this.activeChannelMessagesSubject=new o.g([]),this.activeChannelPinnedMessagesSubject=new o.g([]),this.hasMoreChannelsSubject=new a.o(1),this.activeChannelSubscriptions=[],this.channelSubscriptions={},this.activeParentMessageIdSubject=new o.g(void 0),this.activeThreadMessagesSubject=new o.g([]),this.jumpToMessageSubject=new o.g({id:void 0,parentId:void 0}),this.latestMessageDateByUserByChannelsSubject=new o.g({}),this.messagePageSize=25,this.messageToQuoteSubject=new o.g(void 0),this.usersTypingInChannelSubject=new o.g([]),this.usersTypingInThreadSubject=new o.g([]),this._shouldMarkActiveChannelAsRead=!0,this.isStateRecoveryInProgress=!1,this.channelQueryStateSubject=new o.g(void 0),this.channelListSetter=(e,t=!0)=>{const n=this.channelsSubject.getValue()||[],r=e.filter((e=>!n.find((t=>t.cid===e.cid)))),s=n.filter((t=>!(null==e?void 0:e.find((e=>e.cid===t.cid)))));this.addChannelsFromNotification(r),this.removeChannelsFromChannelList(s.map((e=>e.cid)),t)},this.messageListSetter=e=>{this.activeChannelMessagesSubject.next(e)},this.threadListSetter=e=>{this.activeThreadMessagesSubject.next(e)},this.parentMessageSetter=e=>{this.activeParentMessageIdSubject.next(null==e?void 0:e.id)},this.channels$=this.channelsSubject.asObservable().pipe((0,Vn.C)(1)),this.activeChannel$=this.activeChannelSubject.asObservable().pipe((0,Vn.C)(1)),this.activeChannelMessages$=this.activeChannelMessagesSubject.pipe((0,$n.k)((e=>{const t=this.activeChannelSubject.getValue();return e.map((e=>this.transformToStreamMessage(e,t)))})),(0,Vn.C)(1)),this.hasMoreChannels$=this.hasMoreChannelsSubject.asObservable().pipe((0,Vn.C)(1)),this.activeParentMessageId$=this.activeParentMessageIdSubject.asObservable().pipe((0,Vn.C)(1)),this.activeThreadMessages$=this.activeThreadMessagesSubject.pipe((0,$n.k)((e=>{const t=this.activeChannelSubject.getValue();return e.map((e=>this.transformToStreamMessage(e,t)))})),(0,Vn.C)(1)),this.activeParentMessage$=(0,c.E)([this.activeChannelMessages$,this.activeParentMessageId$]).pipe((0,$n.k)((([e,t])=>{if(t){return e.find((e=>e.id===t))||void this.setAsActiveParentMessage(void 0)}})),(0,Vn.C)(1)),this.messageToQuote$=this.messageToQuoteSubject.asObservable().pipe((0,Vn.C)(1)),this.jumpToMessage$=this.jumpToMessageSubject.asObservable().pipe((0,Vn.C)(1)),this.usersTypingInChannel$=this.usersTypingInChannelSubject.asObservable().pipe((0,Vn.C)(1)),this.usersTypingInThread$=this.usersTypingInThreadSubject.asObservable().pipe((0,Vn.C)(1)),this.latestMessageDateByUserByChannels$=this.latestMessageDateByUserByChannelsSubject.asObservable().pipe((0,Vn.C)(1)),this.activeChannelPinnedMessages$=this.activeChannelPinnedMessagesSubject.asObservable().pipe((0,Vn.C)(1)),this.channelQueryState$=this.channelQueryStateSubject.asObservable().pipe((0,Vn.C)(1))}get shouldMarkActiveChannelAsRead(){return this._shouldMarkActiveChannelAsRead}set shouldMarkActiveChannelAsRead(e){if(!this._shouldMarkActiveChannelAsRead&&e){const e=this.activeChannelSubject.getValue();e&&this.canSendReadEvents&&e.markRead()}this._shouldMarkActiveChannelAsRead=e}setAsActiveChannel(e){var t,n,r;const s=this.activeChannelSubject.getValue();if((null==s?void 0:s.cid)===e.cid)return;this.stopWatchForActiveChannelEvents(s),this.activeChannelLastReadMessageId=null===(n=e.state.read[(null===(t=this.chatClientService.chatClient.user)||void 0===t?void 0:t.id)||""])||void 0===n?void 0:n.last_read_message_id,(null===(r=e.state.latestMessages[e.state.latestMessages.length-1])||void 0===r?void 0:r.id)===this.activeChannelLastReadMessageId&&(this.activeChannelLastReadMessageId=void 0),this.watchForActiveChannelEvents(e),this.addChannel(e),this.activeChannelSubject.next(e);const i=e.state.latestMessages.length;i>2*this.messagePageSize&&(e.state.latestMessages=e.state.latestMessages.slice(i-2*this.messagePageSize)),this.setChannelState(e)}deselectActiveChannel(){const e=this.activeChannelSubject.getValue();e&&(this.stopWatchForActiveChannelEvents(e),this.activeChannelMessagesSubject.next([]),this.activeChannelSubject.next(void 0),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]),this.latestMessageDateByUserByChannelsSubject.next({}),this.selectMessageToQuote(void 0),this.jumpToMessageSubject.next({id:void 0,parentId:void 0}),this.activeChannelPinnedMessagesSubject.next([]),this.usersTypingInChannelSubject.next([]),this.usersTypingInThreadSubject.next([]),this.activeChannelLastReadMessageId=void 0)}setAsActiveParentMessage(e,t="request"){var n;return(0,s.kH)(this,void 0,void 0,(function*(){const r=this.messageToQuoteSubject.getValue();if(r&&r.parent_id&&this.messageToQuoteSubject.next(void 0),e){this.activeParentMessageIdSubject.next(e.id);const r=this.activeChannelSubject.getValue();if("request"===t){const t=yield null==r?void 0:r.getReplies(e.id,{limit:null===(n=this.options)||void 0===n?void 0:n.message_limit});this.activeThreadMessagesSubject.next((null==t?void 0:t.messages)||[])}else this.activeThreadMessagesSubject.next((null==r?void 0:r.state.threads[e.id])||[])}else{this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]);const e=this.jumpToMessageSubject.getValue();e&&e.parentId&&this.jumpToMessageSubject.next({id:void 0,parentId:void 0})}}))}loadMoreMessages(e="older"){var t,n,r,s;const i=this.activeChannelSubject.getValue(),o=this.activeChannelMessagesSubject.getValue(),a=null===(t=o["older"===e?0:o.length-1])||void 0===t?void 0:t.id;return("newer"!==e||(null===(n=null==i?void 0:i.state)||void 0===n?void 0:n.latestMessages)!==(null===(r=null==i?void 0:i.state)||void 0===r?void 0:r.messages))&&(null==i?void 0:i.query({messages:{limit:null===(s=this.options)||void 0===s?void 0:s.message_limit,["older"===e?"id_lt":"id_gt"]:a},members:{limit:0},watchers:{limit:0}}).then((e=>{var t,n,r;return(null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.id)===(null===(r=null===(n=this.activeChannelSubject.getValue())||void 0===n?void 0:n.data)||void 0===r?void 0:r.id)&&this.activeChannelMessagesSubject.next([...i.state.messages]),e})))}loadMoreThreadReplies(e="older"){var t,n;return(0,s.kH)(this,void 0,void 0,(function*(){if("newer"===e)return;const r=this.activeChannelSubject.getValue(),s=this.activeParentMessageIdSubject.getValue();if(!s)return;const i=this.activeThreadMessagesSubject.getValue(),o=null===(t=i["older"===e?0:i.length-1])||void 0===t?void 0:t.id;yield null==r?void 0:r.getReplies(s,{limit:null===(n=this.options)||void 0===n?void 0:n.message_limit,["older"===e?"id_lt":"id_gt"]:o}),this.activeThreadMessagesSubject.next((null==r?void 0:r.state.threads[s])||[])}))}init(e,t,n,r=!0){return(0,s.kH)(this,void 0,void 0,(function*(){this.filters=e,this.options=Object.assign({limit:25,state:!0,presence:!0,watch:!0,message_limit:this.messagePageSize},n),this.sort=t||{last_message_at:-1},this.shouldSetActiveChannel=r,this.clientEventsSubscription=this.chatClientService.events$.subscribe((e=>{this.handleNotification(e)}));try{return yield this.queryChannels(this.shouldSetActiveChannel)}catch(e){throw this.dismissErrorNotification=this.notificationService.addPermanentNotification("streamChat.Error loading channels","error"),e}}))}reset(){var e,t;this.deselectActiveChannel(),this.channelsSubject.next(void 0),this.channelQueryStateSubject.next(void 0),null===(e=this.clientEventsSubscription)||void 0===e||e.unsubscribe(),null===(t=this.dismissErrorNotification)||void 0===t||t.call(this),this.dismissErrorNotification=void 0,Object.keys(this.channelSubscriptions).forEach((e=>{this.channelSubscriptions[e]()})),this.channelSubscriptions={},this.nextPageConfiguration=void 0}loadMoreChannels(){return(0,s.kH)(this,void 0,void 0,(function*(){yield this.queryChannels(!1)}))}addReaction(e,t,n){var r;return(0,s.kH)(this,void 0,void 0,(function*(){yield null===(r=this.activeChannelSubject.getValue())||void 0===r?void 0:r.sendReaction(e,Object.assign({type:t},n))}))}removeReaction(e,t){var n;return(0,s.kH)(this,void 0,void 0,(function*(){yield null===(n=this.activeChannelSubject.getValue())||void 0===n?void 0:n.deleteReaction(e,t)}))}sendMessage(e,t=[],n=[],r=void 0,i=void 0,o=void 0){return(0,s.kH)(this,void 0,void 0,(function*(){let s={text:e,attachments:t,mentionedUsers:n,parentId:r,quotedMessageId:i,customData:o};this.beforeSendMessage&&(s=yield this.beforeSendMessage(s));const a=((e,t,n=[],r=[],s,i,o)=>{const a=`${e.id}-${er()}`;return Object.assign({__html:t,created_at:new Date,html:t,id:a,reactions:[],status:"sending",text:t,type:"regular",user:e,attachments:n,mentioned_users:r,parent_id:s,quoted_message_id:i},o)})(this.chatClientService.chatClient.user,s.text,s.attachments,s.mentionedUsers,s.parentId,s.quotedMessageId,s.customData),c=this.activeChannelSubject.getValue();return a.readBy=[],c.state.addMessageSorted(a,!0),yield this.sendMessageRequest(a,s.customData)}))}resendMessage(e){return(0,s.kH)(this,void 0,void 0,(function*(){this.activeChannelSubject.getValue().state.addMessageSorted(Object.assign(Object.assign({},e),{errorStatusCode:void 0,status:"sending"}),!0),yield this.sendMessageRequest(e)}))}updateMessage(e){var t;return(0,s.kH)(this,void 0,void 0,(function*(){let n=Object.assign({},e);delete n.i18n,this.beforeUpdateMessage&&(n=yield this.beforeUpdateMessage(n));const r=yield this.chatClientService.chatClient.updateMessage(n),s=null===(t=this.channelsSubject.getValue())||void 0===t?void 0:t.find((t=>t.cid===e.cid));return this.transformToStreamMessage(r.message,s)}))}deleteMessage(e){return(0,s.kH)(this,void 0,void 0,(function*(){this.messageDeleteConfirmationHandler?(yield this.messageDeleteConfirmationHandler(e))&&(yield this.chatClientService.chatClient.deleteMessage(e.id)):yield this.chatClientService.chatClient.deleteMessage(e.id)}))}uploadAttachments(e){return(0,s.kH)(this,void 0,void 0,(function*(){const t=[],n=this.activeChannelSubject.getValue();return(yield Promise.allSettled(e.map((e=>"image"===e.type?this.customImageUploadRequest?this.customImageUploadRequest(e.file,n):n.sendImage(e.file,e.file.name,e.file.type):this.customFileUploadRequest?this.customFileUploadRequest(e.file,n):n.sendFile(e.file,e.file.name,e.file.type))))).forEach(((n,r)=>{var s,i,o,a,c,l,u;const h=e[r].file,p=e[r].type;if("fulfilled"===n.status)t.push({file:h,type:p,state:"success",url:n.value.file,thumb_url:n.value.thumb_url});else{let e,r="unknown";const d=null===(i=null===(s=n.reason.response)||void 0===s?void 0:s.data)||void 0===i?void 0:i.message,g=null===(a=null===(o=n.reason.response)||void 0===o?void 0:o.data)||void 0===a?void 0:a.code;22===g?(r="file-size",e={param:(null===(c=/\d+MB/.exec(d||""))||void 0===c?void 0:c[0])||"100MB"}):4===g&&(null===(l=null==d?void 0:d.toLowerCase())||void 0===l?void 0:l.includes("file extension"))&&(r="file-extension",e={param:(null===(u=/\.\w+/.exec(d))||void 0===u?void 0:u[0])||""}),t.push({file:h,type:p,state:"error",errorReason:r,errorExtraInfo:e?[e]:void 0})}})),t}))}deleteAttachment(e){return(0,s.kH)(this,void 0,void 0,(function*(){const t=this.activeChannelSubject.getValue();yield"image"===e.type?this.customImageDeleteRequest?this.customImageDeleteRequest(e.url,t):t.deleteImage(e.url):this.customFileDeleteRequest?this.customFileDeleteRequest(e.url,t):t.deleteFile(e.url)}))}autocompleteMembers(e){return(0,s.kH)(this,void 0,void 0,(function*(){const t=this.activeChannelSubject.getValue();if(!t)return[];if(Object.keys(t.state.members).length<100)return Object.values(t.state.members).filter((e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.id)!==this.chatClientService.chatClient.userID}));{if(!e)return[];const n=yield t.queryMembers({name:{$autocomplete:e},id:{$ne:this.chatClientService.chatClient.userID}});return Object.values(n.members)}}))}sendAction(e,t,n){return(0,s.kH)(this,void 0,void 0,(function*(){const r=this.activeChannelSubject.getValue(),s=yield r.sendAction(e,t);(null==s?void 0:s.message)?(r.state.addMessageSorted(Object.assign(Object.assign({},s.message),{status:"received"})),s.message.parent_id?this.activeThreadMessagesSubject.next([...r.state.threads[s.message.parent_id]]):this.activeChannelMessagesSubject.next([...r.state.messages])):(r.state.removeMessage({id:e,parent_id:n}),n?this.activeThreadMessagesSubject.next(r.state.threads[this.activeParentMessageIdSubject.getValue()]):this.activeChannelMessagesSubject.next([...r.state.messages]))}))}selectMessageToQuote(e){this.messageToQuoteSubject.next(e)}addChannel(e){this.channels.find((t=>t.cid===e.cid))||(this.channelsSubject.next([e,...this.channels]),this.watchForChannelEvents(e))}sendMessageRequest(e,t){var n;return(0,s.kH)(this,void 0,void 0,(function*(){const r=this.activeChannelSubject.getValue(),s=!!e.parent_id;s?this.activeThreadMessagesSubject.next([...r.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...r.state.messages]);try{const i=yield r.sendMessage(Object.assign({id:e.id,text:e.text,attachments:e.attachments,mentioned_users:null===(n=e.mentioned_users)||void 0===n?void 0:n.map((e=>e.id)),parent_id:e.parent_id,quoted_message_id:e.quoted_message_id},t));let o;return r.state.addMessageSorted(Object.assign(Object.assign({},i.message),{status:"received"}),!0),s?this.activeThreadMessagesSubject.next([...r.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...r.state.messages]),(s?this.activeThreadMessages$:this.activeChannelMessages$).pipe((0,Un.U)(1)).subscribe((e=>o=e)),o[o.length-1]}catch(t){const n=JSON.stringify(t),i=n?JSON.parse(n):{};let o;return r.state.addMessageSorted(Object.assign(Object.assign({},e),{errorStatusCode:i.status||void 0,status:"failed"}),!0),s?this.activeThreadMessagesSubject.next([...r.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...r.state.messages]),(s?this.activeThreadMessages$:this.activeChannelMessages$).pipe((0,Un.U)(1)).subscribe((e=>o=e)),o[o.length-1]}}))}jumpToMessage(e,t){return(0,s.kH)(this,void 0,void 0,(function*(){const n=this.activeChannelSubject.getValue();try{yield null==n?void 0:n.state.loadMessageIntoState(e,t);const r=(null==n?void 0:n.state.messages)||[];if(this.activeChannelMessagesSubject.next([...r]),t){const e=r.find((e=>e.id===t));this.setAsActiveParentMessage(e,"state")}this.jumpToMessageSubject.next({id:e,parentId:t})}catch(e){throw this.notificationService.addTemporaryNotification("Message not found"),e}}))}pinMessage(e){var t;return(0,s.kH)(this,void 0,void 0,(function*(){try{yield null===(t=this.chatClientService.chatClient)||void 0===t?void 0:t.pinMessage(e),this.notificationService.addTemporaryNotification("Message pinned","success")}catch(e){throw this.notificationService.addTemporaryNotification("Error pinning message"),e}}))}unpinMessage(e){var t;return(0,s.kH)(this,void 0,void 0,(function*(){try{yield null===(t=this.chatClientService.chatClient)||void 0===t?void 0:t.unpinMessage(e),this.notificationService.addTemporaryNotification("Message unpinned","success")}catch(e){throw this.notificationService.addTemporaryNotification("Error removing message pin"),e}}))}handleNotification(e){switch(e.eventType){case"connection.recovered":this.ngZone.run((()=>(0,s.kH)(this,void 0,void 0,(function*(){if(!this.isStateRecoveryInProgress){this.isStateRecoveryInProgress=!0;try{this.nextPageConfiguration=void 0;const e=this.shouldSetActiveChannel&&!this.activeChannelSubject.getValue();if(yield this.queryChannels(e||!1,!0),this.activeChannelSubject.getValue()){this.setAsActiveParentMessage(void 0);const e=this.messageToQuoteSubject.getValue();let t;this.setChannelState(this.activeChannelSubject.getValue()),this.activeChannelMessages$.pipe((0,Un.U)(1)).subscribe((e=>t=e));const n=t.find((t=>t.id===(null==e?void 0:e.id)));n&&this.selectMessageToQuote(n)}this.isStateRecoveryInProgress=!1}catch(e){this.isStateRecoveryInProgress=!1}}}))));break;case"notification.message_new":this.ngZone.run((()=>{this.customNewMessageNotificationHandler?this.customNewMessageNotificationHandler(e,this.channelListSetter):this.handleNewMessageNotification(e)}));break;case"notification.added_to_channel":this.ngZone.run((()=>{this.customAddedToChannelNotificationHandler?this.customAddedToChannelNotificationHandler(e,this.channelListSetter):this.handleAddedToChannelNotification(e)}));break;case"notification.removed_from_channel":this.ngZone.run((()=>{this.customRemovedFromChannelNotificationHandler?this.customRemovedFromChannelNotificationHandler(e,this.channelListSetter):this.handleRemovedFromChannelNotification(e)}));break;case"user.updated":this.ngZone.run((()=>{var e;const t=null===(e=this.channelsSubject.getValue())||void 0===e?void 0:e.map((e=>this.chatClientService.chatClient.activeChannels[e.cid]?this.chatClientService.chatClient.activeChannels[e.cid]:e));this.channelsSubject.next(t);const n=this.activeChannelSubject.getValue();if(n){this.activeChannelSubject.next(this.chatClientService.chatClient.activeChannels[n.cid]||n),this.activeChannelMessagesSubject.next(n.state.messages.map((e=>(e.readBy=li(e,n),Object.assign({},e)))));const e=this.activeParentMessageIdSubject.getValue();if(e){const t=n.state.threads[e];this.activeThreadMessagesSubject.next([...t])}this.activeChannelPinnedMessagesSubject.next([...n.state.pinnedMessages])}}))}}handleRemovedFromChannelNotification(e){const t=e.event.channel.cid;this.removeChannelsFromChannelList([t],!0)}handleNewMessageNotification(e){e.event.channel&&this.addChannelsFromNotification([e.event.channel])}handleAddedToChannelNotification(e){e.event.channel&&this.addChannelsFromNotification([e.event.channel])}addChannelsFromNotification(e){return(0,s.kH)(this,void 0,void 0,(function*(){let t=[];const n=[];e.forEach((e=>{const r=this.chatClientService.chatClient.channel(e.type,e.id);n.push(r.watch()),t.push(r)})),yield Promise.all(n);const r=this.channelsSubject.getValue()||[];t=t.filter((e=>!r.find((t=>t.cid===e.cid)))),t.length>0&&(t.forEach((e=>this.watchForChannelEvents(e))),this.channelsSubject.next([...t,...r]))}))}removeChannelsFromChannelList(e,t){var n;const r=this.channels.filter((t=>!e.includes(t.cid||"")));t&&e.forEach((e=>{var t;this.channelSubscriptions[e]&&(this.channelSubscriptions[e](),delete this.channelSubscriptions.cid),null===(t=this.chatClientService.chatClient.activeChannels[e])||void 0===t||t.stopWatching()})),r.length<this.channels.length&&(this.channelsSubject.next(r),e.includes((null===(n=this.activeChannelSubject.getValue())||void 0===n?void 0:n.cid)||"")&&(r.length>0?this.setAsActiveChannel(r[0]):this.activeChannelSubject.next(void 0)))}watchForActiveChannelEvents(e){this.activeChannelSubscriptions.push(e.on("message.new",(t=>{this.ngZone.run((()=>{t.message&&t.message.parent_id?t.message.parent_id===this.activeParentMessageIdSubject.getValue()&&this.activeThreadMessagesSubject.next([...e.state.threads[t.message.parent_id]]):this.activeChannelMessagesSubject.next([...e.state.messages]),this.activeChannel$.pipe((0,Bn.K)()).subscribe((e=>{e&&this.markRead(e)})),this.updateLatestMessages(t)}))}))),this.activeChannelSubscriptions.push(e.on("message.updated",(e=>this.messageUpdated(e)))),this.activeChannelSubscriptions.push(e.on("message.deleted",(e=>this.messageUpdated(e)))),this.activeChannelSubscriptions.push(e.on("reaction.new",(e=>this.messageReactionEventReceived(e)))),this.activeChannelSubscriptions.push(e.on("reaction.deleted",(e=>this.messageReactionEventReceived(e)))),this.activeChannelSubscriptions.push(e.on("reaction.updated",(e=>this.messageReactionEventReceived(e)))),this.activeChannelSubscriptions.push(e.on("message.read",(t=>{this.ngZone.run((()=>{let n,r;this.activeChannelMessages$.pipe((0,Bn.K)()).subscribe((e=>{r=e,n=r[r.length-1]})),n&&t.user&&(n.readBy?n.readBy.splice(0,n.readBy.length):n.readBy=[],n.readBy.push(...li(n,e)),r[r.length-1]=Object.assign({},n),this.activeChannelMessagesSubject.next([...r]))}))}))),this.activeChannelSubscriptions.push(e.on("typing.start",(e=>this.ngZone.run((()=>this.handleTypingStartEvent(e)))))),this.activeChannelSubscriptions.push(e.on("typing.stop",(e=>this.ngZone.run((()=>this.handleTypingStopEvent(e))))))}typingStarted(e){return(0,s.kH)(this,void 0,void 0,(function*(){const t=this.activeChannelSubject.getValue();yield null==t?void 0:t.keystroke(e)}))}typingStopped(e){return(0,s.kH)(this,void 0,void 0,(function*(){const t=this.activeChannelSubject.getValue();yield null==t?void 0:t.stopTyping(e)}))}get channels(){return this.channelsSubject.getValue()||[]}get activeChannel(){return this.activeChannelSubject.getValue()||void 0}messageUpdated(e){this.ngZone.run((()=>{var t;const n=e.message&&e.message.parent_id,r=this.activeChannelSubject.getValue();if(!r)return;const s=n?r.state.threads[(null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.parent_id)||""]:r.state.messages;if(!s)return;const i=s.findIndex((t=>{var n;return t.id===(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.id)}));-1!==i&&(n?this.activeThreadMessagesSubject.next([...s]):this.activeChannelMessagesSubject.next([...s]),this.activeChannelPinnedMessagesSubject.next([...r.state.pinnedMessages]))}))}messageReactionEventReceived(e){this.ngZone.run((()=>{var t,n,r,s;const i=e.message&&e.message.parent_id;let o;(i?this.activeThreadMessages$:this.activeChannelMessages$).pipe((0,Bn.K)()).subscribe((e=>o=e));const a=o.findIndex((t=>{var n;return t.id===(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.id)}));if(-1===a)return;const c=o[a];c.reaction_counts=Object.assign({},null===(t=e.message)||void 0===t?void 0:t.reaction_counts),c.reaction_scores=Object.assign({},null===(n=e.message)||void 0===n?void 0:n.reaction_scores),c.latest_reactions=[...(null===(r=e.message)||void 0===r?void 0:r.latest_reactions)||[]],c.own_reactions=[...(null===(s=e.message)||void 0===s?void 0:s.own_reactions)||[]],o[a]=Object.assign({},c),i?this.activeThreadMessagesSubject.next([...o]):this.activeChannelMessagesSubject.next([...o])}))}formatMessage(e){const t=e;return t.pinned_at=e.pinned_at?new Date(e.pinned_at):null,t.created_at=e.created_at?new Date(e.created_at):new Date,t.updated_at=e.updated_at?new Date(e.updated_at):new Date,e.status=e.status||"received",t}isStreamMessage(e){return!!e.readBy}isFormatMessageResponse(e){return e.created_at instanceof Date}stopWatchForActiveChannelEvents(e){e&&(this.activeChannelSubscriptions.forEach((e=>e.unsubscribe())),this.activeChannelSubscriptions=[])}queryChannels(e,t=!1){var n,r;return(0,s.kH)(this,void 0,void 0,(function*(){try{let r,s;this.channelQueryStateSubject.next({state:"in-progress"}),this.nextPageConfiguration?"filter"===this.nextPageConfiguration.type?(r=Object.assign(Object.assign({},this.filters),this.nextPageConfiguration.paginationFilter),s=this.options):(s=Object.assign(Object.assign({},this.options),{offset:this.nextPageConfiguration.offset}),r=this.filters):(r=this.filters,s=this.options);const i=yield this.chatClientService.chatClient.queryChannels(r,this.sort||{},s);this.setNextPageConfiguration(i),i.forEach((e=>this.watchForChannelEvents(e)));const o=t?[]:this.channelsSubject.getValue()||[],a=i.filter((e=>!o.find((t=>t.cid===e.cid))));this.channelsSubject.next([...o,...a]);let c=this.activeChannelSubject.getValue();return a.length>0&&!c&&e&&(this.setAsActiveChannel(a[0]),c=this.activeChannelSubject.getValue()),t&&!a.find((e=>e.cid===(null==c?void 0:c.cid)))&&this.deselectActiveChannel(),this.hasMoreChannelsSubject.next(i.length>=this.options.limit),this.channelQueryStateSubject.next({state:"success"}),(null===(n=this.options)||void 0===n?void 0:n.keepAliveChannels$OnError)&&this.dismissErrorNotification&&this.dismissErrorNotification(),i}catch(e){throw(null===(r=this.options)||void 0===r?void 0:r.keepAliveChannels$OnError)||this.channelsSubject.error(e),this.channelQueryStateSubject.next({state:"error",error:e}),e}}))}watchForChannelEvents(e){const t=e.on((t=>{switch(t.type){case"message.new":this.ngZone.run((()=>{this.customNewMessageHandler?this.customNewMessageHandler(t,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleNewMessage(t,e)}));break;case"channel.hidden":this.ngZone.run((()=>{this.customChannelHiddenHandler?this.customChannelHiddenHandler(t,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelHidden(t)}));break;case"channel.deleted":this.ngZone.run((()=>{this.customChannelDeletedHandler?this.customChannelDeletedHandler(t,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelDeleted(t)}));break;case"channel.visible":this.ngZone.run((()=>{this.customChannelVisibleHandler?this.customChannelVisibleHandler(t,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelVisible(t,e)}));break;case"channel.updated":this.ngZone.run((()=>{this.customChannelUpdatedHandler?this.customChannelUpdatedHandler(t,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelUpdate(t)}));break;case"channel.truncated":this.ngZone.run((()=>{this.customChannelTruncatedHandler?this.customChannelTruncatedHandler(t,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelTruncate(t)}));break;case"capabilities.changed":this.ngZone.run((()=>{var e;const n=t.cid;if(n){const t=this.channelsSubject.getValue(),r=null==t?void 0:t.findIndex((e=>e.cid===n));-1!==r&&void 0!==r&&(this.channelsSubject.next([...t]),n===(null===(e=this.activeChannelSubject.getValue())||void 0===e?void 0:e.cid)&&this.activeChannelSubject.next(this.activeChannelSubject.getValue()))}}))}}));this.channelSubscriptions[e.cid]=t.unsubscribe}handleNewMessage(e,t){const n=this.channels.findIndex((e=>e.cid===t.cid));this.channels.splice(n,1),this.channelsSubject.next([t,...this.channels])}handleChannelHidden(e){this.removeChannelsFromChannelList([e.channel.cid],!1)}handleChannelDeleted(e){this.removeChannelsFromChannelList([e.channel.cid],!1)}handleChannelVisible(e,t){this.channels.find((t=>t.cid===e.cid))||this.ngZone.run((()=>this.channelsSubject.next([...this.channels,t])))}handleChannelUpdate(e){var t,n,r,s;const i=this.channels.findIndex((t=>t.cid===e.channel.cid));if(-1!==i){const o=this.channels[i],a={hidden:(null===(t=o.data)||void 0===t?void 0:t.hidden)||!1,own_capabilities:(null===(n=o.data)||void 0===n?void 0:n.own_capabilities)||[]};o.data=Object.assign(Object.assign({},e.channel),a),this.channelsSubject.next([...this.channels]),(null===(r=e.channel)||void 0===r?void 0:r.cid)===(null===(s=this.activeChannelSubject.getValue())||void 0===s?void 0:s.cid)&&this.activeChannelSubject.next(o)}}handleChannelTruncate(e){var t,n;const r=this.channels.findIndex((t=>t.cid===e.channel.cid));if(-1!==r&&(this.channels[r].state.messages=[],this.channelsSubject.next([...this.channels]),(null===(t=e.channel)||void 0===t?void 0:t.cid)===(null===(n=this.activeChannelSubject.getValue())||void 0===n?void 0:n.cid))){const e=this.activeChannelSubject.getValue();e.state.messages=[],this.activeChannelSubject.next(e),this.activeChannelMessagesSubject.next([]),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([])}}get canSendReadEvents(){var e;const t=this.activeChannelSubject.getValue();return!!t&&-1!==(null===(e=t.data)||void 0===e?void 0:e.own_capabilities).indexOf("read-events")}transformToStreamMessage(e,t){const n=!!e.parent_id;return this.isStreamMessage(e)&&this.isFormatMessageResponse(e)?(e.quoted_message&&(e.quoted_message.translation=ci(e.quoted_message,t,this.chatClientService.chatClient.user)),e.translation=ci(e,t,this.chatClientService.chatClient.user),e):(e.quoted_message&&(e.quoted_message.translation=ci(e.quoted_message,t,this.chatClientService.chatClient.user)),this.isFormatMessageResponse(e)?(e.readBy=n?[]:t?li(e,t):[],e.translation=ci(e,t,this.chatClientService.chatClient.user),e):((e=this.formatMessage(e)).readBy=n?[]:t?li(e,t):[],e.translation=ci(e,t,this.chatClientService.chatClient.user),e))}handleTypingStartEvent(e){var t,n;if((null===(t=e.user)||void 0===t?void 0:t.id)===(null===(n=this.chatClientService.chatClient.user)||void 0===n?void 0:n.id))return;const r=!!e.parent_id;if(r&&e.parent_id!==this.activeParentMessageIdSubject.getValue())return;const s=r?this.usersTypingInThreadSubject:this.usersTypingInChannelSubject,i=s.getValue(),o=e.user;o&&!i.find((e=>e.id===o.id))&&(i.push(o),s.next([...i]))}handleTypingStopEvent(e){const t=this.usersTypingInChannelSubject.getValue(),n=this.usersTypingInThreadSubject.getValue(),r=e.user;return r&&t.find((e=>e.id===r.id))?(t.splice(t.findIndex((e=>e.id===r.id)),1),void this.usersTypingInChannelSubject.next([...t])):r&&n.find((e=>e.id===r.id))?(n.splice(n.findIndex((e=>e.id===r.id)),1),void this.usersTypingInThreadSubject.next([...n])):void 0}updateLatestMessages(e){var t,n,r,s,i,o,a;if((null===(n=null===(t=e.message)||void 0===t?void 0:t.user)||void 0===n?void 0:n.id)!==(null===(s=null===(r=this.chatClientService)||void 0===r?void 0:r.chatClient.user)||void 0===s?void 0:s.id))return;const c=this.latestMessageDateByUserByChannelsSubject.getValue();if(!(null===(i=e.message)||void 0===i?void 0:i.created_at))return;const l=null===(o=null==e?void 0:e.message)||void 0===o?void 0:o.cid;if(!l)return;const u=new Date(e.message.created_at);(!c[l]||(null===(a=c[l])||void 0===a?void 0:a.getTime())<u.getTime())&&(c[l]=u,this.latestMessageDateByUserByChannelsSubject.next(Object.assign({},c)))}setChannelState(e){e.state.messages.forEach((t=>{t.readBy=li(t,e),t.translation=ci(t,e,this.chatClientService.chatClient.user),t.quoted_message&&(t.quoted_message.translation=ci(t.quoted_message,e,this.chatClientService.chatClient.user))})),this.markRead(e),this.activeChannelMessagesSubject.next([...e.state.messages]),this.activeChannelPinnedMessagesSubject.next([...e.state.pinnedMessages]),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]),this.messageToQuoteSubject.next(void 0),this.usersTypingInChannelSubject.next([]),this.usersTypingInThreadSubject.next([])}markRead(e){this.canSendReadEvents&&this.shouldMarkActiveChannelAsRead&&e.markRead()}setNextPageConfiguration(e){var t;this.customPaginator?this.nextPageConfiguration=this.customPaginator(e):this.nextPageConfiguration={type:"offset",offset:("offset"===(null===(t=this.nextPageConfiguration)||void 0===t?void 0:t.type)?this.nextPageConfiguration.offset:0)+e.length}}}ui.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ui,deps:[{token:ai},{token:i.NgZone},{token:oi}],target:i["ɵɵFactoryTarget"].Injectable}),ui.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ui,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ui,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:ai},{type:i.NgZone},{type:oi}]}});class hi{constructor(){this.theme$=new o.g("light"),this.defaultDarkModeVariables={"--bg-gradient-end":"#101214","--bg-gradient-start":"#070a0d","--black":"#ffffff","--blue-alice":"#00193d","--border":"#141924","--button-background":"#ffffff","--button-text":"#005fff","--grey":"#7a7a7a","--grey-gainsboro":"#2d2f2f","--grey-whisper":"#1c1e22","--modal-shadow":"#000000","--overlay":"#00000066","--overlay-dark":"#ffffffcc","--shadow-icon":"#00000080","--targetedMessageBackground":"#302d22","--transparent":"transparent","--white":"#101418","--white-smoke":"#13151b","--white-snow":"#070a0d"},this.variablesToDelete=[],this.theme$.subscribe((e=>{const t=this.customDarkThemeVariables?Object.assign(Object.assign({},this.defaultDarkModeVariables),this.customDarkThemeVariables):this.defaultDarkModeVariables,n=this.customLightThemeVariables?this.customLightThemeVariables:{};this.variablesToDelete.forEach((e=>this.deleteVariables(e))),"dark"===e?(this.deleteVariables(n),this.setVariables(t)):(this.deleteVariables(t),this.setVariables(n))})),this.themeVersion=getComputedStyle(document.documentElement).getPropertyValue("--str-chat__theme-version").replace(" ","")||"1"}get customLightThemeVariables(){return this._customLightThemeVariables}set customLightThemeVariables(e){const t=this.customLightThemeVariables;t&&this.variablesToDelete.push(t),this._customLightThemeVariables=e,"light"===this.theme$.getValue()&&this.theme$.next("light")}get customDarkThemeVariables(){return this._customDarkThemeVariables}set customDarkThemeVariables(e){const t=this.customDarkThemeVariables;t&&this.variablesToDelete.push(t),this._customDarkThemeVariables=e,"dark"===this.theme$.getValue()&&this.theme$.next("dark")}deleteVariables(e){e&&Object.keys(e).forEach((e=>document.documentElement.style.setProperty(e,null)))}setVariables(e){e&&Object.keys(e).forEach((t=>document.documentElement.style.setProperty(t,e[t])))}}hi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:hi,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),hi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:hi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:hi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});const pi=e=>e.type.startsWith("image/")&&!e.type.endsWith(".photoshop"),di=e=>"image"===e.type&&!e.title_link&&!e.og_scrape_url;class gi{constructor(e,t){this.channelService=e,this.notificationService=t,this.attachmentUploadInProgressCounterSubject=new o.g(0),this.attachmentUploadsSubject=new o.g([]),this.attachmentUploadInProgressCounter$=this.attachmentUploadInProgressCounterSubject.asObservable(),this.attachmentUploads$=this.attachmentUploadsSubject.asObservable()}resetAttachmentUploads(){this.attachmentUploadsSubject.next([])}filesSelected(e){return(0,s.kH)(this,void 0,void 0,(function*(){if(!e)return;const t=[],n=[],r=[];Array.from(e).forEach((e=>{pi(e)?t.push(e):e.type.startsWith("video/")?r.push(e):n.push(e)})),t.forEach((e=>this.createPreview(e)));const s=[...t.map((e=>({file:e,state:"uploading",type:"image"}))),...r.map((e=>({file:e,state:"uploading",type:"video"}))),...n.map((e=>({file:e,state:"uploading",type:"file"})))];this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...s]),yield this.uploadAttachments(s)}))}addAttachment(e){e.isCustomAttachment=!0,this.createFromAttachments([e])}retryAttachmentUpload(e){return(0,s.kH)(this,void 0,void 0,(function*(){const t=this.attachmentUploadsSubject.getValue(),n=t.find((t=>t.file===e));n&&(n.state="uploading",this.attachmentUploadsSubject.next([...t]),yield this.uploadAttachments([n]))}))}deleteAttachment(e){var t;return(0,s.kH)(this,void 0,void 0,(function*(){const n=this.attachmentUploadsSubject.getValue();let r;if("success"!==e.state||(null===(t=e.fromAttachment)||void 0===t?void 0:t.isCustomAttachment)){r=[...n];const t=n.indexOf(e);r.splice(t,1)}else try{yield this.channelService.deleteAttachment(e),r=[...n];const t=n.indexOf(e);r.splice(t,1)}catch(e){r=n,this.notificationService.addTemporaryNotification("streamChat.Error deleting attachment")}this.attachmentUploadsSubject.next([...r])}))}mapToAttachments(){return this.attachmentUploadsSubject.getValue().filter((e=>"success"===e.state)).map((e=>{var t,n,r,s;const i={type:e.type};return e.fromAttachment?e.fromAttachment:(i.mime_type=null===(t=e.file)||void 0===t?void 0:t.type,"image"===e.type?(i.fallback=null===(n=e.file)||void 0===n?void 0:n.name,i.image_url=e.url):(i.asset_url=e.url,i.title=null===(r=e.file)||void 0===r?void 0:r.name,i.file_size=null===(s=e.file)||void 0===s?void 0:s.size,i.thumb_url=e.thumb_url),i)}))}createFromAttachments(e){const t=[];e.forEach((e=>{di(e)?t.push({url:e.img_url||e.thumb_url||e.image_url,state:"success",type:"image",file:{name:e.fallback,type:e.mime_type},fromAttachment:e}):"file"!==e.type&&"video"!==e.type||t.push({url:e.asset_url,state:"success",file:{name:e.title,size:e.file_size,type:e.mime_type},type:e.type,thumb_url:e.thumb_url,fromAttachment:e})})),t.length>0&&this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...t])}createPreview(e){const t=new FileReader;t.onload=t=>{var n;const r=this.attachmentUploadsSubject.getValue(),s=r.find((t=>t.file===e));s&&(s.previewUri=(null===(n=t.target)||void 0===n?void 0:n.result)||void 0,this.attachmentUploadsSubject.next([...r]))},t.readAsDataURL(e)}uploadAttachments(e){return(0,s.kH)(this,void 0,void 0,(function*(){this.attachmentUploadInProgressCounterSubject.next(this.attachmentUploadInProgressCounterSubject.getValue()+1);const t=yield this.channelService.uploadAttachments(e),n=this.attachmentUploadsSubject.getValue();t.forEach((e=>{var t,r,s,i;const o=n.find((t=>t.file===e.file));if(o){if(o.state=e.state,o.url=e.url,o.thumb_url=e.thumb_url,"error"===o.state){let n;o.errorReason=e.errorReason,o.errorExtraInfo=e.errorExtraInfo;const a={name:o.file.name};switch(o.errorReason){case"file-extension":n="streamChat.Error uploading file, extension not supported",a.ext=null===(r=null===(t=o.errorExtraInfo)||void 0===t?void 0:t[0])||void 0===r?void 0:r.param;break;case"file-size":n="streamChat.Error uploading file, maximum file size exceeded",a.limit=null===(i=null===(s=o.errorExtraInfo)||void 0===s?void 0:s[0])||void 0===i?void 0:i.param;break;default:n="streamChat.Error uploading file"}this.notificationService.addTemporaryNotification(n,"error",void 0,a)}}else e.url&&this.channelService.deleteAttachment(e)})),this.attachmentUploadInProgressCounterSubject.next(this.attachmentUploadInProgressCounterSubject.getValue()-1),this.attachmentUploadsSubject.next([...n])}))}}gi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:gi,deps:[{token:ui},{token:oi}],target:i["ɵɵFactoryTarget"].Injectable}),gi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:gi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:gi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:ui},{type:oi}]}});class mi{constructor(){this.shouldGenerateVideoThumbnail=!0}getImageAttachmentConfiguration(e,t,n){if(this.customImageAttachmentConfigurationHandler)return this.customImageAttachmentConfigurationHandler(e,t,n);const r=new URL(e.img_url||e.thumb_url||e.image_url||""),s=Number(r.searchParams.get("oh"))>1?Number(r.searchParams.get("oh")):1e6,i=Number(r.searchParams.get("ow"))>1?Number(r.searchParams.get("ow")):1e6,o="gallery"===t||"single"===t,a=this.getSizingRestrictions(r,n,o);return a&&(a.height*=2,a.width*=2,this.addResizingParamsToUrl(a,r)),{url:r.href,width:"",height:"",originalHeight:s,originalWidth:i}}getVideoAttachmentConfiguration(e,t){if(this.customVideoAttachmentConfigurationHandler)return this.customVideoAttachmentConfigurationHandler(e,t);let n,r=1e6,s=1e6;if(e.thumb_url&&this.shouldGenerateVideoThumbnail){const i=new URL(e.thumb_url);r=Number(i.searchParams.get("oh"))>1?Number(i.searchParams.get("oh")):r,s=Number(i.searchParams.get("ow"))>1?Number(i.searchParams.get("ow")):s;const o=!0,a=this.getSizingRestrictions(i,t,o);a&&(a.height*=2,a.width*=2,this.addResizingParamsToUrl(a,i)),n=i.href}return{url:e.asset_url||"",width:"",height:"",thumbUrl:n,originalHeight:r,originalWidth:s}}getGiphyAttachmentConfiguration(e){var t;if(this.customGiphyAttachmentConfigurationHandler)return this.customGiphyAttachmentConfigurationHandler(e);const n=null===(t=e.giphy)||void 0===t?void 0:t.fixed_height_downsampled;return{url:(null==n?void 0:n.url)||e.image_url||e.thumb_url||"",height:(null==n?void 0:n.height)?`${null==n?void 0:n.height}px`:"300px",width:(null==n?void 0:n.width)?`${null==n?void 0:n.width}px`:""}}getScrapedImageAttachmentConfiguration(e){return this.customScrapedImageAttachmentConfigurationHandler?this.customScrapedImageAttachmentConfigurationHandler(e):{url:e.image_url||e.thumb_url||"",width:"",height:""}}addResizingParamsToUrl(e,t){t.searchParams.set("h",e.height.toString()),t.searchParams.set("w",e.width.toString())}getSizingRestrictions(e,t,n=!1){const r=e.searchParams,s=Number(r.get("oh"))||1,i=Number(r.get("ow"))||1,o=this.getCSSSizeRestriction(t);let a;return(o.maxHeight||o.height)&&o.maxWidth?a=this.getSizeRestrictions(s,i,o.maxHeight||o.height,o.maxWidth):(a=void 0,n&&console.warn("Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/angular/components/AttachmentListComponent/#image-and-video-sizing")),a}getSizeRestrictions(e,t,n,r){return{height:Math.round(Math.max(n,r/t*e)),width:Math.round(Math.max(n,r/e*t))}}getCSSSizeRestriction(e){const t=getComputedStyle(e);return{height:this.getValueRepresentationOfCSSProperty(t.getPropertyValue("height")),maxHeight:this.getValueRepresentationOfCSSProperty(t.getPropertyValue("max-height")),maxWidth:this.getValueRepresentationOfCSSProperty(t.getPropertyValue("max-width"))}}getValueRepresentationOfCSSProperty(e){return Number(e.replace("px",""))||void 0}}mi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:mi,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),mi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:mi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:mi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}]});const fi={"1 reply":"1 reply","Attach files":"Attach files",Cancel:"Cancel","Channel Missing":"Channel Missing",Close:"Close","Close emoji picker":"Close emoji picker","Commands matching":"Commands matching","Connection failure, reconnecting now...":"Connection failure, reconnecting now...",Delete:"Delete",Delivered:"Delivered","Edit Message":"Edit Message","Edit message request failed":"Edit message request failed","Emoji matching":"Emoji matching","Empty message...":"Empty message...","Error adding flag":"Error adding flag","Error connecting to chat, refresh the page to try again.":"Error connecting to chat, refresh the page to try again","Error deleting message":"Error deleting message","Error muting a user ...":"Error muting a user ...","Error pinning message":"Error pinning message","Error removing message pin":"Error removing message pin","Error unmuting a user ...":"Error unmuting a user ...","Error uploading file":'Error uploading file "{{ name }}"',"Error uploading file, maximum file size exceeded":'Error uploading "{{ name }}", maximum file size {{ limit }} exceeded',"Error uploading file, extension not supported":'Error uploading "{{ name }}", type {{ ext }} not supported',"Error deleting attachment":"Error deleting attachment","Error · Unsent":"Message couldn't be sent","Error: {{ errorMessage }}":"Error: {{ errorMessage }}",Flag:"Flag","Message Failed":"Message Failed","Message Failed · Unauthorized":"Unauthorized to send message","Message Failed · Click to try again":"Message couldn't be sent, click to try again","Message deleted":"Message deleted","Message has been successfully flagged":"Message has been successfully flagged","Message pinned":"Message pinned","Message unpinned":"Message unpinned",Mute:"Mute",New:"New","New Messages!":"New Messages!","No results found":"No results found","Nothing yet...":"Nothing yet...","Only visible to you":"Only visible to you","Open emoji picker":"Open emoji picker","People matching":"People matching","Pick your emoji":"Pick your emoji",Pin:"Pin","Pinned by":"Pinned by",Reply:"Reply","Reply to Message":"Reply to Message",Search:"Search","Searching...":"Searching...",Send:"Send","Send message request failed":"Send message request failed","Sending...":"Sending...","Slow Mode ON":"Slow Mode ON","Start of a new thread":"Start of a new thread","This message was deleted...":"This message was deleted...",Thread:"Thread reply","Type your message":"Type your message",Unmute:"Unmute",Unpin:"Unpin","Wait until all attachments have uploaded":"Wait until all attachments have uploaded","You have no channels currently":"You have no channels currently","You've reached the maximum number of files":"You've reached the maximum number of files",live:"live","this content could not be displayed":"this content could not be displayed","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} and {{ moreCount }} more","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, and {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} and {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} more","{{ memberCount }} members":"{{ memberCount }} members","{{ replyCount }} replies":"{{ replyCount }} replies","{{ user }} has been muted":"{{ user }} has been muted","{{ user }} has been unmuted":"{{ user }} has been unmuted","{{ watcherCount }} online":"{{ watcherCount }} online","🏙 Attachment...":"🏙 Attachment...","Connection error":"Connection error","Load more":"Load more",failed:"failed",retry:"retry",test:"success","Sending links is not allowed in this conversation":"Sending links is not allowed in this conversation","You can't send messages in this channel":"You can't send messages in this channel","You can't send thread replies in this channel":"You can't send thread replies in this channel","Message not found":"Message not found","No chats here yet…":"No chats here yet…","user is typing":"{{ user }} is typing","users are typing":"{{ users }} are typing","Error loading channels":"Error loading channels","See original (automatically translated)":"See original (automatically translated)","See translation":"See translation"};class vi{constructor(e){this.translteService=e}setTranslation(e="en",t){this.translteService.defaultLang||(this.translteService.defaultLang=e),this.translteService.setTranslation(e,{streamChat:Object.assign(Object.assign({},fi),t)},!0)}}vi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:vi,deps:[{token:tr.qS}],target:i["ɵɵFactoryTarget"].Injectable}),vi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:vi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:vi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:tr.qS}]}});class yi{constructor(e,t){this.chatClientService=e,this.ngZone=t,this.size=32,this.showOnlineIndicator=!0,this.initialsType="first-letter-of-first-word",this.isLoaded=!1,this.isError=!1,this.isOnline=!1}ngOnChanges(e){var t,n;if(e.channel)if(this.channel){const e=this.getOtherMemberIfOneToOneChannel();e?(this.isOnline=e.online||!1,this.isOnlineSubscription=this.chatClientService.events$.pipe((0,Hn.I)((e=>"user.presence.changed"===e.eventType))).subscribe((t=>{var n;(null===(n=t.event.user)||void 0===n?void 0:n.id)===e.id&&this.ngZone.run((()=>{var e;this.isOnline=(null===(e=t.event.user)||void 0===e?void 0:e.online)||!1}))}))):null===(t=this.isOnlineSubscription)||void 0===t||t.unsubscribe()}else this.isOnline=!1,null===(n=this.isOnlineSubscription)||void 0===n||n.unsubscribe()}get initials(){var e,t,n,r,s;let i="";if("user"===this.type)i=(null===(e=this.name)||void 0===e?void 0:e.toString())||"";else if("channel"===this.type)if(null===(n=null===(t=this.channel)||void 0===t?void 0:t.data)||void 0===n?void 0:n.name)i=null===(s=null===(r=this.channel)||void 0===r?void 0:r.data)||void 0===s?void 0:s.name;else{const e=this.getOtherMemberIfOneToOneChannel();i=e?e.name||e.id||"":"#"}const o=i.split(" ");let a;return a="first-letter-of-each-word"===this.initialsType?o.map((e=>e.charAt(0)||"")).join(""):o[0].charAt(0)||"",a}get fallbackChannelImage(){if("channel"===this.type){const e=this.getOtherMemberIfOneToOneChannel();return e?e.image:void 0}}getOtherMemberIfOneToOneChannel(){var e,t;const n=Object.values((null===(t=null===(e=this.channel)||void 0===e?void 0:e.state)||void 0===t?void 0:t.members)||{}).filter((e=>{var t;return e.user_id!==(null===(t=this.chatClientService.chatClient.user)||void 0===t?void 0:t.id)}));return 1===n.length?n[0].user:void 0}}yi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:yi,deps:[{token:ai},{token:i.NgZone}],target:i["ɵɵFactoryTarget"].Component}),yi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:yi,selector:"stream-avatar",inputs:{name:"name",imageUrl:"imageUrl",size:"size",location:"location",channel:"channel",user:"user",type:"type",showOnlineIndicator:"showOnlineIndicator",initialsType:"initialsType"},usesOnChanges:!0,ngImport:i,template:"<div\n  class=\"str-chat__avatar str-chat__avatar--circle stream-chat__avatar--{{\n    location\n  }}\"\n  title=\"{{ name }}\"\n  [style]=\"{\n    flexBasis: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')',\n    fontSize:\n      initialsType === 'first-letter-of-first-word'\n        ? 'calc(var(--str-chat__spacing-px, 1px) * ' + size / 2 + ')'\n        : 'calc(var(--str-chat__spacing-px, 1px) * ' + size / 3 + ')',\n    height: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')',\n    lineHeight: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')',\n    width: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')'\n  }\"\n>\n  <img\n    *ngIf=\"(imageUrl || fallbackChannelImage) && !isError; else fallback\"\n    class=\"str-chat__avatar-image str-chat__avatar-image{{\n      isLoaded ? ' str-chat__avatar-image--loaded' : ''\n    }}\"\n    src=\"{{ imageUrl || fallbackChannelImage }}\"\n    alt=\"{{ initials }}\"\n    data-testid=\"avatar-img\"\n    (load)=\"isLoaded = true\"\n    (error)=\"isError = true\"\n    [style]=\"{\n      flexBasis: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')',\n      height: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')',\n      objectFit: 'cover',\n      width: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')'\n    }\"\n  />\n  <ng-template #fallback>\n    <div\n      data-testid=\"fallback-img\"\n      style=\"overflow: hidden; white-space: nowrap; text-overflow: ellipsis\"\n      class=\"str-chat__avatar-fallback\"\n    >\n      {{ initials }}\n    </div>\n  </ng-template>\n  <div\n    data-testid=\"online-indicator\"\n    *ngIf=\"isOnline && showOnlineIndicator\"\n    class=\"str-chat__avatar--online-indicator\"\n  ></div>\n</div>\n",styles:[""],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:yi,decorators:[{type:i.Component,args:[{selector:"stream-avatar",templateUrl:"./avatar.component.html",styleUrls:["./avatar.component.scss"]}]}],ctorParameters:function(){return[{type:ai},{type:i.NgZone}]},propDecorators:{name:[{type:i.Input}],imageUrl:[{type:i.Input}],size:[{type:i.Input}],location:[{type:i.Input}],channel:[{type:i.Input}],user:[{type:i.Input}],type:[{type:i.Input}],showOnlineIndicator:[{type:i.Input}],initialsType:[{type:i.Input}]}});class bi{constructor(){this.mentionAutocompleteItemTemplate$=new o.g(void 0),this.commandAutocompleteItemTemplate$=new o.g(void 0),this.channelPreviewTemplate$=new o.g(void 0),this.messageInputTemplate$=new o.g(void 0),this.mentionTemplate$=new o.g(void 0),this.emojiPickerTemplate$=new o.g(void 0),this.typingIndicatorTemplate$=new o.g(void 0),this.messageTemplate$=new o.g(void 0),this.channelActionsTemplate$=new o.g(void 0),this.attachmentListTemplate$=new o.g(void 0),this.attachmentPreviewListTemplate$=new o.g(void 0),this.avatarTemplate$=new o.g(void 0),this.iconTemplate$=new o.g(void 0),this.loadingIndicatorTemplate$=new o.g(void 0),this.messageActionsBoxTemplate$=new o.g(void 0),this.messageActionsBoxItemTemplate$=new o.g(void 0),this.messageReactionsTemplate$=new o.g(void 0),this.modalTemplate$=new o.g(void 0),this.notificationTemplate$=new o.g(void 0),this.threadHeaderTemplate$=new o.g(void 0),this.deliveredStatusTemplate$=new o.g(void 0),this.sendingStatusTemplate$=new o.g(void 0),this.readStatusTemplate$=new o.g(void 0),this.channelHeaderInfoTemplate$=new o.g(void 0),this.customAttachmentUploadTemplate$=new o.g(void 0),this.imageAttachmentTemplate$=new o.g(void 0),this.videoAttachmentTemplate$=new o.g(void 0),this.galleryAttachmentTemplate$=new o.g(void 0),this.fileAttachmentTemplate$=new o.g(void 0),this.cardAttachmentTemplate$=new o.g(void 0),this.attachmentActionsTemplate$=new o.g(void 0),this.systemMessageTemplate$=new o.g(void 0),this.dateSeparatorTemplate$=new o.g(void 0),this.newMessagesIndicatorTemplate$=new o.g(void 0),this.emptyMainMessageListPlaceholder$=new o.g(void 0),this.emptyThreadMessageListPlaceholder$=new o.g(void 0)}}bi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:bi,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),bi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:bi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:bi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class wi{constructor(e){this.customTemplatesService=e,this.size=32,this.initialsType="first-letter-of-first-word",this.showOnlineIndicator=!0,this.context={name:void 0,imageUrl:void 0,size:void 0,location:void 0,channel:void 0,user:void 0,type:void 0,initialsType:void 0,showOnlineIndicator:void 0}}ngOnChanges(){this.context={name:this.name,imageUrl:this.imageUrl,size:this.size,location:this.location,type:this.type,user:this.user,channel:this.channel,initialsType:this.initialsType,showOnlineIndicator:this.showOnlineIndicator}}}wi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:wi,deps:[{token:bi}],target:i["ɵɵFactoryTarget"].Component}),wi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:wi,selector:"stream-avatar-placeholder",inputs:{name:"name",imageUrl:"imageUrl",size:"size",location:"location",channel:"channel",user:"user",type:"type",initialsType:"initialsType",showOnlineIndicator:"showOnlineIndicator"},usesOnChanges:!0,ngImport:i,template:'<ng-template\n  #defaultAvatar\n  let-name="name"\n  let-imageUrl="imageUrl"\n  let-size="size"\n  let-type="type"\n  let-channel="channel"\n  let-user="user"\n  let-location="location"\n  let-initialsType="initialsType"\n  let-showOnlineIndicator="showOnlineIndicator"\n>\n  <stream-avatar\n    [name]="name"\n    [imageUrl]="imageUrl"\n    [size]="size"\n    [type]="type"\n    [channel]="channel"\n    [user]="user"\n    [location]="location"\n    [initialsType]="initialsType"\n    [showOnlineIndicator]="showOnlineIndicator"\n  ></stream-avatar>\n</ng-template>\n<ng-container\n  *ngTemplateOutlet="\n    (customTemplatesService.avatarTemplate$ | async) || defaultAvatar;\n    context: context\n  "\n></ng-container>\n',components:[{type:yi,selector:"stream-avatar",inputs:["name","imageUrl","size","location","channel","user","type","showOnlineIndicator","initialsType"]}],directives:[{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],pipes:{async:nr.a}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:wi,decorators:[{type:i.Component,args:[{selector:"stream-avatar-placeholder",templateUrl:"./avatar-placeholder.component.html",styles:[]}]}],ctorParameters:function(){return[{type:bi}]},propDecorators:{name:[{type:i.Input}],imageUrl:[{type:i.Input}],size:[{type:i.Input}],location:[{type:i.Input}],channel:[{type:i.Input}],user:[{type:i.Input}],type:[{type:i.Input}],initialsType:[{type:i.Input}],showOnlineIndicator:[{type:i.Input}]}});class Di{constructor(){}}Di.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Di,deps:[],target:i["ɵɵFactoryTarget"].Component}),Di.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Di,selector:"stream-icon",inputs:{icon:"icon",size:"size"},ngImport:i,template:'<svg\n  data-testid="action-icon"\n  *ngIf="icon === \'action-icon\'"\n  height="4"\n  viewBox="0 0 11 4"\n  width="11"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"\n    fillRule="nonzero"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'delivered-icon\'"\n  data-testid="delivered-icon"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M8.9999 16.2L4.7999 12L3.3999 13.4L8.9999 19L20.9999 6.99998L19.5999 5.59998L8.9999 16.2Z"\n    fill="black"\n  />\n</svg>\n\n<svg\n  *ngIf="icon === \'reaction-icon\'"\n  height="12"\n  viewBox="0 0 12 12"\n  width="12"\n  xmlns="http://www.w3.org/2000/svg"\n  data-testid="reaction-icon"\n>\n  <g clipRule="evenodd" fillRule="evenodd">\n    <path\n      d="M6 1.2C3.3 1.2 1.2 3.3 1.2 6c0 2.7 2.1 4.8 4.8 4.8 2.7 0 4.8-2.1 4.8-4.8 0-2.7-2.1-4.8-4.8-4.8zM0 6c0-3.3 2.7-6 6-6s6 2.7 6 6-2.7 6-6 6-6-2.7-6-6z"\n    ></path>\n    <path\n      d="M5.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM8.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM3.3 6.7c.3-.2.6-.1.8.1.3.4.8.9 1.5 1 .6.2 1.4.1 2.4-1 .2-.2.6-.3.8 0 .2.2.3.6 0 .8-1.1 1.3-2.4 1.7-3.5 1.5-1-.2-1.8-.9-2.2-1.5-.2-.3-.1-.7.2-.9z"\n    ></path>\n  </g>\n</svg>\n<svg\n  data-testid="connection-error"\n  *ngIf="icon === \'connection-error\'"\n  width="78px"\n  height="78px"\n  viewBox="0 0 78 78"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink"\n>\n  \x3c!-- Generator: Sketch 52.6 (67491) - http://www.bohemiancoding.com/sketch --\x3e\n  <title>Combined Shape</title>\n  <desc>Created with Sketch.</desc>\n  <g\n    id="Interactions"\n    stroke="none"\n    stroke-width="1"\n    fill="none"\n    fill-rule="evenodd"\n  >\n    <g\n      id="Connection-Error-_-Connectivity"\n      transform="translate(-270.000000, -30.000000)"\n      fill="#CF1F25"\n    >\n      <g\n        id="109-network-connection"\n        transform="translate(270.000000, 30.000000)"\n      >\n        <path\n          d="M66.4609744,11.414231 C81.6225232,26.5757798 81.6225232,51.157545 66.4609744,66.3188467 C51.2994256,81.4803954 26.7176604,81.4803954 11.5563587,66.3188467 C-3.60519004,51.1572979 -3.60519004,26.5755327 11.5563587,11.414231 C26.7179075,-3.74731776 51.2996727,-3.74731776 66.4609744,11.414231 Z M54.7853215,45.8823776 L54.7853215,40.5882574 C54.7853215,39.613638 53.9952341,38.8235506 53.0206147,38.8235506 L44.9576695,38.8235506 L41.428256,42.3529641 L51.255555,42.3529641 L51.255555,45.8823776 L54.7853215,45.8823776 Z M40.6659027,43.1153174 L37.8988425,45.8823776 L40.6659027,45.8823776 L40.6659027,43.1153174 Z M51.1764962,56.4702653 L58.2353232,56.4702653 C59.2099355,56.4702653 60.00003,55.6801708 60.00003,54.7055585 L60.00003,51.176145 C60.00003,50.2015327 59.2099355,49.4114382 58.2353232,49.4114382 L51.1764962,49.4114382 C50.2018839,49.4114382 49.4117894,50.2015327 49.4117894,51.176145 L49.4117894,54.7055585 C49.4117894,55.6801708 50.2018839,56.4702653 51.1764962,56.4702653 Z M35.2941353,56.4702653 L42.3529624,56.4702653 C43.3275746,56.4702653 44.1176691,55.6801708 44.1176691,54.7055585 L44.1176691,51.176145 C44.1176691,50.2015327 43.3275746,49.4114382 42.3529624,49.4114382 L35.2941353,49.4114382 C34.319523,49.4114382 33.5294285,50.2015327 33.5294285,51.176145 L33.5294285,54.7055585 C33.5294285,55.6801708 34.319523,56.4702653 35.2941353,56.4702653 Z M56.6964989,19.0874231 C56.007381,18.3985134 54.8903216,18.3985134 54.2012036,19.087423 L45.882376,27.4062507 L45.882376,19.4117761 C45.882376,18.4371568 45.0922885,17.6470693 44.1176692,17.6470693 L33.5294286,17.6470693 C32.5548092,17.6470694 31.7647218,18.4371568 31.7647218,19.4117761 L31.7647218,30.0000167 C31.7647219,30.9746363 32.5548092,31.7647237 33.5294285,31.7647237 L41.5239031,31.7647237 L34.4650761,38.8235508 L24.7058947,38.8235508 C23.7312753,38.8235508 22.9411879,39.6136382 22.9411879,40.5882575 L22.9411879,45.8823778 L26.4706014,45.8823778 L26.4706014,42.3529643 L30.9356624,42.3529643 L23.8768354,49.4117914 L19.4117743,49.4117914 C18.4371549,49.4117914 17.6470675,50.2018788 17.6470675,51.1764981 L17.6470675,54.7059117 C17.6504049,54.9674302 17.7129076,55.2248042 17.8298886,55.4587302 L16.4456526,56.8429662 C15.7446193,57.5200453 15.7252005,58.6372282 16.4022825,59.3382615 C17.0793616,60.0392948 18.1965445,60.0587136 18.8975778,59.3816316 C18.9122847,59.3674273 18.9267436,59.3529684 18.940948,59.3382615 L56.6964963,21.5830662 C57.3856425,20.8939094 57.3856425,19.7765747 56.6964963,19.0874179 Z"\n          id="Combined-Shape"\n        ></path>\n      </g>\n    </g>\n  </g>\n</svg>\n<svg\n  *ngIf="icon === \'send\'"\n  data-testid="send"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <title translate>streamChat.Send</title>\n  <path\n    d="M4.00952 22L24 12L4.00952 2L4 9.77778L18.2857 12L4 14.2222L4.00952 22Z"\n    fill="black"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'file-upload\'"\n  data-testid="file-upload"\n  height="14"\n  width="14"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <title translate>streamChat.Attach files</title>\n  <path\n    d="M1.667.333h10.666c.737 0 1.334.597 1.334 1.334v10.666c0 .737-.597 1.334-1.334 1.334H1.667a1.333 1.333 0 0 1-1.334-1.334V1.667C.333.93.93.333 1.667.333zm2 1.334a1.667 1.667 0 1 0 0 3.333 1.667 1.667 0 0 0 0-3.333zm-2 9.333v1.333h10.666v-4l-2-2-4 4-2-2L1.667 11z"\n    fillRule="nonzero"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'retry\'"\n  data-testid="retry"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M17.6449 6.35C16.1949 4.9 14.2049 4 11.9949 4C7.57488 4 4.00488 7.58 4.00488 12C4.00488 16.42 7.57488 20 11.9949 20C15.7249 20 18.8349 17.45 19.7249 14H17.6449C16.8249 16.33 14.6049 18 11.9949 18C8.68488 18 5.99488 15.31 5.99488 12C5.99488 8.69 8.68488 6 11.9949 6C13.6549 6 15.1349 6.69 16.2149 7.78L12.9949 11H19.9949V4L17.6449 6.35Z"\n    fill="black"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'close\'"\n  data-testid="close"\n  width="28"\n  height="28"\n  viewBox="0 0 28 28"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <rect width="28" height="28" rx="14" fill="#72767E" />\n  <circle cx="14" cy="14" r="12" fill="#72767E" />\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14ZM26 14C26 20.6274 20.6274 26 14 26C7.37258 26 2 20.6274 2 14C2 7.37258 7.37258 2 14 2C20.6274 2 26 7.37258 26 14ZM19.59 7L21 8.41L15.41 14L21 19.59L19.59 21L14 15.41L8.41 21L7 19.59L12.59 14L7 8.41L8.41 7L14 12.59L19.59 7Z"\n    fill="white"\n  />\n</svg>\n\n<svg\n  *ngIf="icon === \'file\'"\n  data-testid="file"\n  className="rfu-file-icon--small fa-file-fallback"\n  [attr.height]="size || 20"\n  [attr.width]="size || 20"\n  xmlns="http://www.w3.org/2000/svg"\n  viewBox="0 0 384 512"\n>\n  <path\n    d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"\n    fill="#414D54"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'unspecified-filetype\'"\n  data-testid="unspecified-filetype"\n  width="34"\n  height="40"\n  viewBox="0 0 34 40"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z"\n    fill="url(#paint0_linear)"\n  />\n  <path d="M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z" fill="#DBDBDB" />\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M8 13H23V15H8V13Z"\n    fill="#CFCFCF"\n  />\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M8 17H18V19H8V17Z"\n    fill="#CFCFCF"\n  />\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M8 21H23V23H8V21Z"\n    fill="#CFCFCF"\n  />\n  <defs>\n    <linearGradient\n      id="paint0_linear"\n      x1="0"\n      y1="0"\n      x2="0"\n      y2="40"\n      gradientUnits="userSpaceOnUse"\n    >\n      <stop stop-color="white" />\n      <stop offset="1" stop-color="#DBDBDB" />\n    </linearGradient>\n  </defs>\n</svg>\n<svg\n  *ngIf="icon === \'reply\'"\n  data-testid="reply"\n  height="15"\n  width="18"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M.56 10.946H.06l-.002-.498L.025.92a.5.5 0 1 1 1-.004l.032 9.029H9.06v-4l9 4.5-9 4.5v-4H.56z"\n    fillRule="nonzero"\n  />\n</svg>\n<svg\n  data-testid="close-no-outline"\n  *ngIf="icon === \'close-no-outline\'"\n  viewBox="0 0 24 24"\n  width="24"\n  height="24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"\n    fill="black"\n  />\n</svg>\n<svg\n  height="10"\n  width="14"\n  xmlns="http://www.w3.org/2000/svg"\n  data-testid="reply-in-thread"\n  *ngIf="icon === \'reply-in-thread\'"\n>\n  <path\n    d="M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z"\n    fillRule="evenodd"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'arrow-left\'"\n  data-testid="arrow-left"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M15.7049 7.41L14.2949 6L8.29492 12L14.2949 18L15.7049 16.59L11.1249 12L15.7049 7.41Z"\n    fill="var(--black)"\n  />\n</svg>\n\n<svg\n  *ngIf="icon === \'arrow-right\'"\n  data-testid="arrow-right"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z"\n    fill="var(--black)"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'menu\'"\n  data-testid="menu"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    fill-rule="evenodd"\n    clip-rule="evenodd"\n    d="M3 8V6H21V8H3ZM3 13H21V11H3V13ZM3 18H21V16H3V18Z"\n    fill="black"\n  />\n</svg>\n\n<svg\n  data-testid="arrow-up"\n  *ngIf="icon === \'arrow-up\'"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M16.59 15.7051L12 11.1251L7.41 15.7051L6 14.2951L12 8.29508L18 14.2951L16.59 15.7051Z"\n    fill="var(--primary-color)"\n  />\n</svg>\n<svg\n  data-testid="arrow-down"\n  *ngIf="icon === \'arrow-down\'"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M7.41 8.29504L12 12.875L16.59 8.29504L18 9.70504L12 15.705L6 9.70504L7.41 8.29504Z"\n    fill="var(--primary-color)"\n  />\n</svg>\n<svg\n  data-testid="chat-bubble"\n  *ngIf="icon === \'chat-bubble\'"\n  viewBox="0 0 136 136"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M106 24.5H30C24.775 24.5 20.5 28.775 20.5 34V119.5L39.5 100.5H106C111.225 100.5 115.5 96.225 115.5 91V34C115.5 28.775 111.225 24.5 106 24.5ZM106 91H39.5L30 100.5V34H106V91Z"\n    fill="#B4B7BB"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'attach\'"\n  data-testid="attach"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g clip-path="url(#clip0_10878_5)">\n    <path\n      d="M12.9997 6.99993L10.9997 6.99993L10.9997 10.9999L6.99972 10.9999L6.99972 12.9999L10.9997 12.9999L10.9997 16.9999L12.9997 16.9999L12.9997 12.9999L16.9997 12.9999L16.9997 10.9999L12.9997 10.9999L12.9997 6.99993ZM11.9997 1.99992C6.47972 1.99992 1.99972 6.47993 1.99972 11.9999C1.99972 17.5199 6.47972 21.9999 11.9997 21.9999C17.5197 21.9999 21.9997 17.5199 21.9997 11.9999C21.9997 6.47993 17.5197 1.99992 11.9997 1.99992ZM11.9997 19.9999C7.58972 19.9999 3.99972 16.4099 3.99972 11.9999C3.99972 7.58993 7.58972 3.99993 11.9997 3.99993C16.4097 3.99993 19.9997 7.58993 19.9997 11.9999C19.9997 16.4099 16.4097 19.9999 11.9997 19.9999Z"\n      fill="black"\n    />\n  </g>\n  <defs>\n    <clipPath id="clip0_10878_5">\n      <rect width="24" height="24" fill="white" />\n    </clipPath>\n  </defs>\n</svg>\n<svg\n  *ngIf="icon === \'download\'"\n  data-testid="download"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z"\n    fill="black"\n  />\n</svg>\n<svg\n  *ngIf="icon === \'error\'"\n  data-testid="error"\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    id="background"\n    d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z"\n    fill="black"\n  />\n  <path d="M13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="white" />\n</svg>\n',directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:tr.eM,selector:"[translate],[ngx-translate]",inputs:["translate","translateParams"]}]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Di,decorators:[{type:i.Component,args:[{selector:"stream-icon",templateUrl:"./icon.component.html",styles:[]}]}],ctorParameters:function(){return[]},propDecorators:{icon:[{type:i.Input}],size:[{type:i.Input}]}});class Ci{constructor(e){this.customTemplatesService=e,this.iconContext={icon:void 0,size:void 0}}ngOnChanges(){this.iconContext={icon:this.icon,size:this.size}}}Ci.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ci,deps:[{token:bi}],target:i["ɵɵFactoryTarget"].Component}),Ci.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Ci,selector:"stream-icon-placeholder",inputs:{icon:"icon",size:"size"},usesOnChanges:!0,ngImport:i,template:'<ng-template #defaultIcon let-icon="icon" let-size="size">\n  <stream-icon [icon]="icon" [size]="size"></stream-icon>\n</ng-template>\n<ng-container\n  *ngTemplateOutlet="\n    (customTemplatesService.iconTemplate$ | async) || defaultIcon;\n    context: iconContext\n  "\n></ng-container>\n',components:[{type:Di,selector:"stream-icon",inputs:["icon","size"]}],directives:[{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],pipes:{async:nr.a}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ci,decorators:[{type:i.Component,args:[{selector:"stream-icon-placeholder",templateUrl:"./icon-placeholder.component.html",styles:[]}]}],ctorParameters:function(){return[{type:bi}]},propDecorators:{icon:[{type:i.Input}],size:[{type:i.Input}]}});class _i{constructor(){this.size=15,this.color="var(--str-chat__loading-indicator-color, var(--str-chat__primary-color, '#006CFF'))",this.linearGradientId=er()}}_i.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:_i,deps:[],target:i["ɵɵFactoryTarget"].Component}),_i.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:_i,selector:"stream-loading-indicator",inputs:{size:"size",color:"color"},ngImport:i,template:'<div class="str-chat__loading-indicator">\n  <svg\n    [attr.height]="size"\n    viewBox="0 0 30 30"\n    [attr.width]="size"\n    data-testid="loading-indicator"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <defs>\n      <linearGradient\n        id="{{ linearGradientId }}"\n        x1="50%"\n        x2="50%"\n        y1="0%"\n        y2="100%"\n      >\n        <stop offset="0%" stop-color="#FFF" stop-opacity="0" />\n        <stop\n          data-testid="stop-color"\n          offset="100%"\n          [attr.stop-color]="color"\n          stop-opacity="1"\n          [ngStyle]="{ stopColor: color }"\n        />\n      </linearGradient>\n    </defs>\n    <path\n      d="M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z"\n      [attr.fill]="\'url(#\' + linearGradientId + \')\'"\n      fillRule="evenodd"\n    />\n  </svg>\n</div>\n',directives:[{type:nr.Qt,selector:"[ngStyle]",inputs:["ngStyle"]}]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:_i,decorators:[{type:i.Component,args:[{selector:"stream-loading-indicator",templateUrl:"./loading-indicator.component.html",styles:[]}]}],ctorParameters:function(){return[]},propDecorators:{size:[{type:i.Input}],color:[{type:i.Input}]}});class Si{constructor(e){this.customTemplatesService=e,this.size=15,this.color="var(--str-chat__loading-indicator-color, var(--str-chat__primary-color, '#006CFF'))"}getLoadingIndicatorContext(){return{size:this.size,color:this.color}}}Si.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Si,deps:[{token:bi}],target:i["ɵɵFactoryTarget"].Component}),Si.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Si,selector:"stream-loading-indicator-placeholder",inputs:{size:"size",color:"color"},ngImport:i,template:'<ng-template #defaultLoadingIndicator let-size="size" let-color="color">\n  <stream-loading-indicator\n    [size]="size"\n    [color]="color"\n  ></stream-loading-indicator>\n</ng-template>\n<ng-container\n  *ngTemplateOutlet="\n    (customTemplatesService.loadingIndicatorTemplate$ | async) ||\n      defaultLoadingIndicator;\n    context: getLoadingIndicatorContext()\n  "\n></ng-container>\n',components:[{type:_i,selector:"stream-loading-indicator",inputs:["size","color"]}],directives:[{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],pipes:{async:nr.a}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Si,decorators:[{type:i.Component,args:[{selector:"stream-loading-indicator-placeholder",templateUrl:"./loading-indicator-placeholder.component.html",styles:[]}]}],ctorParameters:function(){return[{type:bi}]},propDecorators:{size:[{type:i.Input}],color:[{type:i.Input}]}});class xi{constructor(){this.isOpen=!1,this.isOpenChange=new i.EventEmitter,this.watchForEscPress=e=>{"Escape"===e.key&&this.close()},this.stopWatchForEscPress=()=>{window.removeEventListener("keyup",this.watchForEscPress)},this.watchForOutsideClicks=e=>{var t;(null===(t=this.innerContainer)||void 0===t?void 0:t.nativeElement.contains(e.target))||this.close()}}ngOnChanges(e){e.isOpen&&(this.isOpen?(window.addEventListener("keyup",this.watchForEscPress),setTimeout((()=>window.addEventListener("click",this.watchForOutsideClicks)),0)):(this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()))}close(){this.isOpen=!1,this.isOpenChange.emit(!1),this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()}stopWatchForOutsideClicks(){window.removeEventListener("click",this.watchForOutsideClicks)}}xi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:xi,deps:[],target:i["ɵɵFactoryTarget"].Component}),xi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:xi,selector:"stream-modal",inputs:{isOpen:"isOpen",content:"content"},outputs:{isOpenChange:"isOpenChange"},viewQueries:[{propertyName:"innerContainer",first:!0,predicate:["modalInner"],descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<div\n  data-testid="modal"\n  class="str-chat__modal str-chat__modal--{{ isOpen ? \'open\' : \'close\' }}"\n>\n  <div\n    data-testid="close"\n    class="str-chat__modal__close-button"\n    (click)="close()"\n    (keyup.enter)="close()"\n  >\n    <stream-icon-placeholder icon="close"></stream-icon-placeholder>\n  </div>\n  <div class="str-chat__modal__inner" #modalInner>\n    <ng-container *ngIf="content; else elseContent">\n      <ng-container *ngTemplateOutlet="content"></ng-container>\n    </ng-container>\n    <ng-template #elseContent>\n      <ng-content></ng-content>\n    </ng-template>\n  </div>\n</div>\n',components:[{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:xi,decorators:[{type:i.Component,args:[{selector:"stream-modal",templateUrl:"./modal.component.html",styles:[]}]}],ctorParameters:function(){return[]},propDecorators:{isOpen:[{type:i.Input}],content:[{type:i.Input}],isOpenChange:[{type:i.Output}],innerContainer:[{type:i.ViewChild,args:["modalInner"]}]}});const Ii=new i.InjectionToken("textareaInjectionToken");class Ei{constructor(e){this.viewContainerRef=e,this.value="",this.valueChange=new i.EventEmitter,this.send=new i.EventEmitter,this.userMentions=new i.EventEmitter,this.subscriptions=[],this.unpropagatedChanges=[]}ngOnChanges(e){var t,n;if(this.unpropagatedChanges.push(e),!this.componentRef)return;e.componentRef&&(this.subscriptions.forEach((e=>e.unsubscribe())),this.componentRef&&(this.subscriptions.push(this.componentRef.instance.valueChange.subscribe((e=>this.valueChange.next(e)))),this.subscriptions.push(this.componentRef.instance.send.subscribe((e=>this.send.next(e)))),this.componentRef.instance.userMentions&&this.subscriptions.push(this.componentRef.instance.userMentions.subscribe((e=>this.userMentions.next(e)))),this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled,this.componentRef.instance.mentionScope=this.mentionScope,this.componentRef.instance.value=this.value,this.componentRef.instance.placeholder=this.placeholder,this.componentRef.instance.inputMode=this.inputMode,this.componentRef.instance.autoFocus=this.autoFocus)),e.areMentionsEnabled&&(this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled),e.mentionScope&&(this.componentRef.instance.mentionScope=this.mentionScope),e.value&&(this.componentRef.instance.value=this.value),e.placeholder&&(this.componentRef.instance.placeholder=this.placeholder),e.inputMode&&(this.componentRef.instance.inputMode=this.inputMode),e.autoFocus&&(this.componentRef.instance.autoFocus=this.autoFocus);let r={};this.unpropagatedChanges.forEach((e=>r=Object.assign(Object.assign({},r),e))),null===(n=(t=this.componentRef.instance).ngOnChanges)||void 0===n||n.call(t,r),this.unpropagatedChanges=[]}}Ei.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ei,deps:[{token:i.ViewContainerRef}],target:i["ɵɵFactoryTarget"].Directive}),Ei.ɵdir=i["ɵɵngDeclareDirective"]({minVersion:"12.0.0",version:"12.2.5",type:Ei,selector:"[streamTextarea]",inputs:{componentRef:"componentRef",areMentionsEnabled:"areMentionsEnabled",mentionScope:"mentionScope",inputMode:"inputMode",value:"value",placeholder:"placeholder",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions"},usesOnChanges:!0,ngImport:i}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ei,decorators:[{type:i.Directive,args:[{selector:"[streamTextarea]"}]}],ctorParameters:function(){return[{type:i.ViewContainerRef}]},propDecorators:{componentRef:[{type:i.Input}],areMentionsEnabled:[{type:i.Input}],mentionScope:[{type:i.Input}],inputMode:[{type:i.Input}],value:[{type:i.Input}],placeholder:[{type:i.Input}],autoFocus:[{type:i.Input}],valueChange:[{type:i.Output}],send:[{type:i.Output}],userMentions:[{type:i.Output}]}});class Ti{constructor(){this.emojiInput$=new l.E}}Ti.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ti,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),Ti.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ti,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ti,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class ki{constructor(){this.isFileUploadEnabled=!0,this.areMentionsEnabled=!0,this.isMultipleFileUploadEnabled=!0,this.mentionScope="channel",this.inputMode="desktop"}}ki.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ki,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),ki.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ki,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ki,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Mi{constructor(e,t,n,r){this.customTemplatesService=e,this.channelService=t,this.attachmentConfigurationService=n,this.attachments=[],this.imageModalStateChange=new i.EventEmitter,this.class="str-chat__attachment-list-angular-host",this.orderedAttachments=[],this.imagesToView=[],this.imagesToViewCurrentIndex=0,this.attachmentConfigurations=new Map,this.themeVersion=r.themeVersion}ngOnChanges(e){if(e.attachments){const e=this.attachments.filter(this.isImage),t=e.length>=2;this.orderedAttachments=[...t?this.createGallery(e):e,...this.attachments.filter((e=>this.isVideo(e))),...this.attachments.filter((e=>this.isFile(e)))],this.attachmentConfigurations=new Map,0===this.orderedAttachments.length&&this.orderedAttachments.push(...this.attachments.filter((e=>this.isCard(e))))}}trackByUrl(e,t){return t.image_url||t.img_url||t.asset_url||t.thumb_url}isImage(e){return di(e)}isSvg(e){return!!(e.fallback||"").toLowerCase().endsWith(".svg")}isFile(e){return"file"===e.type}isGallery(e){return"gallery"===e.type}isVideo(e){return"video"===e.type&&e.asset_url&&!e.og_scrape_url}isCard(e){return!e.type||"image"===e.type&&!this.isImage(e)||"giphy"===e.type}hasFileSize(e){return e.file_size&&Number.isFinite(Number(e.file_size))}getFileSize(e){return sr()(Number(e.file_size))}getModalContext(){return{isOpen:this.imagesToView&&this.imagesToView.length>0,isOpenChangeHandler:e=>e?null:this.closeImageModal(),content:this.modalContent}}trimUrl(e){if(null!=e){const[t]=e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/");return t}return null}sendAction(e){this.channelService.sendAction(this.messageId,{[e.name]:e.value},this.parentMessageId)}trackByActionValue(e,t){return t.value}openImageModal(e,t=0){this.imageModalStateChange.next("opened"),this.imagesToView=e,this.imagesToViewCurrentIndex=t}stepImages(e){this.imagesToViewCurrentIndex+=1*e}trackByImageUrl(e,t){return t.image_url||t.img_url||t.thumb_url}getAttachmentContext(e){return{attachment:e}}getImageAttachmentConfiguration(e,t,n){const r=this.attachmentConfigurations.get(e);if(r)return r;const s=this.attachmentConfigurationService.getImageAttachmentConfiguration(e,t,n);return this.attachmentConfigurations.set(e,s),s}getCarouselImageAttachmentConfiguration(e,t){return this.attachmentConfigurationService.getImageAttachmentConfiguration(e,"carousel",t)}getVideoAttachmentConfiguration(e,t){const n=this.attachmentConfigurations.get(e);if(n)return n;const r=this.attachmentConfigurationService.getVideoAttachmentConfiguration(e,t);return this.attachmentConfigurations.set(e,r),r}getCardAttachmentConfiguration(e){const t=this.attachmentConfigurations.get(e);if(t)return t;if("giphy"===e.type)return this.attachmentConfigurationService.getGiphyAttachmentConfiguration(e);{const t=this.attachmentConfigurationService.getScrapedImageAttachmentConfiguration(e);return this.attachmentConfigurations.set(e,t),t}}get isImageModalPrevButtonVisible(){return 0!==this.imagesToViewCurrentIndex}get isImageModalNextButtonVisible(){return this.imagesToViewCurrentIndex!==this.imagesToView.length-1}createGallery(e){return[{type:"gallery",images:e}]}closeImageModal(){this.imageModalStateChange.next("closed"),this.imagesToView=[]}}Mi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Mi,deps:[{token:bi},{token:ui},{token:mi},{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Mi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Mi,selector:"stream-attachment-list",inputs:{messageId:"messageId",parentMessageId:"parentMessageId",attachments:"attachments"},outputs:{imageModalStateChange:"imageModalStateChange"},host:{properties:{class:"this.class"}},viewQueries:[{propertyName:"modalContent",first:!0,predicate:["modalContent"],descendants:!0,static:!0}],usesOnChanges:!0,ngImport:i,template:'<div *ngIf="orderedAttachments.length > 0" class="str-chat__attachment-list">\n  <ng-container\n    *ngFor="let attachment of orderedAttachments; trackBy: trackByUrl"\n  >\n    <div\n      data-testclass="attachment-container"\n      class="str-chat__message-attachment str-chat__message-attachment--{{\n        attachment.type\n      }} str-chat__message-attachment-dynamic-size"\n      [class.str-chat__message-attachment--card]="isCard(attachment)"\n      [class.str-chat-angular__message-attachment-file-single]="\n        isFile(attachment)\n      "\n      [class.str-chat__message-attachment-with-actions]="\n        attachment.actions && attachment.actions.length > 0\n      "\n      [class.str-chat__message-attachment--svg-image]="isSvg(attachment)"\n    >\n      <ng-container *ngIf="isImage(attachment)">\n        <ng-container\n          *ngTemplateOutlet="\n            (customTemplatesService.imageAttachmentTemplate$ | async) ||\n              defaultImage;\n            context: getAttachmentContext(attachment)\n          "\n        ></ng-container>\n        <ng-template #defaultImage let-attachmentContext="attachment">\n          <img\n            #imgElement\n            class="str-chat__message-attachment--img"\n            data-testclass="image"\n            [src]="\n              getImageAttachmentConfiguration(\n                attachmentContext,\n                \'single\',\n                imgElement\n              ).url\n            "\n            [alt]="attachmentContext?.fallback"\n            (click)="openImageModal([attachmentContext])"\n            (keyup.enter)="openImageModal([attachmentContext])"\n            [style.--original-height]="\n              getImageAttachmentConfiguration(\n                attachmentContext,\n                \'single\',\n                imgElement\n              ).originalHeight\n            "\n            [style.--original-width]="\n              getImageAttachmentConfiguration(\n                attachmentContext,\n                \'single\',\n                imgElement\n              ).originalWidth\n            "\n            [ngStyle]="{\n              height: getImageAttachmentConfiguration(\n                attachmentContext,\n                \'single\',\n                imgElement\n              ).height,\n              width: getImageAttachmentConfiguration(\n                attachmentContext,\n                \'single\',\n                imgElement\n              ).width\n            }"\n          />\n        </ng-template>\n      </ng-container>\n      <ng-container *ngIf="isGallery(attachment)">\n        <ng-container\n          *ngTemplateOutlet="\n            (customTemplatesService.galleryAttachmentTemplate$ | async) ||\n              defaultGallery;\n            context: getAttachmentContext(attachment)\n          "\n        ></ng-container>\n        <ng-template #defaultGallery let-attachmentContext="attachment">\n          <div\n            class="str-chat__gallery"\n            data-testid="image-gallery"\n            [class.str-chat__gallery--square]="\n              (attachmentContext?.images)!.length > 3\n            "\n            [class.str-chat__gallery-two-rows]="\n              (attachmentContext?.images)!.length > 2\n            "\n          >\n            <ng-container\n              *ngFor="\n                let galleryImage of attachmentContext.images;\n                let index = index;\n                let isLast = last;\n                trackBy: trackByImageUrl\n              "\n            >\n              <button\n                *ngIf="index < 3 || (index === 3 && isLast)"\n                class="str-chat__gallery-image"\n                data-testclass="gallery-image"\n                (click)="openImageModal(attachmentContext.images!, index)"\n                (keyup.enter)="openImageModal(attachmentContext.images!, index)"\n                [class.str-chat__message-attachment--svg-image]="\n                  isSvg(galleryImage)\n                "\n              >\n                <img\n                  #imgElement\n                  [src]="\n                    getImageAttachmentConfiguration(\n                      galleryImage,\n                      \'gallery\',\n                      imgElement\n                    ).url\n                  "\n                  [alt]="galleryImage.fallback"\n                  [style.--original-height]="\n                    getImageAttachmentConfiguration(\n                      galleryImage,\n                      \'gallery\',\n                      imgElement\n                    ).originalHeight\n                  "\n                  [style.--original-width]="\n                    getImageAttachmentConfiguration(\n                      galleryImage,\n                      \'gallery\',\n                      imgElement\n                    ).originalWidth\n                  "\n                  [ngStyle]="{\n                    height: getImageAttachmentConfiguration(\n                      galleryImage,\n                      \'gallery\',\n                      imgElement\n                    ).height,\n                    width: getImageAttachmentConfiguration(\n                      galleryImage,\n                      \'gallery\',\n                      imgElement\n                    ).width\n                  }"\n                />\n              </button>\n              <button\n                #element\n                *ngIf="index === 3 && !isLast"\n                class="str-chat__gallery-placeholder"\n                data-testclass="gallery-image"\n                data-testid="more-image-button"\n                (click)="openImageModal(attachmentContext.images!, index)"\n                (keyup.enter)="openImageModal(attachmentContext.images!, index)"\n                [class.str-chat__message-attachment--svg-image]="\n                  isSvg(galleryImage)\n                "\n                [style.--original-height]="\n                  getImageAttachmentConfiguration(\n                    galleryImage,\n                    \'gallery\',\n                    element\n                  ).originalHeight\n                "\n                [style.--original-width]="\n                  getImageAttachmentConfiguration(\n                    galleryImage,\n                    \'gallery\',\n                    element\n                  ).originalWidth\n                "\n                [ngStyle]="{\n                  \'background-image\':\n                    \'url(\' +\n                    getImageAttachmentConfiguration(\n                      galleryImage,\n                      \'gallery\',\n                      element\n                    ).url +\n                    \')\',\n                  height: getImageAttachmentConfiguration(\n                    galleryImage,\n                    \'gallery\',\n                    element\n                  ).height,\n                  width: getImageAttachmentConfiguration(\n                    galleryImage,\n                    \'gallery\',\n                    element\n                  ).width\n                }"\n              >\n                <p\n                  [innerHTML]="\n                    \'streamChat.{{ imageCount }} more\'\n                      | translate\n                        : { imageCount: attachmentContext!.images!.length - 4 }\n                  "\n                ></p>\n              </button>\n            </ng-container>\n          </div>\n        </ng-template>\n      </ng-container>\n      <ng-container *ngIf="isVideo(attachment)">\n        <ng-container\n          *ngTemplateOutlet="\n            (customTemplatesService.videoAttachmentTemplate$ | async) ||\n              defaultVideo;\n            context: getAttachmentContext(attachment)\n          "\n        ></ng-container>\n        <ng-template #defaultVideo let-attachmentContext="attachment">\n          <div\n            class="str-chat__player-wrapper"\n            data-testclass="video-attachment-parent"\n            [style.--original-height]="\n              getVideoAttachmentConfiguration(attachmentContext, videoElement)\n                .originalHeight\n            "\n            [style.--original-width]="\n              getVideoAttachmentConfiguration(attachmentContext, videoElement)\n                .originalWidth\n            "\n            [ngStyle]="{\n              height: getVideoAttachmentConfiguration(\n                attachmentContext,\n                videoElement\n              ).height,\n              width: getVideoAttachmentConfiguration(\n                attachmentContext,\n                videoElement\n              ).width\n            }"\n          >\n            <video\n              #videoElement\n              class="str-chat__video-angular"\n              controls\n              data-testclass="video-attachment"\n              [src]="\n                getVideoAttachmentConfiguration(attachmentContext, videoElement)\n                  .url\n              "\n              [poster]="\n                getVideoAttachmentConfiguration(attachmentContext, videoElement)\n                  .thumbUrl\n              "\n            ></video>\n          </div>\n        </ng-template>\n      </ng-container>\n      <ng-container *ngIf="isFile(attachment)">\n        <ng-container\n          *ngTemplateOutlet="\n            (customTemplatesService.fileAttachmentTemplate$ | async) ||\n              defaultFile;\n            context: getAttachmentContext(attachment)\n          "\n        ></ng-container>\n        <ng-template #defaultFile let-attachmentContext="attachment">\n          <a\n            class="\n              str-chat__message-attachment-file--item\n              str-chat-angular__message-attachment-file-single\n            "\n            style="cursor: pointer; text-decoration: none"\n            data-testclass="file-link"\n            href="{{ attachmentContext.asset_url }}"\n            target="_blank"\n          >\n            <stream-icon-placeholder\n              *ngIf="themeVersion === \'1\'"\n              icon="file"\n              [size]="30"\n            ></stream-icon-placeholder>\n            <stream-icon-placeholder\n              *ngIf="themeVersion === \'2\'"\n              icon="unspecified-filetype"\n              [size]="30"\n            ></stream-icon-placeholder>\n            <div class="str-chat__message-attachment-file--item-text">\n              <div class="str-chat__message-attachment-file--item-first-row">\n                <div\n                  data-testclass="file-title"\n                  class="str-chat__message-attachment-file--item-name"\n                >\n                  {{ attachmentContext.title }}\n                </div>\n                \x3c!-- Temporary disabled, will be fixed with this: https://github.com/GetStream/stream-chat-angular/issues/393  --\x3e\n                \x3c!-- <a\n              class="str-chat__message-attachment-file--item-download"\n              data-testclass="file-link"\n              download\n              href="{{ attachment.asset_url }}"\n              target="_blank"\n            >\n              <stream-icon-placeholder\n                class="str-chat__message-attachment-download-icon"\n                icon="download"\n              ></stream-icon-placeholder>\n            </a> --\x3e\n              </div>\n              <span\n                class="str-chat__message-attachment-file--item-size"\n                data-testclass="size"\n                *ngIf="hasFileSize(attachmentContext)"\n                >{{ getFileSize(attachmentContext) }}</span\n              >\n            </div>\n          </a>\n        </ng-template>\n      </ng-container>\n      <ng-container\n        *ngIf="\n          isCard(attachment) &&\n          getCardAttachmentConfiguration(attachment) as attachmentConfiguration\n        "\n      >\n        <ng-container\n          *ngTemplateOutlet="\n            (customTemplatesService.cardAttachmentTemplate$ | async) ||\n              defaultCard;\n            context: getAttachmentContext(attachment)\n          "\n        ></ng-container>\n        <ng-template #defaultCard let-attachmentContext="attachment">\n          <div\n            class="str-chat__message-attachment-card str-chat__message-attachment-card--{{\n              attachmentContext.type\n            }}"\n          >\n            <div\n              *ngIf="attachmentConfiguration.url"\n              class="str-chat__message-attachment-card--header"\n            >\n              <img\n                data-testclass="card-img"\n                alt="{{ attachmentConfiguration.url }}"\n                src="{{ attachmentConfiguration.url }}"\n                [ngStyle]="{\n                  height: attachmentConfiguration.height,\n                  width: attachmentConfiguration.width\n                }"\n              />\n            </div>\n            <div class="str-chat__message-attachment-card--content">\n              <div class="str-chat__message-attachment-card--flex">\n                <div\n                  *ngIf="attachmentContext.title"\n                  data-testclass="card-title"\n                  class="str-chat__message-attachment-card--title"\n                >\n                  {{ attachmentContext.title }}\n                </div>\n                <div\n                  *ngIf="attachmentContext.text"\n                  class="str-chat__message-attachment-card--text"\n                  data-testclass="card-text"\n                >\n                  {{ attachmentContext.text }}\n                </div>\n                <a\n                  class="str-chat__message-attachment-card--url"\n                  *ngIf="\n                    attachmentContext.title_link ||\n                    attachmentContext.og_scrape_url\n                  "\n                  data-testclass="url-link"\n                  noopener\n                  noreferrer\n                  href="{{\n                    attachmentContext.title_link ||\n                      attachmentContext.og_scrape_url\n                  }}"\n                  target="_blank"\n                >\n                  {{\n                    trimUrl(\n                      attachmentContext.title_link ||\n                        attachmentContext.og_scrape_url\n                    )\n                  }}\n                </a>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </ng-container>\n      <ng-container *ngIf="attachment.actions && attachment.actions.length > 0">\n        <ng-container\n          *ngTemplateOutlet="\n            (customTemplatesService.attachmentActionsTemplate$ | async) ||\n              defaultActions;\n            context: getAttachmentContext(attachment)\n          "\n        ></ng-container>\n        <ng-template #defaultActions let-attachmentContext="attachment">\n          <div class="str-chat__message-attachment-actions">\n            <div class="str-chat__message-attachment-actions-form">\n              <button\n                *ngFor="\n                  let action of attachmentContext.actions;\n                  trackBy: trackByActionValue\n                "\n                class="str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--{{\n                  action.style\n                }}"\n                data-testclass="attachment-action"\n                (click)="sendAction(action)"\n                (keyup.enter)="sendAction(action)"\n              >\n                {{ action.text }}\n              </button>\n            </div>\n          </div>\n        </ng-template>\n      </ng-container>\n    </div>\n  </ng-container>\n\n  <ng-container *ngIf="imagesToView && imagesToView.length > 0">\n    <ng-container\n      *ngTemplateOutlet="\n        (customTemplatesService.modalTemplate$ | async) || defaultModal;\n        context: getModalContext()\n      "\n    ></ng-container>\n  </ng-container>\n</div>\n\n<ng-template\n  #defaultModal\n  let-isOpen="isOpen"\n  let-isOpenChangeHandler="isOpenChangeHandler"\n  let-content="content"\n>\n  <stream-modal\n    class="stream-chat-angular__image-modal-host"\n    [isOpen]="isOpen"\n    (isOpenChange)="isOpenChangeHandler($event)"\n    [content]="content"\n  >\n  </stream-modal>\n</ng-template>\n\n<ng-template #modalContent>\n  <div class="stream-chat-angular__image-modal str-chat__image-carousel">\n    <button\n      class="\n        stream-chat-angular__image-modal-stepper\n        str-chat__image-carousel-stepper\n      "\n      [ngStyle]="{\n        visibility: isImageModalPrevButtonVisible ? \'visible\' : \'hidden\'\n      }"\n      data-testid="image-modal-prev"\n      type="button"\n      (click)="stepImages(-1)"\n      (keyup.enter)="stepImages(-1)"\n    >\n      <stream-icon-placeholder icon="arrow-left"></stream-icon-placeholder>\n    </button>\n    <img\n      #imgElement\n      class="\n        stream-chat-angular__image-modal-image\n        str-chat__image-carousel-image\n      "\n      data-testid="modal-image"\n      [src]="\n        getCarouselImageAttachmentConfiguration(\n          imagesToView[imagesToViewCurrentIndex],\n          imgElement\n        ).url\n      "\n      [style.--original-height]="\n        getCarouselImageAttachmentConfiguration(\n          imagesToView[imagesToViewCurrentIndex],\n          imgElement\n        ).originalHeight\n      "\n      [style.--original-width]="\n        getCarouselImageAttachmentConfiguration(\n          imagesToView[imagesToViewCurrentIndex],\n          imgElement\n        ).originalWidth\n      "\n      [alt]="imagesToView[imagesToViewCurrentIndex].fallback"\n      [ngStyle]="{\n        width: getCarouselImageAttachmentConfiguration(\n          imagesToView[imagesToViewCurrentIndex],\n          imgElement\n        ).width,\n        height: getCarouselImageAttachmentConfiguration(\n          imagesToView[imagesToViewCurrentIndex],\n          imgElement\n        ).height\n      }"\n    />\n    <button\n      class="\n        stream-chat-angular__image-modal-stepper\n        str-chat__image-carousel-stepper\n      "\n      type="button"\n      [ngStyle]="{\n        visibility: isImageModalNextButtonVisible ? \'visible\' : \'hidden\'\n      }"\n      data-testid="image-modal-next"\n      (click)="stepImages(1)"\n      (keyup.enter)="stepImages(1)"\n    >\n      <stream-icon-placeholder icon="arrow-right"></stream-icon-placeholder>\n    </button>\n  </div>\n</ng-template>\n',components:[{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]},{type:xi,selector:"stream-modal",inputs:["isOpen","content"],outputs:["isOpenChange"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:nr.Qt,selector:"[ngStyle]",inputs:["ngStyle"]}],pipes:{async:nr.a,translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Mi,decorators:[{type:i.Component,args:[{selector:"stream-attachment-list",templateUrl:"./attachment-list.component.html",styles:[]}]}],ctorParameters:function(){return[{type:bi},{type:ui},{type:mi},{type:hi}]},propDecorators:{messageId:[{type:i.Input}],parentMessageId:[{type:i.Input}],attachments:[{type:i.Input}],imageModalStateChange:[{type:i.Output}],class:[{type:i.HostBinding}],modalContent:[{type:i.ViewChild,args:["modalContent",{static:!0}]}]}});class Ai{constructor(e){this.retryAttachmentUpload=new i.EventEmitter,this.deleteAttachment=new i.EventEmitter,this.themeVersion=e.themeVersion}attachmentUploadRetried(e){this.retryAttachmentUpload.emit(e)}attachmentDeleted(e){this.deleteAttachment.emit(e)}trackByFile(e,t){return t.file}}Ai.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ai,deps:[{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Ai.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Ai,selector:"stream-attachment-preview-list",inputs:{attachmentUploads$:"attachmentUploads$"},outputs:{retryAttachmentUpload:"retryAttachmentUpload",deleteAttachment:"deleteAttachment"},ngImport:i,template:'<div\n  class="rfu-image-previewer"\n  *ngIf="(attachmentUploads$ | async)?.length && themeVersion === \'1\'"\n>\n  <ng-container\n    *ngFor="\n      let attachmentUpload of attachmentUploads$ | async;\n      trackBy: trackByFile\n    "\n  >\n    <div\n      *ngIf="attachmentUpload.type === \'image\'"\n      class="rfu-image-previewer__image"\n      [class.rfu-image-previewer__image--loaded]="\n        attachmentUpload.state === \'success\'\n      "\n      data-testclass="attachment-image-preview"\n    >\n      <div\n        *ngIf="attachmentUpload.state === \'error\'"\n        class="rfu-image-previewer__retry"\n        (click)="attachmentUploadRetried(attachmentUpload.file)"\n        (keyup.enter)="attachmentUploadRetried(attachmentUpload.file)"\n        data-testclass="upload-retry"\n      >\n        <stream-icon-placeholder icon="retry"></stream-icon-placeholder>\n      </div>\n      <div class="rfu-thumbnail__wrapper" style="width: 100; height: 100">\n        <div class="rfu-thumbnail__overlay">\n          <div\n            class="rfu-icon-button"\n            data-testclass="file-delete"\n            role="button"\n            (click)="attachmentDeleted(attachmentUpload)"\n            (keyup.enter)="attachmentDeleted(attachmentUpload)"\n          >\n            <stream-icon-placeholder\n              icon="close-no-outline"\n            ></stream-icon-placeholder>\n          </div>\n        </div>\n        <img\n          *ngIf="attachmentUpload.url || attachmentUpload.previewUri"\n          src="{{\n            attachmentUpload.url\n              ? attachmentUpload.url\n              : attachmentUpload.previewUri\n          }}"\n          alt="{{ attachmentUpload.file.name }}"\n          class="rfu-thumbnail__image"\n          data-testclass="attachment-image"\n        />\n      </div>\n      <stream-loading-indicator-placeholder\n        data-testclass="loading-indicator"\n        color="rgba(255,255,255,0.7)"\n        *ngIf="attachmentUpload.state === \'uploading\'"\n      ></stream-loading-indicator-placeholder>\n    </div>\n    <div\n      class="rfu-file-previewer"\n      *ngIf="\n        attachmentUpload.type === \'file\' || attachmentUpload.type === \'video\'\n      "\n      data-testclass="attachment-file-preview"\n    >\n      <ol>\n        <li\n          class="rfu-file-previewer__file"\n          [class.rfu-file-previewer__file--uploading]="\n            attachmentUpload.state === \'uploading\'\n          "\n          [class.rfu-file-previewer__file--failed]="\n            attachmentUpload.state === \'error\'\n          "\n        >\n          <stream-icon-placeholder icon="file"></stream-icon-placeholder>\n\n          <a\n            data-testclass="file-download-link"\n            href="{{ attachmentUpload.url }}"\n            (click)="attachmentUpload.url ? null : $event.preventDefault()"\n            (keyup.enter)="\n              attachmentUpload.url ? null : $event.preventDefault()\n            "\n            download\n          >\n            {{ attachmentUpload.file.name }}\n            <ng-container *ngIf="attachmentUpload.state === \'error\'">\n              <div\n                data-testclass="upload-retry"\n                class="rfu-file-previewer__failed"\n                (click)="attachmentUploadRetried(attachmentUpload.file)"\n                (keyup.enter)="attachmentUploadRetried(attachmentUpload.file)"\n                translate\n              >\n                streamChat.failed\n              </div>\n              <div\n                class="rfu-file-previewer__retry"\n                (click)="attachmentUploadRetried(attachmentUpload.file)"\n                (keyup.enter)="attachmentUploadRetried(attachmentUpload.file)"\n                translate\n              >\n                streamChat.retry\n              </div>\n            </ng-container>\n          </a>\n\n          <span\n            data-testclass="file-delete"\n            class="rfu-file-previewer__close-button"\n            (click)="attachmentDeleted(attachmentUpload)"\n            (keyup.enter)="attachmentDeleted(attachmentUpload)"\n          >\n            <stream-icon-placeholder\n              icon="close-no-outline"\n            ></stream-icon-placeholder>\n          </span>\n          <div\n            *ngIf="attachmentUpload.state === \'uploading\'"\n            class="rfu-file-previewer__loading-indicator"\n          >\n            <stream-loading-indicator-placeholder></stream-loading-indicator-placeholder>\n          </div>\n        </li>\n      </ol>\n    </div>\n  </ng-container>\n</div>\n\n<div\n  class="str-chat__attachment-preview-list"\n  *ngIf="(attachmentUploads$ | async)?.length && themeVersion === \'2\'"\n>\n  <div class="str-chat__attachment-list-scroll-container">\n    <ng-container\n      *ngFor="\n        let attachmentUpload of attachmentUploads$ | async;\n        trackBy: trackByFile\n      "\n    >\n      <div\n        *ngIf="attachmentUpload.type === \'image\'"\n        class="str-chat__attachment-preview-image"\n        data-testclass="attachment-image-preview"\n      >\n        <ng-container\n          *ngTemplateOutlet="\n            deleteButton;\n            context: { attachmentUpload: attachmentUpload }\n          "\n        ></ng-container>\n        <div\n          *ngIf="attachmentUpload.state === \'uploading\'"\n          class="str-chat__attachment-preview-image-loading"\n        >\n          <stream-loading-indicator-placeholder\n            data-testclass="loading-indicator"\n            [size]="18"\n          ></stream-loading-indicator-placeholder>\n        </div>\n        <ng-container\n          *ngTemplateOutlet="\n            retryButton;\n            context: { attachmentUpload: attachmentUpload }\n          "\n        ></ng-container>\n        <img\n          *ngIf="attachmentUpload.url || attachmentUpload.previewUri"\n          src="{{\n            attachmentUpload.url\n              ? attachmentUpload.url\n              : attachmentUpload.previewUri\n          }}"\n          alt="{{ attachmentUpload.file.name }}"\n          class="str-chat__attachment-preview-thumbnail"\n          data-testclass="attachment-image"\n        />\n      </div>\n      <div\n        class="str-chat__attachment-preview-file"\n        *ngIf="\n          attachmentUpload.type === \'file\' || attachmentUpload.type === \'video\'\n        "\n        data-testclass="attachment-file-preview"\n      >\n        <stream-icon-placeholder\n          icon="unspecified-filetype"\n        ></stream-icon-placeholder>\n\n        <div class="str-chat__attachment-preview-file-end">\n          <div class="str-chat__attachment-preview-file-name">\n            {{ attachmentUpload.file.name }}\n          </div>\n          <a\n            *ngIf="attachmentUpload.state === \'success\'"\n            class="str-chat__attachment-preview-file-download"\n            data-testclass="file-download-link"\n            href="{{ attachmentUpload.url }}"\n            (click)="attachmentUpload.url ? null : $event.preventDefault()"\n            (keyup.enter)="\n              attachmentUpload.url ? null : $event.preventDefault()\n            "\n            download\n          >\n            <stream-icon-placeholder icon="download"></stream-icon-placeholder>\n          </a>\n          <stream-loading-indicator-placeholder\n            *ngIf="attachmentUpload.state === \'uploading\'"\n            data-testclass="loading-indicator"\n            [size]="18"\n          ></stream-loading-indicator-placeholder>\n        </div>\n        <ng-container\n          *ngTemplateOutlet="\n            deleteButton;\n            context: { attachmentUpload: attachmentUpload }\n          "\n        ></ng-container>\n        <ng-container\n          *ngTemplateOutlet="\n            retryButton;\n            context: { attachmentUpload: attachmentUpload }\n          "\n        ></ng-container>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #deleteButton let-attachmentUpload="attachmentUpload">\n  <div\n    class="str-chat__attachment-preview-delete"\n    data-testclass="file-delete"\n    role="button"\n    (click)="attachmentDeleted(attachmentUpload)"\n    (keyup.enter)="attachmentDeleted(attachmentUpload)"\n  >\n    <stream-icon-placeholder icon="close-no-outline"></stream-icon-placeholder>\n  </div>\n</ng-template>\n\n<ng-template #retryButton let-attachmentUpload="attachmentUpload">\n  <div\n    *ngIf="attachmentUpload.state === \'error\'"\n    class="str-chat__attachment-preview-error str-chat__attachment-preview-error-{{\n      attachmentUpload.type === \'image\' ? \'image\' : \'file\'\n    }}"\n    (click)="attachmentUploadRetried(attachmentUpload.file)"\n    (keyup.enter)="attachmentUploadRetried(attachmentUpload.file)"\n    data-testclass="upload-retry"\n  >\n    <stream-icon-placeholder icon="retry"></stream-icon-placeholder>\n  </div>\n</ng-template>\n',components:[{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]},{type:Si,selector:"stream-loading-indicator-placeholder",inputs:["size","color"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:tr.eM,selector:"[translate],[ngx-translate]",inputs:["translate","translateParams"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],pipes:{async:nr.a}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ai,decorators:[{type:i.Component,args:[{selector:"stream-attachment-preview-list",templateUrl:"./attachment-preview-list.component.html",styles:[]}]}],ctorParameters:function(){return[{type:hi}]},propDecorators:{attachmentUploads$:[{type:i.Input}],retryAttachmentUpload:[{type:i.Output}],deleteAttachment:[{type:i.Output}]}});class Fi{constructor(e,t,n,r,s,o,a,u,h,p,d){this.channelService=e,this.notificationService=t,this.attachmentService=n,this.configService=r,this.textareaType=s,this.componentFactoryResolver=o,this.cdRef=a,this.chatClient=u,this.emojiInputService=h,this.customTemplatesService=p,this.mode="main",this.autoFocus=!0,this.messageUpdate=new i.EventEmitter,this.class="str-chat__message-input-angular-host",this.textareaValue="",this.mentionedUsers=[],this.typingStart$=new l.E,this.isCooldownInProgress=!1,this.fileInputId=er(),this.subscriptions=[],this.isViewInited=!1,this.defaultTextareaPlaceholder="streamChat.Type your message",this.slowModeTextareaPlaceholder="streamChat.Slow Mode ON",this.themeVersion=d.themeVersion,this.textareaPlaceholder=this.defaultTextareaPlaceholder,this.subscriptions.push(this.attachmentService.attachmentUploadInProgressCounter$.subscribe((e=>{0===e&&this.hideNotification&&(this.hideNotification(),this.hideNotification=void 0)}))),this.subscriptions.push(this.channelService.activeChannel$.subscribe((e=>{var t;e&&this.channel&&e.id!==this.channel.id&&(this.textareaValue="",this.attachmentService.resetAttachmentUploads());const n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.own_capabilities;n&&(this.isFileUploadAuthorized=-1!==n.indexOf("upload-file"),this.canSendLinks=-1!==n.indexOf("send-links"),this.channel=e,this.setCanSendMessages())}))),this.subscriptions.push(this.chatClient.appSettings$.subscribe((e=>this.appSettings=e))),this.subscriptions.push(this.channelService.messageToQuote$.subscribe((e=>{const t=e&&e.parent_id;("thread"===this.mode&&t||"thread"===this.mode&&this.quotedMessage&&!e||"main"===this.mode&&!t)&&(this.quotedMessage=e)}))),this.attachmentUploads$=this.attachmentService.attachmentUploads$,this.attachmentUploadInProgressCounter$=this.attachmentService.attachmentUploadInProgressCounter$,this.isFileUploadEnabled=this.configService.isFileUploadEnabled,this.isMultipleFileUploadEnabled=this.configService.isMultipleFileUploadEnabled,this.areMentionsEnabled=this.configService.areMentionsEnabled,this.mentionScope=this.configService.mentionScope,this.inputMode=this.configService.inputMode,this.subscriptions.push(this.typingStart$.subscribe((()=>{this.channelService.typingStarted(this.parentMessageId)}))),this.subscriptions.push((0,c.E)([this.channelService.latestMessageDateByUserByChannels$,this.channelService.activeChannel$]).pipe((0,$n.k)((([e,t])=>[e[(null==t?void 0:t.cid)||""],t]))).subscribe((([e,t])=>{var n,r,s;const i=(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.cooldown)&&e&&Math.round((null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.cooldown)-((new Date).getTime()-e.getTime())/1e3);i&&i>0&&(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.own_capabilities).includes("slow-mode")?this.startCooldown(i):this.isCooldownInProgress&&this.stopCooldown()})))}ngOnInit(){this.subscriptions.push(this.customTemplatesService.emojiPickerTemplate$.subscribe((e=>{this.emojiPickerTemplate=e,this.cdRef.detectChanges()}))),this.subscriptions.push(this.customTemplatesService.attachmentPreviewListTemplate$.subscribe((e=>{this.attachmentPreviewListTemplate=e,this.cdRef.detectChanges()}))),this.subscriptions.push(this.customTemplatesService.customAttachmentUploadTemplate$.subscribe((e=>{this.customAttachmentUploadTemplate=e,this.cdRef.detectChanges()})))}ngAfterViewInit(){this.isViewInited=!0,this.initTextarea()}ngOnChanges(e){e.message&&(this.attachmentService.resetAttachmentUploads(),this.isUpdate&&(this.attachmentService.createFromAttachments(this.message.attachments||[]),this.textareaValue=this.message.text||"")),e.isFileUploadEnabled&&(this.configService.isFileUploadEnabled=this.isFileUploadEnabled),e.isMultipleFileUploadEnabled&&(this.configService.isMultipleFileUploadEnabled=this.isMultipleFileUploadEnabled),e.areMentionsEnabled&&(this.configService.areMentionsEnabled=this.areMentionsEnabled),e.mentionScope&&(this.configService.mentionScope=this.mentionScope),e.mode&&this.setCanSendMessages(),e.inputMode&&(this.configService.inputMode=this.inputMode),e.sendMessage$&&(this.sendMessageSubcription&&this.sendMessageSubcription.unsubscribe(),this.sendMessage$&&(this.sendMessageSubcription=this.sendMessage$.subscribe((()=>{this.messageSent()}))))}ngOnDestroy(){this.sendMessageSubcription&&this.sendMessageSubcription.unsubscribe(),this.subscriptions.forEach((e=>e.unsubscribe()))}messageSent(){var e;return(0,s.kH)(this,void 0,void 0,(function*(){if(this.isCooldownInProgress)return;let t;if(this.attachmentService.attachmentUploadInProgressCounter$.pipe((0,Bn.K)()).subscribe((e=>t=e)),t>0)return void(this.hideNotification||(this.hideNotification=this.notificationService.addPermanentNotification("streamChat.Wait until all attachments have uploaded")));const n=this.attachmentService.mapToAttachments();let r=this.textareaValue;r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,"");const s=!r.replace(/ /g,"");if(r&&!s||n&&0!==n.length)if(s&&(r=""),!this.containsLinks||this.canSendLinks){this.isUpdate||(this.textareaValue="");try{const t=yield this.isUpdate?this.channelService.updateMessage(Object.assign(Object.assign({},this.message),{text:r,attachments:n})):this.channelService.sendMessage(r,n,this.mentionedUsers,this.parentMessageId,null===(e=this.quotedMessage)||void 0===e?void 0:e.id);this.messageUpdate.emit({message:t}),this.isUpdate||this.attachmentService.resetAttachmentUploads()}catch(e){this.isUpdate&&this.notificationService.addTemporaryNotification("streamChat.Edit message request failed")}this.channelService.typingStopped(this.parentMessageId),this.quotedMessage&&this.deselectMessageToQuote()}else this.notificationService.addTemporaryNotification("streamChat.Sending links is not allowed in this conversation")}))}get containsLinks(){return/(?:(?:https?|ftp):\/\/)?[\w/\-?=%.]+\.[\w/\-&?=%.]+/.test(this.textareaValue)}get quotedMessageAttachments(){var e;const t=null===(e=this.quotedMessage)||void 0===e?void 0:e.attachments;return t&&t.length?[t[0]]:[]}get disabledTextareaText(){return this.canSendMessages?"":"thread"===this.mode?"streamChat.You can't send thread replies in this channel":"streamChat.You can't send messages in this channel"}filesSelected(e){return(0,s.kH)(this,void 0,void 0,(function*(){(yield this.areAttachemntsValid(e))&&(yield this.attachmentService.filesSelected(e),this.clearFileInput())}))}deselectMessageToQuote(){this.channelService.selectMessageToQuote(void 0)}getEmojiPickerContext(){return{emojiInput$:this.emojiInputService.emojiInput$}}getAttachmentPreviewListContext(){return{attachmentUploads$:this.attachmentService.attachmentUploads$,deleteUploadHandler:this.deleteUpload.bind(this),retryUploadHandler:this.retryUpload.bind(this)}}getAttachmentUploadContext(){return{isMultipleFileUploadEnabled:this.isMultipleFileUploadEnabled,attachmentService:this.attachmentService}}deleteUpload(e){this.isUpdate?setTimeout((()=>{this.attachmentService.deleteAttachment(e)})):this.attachmentService.deleteAttachment(e)}retryUpload(e){this.attachmentService.retryAttachmentUpload(e)}clearFileInput(){this.fileInput.nativeElement.value=""}get isUpdate(){return!!this.message}initTextarea(){if(this.canSendMessages||(this.textareaRef=void 0),!this.canSendMessages||this.textareaRef||!this.textareaAnchor)return;const e=this.componentFactoryResolver.resolveComponentFactory(this.textareaType);this.textareaRef=this.textareaAnchor.viewContainerRef.createComponent(e),this.cdRef.detectChanges()}areAttachemntsValid(e){return(0,s.kH)(this,void 0,void 0,(function*(){if(!e)return!0;this.appSettings||(yield this.chatClient.getAppSettings());let t=!0;return Array.from(e).forEach((e=>{var n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v,y,b,w,D,C,_,S,x,I,E,T,k,M,A,F,O,R,P,L,j;let N,U,V,$;pi(e)?(N=!!(null===(s=null===(r=null===(n=this.appSettings)||void 0===n?void 0:n.image_upload_config)||void 0===r?void 0:r.blocked_file_extensions)||void 0===s?void 0:s.find((t=>e.name.endsWith(t)))),U=!!(null===(a=null===(o=null===(i=this.appSettings)||void 0===i?void 0:i.image_upload_config)||void 0===o?void 0:o.blocked_mime_types)||void 0===a?void 0:a.find((t=>e.type===t))),V=!!(null===(u=null===(l=null===(c=this.appSettings)||void 0===c?void 0:c.image_upload_config)||void 0===l?void 0:l.allowed_file_extensions)||void 0===u?void 0:u.length)&&!(null===(d=null===(p=null===(h=this.appSettings)||void 0===h?void 0:h.image_upload_config)||void 0===p?void 0:p.allowed_file_extensions)||void 0===d?void 0:d.find((t=>e.name.endsWith(t)))),$=!!(null===(f=null===(m=null===(g=this.appSettings)||void 0===g?void 0:g.image_upload_config)||void 0===m?void 0:m.allowed_mime_types)||void 0===f?void 0:f.length)&&!(null===(b=null===(y=null===(v=this.appSettings)||void 0===v?void 0:v.image_upload_config)||void 0===y?void 0:y.allowed_mime_types)||void 0===b?void 0:b.find((t=>e.type===t)))):(N=!!(null===(C=null===(D=null===(w=this.appSettings)||void 0===w?void 0:w.file_upload_config)||void 0===D?void 0:D.blocked_file_extensions)||void 0===C?void 0:C.find((t=>e.name.endsWith(t)))),U=!!(null===(x=null===(S=null===(_=this.appSettings)||void 0===_?void 0:_.file_upload_config)||void 0===S?void 0:S.blocked_mime_types)||void 0===x?void 0:x.find((t=>e.type===t))),V=!!(null===(T=null===(E=null===(I=this.appSettings)||void 0===I?void 0:I.file_upload_config)||void 0===E?void 0:E.allowed_file_extensions)||void 0===T?void 0:T.length)&&!(null===(A=null===(M=null===(k=this.appSettings)||void 0===k?void 0:k.file_upload_config)||void 0===M?void 0:M.allowed_file_extensions)||void 0===A?void 0:A.find((t=>e.name.endsWith(t)))),$=!!(null===(R=null===(O=null===(F=this.appSettings)||void 0===F?void 0:F.file_upload_config)||void 0===O?void 0:O.allowed_mime_types)||void 0===R?void 0:R.length)&&!(null===(j=null===(L=null===(P=this.appSettings)||void 0===P?void 0:P.file_upload_config)||void 0===L?void 0:L.allowed_mime_types)||void 0===j?void 0:j.find((t=>e.type===t)))),(N||U||V||$)&&(this.notificationService.addTemporaryNotification("streamChat.Error uploading file, extension not supported",void 0,void 0,{name:e.name,ext:e.type}),t=!1)})),t}))}setCanSendMessages(){var e,t;const n=null===(t=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===t?void 0:t.own_capabilities;this.canSendMessages=!!n&&-1!==n.indexOf("main"===this.mode?"send-message":"send-reply"),this.isViewInited&&(this.cdRef.detectChanges(),this.initTextarea())}get parentMessageId(){let e;return"thread"===this.mode&&this.channelService.activeParentMessageId$.pipe((0,Bn.K)()).subscribe((t=>e=t)),e}startCooldown(e){this.textareaPlaceholder=this.slowModeTextareaPlaceholder,this.isCooldownInProgress=!0,this.cooldown$=w(0,1e3).pipe((0,Un.U)(e+1),(0,$n.k)((t=>e-t)),(0,qn.y)((e=>{0===e&&this.stopCooldown()})))}stopCooldown(){this.cooldown$=void 0,this.isCooldownInProgress=!1,this.textareaPlaceholder=this.defaultTextareaPlaceholder}}Fi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Fi,deps:[{token:ui},{token:oi},{token:gi},{token:ki},{token:Ii},{token:i.ComponentFactoryResolver},{token:i.ChangeDetectorRef},{token:ai},{token:Ti},{token:bi},{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Fi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Fi,selector:"stream-message-input",inputs:{isFileUploadEnabled:"isFileUploadEnabled",areMentionsEnabled:"areMentionsEnabled",mentionScope:"mentionScope",mode:"mode",isMultipleFileUploadEnabled:"isMultipleFileUploadEnabled",message:"message",sendMessage$:"sendMessage$",inputMode:"inputMode",autoFocus:"autoFocus"},outputs:{messageUpdate:"messageUpdate"},host:{properties:{class:"this.class"}},providers:[gi,Ti],viewQueries:[{propertyName:"fileInput",first:!0,predicate:["fileInput"],descendants:!0},{propertyName:"textareaAnchor",first:!0,predicate:Ei,descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<div\n  *ngIf="themeVersion !== \'2\'"\n  class="{{\n    mode === \'main\' ? \'str-chat__input-flat\' : \'str-chat__small-message-input\'\n  }}"\n  [class.str-chat__input-flat-has-attachments]="\n    (attachmentUploads$ | async)!.length > 0\n  "\n  [class.str-chat__input-flat-quoted]="!!quotedMessage"\n>\n  <div class="quoted-message-preview" *ngIf="quotedMessage">\n    <div class="quoted-message-preview-header">\n      <div>{{ "streamChat.Reply to Message" | translate }}</div>\n      <button\n        class="str-chat__square-button"\n        data-testid="remove-quote"\n        (click)="deselectMessageToQuote()"\n        (keyup.enter)="deselectMessageToQuote()"\n      >\n        <stream-icon-placeholder\n          icon="close-no-outline"\n          style="font-size: 15px; line-height: 15px; width: 15px; height: 15px"\n        ></stream-icon-placeholder>\n      </button>\n    </div>\n    <div class="quoted-message-preview-content">\n      <stream-avatar-placeholder\n        data-testid="qouted-message-avatar"\n        class="str-chat-angular__avatar-host"\n        [imageUrl]="quotedMessage?.user?.image"\n        [name]="quotedMessage?.user?.name || quotedMessage?.user?.id"\n        [size]="20"\n        type="user"\n        location="quoted-message-sender"\n        [user]="quotedMessage?.user || undefined"\n      ></stream-avatar-placeholder>\n      <div class="quoted-message-preview-content-inner">\n        <stream-attachment-list\n          *ngIf="\n            quotedMessage?.attachments && quotedMessage?.attachments?.length\n          "\n          [attachments]="quotedMessageAttachments"\n          [messageId]="quotedMessage?.id"\n        ></stream-attachment-list>\n        <div\n          data-testid="quoted-message-text"\n          [innerHTML]="\n            message?.quoted_message?.translation ||\n            quotedMessage?.html ||\n            quotedMessage?.text\n          "\n        ></div>\n      </div>\n    </div>\n  </div>\n  <div class="str-chat__input-flat-wrapper" style="width: 100%">\n    <div\n      class="{{\n        mode === \'main\'\n          ? \'str-chat__input-flat--textarea-wrapper\'\n          : \'str-chat__small-message-input--textarea-wrapper\'\n      }}"\n    >\n      <ng-template\n        #defaultAttachmentsPreview\n        let-attachmentUploads$="attachmentUploads$"\n        let-retryUploadHandler="retryUploadHandler"\n        let-deleteUploadHandler="deleteUploadHandler"\n      >\n        <stream-attachment-preview-list\n          [attachmentUploads$]="attachmentUploads$"\n          (retryAttachmentUpload)="retryUploadHandler($event)"\n          (deleteAttachment)="deleteUploadHandler($event)"\n          class="rfu-image-previewer-angular-host"\n        ></stream-attachment-preview-list>\n      </ng-template>\n      <ng-container\n        *ngTemplateOutlet="\n          attachmentPreviewListTemplate || defaultAttachmentsPreview;\n          context: getAttachmentPreviewListContext()\n        "\n      ></ng-container>\n      <div class="rta str-chat__textarea str-chat-angular__textarea">\n        <ng-container *ngIf="emojiPickerTemplate" data-testid="emoji-picker">\n          <div\n            class="\n              str-chat__input-flat-emojiselect\n              str-chat-angular__emojiselect\n            "\n          >\n            <ng-container\n              *ngTemplateOutlet="\n                emojiPickerTemplate;\n                context: getEmojiPickerContext()\n              "\n            ></ng-container>\n          </div>\n        </ng-container>\n        <ng-container *ngIf="canSendMessages; else disabledTextarea">\n          <ng-container\n            streamTextarea\n            [(value)]="textareaValue"\n            (valueChange)="typingStart$.next()"\n            (send)="messageSent()"\n            [componentRef]="textareaRef"\n            (userMentions)="mentionedUsers = $event"\n            [areMentionsEnabled]="areMentionsEnabled"\n            [mentionScope]="mentionScope"\n            [placeholder]="textareaPlaceholder"\n            [inputMode]="inputMode"\n            [autoFocus]="autoFocus"\n          ></ng-container>\n        </ng-container>\n        <ng-template #disabledTextarea>\n          <textarea\n            disabled\n            rows="1"\n            [value]="disabledTextareaText | translate"\n            class="rta__textarea str-chat__textarea__textarea"\n            data-testid="disabled-textarea"\n          ></textarea>\n        </ng-template>\n      </div>\n      <ng-container\n        *ngIf="isFileUploadEnabled && isFileUploadAuthorized && canSendMessages"\n      >\n        <ng-container\n          *ngTemplateOutlet="\n            customAttachmentUploadTemplate || defaultAttachmentUpload;\n            context: getAttachmentUploadContext()\n          "\n        ></ng-container>\n        <ng-template #defaultAttachmentUpload>\n          <div\n            class="str-chat__fileupload-wrapper"\n            data-testid="file-upload-button"\n          >\n            <div class="str-chat__tooltip">\n              {{ "streamChat.Attach files" | translate }}\n            </div>\n            <div class="rfu-file-upload-button">\n              <label>\n                <input\n                  #fileInput\n                  type="file"\n                  class="rfu-file-input"\n                  data-testid="file-input"\n                  [multiple]="isMultipleFileUploadEnabled"\n                  (change)="filesSelected(fileInput.files)"\n                />\n                <span class="str-chat__input-flat-fileupload">\n                  <stream-icon-placeholder\n                    icon="file-upload"\n                  ></stream-icon-placeholder>\n                </span>\n              </label>\n            </div>\n          </div>\n        </ng-template>\n      </ng-container>\n    </div>\n    <button\n      *ngIf="canSendMessages && !isCooldownInProgress"\n      data-testid="send-button"\n      class="str-chat__send-button"\n      (click)="messageSent()"\n      (keyup.enter)="messageSent()"\n    >\n      <stream-icon-placeholder\n        class="str-chat__send-button-angular"\n        icon="send"\n      ></stream-icon-placeholder>\n    </button>\n    <div\n      class="str-chat__input-flat-cooldown"\n      *ngIf="isCooldownInProgress"\n      data-testid="cooldown-timer"\n    >\n      <div class="str-chat__message-input-cooldown-text">\n        {{ cooldown$ | async }}\n      </div>\n    </div>\n  </div>\n</div>\n\n<div\n  *ngIf="themeVersion === \'2\'"\n  class="str-chat__message-input str-chat-angular__message-input"\n>\n  <div *ngIf="quotedMessage" class="str-chat__quoted-message-preview-header">\n    <div class="str-chat__quoted-message-reply-to-message">\n      {{ "streamChat.Reply to Message" | translate }}\n    </div>\n    <button\n      class="str-chat__quoted-message-remove"\n      data-testid="remove-quote"\n      (click)="deselectMessageToQuote()"\n      (keyup.enter)="deselectMessageToQuote()"\n    >\n      <stream-icon-placeholder\n        icon="close-no-outline"\n      ></stream-icon-placeholder>\n    </button>\n  </div>\n  <ng-container *ngIf="canSendMessages; else notAllowed">\n    <div\n      class="\n        str-chat__message-input-inner\n        str-chat-angular__message-input-inner\n      "\n    >\n      <ng-container\n        *ngIf="isFileUploadEnabled && isFileUploadAuthorized && canSendMessages"\n      >\n        <ng-container\n          *ngTemplateOutlet="\n            customAttachmentUploadTemplate || defaultAttachmentUpload;\n            context: getAttachmentUploadContext()\n          "\n        ></ng-container>\n        <ng-template #defaultAttachmentUpload>\n          <div\n            class="str-chat__file-input-container"\n            data-testid="file-upload-button"\n          >\n            <input\n              #fileInput\n              type="file"\n              class="str-chat__file-input"\n              data-testid="file-input"\n              [multiple]="isMultipleFileUploadEnabled"\n              (change)="filesSelected(fileInput.files)"\n              id="{{ fileInputId }}"\n            />\n            <label class="str-chat__file-input-label" for="{{ fileInputId }}">\n              <stream-icon-placeholder icon="attach"></stream-icon-placeholder>\n            </label>\n          </div>\n        </ng-template>\n      </ng-container>\n      <div class="str-chat__message-textarea-container">\n        <div\n          data-testid="quoted-message-container"\n          class="str-chat__quoted-message-preview"\n          *ngIf="quotedMessage"\n        >\n          <stream-avatar-placeholder\n            data-testid="qouted-message-avatar"\n            class="\n              str-chat-angular__avatar-host\n              str-chat__message-sender-avatar\n            "\n            [imageUrl]="quotedMessage?.user?.image"\n            [name]="quotedMessage?.user?.name || quotedMessage?.user?.id"\n            [size]="20"\n            type="user"\n            location="quoted-message-sender"\n            [user]="quotedMessage?.user || undefined"\n          ></stream-avatar-placeholder>\n          <div\n            class="\n              quoted-message-preview-content-inner\n              str-chat__quoted-message-bubble\n            "\n          >\n            <stream-attachment-list\n              *ngIf="\n                quotedMessage?.attachments && quotedMessage?.attachments?.length\n              "\n              [attachments]="quotedMessageAttachments"\n              [messageId]="quotedMessage?.id"\n            ></stream-attachment-list>\n            <div\n              class="str-chat__quoted-message-text"\n              data-testid="quoted-message-text"\n              [innerHTML]="\n                quotedMessage?.translation ||\n                quotedMessage?.html ||\n                quotedMessage?.text\n              "\n            ></div>\n          </div>\n        </div>\n        <ng-template\n          #defaultAttachmentsPreview\n          let-attachmentUploads$="attachmentUploads$"\n          let-retryUploadHandler="retryUploadHandler"\n          let-deleteUploadHandler="deleteUploadHandler"\n        >\n          <stream-attachment-preview-list\n            [attachmentUploads$]="attachmentUploads$"\n            (retryAttachmentUpload)="retryUploadHandler($event)"\n            (deleteAttachment)="deleteUploadHandler($event)"\n            class="str-chat__attachment-preview-list-angular-host"\n          ></stream-attachment-preview-list>\n        </ng-template>\n        <ng-container\n          *ngTemplateOutlet="\n            attachmentPreviewListTemplate || defaultAttachmentsPreview;\n            context: getAttachmentPreviewListContext()\n          "\n        ></ng-container>\n        <div class="str-chat__message-textarea-with-emoji-picker">\n          <ng-container\n            streamTextarea\n            [(value)]="textareaValue"\n            (valueChange)="typingStart$.next()"\n            (send)="messageSent()"\n            [componentRef]="textareaRef"\n            (userMentions)="mentionedUsers = $event"\n            [areMentionsEnabled]="areMentionsEnabled"\n            [mentionScope]="mentionScope"\n            [inputMode]="inputMode"\n            [autoFocus]="autoFocus"\n            [placeholder]="textareaPlaceholder"\n          ></ng-container>\n          <div class="str-chat__message-textarea-emoji-picker">\n            <ng-container\n              *ngIf="emojiPickerTemplate"\n              data-testid="emoji-picker"\n            >\n              <ng-container\n                *ngTemplateOutlet="\n                  emojiPickerTemplate;\n                  context: getEmojiPickerContext()\n                "\n              ></ng-container>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n      <button\n        *ngIf="canSendMessages && !isCooldownInProgress && !message"\n        [disabled]="\n          (attachmentUploadInProgressCounter$ | async)! > 0 ||\n          (!textareaValue && (attachmentUploads$ | async)!.length === 0)\n        "\n        data-testid="send-button"\n        class="str-chat__send-button"\n        (click)="messageSent()"\n        (keyup.enter)="messageSent()"\n      >\n        <stream-icon-placeholder icon="send"></stream-icon-placeholder>\n      </button>\n      <div\n        class="str-chat__message-input-cooldown"\n        *ngIf="isCooldownInProgress"\n        data-testid="cooldown-timer"\n      >\n        {{ cooldown$ | async }}\n      </div>\n    </div>\n  </ng-container>\n  <ng-template #notAllowed>\n    <div\n      class="str-chat__message-input-not-allowed"\n      data-testid="disabled-textarea"\n    >\n      {{ disabledTextareaText | translate }}\n    </div>\n  </ng-template>\n</div>\n',components:[{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]},{type:wi,selector:"stream-avatar-placeholder",inputs:["name","imageUrl","size","location","channel","user","type","initialsType","showOnlineIndicator"]},{type:Mi,selector:"stream-attachment-list",inputs:["messageId","parentMessageId","attachments"],outputs:["imageModalStateChange"]},{type:Ai,selector:"stream-attachment-preview-list",inputs:["attachmentUploads$"],outputs:["retryAttachmentUpload","deleteAttachment"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:Ei,selector:"[streamTextarea]",inputs:["componentRef","areMentionsEnabled","mentionScope","inputMode","value","placeholder","autoFocus"],outputs:["valueChange","send","userMentions"]}],pipes:{async:nr.a,translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Fi,decorators:[{type:i.Component,args:[{selector:"stream-message-input",templateUrl:"./message-input.component.html",styles:[],providers:[gi,Ti]}]}],ctorParameters:function(){return[{type:ui},{type:oi},{type:gi},{type:ki},{type:i.Type,decorators:[{type:i.Inject,args:[Ii]}]},{type:i.ComponentFactoryResolver},{type:i.ChangeDetectorRef},{type:ai},{type:Ti},{type:bi},{type:hi}]},propDecorators:{isFileUploadEnabled:[{type:i.Input}],areMentionsEnabled:[{type:i.Input}],mentionScope:[{type:i.Input}],mode:[{type:i.Input}],isMultipleFileUploadEnabled:[{type:i.Input}],message:[{type:i.Input}],sendMessage$:[{type:i.Input}],inputMode:[{type:i.Input}],autoFocus:[{type:i.Input}],messageUpdate:[{type:i.Output}],class:[{type:i.HostBinding}],fileInput:[{type:i.ViewChild,args:["fileInput"]}],textareaAnchor:[{type:i.ViewChild,args:[Ei,{static:!1}]}]}});class Oi{constructor(){}}Oi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Oi,deps:[],target:i["ɵɵFactoryTarget"].Component}),Oi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Oi,selector:"stream-notification",inputs:{type:"type",content:"content"},ngImport:i,template:'<div\n  class="str-chat__custom-notification notification-{{\n    type\n  }} str-chat__notification"\n  data-testid="custom-notification"\n>\n  <ng-container *ngIf="content; else elseContent">\n    <ng-container *ngTemplateOutlet="content"></ng-container>\n  </ng-container>\n  <ng-template #elseContent>\n    <ng-content></ng-content>\n  </ng-template>\n</div>\n',directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Oi,decorators:[{type:i.Component,args:[{selector:"stream-notification",templateUrl:"./notification.component.html",styles:[]}]}],ctorParameters:function(){return[]},propDecorators:{type:[{type:i.Input}],content:[{type:i.Input}]}});class Ri{constructor(e,t,n){this.customTemplatesService=e,this.notificationService=t,this.themeService=n,this.notifications$=this.notificationService.notifications$,this.theme$=this.themeService.theme$,this.themeVersion=this.themeService.themeVersion}trackById(e,t){return t.id}getNotificationContentContext(e){return Object.assign(Object.assign({},e.templateContext),{dismissFn:e.dismissFn})}}Ri.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ri,deps:[{token:bi},{token:oi},{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Ri.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Ri,selector:"stream-notification-list",ngImport:i,template:'<div\n  class="str-chat__theme-{{ theme$ | async }} str-chat__list-notifications"\n  [class.str-chat]="themeVersion === \'2\'"\n  data-testid="notification-list"\n>\n  <ng-container\n    *ngFor="let notification of notifications$ | async; trackBy: trackById"\n  >\n    <ng-template #notificationContent>\n      <div\n        *ngIf="notification.text !== undefined"\n        data-testclass="notification-content"\n      >\n        {{ notification.text | translate: notification.translateParams }}\n      </div>\n      <ng-container *ngIf="notification.template !== undefined">\n        <ng-container\n          *ngTemplateOutlet="\n            notification.template;\n            context: getNotificationContentContext(notification)\n          "\n        ></ng-container>\n      </ng-container>\n    </ng-template>\n    <ng-container\n      *ngTemplateOutlet="\n        (customTemplatesService.notificationTemplate$ | async) ||\n          defaultNotification;\n        context: { type: notification.type, content: notificationContent }\n      "\n    ></ng-container>\n  </ng-container>\n</div>\n\n<ng-template #defaultNotification let-type="type" let-content="content">\n  <stream-notification [type]="type" [content]="content"></stream-notification>\n</ng-template>\n',components:[{type:Oi,selector:"stream-notification",inputs:["type","content"]}],directives:[{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],pipes:{async:nr.a,translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ri,decorators:[{type:i.Component,args:[{selector:"stream-notification-list",templateUrl:"./notification-list.component.html",styles:[]}]}],ctorParameters:function(){return[{type:bi},{type:oi},{type:hi}]}});class Pi{constructor(e,t,n,r){this.chatClientService=e,this.notificationService=t,this.channelService=n,this.customTemplatesService=r,this.isOpen=!1,this.isMine=!1,this.enabledActions=[],this.customActions=[],this.displayedActionsCount=new i.EventEmitter,this.isEditing=new i.EventEmitter,this.isEditModalOpen=!1,this.visibleMessageActionItems=[],this.sendMessageSubject=new l.E,this.modalClosed=()=>{this.isEditModalOpen=!1,this.isEditing.emit(!1)},this.messageActionItems=[{actionName:"quote",actionLabelOrTranslationKey:"streamChat.Reply",actionHandler:e=>this.channelService.selectMessageToQuote(e),isVisible:e=>-1!==e.indexOf("quote-message")},{actionName:"pin",actionLabelOrTranslationKey:e=>e.pinned?"streamChat.Unpin":"streamChat.Pin",actionHandler:e=>e.pinned?this.channelService.unpinMessage(e):this.channelService.pinMessage(e),isVisible:e=>-1!==e.indexOf("pin-message")},{actionName:"flag",actionLabelOrTranslationKey:"streamChat.Flag",actionHandler:e=>(0,s.kH)(this,void 0,void 0,(function*(){try{yield this.chatClientService.flagMessage(e.id),this.notificationService.addTemporaryNotification("streamChat.Message has been successfully flagged","success")}catch(e){this.notificationService.addTemporaryNotification("streamChat.Error adding flag")}})),isVisible:(e,t)=>-1!==e.indexOf("flag-message")&&!t},{actionName:"edit",actionLabelOrTranslationKey:"streamChat.Edit Message",actionHandler:()=>{this.isEditing.emit(!0),this.isEditModalOpen=!0},isVisible:(e,t)=>-1!==e.indexOf("update-own-message")&&t||-1!==e.indexOf("update-any-message")},{actionName:"delete",actionLabelOrTranslationKey:"streamChat.Delete",actionHandler:e=>(0,s.kH)(this,void 0,void 0,(function*(){try{yield this.channelService.deleteMessage(e)}catch(e){this.notificationService.addTemporaryNotification("streamChat.Error deleting message")}})),isVisible:(e,t)=>(-1!==e.indexOf("delete")||-1!==e.indexOf("delete-own-message"))&&t||-1!==e.indexOf("delete-any")||-1!==e.indexOf("delete-any-message")}],this.sendMessage$=this.sendMessageSubject.asObservable()}ngOnChanges(e){(e.isMine||e.enabledActions||e.message||e.customActions)&&(this.visibleMessageActionItems=[...this.messageActionItems,...this.customActions].filter((e=>e.isVisible(this.enabledActions,this.isMine,this.message))),this.displayedActionsCount.emit(this.visibleMessageActionItems.length))}getActionLabel(e){return"string"==typeof e?e:e(this.message)}getMessageActionTemplateContext(e){return{actionHandler:e.actionHandler,isMine:this.isMine,actionName:e.actionName,message:this.message,actionLabelOrTranslationKey:e.actionLabelOrTranslationKey}}sendClicked(){this.sendMessageSubject.next()}getMessageInputContext(){return{message:this.message,messageUpdateHandler:this.modalClosed,isFileUploadEnabled:void 0,areMentionsEnabled:void 0,isMultipleFileUploadEnabled:void 0,mentionScope:void 0,mode:void 0,sendMessage$:this.sendMessage$}}getEditModalContext(){return{isOpen:this.isEditModalOpen,isOpenChangeHandler:e=>{this.isEditModalOpen=e,this.isEditModalOpen||this.modalClosed()},content:this.modalContent}}trackByActionName(e,t){return t.actionName}}Pi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Pi,deps:[{token:ai},{token:oi},{token:ui},{token:bi}],target:i["ɵɵFactoryTarget"].Component}),Pi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Pi,selector:"stream-message-actions-box",inputs:{isOpen:"isOpen",isMine:"isMine",message:"message",enabledActions:"enabledActions",customActions:"customActions"},outputs:{displayedActionsCount:"displayedActionsCount",isEditing:"isEditing"},viewQueries:[{propertyName:"modalContent",first:!0,predicate:["modalContent"],descendants:!0,static:!0}],usesOnChanges:!0,ngImport:i,template:'<div\n  #actionBox\n  data-testid="action-box"\n  class="str-chat__message-actions-box str-chat__message-actions-box-angular"\n  [class.str-chat__message-actions-box--open]="true"\n>\n  <ul class="str-chat__message-actions-list">\n    <ng-container\n      *ngFor="let item of visibleMessageActionItems; trackBy: trackByActionName"\n    >\n      <ng-container\n        *ngTemplateOutlet="\n          (customTemplatesService.messageActionsBoxItemTemplate$ | async) ||\n            defaultMessageActionItem;\n          context: getMessageActionTemplateContext(item)\n        "\n      ></ng-container>\n    </ng-container>\n  </ul>\n</div>\n\n<ng-template\n  #defaultMessageActionItem\n  let-actionName="actionName"\n  let-actionHandler="actionHandler"\n  let-actionLabelOrTranslationKey="actionLabelOrTranslationKey"\n>\n  <button\n    class="str-chat__message-actions-list-item-button"\n    [attr.data-testid]="actionName + \'-action\'"\n    (click)="actionHandler(message, isMine)"\n  >\n    <li class="str-chat__message-actions-list-item">\n      {{ getActionLabel(actionLabelOrTranslationKey) | translate }}\n    </li>\n  </button>\n</ng-template>\n\n<ng-container\n  *ngTemplateOutlet="\n    (customTemplatesService.modalTemplate$ | async) || defaultModal;\n    context: getEditModalContext()\n  "\n></ng-container>\n\n<ng-template\n  #defaultModal\n  let-isOpen="isOpen"\n  let-isOpenChangeHandler="isOpenChangeHandler"\n  let-content="content"\n>\n  <stream-modal\n    [isOpen]="isOpen"\n    (isOpenChange)="isOpenChangeHandler($event)"\n    [content]="content"\n  >\n  </stream-modal>\n</ng-template>\n\n<ng-template #modalContent>\n  <div class="str-chat__edit-message-form" *ngIf="isEditModalOpen">\n    <ng-template\n      #defaultInput\n      let-messageInput="message"\n      let-messageUpdateHandler="messageUpdateHandler"\n      let-sendMessage$Input="sendMessage$"\n    >\n      <stream-message-input\n        [message]="messageInput"\n        (messageUpdate)="messageUpdateHandler()"\n        [sendMessage$]="sendMessage$Input"\n      ></stream-message-input>\n    </ng-template>\n    <ng-container\n      *ngTemplateOutlet="\n        (customTemplatesService.messageInputTemplate$ | async) || defaultInput;\n        context: getMessageInputContext()\n      "\n    >\n    </ng-container>\n\n    <stream-notification-list></stream-notification-list>\n    <div\n      class="\n        str-chat__message-team-form-footer\n        str-chat__message-team-form-footer-angular\n      "\n    >\n      <div class="str-chat__edit-message-form-options">\n        <button\n          class="str-chat__edit-message-cancel"\n          translate\n          data-testid="cancel-button"\n          (click)="modalClosed()"\n        >\n          streamChat.Cancel\n        </button>\n        <button\n          type="submit"\n          translate\n          class="str-chat__edit-message-send"\n          data-testid="send-button"\n          (click)="sendClicked()"\n          (keyup.enter)="sendClicked()"\n        >\n          streamChat.Send\n        </button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n',components:[{type:xi,selector:"stream-modal",inputs:["isOpen","content"],outputs:["isOpenChange"]},{type:Fi,selector:"stream-message-input",inputs:["isFileUploadEnabled","areMentionsEnabled","mentionScope","mode","isMultipleFileUploadEnabled","message","sendMessage$","inputMode","autoFocus"],outputs:["messageUpdate"]},{type:Ri,selector:"stream-notification-list"}],directives:[{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:tr.eM,selector:"[translate],[ngx-translate]",inputs:["translate","translateParams"]}],pipes:{async:nr.a,translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Pi,decorators:[{type:i.Component,args:[{selector:"stream-message-actions-box",templateUrl:"./message-actions-box.component.html",styles:[]}]}],ctorParameters:function(){return[{type:ai},{type:oi},{type:ui},{type:bi}]},propDecorators:{isOpen:[{type:i.Input}],isMine:[{type:i.Input}],message:[{type:i.Input}],enabledActions:[{type:i.Input}],customActions:[{type:i.Input}],displayedActionsCount:[{type:i.Output}],isEditing:[{type:i.Output}],modalContent:[{type:i.ViewChild,args:["modalContent",{static:!0}]}]}});class Li{constructor(e,t){this.channelService=e,this.themeService=t,this.subscriptions=[],this.isError$=(0,c.E)([this.channelService.channelQueryState$,this.channelService.activeChannel$]).pipe((0,$n.k)((([e,t])=>!t&&"error"===(null==e?void 0:e.state)))),this.isInitializing$=(0,c.E)([this.channelService.channelQueryState$,this.channelService.activeChannel$]).pipe((0,$n.k)((([e,t])=>!t&&"in-progress"===(null==e?void 0:e.state)))),this.isActiveThread$=this.channelService.activeParentMessageId$.pipe((0,$n.k)((e=>!!e))),this.theme$=this.themeService.theme$,this.isActiveChannel$=this.channelService.activeChannel$.pipe((0,$n.k)((e=>!!e)))}}Li.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Li,deps:[{token:ui},{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Li.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Li,selector:"stream-channel",ngImport:i,template:'<div\n  class="str-chat str-chat-channel messaging str-chat__channel str-chat__theme-{{\n    theme$ | async\n  }}"\n>\n  <div\n    class="str-chat__container"\n    *ngIf="\n      (isError$ | async) === false &&\n        (isInitializing$ | async) === false &&\n        (isActiveChannel$ | async) === true;\n      else noChannel\n    "\n  >\n    <div class="str-chat__main-panel">\n      <ng-content></ng-content>\n    </div>\n    <ng-content\n      *ngIf="isActiveThread$ | async"\n      select=\'[name="thread"]\'\n    ></ng-content>\n  </div>\n  <ng-template #noChannel>\n    <div\n      class="str-chat__empty-channel"\n      *ngIf="\n        (isInitializing$ | async) === false &&\n        ((isError$ | async) === true || (isActiveChannel$ | async) === false)\n      "\n    >\n      <stream-icon icon="chat-bubble"></stream-icon>\n      <p class="str-chat__empty-channel-text">\n        {{ "streamChat.No chats here yet…" | translate }}\n      </p>\n      <div class="str-chat__empty-channel-notifications">\n        <stream-notification-list></stream-notification-list>\n      </div>\n    </div>\n    <div\n      *ngIf="\n        (isInitializing$ | async) === true &&\n        (isError$ | async) === false &&\n        (isActiveChannel$ | async) === false\n      "\n      class="str-chat__loading-channel"\n    >\n      <div class="str-chat__loading-channel-header">\n        <div class="str-chat__loading-channel-header-avatar"></div>\n        <div class="str-chat__loading-channel-header-end">\n          <div class="str-chat__loading-channel-header-name"></div>\n          <div class="str-chat__loading-channel-header-info"></div>\n        </div>\n      </div>\n      <div class="str-chat__loading-channel-message-list">\n        <div class="str-chat__loading-channel-message">\n          <div class="str-chat__loading-channel-message-avatar"></div>\n          <div class="str-chat__loading-channel-message-end">\n            <div class="str-chat__loading-channel-message-sender"></div>\n            <div class="str-chat__loading-channel-message-last-row">\n              <div class="str-chat__loading-channel-message-text"></div>\n              <div class="str-chat__loading-channel-message-date"></div>\n            </div>\n          </div>\n        </div>\n        <div class="str-chat__loading-channel-message">\n          <div class="str-chat__loading-channel-message-avatar"></div>\n          <div class="str-chat__loading-channel-message-end">\n            <div class="str-chat__loading-channel-message-sender"></div>\n            <div class="str-chat__loading-channel-message-last-row">\n              <div class="str-chat__loading-channel-message-text"></div>\n              <div class="str-chat__loading-channel-message-date"></div>\n            </div>\n          </div>\n        </div>\n        <div class="str-chat__loading-channel-message">\n          <div class="str-chat__loading-channel-message-avatar"></div>\n          <div class="str-chat__loading-channel-message-end">\n            <div class="str-chat__loading-channel-message-sender"></div>\n            <div class="str-chat__loading-channel-message-last-row">\n              <div class="str-chat__loading-channel-message-text"></div>\n              <div class="str-chat__loading-channel-message-date"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="str-chat__loading-channel-message-input-row">\n        <div class="str-chat__loading-channel-message-input"></div>\n        <div class="str-chat__loading-channel-message-send"></div>\n      </div>\n    </div>\n  </ng-template>\n</div>\n',components:[{type:Di,selector:"stream-icon",inputs:["icon","size"]},{type:Ri,selector:"stream-notification-list"}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],pipes:{async:nr.a,translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Li,decorators:[{type:i.Component,args:[{selector:"stream-channel",templateUrl:"./channel.component.html",styles:[]}]}],ctorParameters:function(){return[{type:ui},{type:hi}]}});const ji=e=>{let t="";const n=e.map((e=>e.name||e.id)).slice(0,5),r=e.length-n.length;return t=n.join(", "),r>0&&(t+=` +${r}`),t},Ni=(e,t)=>{var n;if(null===(n=e.data)||void 0===n?void 0:n.name)return e.data.name;if(e.state.members&&Object.keys(e.state.members).length>0){const n=Object.values(e.state.members).map((e=>e.user||{id:e.user_id})).filter((e=>e.id!==(null==t?void 0:t.id)));return ji(n)}return e.id};class Ui{constructor(){this.isOpenSubject=new o.g(!1),this.isOpen$=this.isOpenSubject.asObservable().pipe((0,zn.a)()),this.isOpen$.pipe((0,Hn.I)((e=>e))).subscribe((()=>{this.watchForOutsideClicks()}))}open(){this.isOpenSubject.next(!0)}close(){this.isOpenSubject.next(!1)}toggle(){this.isOpenSubject.getValue()?this.close():this.open()}setMenuElement(e){this.menuElement=e}channelSelected(){this.close()}watchForOutsideClicks(){if(!this.menuElement)return;const e=t=>{this.menuElement.contains(t.target)||(this.close(),window.removeEventListener("click",e))};window.addEventListener("click",e),this.isOpen$.pipe((0,Hn.I)((e=>!e)),(0,Bn.K)()).subscribe((()=>window.removeEventListener("click",e)))}}Ui.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ui,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),Ui.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ui,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ui,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Vi{constructor(e,t,n,r,s){this.channelService=e,this.channelListToggleService=t,this.customTemplatesService=n,this.cdRef=r,this.chatClientService=s,this.subscriptions=[],this.channelService.activeChannel$.subscribe((e=>{var t,n;this.activeChannel=e;const r=null===(n=null===(t=this.activeChannel)||void 0===t?void 0:t.data)||void 0===n?void 0:n.own_capabilities;r&&(this.canReceiveConnectEvents=-1!==r.indexOf("connect-events"))}))}ngOnInit(){this.subscriptions.push(this.customTemplatesService.channelActionsTemplate$.subscribe((e=>{this.channelActionsTemplate=e,this.cdRef.detectChanges()}))),this.subscriptions.push(this.customTemplatesService.channelHeaderInfoTemplate$.subscribe((e=>{this.channelHeaderInfoTemplate=e,this.cdRef.detectChanges()})))}ngOnDestroy(){this.subscriptions.forEach((e=>e.unsubscribe()))}toggleMenu(e){e.stopPropagation(),this.channelListToggleService.toggle()}getChannelActionsContext(){return{channel:this.activeChannel}}getChannelInfoContext(){return{channel:this.activeChannel}}get memberCountParam(){var e,t;return{memberCount:(null===(t=null===(e=this.activeChannel)||void 0===e?void 0:e.data)||void 0===t?void 0:t.member_count)||0}}get watcherCountParam(){var e,t;return{watcherCount:(null===(t=null===(e=this.activeChannel)||void 0===e?void 0:e.state)||void 0===t?void 0:t.watcher_count)||0}}get displayText(){return this.activeChannel?Ni(this.activeChannel,this.chatClientService.chatClient.user):""}get avatarName(){var e,t;return null===(t=null===(e=this.activeChannel)||void 0===e?void 0:e.data)||void 0===t?void 0:t.name}}Vi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Vi,deps:[{token:ui},{token:Ui},{token:bi},{token:i.ChangeDetectorRef},{token:ai}],target:i["ɵɵFactoryTarget"].Component}),Vi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Vi,selector:"stream-channel-header",ngImport:i,template:'<div class="str-chat__header-livestream str-chat__channel-header">\n  <div\n    class="str-chat__header-hamburger"\n    (click)="toggleMenu($event)"\n    (keyup.enter)="toggleMenu($event)"\n  >\n    <stream-icon-placeholder icon="menu"></stream-icon-placeholder>\n  </div>\n  <ng-content></ng-content>\n  <stream-avatar-placeholder\n    imageUrl="{{ activeChannel?.data?.image }}"\n    name="{{ avatarName }}"\n    type="channel"\n    location="channel-header"\n    [channel]="activeChannel"\n    [size]="40"\n  ></stream-avatar-placeholder>\n  <div class="str-chat__header-livestream-left str-chat__channel-header-end">\n    <p\n      data-testid="name"\n      class="\n        str-chat__header-livestream-left--title str-chat__channel-header-title\n      "\n    >\n      {{ displayText }}\n    </p>\n    <ng-container\n      *ngTemplateOutlet="\n        channelHeaderInfoTemplate || defaultChannelInfo;\n        context: getChannelInfoContext()\n      "\n    ></ng-container>\n    <ng-template #defaultChannelInfo>\n      <p\n        data-testid="info"\n        class="\n          str-chat__header-livestream-left--members\n          str-chat__channel-header-info\n        "\n      >\n        {{\'streamChat.{{ memberCount }} members\' | translate:memberCountParam}}\n        {{canReceiveConnectEvents ? (\'streamChat.{{ watcherCount }} online\' |\n        translate:watcherCountParam) : \'\'}}\n      </p>\n    </ng-template>\n  </div>\n  <ng-container *ngIf="channelActionsTemplate">\n    <ng-container\n      *ngTemplateOutlet="\n        channelActionsTemplate;\n        context: getChannelActionsContext()\n      "\n    ></ng-container>\n  </ng-container>\n</div>\n',components:[{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]},{type:wi,selector:"stream-avatar-placeholder",inputs:["name","imageUrl","size","location","channel","user","type","initialsType","showOnlineIndicator"]}],directives:[{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],pipes:{translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Vi,decorators:[{type:i.Component,args:[{selector:"stream-channel-header",templateUrl:"./channel-header.component.html",styles:[]}]}],ctorParameters:function(){return[{type:ui},{type:Ui},{type:bi},{type:i.ChangeDetectorRef},{type:ai}]}});class $i{constructor(){this.displayAs="text"}}$i.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:$i,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),$i.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:$i,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:$i,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Bi{constructor(e,t,n,r){this.channelService=e,this.ngZone=t,this.chatClientService=n,this.isActive=!1,this.isUnread=!1,this.latestMessage="streamChat.Nothing yet...",this.subscriptions=[],this.canSendReadEvents=!0,this.displayAs=r.displayAs}ngOnInit(){var e,t,n,r;this.subscriptions.push(this.channelService.activeChannel$.subscribe((e=>{var t;return this.isActive=(null==e?void 0:e.id)===(null===(t=this.channel)||void 0===t?void 0:t.id)})));const s=null===(t=null===(e=this.channel)||void 0===e?void 0:e.state)||void 0===t?void 0:t.latestMessages;s&&s.length>0&&this.setLatestMessage(s[s.length-1]),this.updateUnreadState();const i=(null===(r=null===(n=this.channel)||void 0===n?void 0:n.data)||void 0===r?void 0:r.own_capabilities)||[];this.canSendReadEvents=-1!==i.indexOf("read-events"),this.subscriptions.push(this.channel.on("message.new",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.updated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.deleted",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("channel.truncated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.read",(()=>this.ngZone.run((()=>{this.updateUnreadState()})))))}ngOnDestroy(){this.subscriptions.forEach((e=>e.unsubscribe()))}get avatarImage(){var e,t;return null===(t=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===t?void 0:t.image}get avatarName(){var e,t;return null===(t=null===(e=this.channel)||void 0===e?void 0:e.data)||void 0===t?void 0:t.name}get title(){return this.channel?Ni(this.channel,this.chatClientService.chatClient.user):""}setAsActiveChannel(){this.channelService.setAsActiveChannel(this.channel)}handleMessageEvent(e){this.ngZone.run((()=>{var t,n,r;0!==(null===(t=this.channel)||void 0===t?void 0:t.state.latestMessages.length)?e.message&&(null===(n=this.channel)||void 0===n?void 0:n.state.latestMessages[(null===(r=this.channel)||void 0===r?void 0:r.state.latestMessages.length)-1].id)===e.message.id&&(this.setLatestMessage(e.message),this.updateUnreadState()):this.latestMessage="streamChat.Nothing yet..."}))}setLatestMessage(e){(null==e?void 0:e.deleted_at)?this.latestMessage="streamChat.Message deleted":(null==e?void 0:e.text)?this.latestMessage=ci(e,this.channel,this.chatClientService.chatClient.user)||e.text:(null==e?void 0:e.attachments)&&e.attachments.length&&(this.latestMessage="streamChat.🏙 Attachment...")}updateUnreadState(){if(this.isActive||!this.canSendReadEvents)return this.unreadCount=0,void(this.isUnread=!1);this.unreadCount=this.channel.countUnread(),this.isUnread=!!this.unreadCount}}Bi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Bi,deps:[{token:ui},{token:i.NgZone},{token:ai},{token:$i}],target:i["ɵɵFactoryTarget"].Component}),Bi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Bi,selector:"stream-channel-preview",inputs:{channel:"channel"},ngImport:i,template:'<button\n  class="str-chat__channel-preview-messenger str-chat__channel-preview"\n  [class.str-chat__channel-preview-messenger--active]="isActive"\n  [class.str-chat__channel-preview--active]="isActive"\n  [class.str-chat__channel-preview-messenger--unread]="isUnread"\n  (click)="setAsActiveChannel()"\n  data-testid="channel-preview-container"\n>\n  <div class="str-chat__channel-preview-messenger--left">\n    <stream-avatar-placeholder\n      name="{{ avatarName }}"\n      imageUrl="{{ avatarImage }}"\n      type="channel"\n      [channel]="channel"\n      location="channel-preview"\n      [size]="49"\n    ></stream-avatar-placeholder>\n  </div>\n  <div\n    class="\n      str-chat__channel-preview-messenger--right str-chat__channel-preview-end\n    "\n  >\n    <div class="str-chat__channel-preview-end-first-row">\n      <div class="str-chat__channel-preview-messenger--name">\n        <span data-testid="channel-preview-title">{{ title }}</span>\n      </div>\n      <div\n        data-testid="unread-badge"\n        *ngIf="unreadCount"\n        class="str-chat__channel-preview-unread-badge"\n      >\n        {{ unreadCount }}\n      </div>\n    </div>\n    <div\n      data-testid="latest-message"\n      class="str-chat__channel-preview-messenger--last-message"\n    >\n      <ng-container *ngIf="displayAs === \'text\'; else asHTML">\n        {{ latestMessage | translate }}\n      </ng-container>\n      <ng-template #asHTML>\n        <span\n          data-testid="html-content"\n          [innerHTML]="latestMessage | translate"\n        ></span>\n      </ng-template>\n    </div>\n  </div>\n</button>\n',components:[{type:wi,selector:"stream-avatar-placeholder",inputs:["name","imageUrl","size","location","channel","user","type","initialsType","showOnlineIndicator"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],pipes:{translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Bi,decorators:[{type:i.Component,args:[{selector:"stream-channel-preview",templateUrl:"./channel-preview.component.html",styles:[]}]}],ctorParameters:function(){return[{type:ui},{type:i.NgZone},{type:ai},{type:$i}]},propDecorators:{channel:[{type:i.Input}]}});class Hi{constructor(e,t,n,r){this.channelService=e,this.channelListToggleService=t,this.customTemplatesService=n,this.themeService=r,this.isLoadingMoreChannels=!1,this.subscriptions=[],this.theme$=this.themeService.theme$,this.isOpen$=this.channelListToggleService.isOpen$,this.channels$=this.channelService.channels$,this.hasMoreChannels$=this.channelService.hasMoreChannels$,this.isError$=this.channelService.channelQueryState$.pipe((0,$n.k)((e=>!this.isLoadingMoreChannels&&"error"===(null==e?void 0:e.state)))),this.isInitializing$=this.channelService.channelQueryState$.pipe((0,$n.k)((e=>!this.isLoadingMoreChannels&&"in-progress"===(null==e?void 0:e.state)))),this.subscriptions.push(this.customTemplatesService.channelPreviewTemplate$.subscribe((e=>this.customChannelPreviewTemplate=e)))}ngAfterViewInit(){this.channelListToggleService.setMenuElement(this.container.nativeElement)}ngOnDestroy(){this.subscriptions.forEach((e=>e.unsubscribe()))}loadMoreChannels(){return(0,s.kH)(this,void 0,void 0,(function*(){this.isLoadingMoreChannels=!0,yield this.channelService.loadMoreChannels(),this.isLoadingMoreChannels=!1}))}trackByChannelId(e,t){return t.cid}channelSelected(){this.channelListToggleService.channelSelected()}}Hi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Hi,deps:[{token:ui},{token:Ui},{token:bi},{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Hi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Hi,selector:"stream-channel-list",viewQueries:[{propertyName:"container",first:!0,predicate:["container"],descendants:!0}],ngImport:i,template:'<div\n  #container\n  data-testid="channel-list-container"\n  style="max-width: unset"\n  class="str-chat str-chat__channel-list str-chat-channel-list messaging str-chat__theme-{{\n    theme$ | async\n  }}"\n  [class.str-chat-channel-list--open]="(isOpen$ | async) === true"\n>\n  <div\n    *ngIf="\n      (isError$ | async) === false && (isInitializing$ | async) === false;\n      else statusIndicator\n    "\n    class="str-chat__channel-list-messenger"\n  >\n    <div\n      class="str-chat__channel-list-messenger__main"\n      style="display: flex; flex-direction: column"\n    >\n      <ng-content select="[channel-list-top]"></ng-content>\n      <div\n        class="str-chat__channel-list-empty"\n        *ngIf="!(channels$ | async)?.length"\n      >\n        <stream-icon icon="chat-bubble"></stream-icon>\n        <p data-testid="empty-channel-list-indicator">\n          {{ "streamChat.You have no channels currently" | translate }}\n        </p>\n      </div>\n      <p\n        *ngIf="!(channels$ | async)?.length"\n        class="str-chat__channel-list-empty-v1"\n        data-testid="empty-channel-list-indicator"\n      >\n        {{ "streamChat.You have no channels currently" | translate }}\n      </p>\n      <ng-container\n        *ngFor="let channel of channels$ | async; trackBy: trackByChannelId"\n      >\n        <ng-template #defaultTemplate let-channelInput="channel">\n          <stream-channel-preview\n            data-testclass="channel-preview"\n            [channel]="channelInput"\n          ></stream-channel-preview>\n        </ng-template>\n        <div (click)="channelSelected()" (keyup.enter)="channelSelected()">\n          <ng-container\n            *ngTemplateOutlet="\n              customChannelPreviewTemplate || defaultTemplate;\n              context: { channel: channel }\n            "\n          ></ng-container>\n        </div>\n      </ng-container>\n      <div\n        *ngIf="hasMoreChannels$ | async"\n        class="str-chat__load-more-button"\n        (click)="loadMoreChannels()"\n        (keyup.enter)="loadMoreChannels()"\n        data-testid="load-more"\n      >\n        <button\n          class="str-chat__load-more-button__button str-chat__cta-button"\n          data-testid="load-more-button"\n          [disabled]="isLoadingMoreChannels"\n        >\n          <span *ngIf="!isLoadingMoreChannels; else loadingIndicator">{{\n            "Load more" | translate\n          }}</span>\n          <ng-template #loadingIndicator\n            ><stream-loading-indicator-placeholder></stream-loading-indicator-placeholder\n          ></ng-template>\n        </button>\n      </div>\n      <ng-content select="[channel-list-bottom]"></ng-content>\n    </div>\n  </div>\n</div>\n\n<ng-template #statusIndicator>\n  <ng-container *ngIf="isError$ | async">\n    <ng-container *ngTemplateOutlet="chatDown"></ng-container>\n  </ng-container>\n  <ng-container *ngIf="isInitializing$ | async">\n    <ng-container *ngTemplateOutlet="loadingChannels"></ng-container>\n  </ng-container>\n</ng-template>\n\n<ng-template #chatDown>\n  <div data-testid="chatdown-container" class="str-chat__down">\n    <ng-container *ngTemplateOutlet="loadingChannels"></ng-container>\n    <div class="str-chat__down-main">\n      <stream-icon-placeholder\n        icon="connection-error"\n      ></stream-icon-placeholder>\n      <h1>{{ "streamChat.Connection error" | translate }}</h1>\n      <h3>\n        {{\n          "streamChat.Error connecting to chat, refresh the page to try again."\n            | translate\n        }}\n      </h3>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #loadingChannels>\n  <div data-testid="loading-indicator" class="str-chat__loading-channels">\n    <ng-container *ngTemplateOutlet="loadingChannel"></ng-container>\n    <ng-container *ngTemplateOutlet="loadingChannel"></ng-container>\n    <ng-container *ngTemplateOutlet="loadingChannel"></ng-container>\n  </div>\n</ng-template>\n\n<ng-template #loadingChannel>\n  <div\n    class="str-chat__loading-channels-item str-chat__channel-preview-loading"\n  >\n    <div class="str-chat__loading-channels-avatar"></div>\n    <div\n      class="\n        str-chat__loading-channels-meta str-chat__channel-preview-end-loading\n      "\n    >\n      <div class="str-chat__loading-channels-username"></div>\n      <div class="str-chat__loading-channels-status"></div>\n    </div>\n  </div>\n</ng-template>\n',components:[{type:Di,selector:"stream-icon",inputs:["icon","size"]},{type:Bi,selector:"stream-channel-preview",inputs:["channel"]},{type:Si,selector:"stream-loading-indicator-placeholder",inputs:["size","color"]},{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]}],pipes:{async:nr.a,translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Hi,decorators:[{type:i.Component,args:[{selector:"stream-channel-list",templateUrl:"./channel-list.component.html",styles:[]}]}],ctorParameters:function(){return[{type:ui},{type:Ui},{type:bi},{type:hi}]},propDecorators:{container:[{type:i.ViewChild,args:["container"]}]}}),Ps().extend(js()),Ps().extend(Us());const qi=(e,t="date-time")=>{const n=Ps()(e);return"date-time"===t?n.calendar():n.calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"DD/MM/YYYY"})};class zi{constructor(){}parseDate(e){return this.customDateParser?this.customDateParser(e):qi(e,"date")}parseDateTime(e){return this.customDateTimeParser?this.customDateTimeParser(e):qi(e,"date-time")}}zi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:zi,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),zi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:zi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:zi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Wi{constructor(){this.reactions$=new o.g({like:"👍",angry:"😠",love:"❤️",haha:"😂",wow:"😮",sad:"😞"})}set reactions(e){this.reactions$.next(e)}get reactions(){return this.reactions$.getValue()}}Wi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Wi,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),Wi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Wi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Wi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Ki{constructor(e,t,n){this.cdRef=e,this.channelService=t,this.messageReactionsService=n,this.messageReactionCounts={},this.isSelectorOpen=!1,this.latestReactions=[],this.ownReactions=[],this.isSelectorOpenChange=new i.EventEmitter,this.popperTriggerHover=xs.hover,this.popperPlacementAuto=Ss.AUTO,this.eventHandler=e=>{var t;(null===(t=this.selectorContainer)||void 0===t?void 0:t.nativeElement.contains(e.target))||this.isSelectorOpenChange.emit(!1)}}ngOnChanges(e){e.isSelectorOpen&&(this.isSelectorOpen?setTimeout((()=>this.watchForOutsideClicks())):this.stopWatchForOutsideClicks())}ngAfterViewChecked(){this.tooltipText&&!this.tooltipPositions&&(this.setTooltipPosition(),this.cdRef.detectChanges())}get existingReactions(){return Object.keys(this.messageReactionCounts).filter((e=>-1!==this.reactionOptions.indexOf(e))).filter((e=>this.messageReactionCounts[e]>0))}get reactionsCount(){return this.existingReactions.reduce(((e,t)=>e+this.messageReactionCounts[t]),0)}get reactionOptions(){return Object.keys(this.messageReactionsService.reactions)}getLatestUserByReaction(e){var t;return null===(t=this.latestReactions.find((t=>t.type===e&&t.user)))||void 0===t?void 0:t.user}getEmojiByReaction(e){return this.messageReactionsService.reactions[e]}getUsersByReaction(e){return this.latestReactions.filter((t=>t.type===e)).map((e=>{var t,n;return(null===(t=e.user)||void 0===t?void 0:t.name)||(null===(n=e.user)||void 0===n?void 0:n.id)})).filter((e=>!!e)).join(", ")}showTooltip(e,t){this.currentTooltipTarget=e.target,this.tooltipText=this.getUsersByReaction(t)}hideTooltip(){this.tooltipText=void 0,this.currentTooltipTarget=void 0,this.tooltipPositions=void 0}trackByMessageReaction(e,t){return t}react(e){this.ownReactions.find((t=>t.type===e))?this.channelService.removeReaction(this.messageId,e):this.channelService.addReaction(this.messageId,e)}isOwnReaction(e){return!!this.ownReactions.find((t=>t.type===e))}watchForOutsideClicks(){window.addEventListener("click",this.eventHandler)}stopWatchForOutsideClicks(){window.removeEventListener("click",this.eventHandler)}setTooltipPosition(){var e,t,n;const r=null===(e=this.selectorTooltip)||void 0===e?void 0:e.nativeElement.getBoundingClientRect(),s=null===(t=this.currentTooltipTarget)||void 0===t?void 0:t.getBoundingClientRect(),i=null===(n=this.selectorContainer)||void 0===n?void 0:n.nativeElement.getBoundingClientRect();if(!r||!s||!i)return;const o=r.width===i.width||r.x<i.x?0:s.left+s.width/2-i.left-r.width/2,a=s.x-r.x+s.width/2-o;this.tooltipPositions={tooltip:o,arrow:a}}}Ki.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ki,deps:[{token:i.ChangeDetectorRef},{token:ui},{token:Wi}],target:i["ɵɵFactoryTarget"].Component}),Ki.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Ki,selector:"stream-message-reactions",inputs:{messageId:"messageId",messageReactionCounts:"messageReactionCounts",isSelectorOpen:"isSelectorOpen",latestReactions:"latestReactions",ownReactions:"ownReactions"},outputs:{isSelectorOpenChange:"isSelectorOpenChange"},viewQueries:[{propertyName:"selectorContainer",first:!0,predicate:["selectorContainer"],descendants:!0},{propertyName:"selectorTooltip",first:!0,predicate:["selectorTooltip"],descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<div\n  *ngIf="existingReactions.length > 0"\n  class="str-chat__reaction-list str-chat__message-reactions-container"\n  [class.str-chat__reaction-list--reverse]="true"\n  [class.str-chat__reaction-list-hidden]="isSelectorOpen"\n  data-testid="reaction-list"\n>\n  <ul class="str-chat__message-reactions">\n    <li\n      class="str-chat__message-reaction"\n      *ngFor="\n        let reactionType of existingReactions;\n        trackBy: trackByMessageReaction\n      "\n      [class.str-chat__message-reaction-own]="isOwnReaction(reactionType)"\n      data-testclass="emoji"\n      [popper]="popperContent"\n      [popperTrigger]="popperTriggerHover"\n      [popperPlacement]="popperPlacementAuto"\n      [popperHideOnScroll]="false"\n      [popperHideOnClickOutside]="false"\n      (hover)="$event.stopPropagation()"\n    >\n      <popper-content #popperContent>\n        <div\n          data-testclass="tooltip"\n          class="str-chat__tooltip str-chat__tooltip-angular"\n        >\n          <span>\n            {{ getUsersByReaction(reactionType) }}\n          </span>\n        </div>\n      </popper-content>\n      <span class="emoji str-chat__message-reaction-emoji">\n        {{ getEmojiByReaction(reactionType) }}&nbsp;\n      </span>\n      <span\n        data-testclass="reaction-list-reaction-count"\n        class="str-chat__message-reaction-count"\n      >\n        {{ messageReactionCounts[reactionType] }}\n      </span>\n    </li>\n    <li>\n      <span\n        data-testid="reactions-count"\n        class="str-chat__reaction-list--counter"\n        >{{ reactionsCount }}</span\n      >\n    </li>\n  </ul>\n</div>\n\n<div\n  #selectorContainer\n  class="str-chat__reaction-selector str-chat__message-reaction-selector"\n  *ngIf="isSelectorOpen"\n  data-testid="reaction-selector"\n>\n  <div\n    *ngIf="tooltipText"\n    data-testid="tooltip"\n    #selectorTooltip\n    class="str-chat__reaction-selector-tooltip"\n    [ngStyle]="{\n      left: tooltipPositions?.tooltip + \'px\',\n      visibility: tooltipPositions ? \'visible\' : \'hidden\'\n    }"\n  >\n    <div\n      class="arrow"\n      [ngStyle]="{ left: tooltipPositions?.arrow + \'px\' }"\n    ></div>\n    <span class="latest-user-username">\n      {{ tooltipText }}\n    </span>\n  </div>\n  <ul\n    class="str-chat__message-reactions-list str-chat__message-reactions-options"\n  >\n    <li\n      class="\n        str-chat__message-reactions-option\n        str-chat__message-reactions-list-item\n        str-chat__emoji\n      "\n      *ngFor="\n        let reactionType of reactionOptions;\n        trackBy: trackByMessageReaction\n      "\n      [class.str-chat__message-reactions-option-selected]="\n        isOwnReaction(reactionType)\n      "\n      data-testclass="emoji-option"\n      (click)="react(reactionType)"\n      (keyup.enter)="react(reactionType)"\n    >\n      <div\n        *ngIf="getLatestUserByReaction(reactionType) as user"\n        class="latest-user str-chat__message-reactions-last-user"\n        (click)="hideTooltip()"\n        (keyup.enter)="hideTooltip()"\n        (mouseenter)="showTooltip($event, reactionType)"\n        (mouseleave)="hideTooltip()"\n        attr.data-testid="{{ reactionType }}-last-user"\n      >\n        <stream-avatar-placeholder\n          attr.data-testid="{{ reactionType }}-avatar"\n          [imageUrl]="user.image"\n          [name]="user.name || user.id"\n          [size]="20"\n        ></stream-avatar-placeholder>\n      </div>\n      <span\n        class="\n          emoji\n          str-chat__emoji-selector-emoji-angular\n          str-chat__message-reaction-emoji\n        "\n      >\n        {{ getEmojiByReaction(reactionType) }}\n      </span>\n      <span\n        *ngIf="\n          messageReactionCounts[reactionType] &&\n          messageReactionCounts[reactionType]! > 0\n        "\n        class="str-chat__message-reactions-list-item__count"\n        attr.data-testid="{{ reactionType }}-reaction-count"\n      >\n        {{ messageReactionCounts[reactionType] }}\n      </span>\n    </li>\n  </ul>\n</div>\n',styles:[".emoji {position: relative; display: inline-block; }"],components:[{type:Es,selector:"popper-content",exportAs:["ngxPopperjsContent"]},{type:wi,selector:"stream-avatar-placeholder",inputs:["name","imageUrl","size","location","channel","user","type","initialsType","showOnlineIndicator"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:Ms,selector:"[popper]",inputs:["popperTimeout","popperTimeoutAfterShow","popperApplyClass","popper","popperDisabled","popperPlacement","popperApplyArrowClass","popperPreventOverflow","popperHideOnClickOutside","popperTrigger","popperStyles","popperAriaDescribeBy","popperAriaRole","popperBoundaries","popperCloseOnClickOutside","popperDisableAnimation","popperDisableStyle","popperHideOnMouseLeave","popperHideOnScroll","popperAppendTo","popperModifiers","popperPositionFixed","popperDelay","popperShowOnStart","popperTarget"],outputs:["popperOnHidden","popperOnShown","popperOnUpdate"],exportAs:["popper"]},{type:nr.Qt,selector:"[ngStyle]",inputs:["ngStyle"]}]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Ki,decorators:[{type:i.Component,args:[{selector:"stream-message-reactions",templateUrl:"./message-reactions.component.html",styles:[".emoji {position: relative; display: inline-block; }"]}]}],ctorParameters:function(){return[{type:i.ChangeDetectorRef},{type:ui},{type:Wi}]},propDecorators:{messageId:[{type:i.Input}],messageReactionCounts:[{type:i.Input}],isSelectorOpen:[{type:i.Input}],latestReactions:[{type:i.Input}],ownReactions:[{type:i.Input}],isSelectorOpenChange:[{type:i.Output}],selectorContainer:[{type:i.ViewChild,args:["selectorContainer"]}],selectorTooltip:[{type:i.ViewChild,args:["selectorTooltip"]}]}});class Gi{constructor(e,t,n,r,s,i,o,a){this.chatClientService=e,this.channelService=t,this.customTemplatesService=n,this.cdRef=r,this.dateParser=i,this.ngZone=o,this.messageService=a,this.enabledMessageActions=[],this.mode="main",this.isHighlighted=!1,this.customActions=[],this.isActionBoxOpen=!1,this.isReactionSelectorOpen=!1,this.visibleMessageActionsCount=0,this.messageTextParts=[],this.popperTriggerClick=xs.click,this.popperTriggerHover=xs.hover,this.popperPlacementAuto=Ss.AUTO,this.shouldDisplayTranslationNotice=!1,this.displayedMessageTextContent="original",this.imageAttachmentModalState="closed",this.shouldDisplayThreadLink=!1,this.isSentByCurrentUser=!1,this.readByText="",this.lastReadUser=void 0,this.isOnlyReadByMe=!1,this.isReadByMultipleUsers=!1,this.isMessageDeliveredAndRead=!1,this.parsedDate="",this.areOptionsVisible=!1,this.hasAttachment=!1,this.hasReactions=!1,this.replyCountParam={replyCount:void 0},this.canDisplayReadStatus=!1,this.optionsRenderTimeoutEnded=!1,this.subscriptions=[],this.urlRegexp=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[A-Z0-9+&@#/%=~_|$])/gim,this.emojiRegexp=new RegExp(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,"g"),this.themeVersion=s.themeVersion,this.displayAs=this.messageService.displayAs}ngOnInit(){this.subscriptions.push(this.chatClientService.user$.subscribe((e=>{e!==this.user&&(this.user=e,this.setIsSentByCurrentUser(),this.setLastReadUser(),this.cdRef.detectChanges())})))}ngOnChanges(e){var t,n,r,s,i,o,a;if(e.message){this.shouldDisplayTranslationNotice=!1,this.displayedMessageTextContent="original",this.createMessageParts();const e=null===(n=null===(t=this.message)||void 0===t?void 0:t.quoted_message)||void 0===n?void 0:n.attachments;this.quotedMessageAttachments=e&&e.length?[e[0]]:[],this.setIsSentByCurrentUser(),this.setLastReadUser(),this.readByText=(null===(r=this.message)||void 0===r?void 0:r.readBy)?ji(this.message.readBy):"",this.isOnlyReadByMe=!(!this.message||!this.message.readBy||0!==this.message.readBy.length),this.isReadByMultipleUsers=!!(this.message&&this.message.readBy&&this.message.readBy.length>1),this.isMessageDeliveredAndRead=!!(this.message&&this.message.readBy&&"received"===this.message.status&&this.message.readBy.length>0),this.parsedDate=this.message&&this.message.created_at&&this.dateParser.parseDateTime(this.message.created_at)||"",this.hasAttachment=!!(null===(s=this.message)||void 0===s?void 0:s.attachments)&&!!this.message.attachments.length,this.hasReactions=!!(null===(i=this.message)||void 0===i?void 0:i.reaction_counts)&&Object.keys(this.message.reaction_counts).length>0,this.replyCountParam={replyCount:null===(o=this.message)||void 0===o?void 0:o.reply_count}}e.enabledMessageActions&&(this.canReactToMessage=-1!==this.enabledMessageActions.indexOf("send-reaction"),this.canReceiveReadEvents=-1!==this.enabledMessageActions.indexOf("read-events"),this.canDisplayReadStatus=!1!==this.canReceiveReadEvents&&-1!==this.enabledMessageActions.indexOf("read-events")),(e.message||e.enabledMessageActions||e.mode)&&(this.shouldDisplayThreadLink=!!(null===(a=this.message)||void 0===a?void 0:a.reply_count)&&"thread"!==this.mode),(e.message||e.mode)&&(this.areOptionsVisible=!!this.message&&!(!this.message.type||"error"===this.message.type||"system"===this.message.type||"ephemeral"===this.message.type||"failed"===this.message.status||"sending"===this.message.status||"thread"===this.mode&&!this.message.parent_id))}ngAfterViewInit(){this.ngZone.runOutsideAngular((()=>{var e;null===(e=this.container)||void 0===e||e.nativeElement.addEventListener("mouseleave",(()=>this.mouseLeft()))})),setTimeout((()=>{this.optionsRenderTimeoutEnded=!0,this.cdRef.detectChanges()}),0)}ngOnDestroy(){this.subscriptions.forEach((e=>e.unsubscribe()))}getAttachmentListContext(){var e,t,n;return{messageId:(null===(e=this.message)||void 0===e?void 0:e.id)||"",attachments:(null===(t=this.message)||void 0===t?void 0:t.attachments)||[],parentMessageId:null===(n=this.message)||void 0===n?void 0:n.parent_id,imageModalStateChangeHandler:e=>this.imageAttachmentModalState=e}}getMessageContext(){return{message:this.message,enabledMessageActions:this.enabledMessageActions,isHighlighted:this.isHighlighted,isLastSentMessage:this.isLastSentMessage,mode:this.mode,customActions:this.customActions,parsedDate:this.parsedDate}}getQuotedMessageAttachmentListContext(){var e,t,n,r;return{messageId:(null===(t=null===(e=this.message)||void 0===e?void 0:e.quoted_message)||void 0===t?void 0:t.id)||"",attachments:this.quotedMessageAttachments,parentMessageId:null===(r=null===(n=null==this?void 0:this.message)||void 0===n?void 0:n.quoted_message)||void 0===r?void 0:r.parent_id}}getMessageReactionsContext(){var e,t,n,r;return{messageReactionCounts:(null===(e=this.message)||void 0===e?void 0:e.reaction_counts)||{},latestReactions:(null===(t=this.message)||void 0===t?void 0:t.latest_reactions)||[],isSelectorOpen:this.isReactionSelectorOpen,isSelectorOpenChangeHandler:e=>this.isReactionSelectorOpen=e,messageId:null===(n=this.message)||void 0===n?void 0:n.id,ownReactions:(null===(r=this.message)||void 0===r?void 0:r.own_reactions)||[]}}resendMessage(){this.channelService.resendMessage(this.message)}setAsActiveParentMessage(){this.channelService.setAsActiveParentMessage(this.message)}getMentionContext(e){return{content:e.content,user:e.user}}getMessageActionsBoxContext(){return{isOpen:this.isActionBoxOpen,isMine:this.isSentByCurrentUser,enabledActions:this.enabledMessageActions,message:this.message,displayedActionsCountChaneHanler:e=>{this.visibleMessageActionsCount=e,this.cdRef.detectChanges()},displayedActionsCountChangeHandler:e=>{this.visibleMessageActionsCount=e,this.cdRef.detectChanges()},isEditingChangeHandler:e=>{this.isEditing=e,this.isActionBoxOpen=!this.isEditing},customActions:this.customActions||[]}}getDeliveredStatusContext(){return{message:this.message}}getSendingStatusContext(){return{message:this.message}}getReadStatusContext(){return{message:this.message,readByText:this.readByText}}jumpToMessage(e,t){this.channelService.jumpToMessage(e,t)}displayTranslatedMessage(){this.createMessageParts(!0)}displayOriginalMessage(){this.createMessageParts(!1)}mouseLeft(){this.isActionBoxOpen&&this.ngZone.run((()=>{this.isActionBoxOpen=!1}))}createMessageParts(e=!0){this.messageTextParts=void 0,this.messageText=void 0;let t=this.getMessageContent(e);if(!(this.message.mentioned_users&&0!==this.message.mentioned_users.length||(null==t?void 0:t.match(this.emojiRegexp))||(null==t?void 0:t.match(this.urlRegexp))))return this.messageTextParts=void 0,void(this.messageText=t);if(t)if(this.message.mentioned_users&&0!==this.message.mentioned_users.length){this.messageTextParts=[];let e=t;this.message.mentioned_users.forEach((t=>{const n=`@${t.name||t.id}`,r=e.substring(0,e.indexOf(n));let s=this.fixEmojiDisplay(r);s=this.wrapLinskWithAnchorTag(s),this.messageTextParts.push({content:s,type:"text"}),this.messageTextParts.push({content:n,type:"mention",user:t}),e=e.replace(r+n,"")})),e&&(e=this.fixEmojiDisplay(e),e=this.wrapLinskWithAnchorTag(e),this.messageTextParts.push({content:e,type:"text"}))}else t=this.fixEmojiDisplay(t),t=this.wrapLinskWithAnchorTag(t),this.messageTextParts=[{content:t,type:"text"}]}getMessageContent(e){var t,n;const r=null===(t=this.message)||void 0===t?void 0:t.text;if(e){const e=null===(n=this.message)||void 0===n?void 0:n.translation;return e&&(this.shouldDisplayTranslationNotice=!0,this.displayedMessageTextContent="translation"),e||r}return this.displayedMessageTextContent="original",r}fixEmojiDisplay(e){const t=!!window.chrome&&void 0===window.opr;return e.replace(this.emojiRegexp,(e=>`<span ${t?'class="str-chat__emoji-display-fix"':""}>${e}</span>`))}wrapLinskWithAnchorTag(e){return"html"===this.displayAs?e:e=e.replace(this.urlRegexp,(e=>`<a href="${e}" rel="nofollow">${e}</a>`))}setIsSentByCurrentUser(){var e,t,n;this.isSentByCurrentUser=(null===(t=null===(e=this.message)||void 0===e?void 0:e.user)||void 0===t?void 0:t.id)===(null===(n=this.user)||void 0===n?void 0:n.id)}setLastReadUser(){var e,t;this.lastReadUser=null===(t=null===(e=this.message)||void 0===e?void 0:e.readBy)||void 0===t?void 0:t.filter((e=>{var t;return e.id!==(null===(t=this.user)||void 0===t?void 0:t.id)}))[0]}}Gi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Gi,deps:[{token:ai},{token:ui},{token:bi},{token:i.ChangeDetectorRef},{token:hi},{token:zi},{token:i.NgZone},{token:$i}],target:i["ɵɵFactoryTarget"].Component}),Gi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Gi,selector:"stream-message",inputs:{message:"message",enabledMessageActions:"enabledMessageActions",isLastSentMessage:"isLastSentMessage",mode:"mode",isHighlighted:"isHighlighted",customActions:"customActions"},viewQueries:[{propertyName:"container",first:!0,predicate:["container"],descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<div\n  #container\n  class="str-chat__message-simple str-chat__message str-chat__message--{{\n    message?.type\n  }} str-chat__message--{{ message?.status }} {{\n    message?.text ? \'str-chat__message--has-text\' : \'has-no-text\'\n  }}"\n  [class.str-chat__message--me]="isSentByCurrentUser"\n  [class.str-chat__message--other]="!isSentByCurrentUser"\n  [class.str-chat__message-simple--me]="isSentByCurrentUser"\n  [class.str-chat__message--has-attachment]="hasAttachment"\n  [class.str-chat__message--with-reactions]="hasReactions"\n  [class.str-chat__message--highlighted]="isHighlighted"\n  [class.str-chat__message-with-thread-link]="shouldDisplayThreadLink"\n  [class.str-chat__message-send-can-be-retried]="\n    message?.status === \'failed\' && message?.errorStatusCode !== 403\n  "\n  data-testid="message-container"\n>\n  <ng-container *ngIf="!message?.deleted_at; else deletedMessage">\n    <ng-container *ngIf="message?.type !== \'system\'; else systemMessage">\n      <ng-container *ngIf="themeVersion === \'1\'">\n        <ng-container *ngTemplateOutlet="messageStatus"></ng-container>\n      </ng-container>\n      <stream-avatar-placeholder\n        data-testid="avatar"\n        class="str-chat-angular__avatar-host str-chat__message-sender-avatar"\n        [imageUrl]="message?.user?.image"\n        [name]="message?.user?.name || message?.user?.id"\n        type="user"\n        location="message-sender"\n        [user]="message?.user || undefined"\n      ></stream-avatar-placeholder>\n      <div class="str-chat__message-inner">\n        <div\n          class="str-chat__message-simple__actions str-chat__message-options"\n          data-testid="message-options"\n          [class.str-chat__message-edit-in-progress]="isEditing"\n          *ngIf="areOptionsVisible && optionsRenderTimeoutEnded"\n        >\n          <div\n            data-testid="message-actions-container"\n            #messageActionsToggle\n            class="\n              str-chat__message-actions-container\n              str-chat__message-simple__actions__action\n              str-chat__message-simple__actions__action--options\n            "\n            [class.str-chat-angular__message-simple__actions__action--options--editing]="\n              isEditing\n            "\n            [popper]="popperContent"\n            [popperTrigger]="popperTriggerClick"\n            [popperPlacement]="popperPlacementAuto"\n            [popperHideOnScroll]="false"\n            [popperHideOnClickOutside]="true"\n            [popperHideOnMouseLeave]="false"\n            [popperDisableAnimation]="true"\n          >\n            <popper-content #popperContent>\n              <ng-template\n                #defaultMessageActionsBox\n                let-isOpen="isOpen"\n                let-isMine="isMine"\n                let-enabledActions="enabledActions"\n                let-messageInput="message"\n                let-displayedActionsCountChangeHandler="displayedActionsCountChangeHandler"\n                let-isEditingChangeHandler="isEditingChangeHandler"\n                let-customActions="customActions"\n              >\n                <stream-message-actions-box\n                  [isOpen]="isOpen"\n                  [isMine]="isMine"\n                  [enabledActions]="enabledActions"\n                  [message]="messageInput"\n                  [customActions]="customActions"\n                  (displayedActionsCount)="\n                    displayedActionsCountChangeHandler($event)\n                  "\n                  (isEditing)="isEditingChangeHandler($event)"\n                ></stream-message-actions-box>\n              </ng-template>\n              <ng-container\n                *ngTemplateOutlet="\n                  (customTemplatesService.messageActionsBoxTemplate$ | async) ||\n                    defaultMessageActionsBox;\n                  context: getMessageActionsBoxContext()\n                "\n              >\n              </ng-container>\n            </popper-content>\n            <div\n              class="str-chat__message-actions-box-button"\n              *ngIf="visibleMessageActionsCount > 0"\n              data-testid="action-icon"\n              (click)="isActionBoxOpen = !isActionBoxOpen"\n              (keyup.enter)="isActionBoxOpen = !isActionBoxOpen"\n            >\n              <stream-icon-placeholder\n                icon="action-icon"\n                class="str-chat__message-action-icon"\n              ></stream-icon-placeholder>\n            </div>\n          </div>\n          <div\n            *ngIf="\n              enabledMessageActions.indexOf(\'send-reply\') !== -1 &&\n              mode === \'main\'\n            "\n            class="\n              str-chat__message-simple__actions__action\n              str-chat__message-simple__actions__action--thread\n              str-chat__message-reply-in-thread-button\n            "\n            data-testid="reply-in-thread"\n            (click)="setAsActiveParentMessage()"\n            (keyup.enter)="setAsActiveParentMessage()"\n          >\n            <stream-icon-placeholder\n              class="str-chat__message-action-icon"\n              icon="reply-in-thread"\n            ></stream-icon-placeholder>\n          </div>\n          <div\n            *ngIf="canReactToMessage"\n            class="\n              str-chat__message-simple__actions__action\n              str-chat__message-simple__actions__action--reactions\n              str-chat__message-reactions-button\n            "\n            data-testid="reaction-icon"\n            (click)="isReactionSelectorOpen = !isReactionSelectorOpen"\n            (keyup.enter)="isReactionSelectorOpen = !isReactionSelectorOpen"\n          >\n            <stream-icon-placeholder\n              class="str-chat__message-action-icon"\n              icon="reaction-icon"\n            ></stream-icon-placeholder>\n          </div>\n        </div>\n        <div class="str-chat__message-reactions-host">\n          <ng-template\n            #defaultMessageReactions\n            let-messageReactionCounts="messageReactionCounts"\n            let-latestReactions="latestReactions"\n            let-isSelectorOpen="isSelectorOpen"\n            let-isSelectorOpenChangeHandler="isSelectorOpenChangeHandler"\n            let-messageId="messageId"\n            let-ownReactions="ownReactions"\n          >\n            <stream-message-reactions\n              [messageReactionCounts]="messageReactionCounts"\n              [latestReactions]="latestReactions"\n              [isSelectorOpen]="isSelectorOpen"\n              (isSelectorOpenChange)="isSelectorOpenChangeHandler($event)"\n              [messageId]="messageId"\n              [ownReactions]="ownReactions"\n            ></stream-message-reactions>\n          </ng-template>\n          <ng-container\n            *ngTemplateOutlet="\n              (customTemplatesService.messageReactionsTemplate$ | async) ||\n                defaultMessageReactions;\n              context: getMessageReactionsContext()\n            "\n          ></ng-container>\n        </div>\n        \x3c!-- transform: translate3d(0, 0, 0) fixes scrolling issues on iOS, see: https://stackoverflow.com/questions/50105780/elements-disappear-when-scrolling-in-safari-webkit-transform-fix-only-works-t/50144295#50144295 --\x3e\n        \x3c!-- transform: none is required when image carousel is open in order for the modal to be correctly positioned, see how the transform property changes the behavior of fixed positioned elements https://developer.mozilla.org/en-US/docs/Web/CSS/position  --\x3e\n        <div\n          class="str-chat__message-bubble"\n          style="transform: {{\n            imageAttachmentModalState === \'opened\'\n              ? \'none\'\n              : \'translate3d(0, 0, 0)\'\n          }}"\n        >\n          <ng-container *ngIf="hasAttachment && !message?.quoted_message">\n            <ng-container\n              *ngTemplateOutlet="attachmentsTemplate"\n            ></ng-container>\n          </ng-container>\n          <div\n            class="str-chat__message-text"\n            tabindex="0"\n            *ngIf="message?.text || (message?.quoted_message && hasAttachment)"\n          >\n            <div\n              data-testid="inner-message"\n              class="\n                str-chat__message-text-inner str-chat__message-simple-text-inner\n              "\n              [class.str-chat__message-light-text-inner--has-attachment]="\n                hasAttachment\n              "\n              (click)="\n                message?.status === \'failed\' && message?.errorStatusCode !== 403\n                  ? resendMessage()\n                  : undefined\n              "\n              (keyup.enter)="\n                message?.status === \'failed\' && message?.errorStatusCode !== 403\n                  ? resendMessage()\n                  : undefined\n              "\n            >\n              <ng-container *ngTemplateOutlet="quotedMessage"></ng-container>\n              <ng-container *ngIf="hasAttachment && message?.quoted_message">\n                <ng-container\n                  *ngTemplateOutlet="attachmentsTemplate"\n                ></ng-container>\n              </ng-container>\n              <div\n                data-testid="client-error-message"\n                *ngIf="message?.type === \'error\'"\n                class="\n                  str-chat__simple-message--error-message\n                  str-chat__message--error-message\n                "\n              >\n                {{ "streamChat.Error · Unsent" | translate }}\n              </div>\n              <div\n                data-testid="error-message"\n                *ngIf="message?.status === \'failed\'"\n                class="\n                  str-chat__simple-message--error-message\n                  str-chat__message--error-message\n                "\n              >\n                {{\n                  (message?.errorStatusCode === 403\n                    ? "streamChat.Message Failed · Unauthorized"\n                    : "streamChat.Message Failed · Click to try again"\n                  ) | translate\n                }}\n              </div>\n              <div data-testid="text">\n                <p>\n                  <ng-container *ngIf="messageTextParts; else defaultContent">\n                    \x3c!-- eslint-disable-next-line @angular-eslint/template/use-track-by-function --\x3e\n                    <ng-container *ngFor="let part of messageTextParts">\n                      <span\n                        *ngIf="part.type === \'text\'; else mention"\n                        [innerHTML]="part.content"\n                      ></span>\n                      <ng-template #mention>\n                        <ng-template #defaultMention let-content="content">\n                          <span class="str-chat__message-mention">{{\n                            content\n                          }}</span>\n                        </ng-template>\n                        <ng-container\n                          *ngTemplateOutlet="\n                            (customTemplatesService.mentionTemplate$ | async) ||\n                              defaultMention;\n                            context: getMentionContext(part)\n                          "\n                        ></ng-container>\n                      </ng-template>\n                    </ng-container>\n                  </ng-container>\n                  <ng-template #defaultContent>\n                    <ng-container *ngIf="displayAs === \'text\'; else asHTML">\n                      {{ messageText || "" }}\n                    </ng-container>\n                    <ng-template #asHTML\n                      ><span\n                        data-testid="html-content"\n                        [innerHTML]="messageText"\n                      ></span\n                    ></ng-template>\n                  </ng-template>\n                </p>\n              </div>\n            </div>\n          </div>\n          <stream-icon-placeholder\n            *ngIf="themeVersion === \'2\'"\n            class="str-chat__message-error-icon"\n            icon="error"\n          ></stream-icon-placeholder>\n        </div>\n        <ng-container\n          *ngTemplateOutlet="\n            replyCountButton;\n            context: { position: \'inside-message-bubble\' }\n          "\n        ></ng-container>\n        <ng-container\n          *ngTemplateOutlet="\n            messageDateAndSender;\n            context: { position: \'inside-message-bubble\' }\n          "\n        ></ng-container>\n      </div>\n      <ng-container\n        *ngTemplateOutlet="\n          replyCountButton;\n          context: { position: \'outside-message-bubble\', message: message }\n        "\n      ></ng-container>\n\n      <ng-container\n        *ngTemplateOutlet="\n          messageDateAndSender;\n          context: { position: \'outside-message-bubble\' }\n        "\n      ></ng-container>\n    </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #deletedMessage>\n  <div data-testid="message-deleted-component">\n    <div class="str-chat__message--deleted-inner" translate>\n      streamChat.This message was deleted...\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #systemMessage>\n  <ng-container\n    *ngTemplateOutlet="\n      (customTemplatesService.systemMessageTemplate$ | async) ||\n        defaultSystemMessage;\n      context: getMessageContext()\n    "\n  ></ng-container>\n  <ng-template #defaultSystemMessage let-messageInput="message">\n    <div data-testid="system-message" class="str-chat__message--system">\n      <div class="str-chat__message--system__text">\n        <div class="str-chat__message--system__line"></div>\n        <p>{{ messageInput?.text }}</p>\n        <div class="str-chat__message--system__line"></div>\n      </div>\n      <div class="str-chat__message--system__date">\n        {{ parsedDate }}\n      </div>\n    </div>\n  </ng-template>\n</ng-template>\n\n<ng-template #quotedMessage>\n  <div\n    *ngIf="message?.quoted_message"\n    class="quoted-message str-chat__quoted-message-preview"\n    data-testid="quoted-message-container"\n    [class.mine]="isSentByCurrentUser"\n    (click)="\n      jumpToMessage(\n        (message?.quoted_message)!.id,\n        message?.quoted_message?.parent_id\n      )\n    "\n    (keyup.enter)="\n      jumpToMessage(\n        (message?.quoted_message)!.id,\n        message?.quoted_message?.parent_id\n      )\n    "\n  >\n    <stream-avatar-placeholder\n      data-testid="qouted-message-avatar"\n      class="str-chat-angular__avatar-host str-chat__message-sender-avatar"\n      [imageUrl]="message?.quoted_message?.user?.image"\n      [name]="\n        message?.quoted_message?.user?.name || message?.quoted_message?.user?.id\n      "\n      [size]="20"\n      type="user"\n      location="quoted-message-sender"\n      [user]="message?.quoted_message?.user || undefined"\n    ></stream-avatar-placeholder>\n    <div class="quoted-message-inner str-chat__quoted-message-bubble">\n      <ng-container\n        *ngIf="\n          message?.quoted_message?.attachments &&\n          message?.quoted_message?.attachments?.length\n        "\n      >\n        <ng-template\n          #defaultAttachments\n          let-messageId="messageId"\n          let-attachments="attachments"\n          let-parentMessageId="parentMessageId"\n          let-imageModalStateChangeHandler="imageModalStateChangeHandler"\n        >\n          <stream-attachment-list\n            [messageId]="messageId"\n            [attachments]="attachments"\n            [parentMessageId]="parentMessageId"\n            (imageModalStateChange)="imageModalStateChangeHandler($event)"\n          ></stream-attachment-list>\n        </ng-template>\n        <ng-container\n          *ngTemplateOutlet="\n            (customTemplatesService.attachmentListTemplate$ | async) ||\n              defaultAttachments;\n            context: getQuotedMessageAttachmentListContext()\n          "\n        ></ng-container>\n      </ng-container>\n      <div\n        data-testid="quoted-message-text"\n        [innerHTML]="\n          message?.quoted_message?.translation ||\n          message?.quoted_message?.html ||\n          message?.quoted_message?.text\n        "\n      ></div>\n    </div>\n  </div>\n</ng-template>\n\n\x3c!-- We need these markups in slightly different positions in theme-v1 and theme-v2, this soultion makes that possible without duplicating the code --\x3e\n<ng-template #messageDateAndSender let-position="position">\n  <ng-container\n    *ngIf="\n      (position === \'inside-message-bubble\' && themeVersion === \'1\') ||\n      (position === \'outside-message-bubble\' && themeVersion === \'2\')\n    "\n  >\n    <div\n      class="str-chat__translation-notice"\n      *ngIf="shouldDisplayTranslationNotice"\n      data-testid="translation-notice"\n    >\n      <button\n        data-testid="see-original"\n        *ngIf="displayedMessageTextContent === \'translation\'"\n        (click)="displayOriginalMessage()"\n        (keyup.enter)="displayOriginalMessage()"\n        translate\n      >\n        streamChat.See original (automatically translated)\n      </button>\n      <button\n        data-testid="see-translation"\n        *ngIf="displayedMessageTextContent === \'original\'"\n        (click)="displayTranslatedMessage()"\n        (keyup.enter)="displayTranslatedMessage()"\n        translate\n      >\n        streamChat.See translation\n      </button>\n    </div>\n    <div\n      class="\n        str-chat__message-data\n        str-chat__message-simple-data\n        str-chat__message-metadata\n      "\n    >\n      <ng-container *ngIf="themeVersion === \'2\'">\n        <ng-container *ngTemplateOutlet="messageStatus"></ng-container>\n      </ng-container>\n      <span\n        data-testid="sender"\n        *ngIf="!isSentByCurrentUser"\n        class="str-chat__message-simple-name str-chat__message-sender-name"\n      >\n        {{ message?.user?.name ? message?.user?.name : message?.user?.id }}\n      </span>\n      <span data-testid="date" class="str-chat__message-simple-timestamp">\n        {{ parsedDate }}\n      </span>\n    </div>\n  </ng-container>\n</ng-template>\n\n<ng-template #messageStatus>\n  <ng-container\n    *ngIf="\n      isSentByCurrentUser &&\n      ((isLastSentMessage && message?.status === \'received\') ||\n        message?.status === \'sending\')\n    "\n  >\n    <ng-container *ngIf="message?.status === \'sending\'; else sentStatus">\n      <ng-container *ngTemplateOutlet="sendingStatus"></ng-container>\n    </ng-container>\n    <ng-template #sentStatus>\n      <ng-container\n        *ngIf="\n          mode === \'main\' && isMessageDeliveredAndRead && canDisplayReadStatus;\n          else deliveredStatus\n        "\n      >\n        <ng-container *ngTemplateOutlet="readStatus"></ng-container>\n      </ng-container>\n    </ng-template>\n    <ng-template #deliveredStatus>\n      <ng-container\n        *ngTemplateOutlet="\n          (customTemplatesService.deliveredStatusTemplate$ | async) ||\n            defaultDeliveredStatus;\n          context: getDeliveredStatusContext()\n        "\n      ></ng-container>\n    </ng-template>\n    <ng-template #defaultDeliveredStatus>\n      <span\n        *ngIf="mode === \'main\'"\n        class="\n          str-chat__message-simple-status\n          str-chat__message-simple-status-angular\n          str-chat__message-status\n        "\n        data-testid="delivered-indicator"\n        tabindex="0"\n        [popper]="popperContent"\n        [popperTrigger]="popperTriggerHover"\n        [popperPlacement]="popperPlacementAuto"\n        [popperHideOnScroll]="false"\n        [popperHideOnClickOutside]="false"\n        (hover)="$event.stopPropagation()"\n      >\n        <popper-content #popperContent>\n          <div class="str-chat__tooltip str-chat__tooltip-angular">\n            {{ "streamChat.Delivered" | translate }}\n          </div>\n        </popper-content>\n        <stream-icon-placeholder\n          data-testid="delivered-icon"\n          icon="delivered-icon"\n        ></stream-icon-placeholder>\n      </span>\n    </ng-template>\n    <ng-template #sendingStatus>\n      <ng-container\n        *ngTemplateOutlet="\n          (customTemplatesService.sendingStatusTemplate$ | async) ||\n            defaultSendingStatus;\n          context: getSendingStatusContext()\n        "\n      ></ng-container>\n    </ng-template>\n    <ng-template #defaultSendingStatus>\n      <span\n        class="\n          str-chat__message-simple-status\n          str-chat__message-simple-status-angular\n          str-chat__message-status\n        "\n        data-testid="sending-indicator"\n        tabindex="0"\n        [popper]="popperContent"\n        [popperTrigger]="popperTriggerHover"\n        [popperPlacement]="popperPlacementAuto"\n        [popperHideOnScroll]="false"\n        [popperHideOnClickOutside]="false"\n        (hover)="$event.stopPropagation()"\n      >\n        <popper-content #popperContent>\n          <div class="str-chat__tooltip str-chat__tooltip-angular">\n            {{ "streamChat.Sending..." | translate }}\n          </div>\n        </popper-content>\n        <stream-loading-indicator-placeholder\n          data-testid="loading-indicator"\n        ></stream-loading-indicator-placeholder>\n      </span>\n    </ng-template>\n    <ng-template #readStatus>\n      <ng-container\n        *ngTemplateOutlet="\n          (customTemplatesService.readStatusTemplate$ | async) ||\n            defaultReadStatus;\n          context: getReadStatusContext()\n        "\n      ></ng-container>\n    </ng-template>\n    <ng-template #defaultReadStatus>\n      <span\n        class="\n          str-chat__message-simple-status\n          str-chat__message-simple-status-angular\n          str-chat__message-status\n        "\n        data-testid="read-indicator"\n        tabindex="0"\n        [popper]="popperContent"\n        [popperTrigger]="popperTriggerHover"\n        [popperPlacement]="popperPlacementAuto"\n        [popperHideOnScroll]="false"\n        [popperHideOnClickOutside]="false"\n        (hover)="$event.stopPropagation()"\n      >\n        <popper-content #popperContent>\n          <div\n            class="str-chat__tooltip str-chat__tooltip-angular"\n            data-testid="read-by-tooltip"\n          >\n            {{ readByText }}\n          </div>\n        </popper-content>\n        <stream-avatar-placeholder\n          class="str-chat-angular__avatar-host"\n          data-test-id="last-read-user-avatar"\n          [size]="15"\n          [imageUrl]="lastReadUser?.image"\n          [name]="lastReadUser?.name || lastReadUser?.id"\n          type="user"\n          location="message-reader"\n          [user]="lastReadUser"\n        ></stream-avatar-placeholder>\n        <span\n          data-test-id="read-by-length"\n          *ngIf="isReadByMultipleUsers"\n          class="str-chat__message-simple-status-number"\n        >\n          {{ (message?.readBy)!.length }}\n        </span>\n      </span>\n    </ng-template>\n  </ng-container>\n</ng-template>\n\n<ng-template #replyCountButton let-position="position">\n  <div\n    *ngIf="\n      (position === \'inside-message-bubble\' && themeVersion === \'1\') ||\n      (position === \'outside-message-bubble\' && themeVersion === \'2\')\n    "\n    class="\n      str-chat__message-simple-reply-button\n      str-chat__message-replies-count-button-wrapper\n    "\n  >\n    <button\n      *ngIf="shouldDisplayThreadLink"\n      class="str-chat__message-replies-count-button"\n      data-testid="reply-count-button"\n      (click)="setAsActiveParentMessage()"\n    >\n      <stream-icon-placeholder\n        *ngIf="themeVersion === \'1\'"\n        stream-icon-placeholder\n        icon="reply"\n      ></stream-icon-placeholder>\n      {{message?.reply_count === 1 ? (\'streamChat.1 reply\' | translate) : (\'streamChat.{{ replyCount }}\n      replies\' | translate:replyCountParam)}}\n    </button>\n  </div>\n</ng-template>\n\n<ng-template #attachmentsTemplate>\n  <ng-template\n    #defaultAttachments\n    let-messageId="messageId"\n    let-attachments="attachments"\n    let-parentMessageId="parentMessageId"\n    let-imageModalStateChangeHandler="imageModalStateChangeHandler"\n  >\n    <stream-attachment-list\n      [messageId]="messageId"\n      [attachments]="attachments"\n      [parentMessageId]="parentMessageId"\n      (imageModalStateChange)="imageModalStateChangeHandler($event)"\n    ></stream-attachment-list>\n  </ng-template>\n  <ng-container\n    *ngTemplateOutlet="\n      (customTemplatesService.attachmentListTemplate$ | async) ||\n        defaultAttachments;\n      context: getAttachmentListContext()\n    "\n  ></ng-container>\n</ng-template>\n',components:[{type:wi,selector:"stream-avatar-placeholder",inputs:["name","imageUrl","size","location","channel","user","type","initialsType","showOnlineIndicator"]},{type:Es,selector:"popper-content",exportAs:["ngxPopperjsContent"]},{type:Pi,selector:"stream-message-actions-box",inputs:["isOpen","isMine","message","enabledActions","customActions"],outputs:["displayedActionsCount","isEditing"]},{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]},{type:Ki,selector:"stream-message-reactions",inputs:["messageId","messageReactionCounts","isSelectorOpen","latestReactions","ownReactions"],outputs:["isSelectorOpenChange"]},{type:Mi,selector:"stream-attachment-list",inputs:["messageId","parentMessageId","attachments"],outputs:["imageModalStateChange"]},{type:Si,selector:"stream-loading-indicator-placeholder",inputs:["size","color"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:Ms,selector:"[popper]",inputs:["popperTimeout","popperTimeoutAfterShow","popperApplyClass","popper","popperDisabled","popperPlacement","popperApplyArrowClass","popperPreventOverflow","popperHideOnClickOutside","popperTrigger","popperStyles","popperAriaDescribeBy","popperAriaRole","popperBoundaries","popperCloseOnClickOutside","popperDisableAnimation","popperDisableStyle","popperHideOnMouseLeave","popperHideOnScroll","popperAppendTo","popperModifiers","popperPositionFixed","popperDelay","popperShowOnStart","popperTarget"],outputs:["popperOnHidden","popperOnShown","popperOnUpdate"],exportAs:["popper"]},{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:tr.eM,selector:"[translate],[ngx-translate]",inputs:["translate","translateParams"]}],pipes:{async:nr.a,translate:tr.sD},changeDetection:i.ChangeDetectionStrategy.OnPush}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Gi,decorators:[{type:i.Component,args:[{selector:"stream-message",templateUrl:"./message.component.html",styles:[],changeDetection:i.ChangeDetectionStrategy.OnPush}]}],ctorParameters:function(){return[{type:ai},{type:ui},{type:bi},{type:i.ChangeDetectorRef},{type:hi},{type:zi},{type:i.NgZone},{type:$i}]},propDecorators:{message:[{type:i.Input}],enabledMessageActions:[{type:i.Input}],isLastSentMessage:[{type:i.Input}],mode:[{type:i.Input}],isHighlighted:[{type:i.Input}],customActions:[{type:i.Input}],container:[{type:i.ViewChild,args:["container"]}]}});class Zi{constructor(e,t){this.emojiInputService=e,this.themeService=t,this.class="str-chat__textarea str-chat__message-textarea-angular-host",this.value="",this.placeholder="",this.autoFocus=!0,this.valueChange=new i.EventEmitter,this.send=new i.EventEmitter,this.subscriptions=[],this.subscriptions.push(this.emojiInputService.emojiInput$.subscribe((e=>{this.messageInput.nativeElement.focus();const{selectionStart:t}=this.messageInput.nativeElement;this.messageInput.nativeElement.setRangeText(e),this.messageInput.nativeElement.selectionStart=t+e.length,this.messageInput.nativeElement.selectionEnd=t+e.length,this.inputChanged()})))}ngOnChanges(e){e.value&&!this.value&&this.messageInput&&(this.messageInput.nativeElement.style.height="auto")}ngAfterViewInit(){this.messageInput.nativeElement.scrollHeight>0&&this.adjustTextareaHeight()}ngOnDestroy(){this.subscriptions.forEach((e=>e.unsubscribe()))}inputChanged(){this.valueChange.emit(this.messageInput.nativeElement.value),this.adjustTextareaHeight()}enterHit(e){"desktop"===this.inputMode&&(e.preventDefault(),this.send.next())}adjustTextareaHeight(){"2"===this.themeService.themeVersion&&(this.messageInput.nativeElement.style.height="",this.messageInput.nativeElement.style.height=`${this.messageInput.nativeElement.scrollHeight}px`)}}Zi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Zi,deps:[{token:Ti},{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Zi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Zi,selector:"stream-textarea",inputs:{value:"value",placeholder:"placeholder",inputMode:"inputMode",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange",send:"send"},host:{properties:{class:"this.class"}},viewQueries:[{propertyName:"messageInput",first:!0,predicate:["input"],descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<textarea\n  [value]="value || \'\'"\n  [autofocus]="autoFocus"\n  data-testid="textarea"\n  #input\n  placeholder="{{ placeholder | translate }}"\n  class="\n    rta__textarea\n    str-chat__textarea__textarea\n    str-chat__angular-textarea\n    str-chat__message-textarea\n  "\n  rows="1"\n  (input)="inputChanged()"\n  (keydown.enter)="enterHit($event)"\n></textarea>\n',pipes:{translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Zi,decorators:[{type:i.Component,args:[{selector:"stream-textarea",templateUrl:"./textarea.component.html",styles:[]}]}],ctorParameters:function(){return[{type:Ti},{type:hi}]},propDecorators:{class:[{type:i.HostBinding}],value:[{type:i.Input}],placeholder:[{type:i.Input}],inputMode:[{type:i.Input}],autoFocus:[{type:i.Input}],valueChange:[{type:i.Output}],send:[{type:i.Output}],messageInput:[{type:i.ViewChild,args:["input"]}]}});class Yi{constructor(){}transliterate(e){return zs(e)}}Yi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Yi,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),Yi.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Yi,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Yi,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Qi{constructor(e,t,n,r,s,a){var c;this.channelService=e,this.chatClientService=t,this.transliterationService=n,this.emojiInputService=r,this.customTemplatesService=s,this.themeService=a,this.class="str-chat__textarea str-chat__message-textarea-angular-host",this.value="",this.placeholder="",this.areMentionsEnabled=!0,this.mentionScope="channel",this.autoFocus=!0,this.valueChange=new i.EventEmitter,this.send=new i.EventEmitter,this.userMentions=new i.EventEmitter,this.autocompleteKey="autocompleteLabel",this.mentionTriggerChar="@",this.commandTriggerChar="/",this.autocompleteConfig={mentions:[]},this.subscriptions=[],this.mentionedUsers=[],this.userMentionConfig={triggerChar:this.mentionTriggerChar,dropUp:!0,labelKey:this.autocompleteKey,returnTrigger:!0,mentionFilter:(e,t)=>this.filter(e,t),mentionSelect:(e,t)=>this.itemSelectedFromAutocompleteList(e,t)},this.slashCommandConfig={triggerChar:this.commandTriggerChar,dropUp:!0,labelKey:"name",returnTrigger:!0,mentionFilter:(e,t)=>this.filter(e,t),mentionSelect:(e,t)=>this.itemSelectedFromAutocompleteList(e,t)},this.searchTerm$=new o.g(""),this.searchTerm$.pipe((300,void 0===c&&(c=v),(0,Wn.i)((function(e,t){var n=null,r=null,s=null,i=function(){if(n){n.unsubscribe(),n=null;var e=r;r=null,t.next(e)}};function o(){var e=s+300,r=c.now();if(r<e)return n=this.schedule(void 0,e-r),void t.add(n);i()}e.subscribe((0,Kn.e)(t,(function(e){r=e,s=c.now(),n||(n=c.schedule(o,300),t.add(n))}),(function(){i(),t.complete()}),void 0,(function(){r=n=null})))}))),(0,zn.a)()).subscribe((e=>{e.startsWith(this.mentionTriggerChar)&&this.updateMentionOptions(e)})),this.subscriptions.push(this.channelService.activeChannel$.subscribe((e=>{var t;const n=(null===(t=null==e?void 0:e.getConfig())||void 0===t?void 0:t.commands)||[];this.slashCommandConfig.items=n.map((e=>Object.assign(Object.assign({},e),{[this.autocompleteKey]:e.name,type:"command"}))),this.mentionedUsers=[],this.userMentions.next([...this.mentionedUsers]),this.updateMentionOptions(this.searchTerm$.getValue())}))),this.subscriptions.push(this.emojiInputService.emojiInput$.subscribe((e=>{this.messageInput.nativeElement.focus();const{selectionStart:t}=this.messageInput.nativeElement;this.messageInput.nativeElement.setRangeText(e),this.messageInput.nativeElement.selectionStart=t+e.length,this.messageInput.nativeElement.selectionEnd=t+e.length,this.inputChanged()}))),this.subscriptions.push(this.customTemplatesService.mentionAutocompleteItemTemplate$.subscribe((e=>this.mentionAutocompleteItemTemplate=e))),this.subscriptions.push(this.customTemplatesService.commandAutocompleteItemTemplate$.subscribe((e=>this.commandAutocompleteItemTemplate=e))),this.autocompleteConfig.mentions=[this.userMentionConfig,this.slashCommandConfig],this.themeVersion=this.themeService.themeVersion}ngOnChanges(e){e.areMentionsEnabled&&(this.areMentionsEnabled?(this.autocompleteConfig.mentions=[this.userMentionConfig,this.slashCommandConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig)):(this.autocompleteConfig.mentions=[this.slashCommandConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig))),e.mentionScope&&this.updateMentionOptions(this.searchTerm$.getValue()),e.value&&!this.value&&this.messageInput&&(this.messageInput.nativeElement.style.height="auto",this.updateMentionedUsersFromText())}ngAfterViewInit(){this.messageInput.nativeElement.scrollHeight>0&&this.adjustTextareaHeight()}filter(e,t){return t.filter((t=>this.transliterate(t.autocompleteLabel.toLowerCase()).includes(this.transliterate(e.toLowerCase()))))}itemSelectedFromAutocompleteList(e,t=""){return t===this.mentionTriggerChar&&(this.mentionedUsers.push(e.user?e.user:e),this.userMentions.next([...this.mentionedUsers])),t+e.autocompleteLabel+(t===this.commandTriggerChar?" ":"")}autcompleteSearchTermChanged(e){e===this.mentionTriggerChar?this.updateMentionOptions():this.searchTerm$.next(e)}inputChanged(){this.valueChange.emit(this.messageInput.nativeElement.value),this.adjustTextareaHeight()}inputLeft(){this.updateMentionedUsersFromText()}enterHit(e){"desktop"===this.inputMode&&(e.preventDefault(),this.updateMentionedUsersFromText(),this.send.next())}adjustTextareaHeight(){"2"===this.themeVersion&&(this.messageInput.nativeElement.style.height="",this.messageInput.nativeElement.style.height=`${this.messageInput.nativeElement.scrollHeight}px`)}transliterate(e){return this.transliterationService?this.transliterationService.transliterate(e):e}updateMentionOptions(e){return(0,s.kH)(this,void 0,void 0,(function*(){if(!this.areMentionsEnabled)return;e=null==e?void 0:e.replace(this.mentionTriggerChar,"");const t="application"===this.mentionScope?e=>this.chatClientService.autocompleteUsers(e):e=>this.channelService.autocompleteMembers(e),n=yield t(e||""),r=this.filter(e||"",n.map((e=>{const t=e.user?e.user:e;return Object.assign(Object.assign({},e),{autocompleteLabel:t.name||t.id,type:"mention"})})));this.userMentionConfig.items=r,this.autocompleteConfig.mentions=[this.userMentionConfig,this.slashCommandConfig],this.autocompleteConfig=Object.assign({},this.autocompleteConfig)}))}updateMentionedUsersFromText(){const e=[];this.mentionedUsers.forEach((t=>{const n=t.name||t.id;this.value.includes(`${this.mentionTriggerChar}${n}`)&&e.push(t)})),e.length!==this.mentionedUsers.length&&(this.userMentions.next([...e]),this.mentionedUsers=e)}}Qi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Qi,deps:[{token:ui},{token:ai},{token:Yi},{token:Ti},{token:bi},{token:hi}],target:i["ɵɵFactoryTarget"].Component}),Qi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Qi,selector:"stream-autocomplete-textarea",inputs:{value:"value",placeholder:"placeholder",areMentionsEnabled:"areMentionsEnabled",inputMode:"inputMode",mentionScope:"mentionScope",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions"},host:{properties:{class:"this.class"}},viewQueries:[{propertyName:"messageInput",first:!0,predicate:["input"],descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<textarea\n  [value]="value || \'\'"\n  [autofocus]="autoFocus"\n  data-testid="textarea"\n  #input\n  placeholder="{{ placeholder | translate }}"\n  class="\n    rta__textarea\n    str-chat__textarea__textarea\n    str-chat__angular-textarea\n    str-chat__message-textarea\n  "\n  rows="1"\n  (input)="inputChanged()"\n  (keydown.enter)="enterHit($event)"\n  [mentionConfig]="autocompleteConfig"\n  (searchTerm)="autcompleteSearchTermChanged($event)"\n  [mentionListTemplate]="autocompleteItem"\n  (blur)="inputLeft()"\n></textarea>\n<ng-template #autocompleteItem let-item="item">\n  <div class="rta rta__item str-chat__emojisearch__item" [ngSwitch]="item.type">\n    <div class="rta__entity" *ngSwitchCase="\'mention\'">\n      <ng-container\n        *ngTemplateOutlet="\n          mentionAutocompleteItemTemplate || defaultMentionTemplate;\n          context: { item: item }\n        "\n      ></ng-container>\n    </div>\n    <div class="rta__entity" *ngSwitchCase="\'command\'">\n      <ng-container\n        *ngTemplateOutlet="\n          commandAutocompleteItemTemplate || defaultCommandTemplate;\n          context: { item: item }\n        "\n      ></ng-container>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #defaultCommandTemplate let-item="item">\n  <div class="str-chat__slash-command">\n    <span class="str-chat__slash-command-header">\n      <strong\n        class="str-chat__slash-command-name"\n        data-testclass="command-name"\n        >{{ item.name }}</strong\n      >\n      <span class="str-chat__slash-command-args"\n        >/{{ item.name }} {{ item.args }}</span\n      >\n    </span>\n    <br />\n  </div>\n</ng-template>\n\n<ng-template #defaultMentionTemplate let-item="item">\n  <div class="str-chat__user-item">\n    <stream-avatar-placeholder\n      data-testclass="avatar"\n      class="str-chat__avatar str-chat__avatar--circle"\n      [style]="\'height: \' + themeVersion === \'2\' ? 56 : 20 + \'px\'"\n      [size]="themeVersion === \'2\' ? 56 : 20"\n      [imageUrl]="item.image || item.user?.image"\n      [name]="item.autocompleteLabel"\n      type="user"\n      location="autocomplete-item"\n      [user]="item.user || item"\n    ></stream-avatar-placeholder>\n    <span data-testclass="username" class="str-chat__user-item--name">{{\n      item.autocompleteLabel\n    }}</span>\n    <div *ngIf="themeVersion === \'2\'" class="str-chat__user-item-at">&#64;</div>\n  </div>\n</ng-template>\n',components:[{type:wi,selector:"stream-avatar-placeholder",inputs:["name","imageUrl","size","location","channel","user","type","initialsType","showOnlineIndicator"]}],directives:[{type:si,selector:"[mention], [mentionConfig]",inputs:["mentionConfig","mention","mentionListTemplate"],outputs:["searchTerm","itemSelected","opened","closed"]},{type:nr.Ko,selector:"[ngSwitch]",inputs:["ngSwitch"]},{type:nr.Wm,selector:"[ngSwitchCase]",inputs:["ngSwitchCase"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],pipes:{translate:tr.sD}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Qi,decorators:[{type:i.Component,args:[{selector:"stream-autocomplete-textarea",templateUrl:"./autocomplete-textarea.component.html",styles:[]}]}],ctorParameters:function(){return[{type:ui},{type:ai},{type:Yi},{type:Ti},{type:bi},{type:hi}]},propDecorators:{class:[{type:i.HostBinding}],value:[{type:i.Input}],placeholder:[{type:i.Input}],areMentionsEnabled:[{type:i.Input}],inputMode:[{type:i.Input}],mentionScope:[{type:i.Input}],autoFocus:[{type:i.Input}],valueChange:[{type:i.Output}],send:[{type:i.Output}],userMentions:[{type:i.Output}],messageInput:[{type:i.ViewChild,args:["input"]}]}});const Ji=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate();class Xi{constructor(e,t,n,r,s,i){this.channelService=e,this.chatClientService=t,this.customTemplatesService=n,this.dateParser=r,this.ngZone=s,this.cdRef=i,this.mode="main",this.direction="bottom-to-top",this.messageOptionsTrigger="message-row",this.hideJumpToLatestButtonDuringScroll=!1,this.customMessageActions=[],this.displayDateSeparator=!0,this.dateSeparatorTextPos="center",this.openMessageListAt="last-message",this.displayLoadingIndicator=!0,this.emptyMainMessageListTemplate=null,this.emptyThreadMessageListTemplate=null,this.enabledMessageActions=[],this.isEmpty=!0,this.unreadMessageCount=0,this.groupStyles=[],this.isNextMessageOnSeparateDate=[],this.isLoading=!1,this.isJumpingToLatestUnreadMessage=!1,this.subscriptions=[],this.isLatestMessageInList=!0,this.parsedDates=new Map,this.subscriptions.push(this.channelService.activeChannel$.subscribe((e=>{var t,n,r,s,i,o,a;null===(n=null===(t=this.chatClientService.chatClient)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"info",`${(null==e?void 0:e.cid)||"undefined"} selected`,{tags:`message list ${this.mode}`}),this.channelId!==(null==e?void 0:e.id)&&(null===(i=null===(s=null===(r=this.chatClientService)||void 0===r?void 0:r.chatClient)||void 0===s?void 0:s.logger)||void 0===i||i.call(s,"info","new channel is different from prev channel, reseting scroll state",{tags:`message list ${this.mode}`}),this.parsedDates=new Map,this.resetScrollState(),this.channelId=null==e?void 0:e.id,"last-read-message"===this.openMessageListAt&&"main"===this.mode?(this.lastReadMessageId=this.channelService.activeChannelLastReadMessageId,this.lastReadMessageId&&(this.isJumpingToLatestUnreadMessage=!0,this.channelService.jumpToMessage(this.lastReadMessageId))):this.lastReadMessageId=void 0);const c=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.own_capabilities;c&&(this.enabledMessageActions=c),null===(a=this.newMessageSubscription)||void 0===a||a.unsubscribe(),e&&(this.newMessageSubscription=e.on("message.new",(t=>{t.message&&e.state.messages!==e.state.latestMessages&&"thread"!==this.mode&&this.newMessageReceived({id:t.message.id,user:t.message.user,created_at:new Date(t.message.created_at||"")})})))}))),this.subscriptions.push(this.channelService.activeParentMessage$.subscribe((e=>{e&&this.parentMessage&&e.id!==this.parentMessage.id&&"thread"===this.mode&&this.resetScrollState(),this.parentMessage=e}))),this.subscriptions.push(this.customTemplatesService.messageTemplate$.subscribe((e=>this.messageTemplate=e))),this.subscriptions.push(this.customTemplatesService.dateSeparatorTemplate$.subscribe((e=>this.customDateSeparatorTemplate=e))),this.subscriptions.push(this.customTemplatesService.newMessagesIndicatorTemplate$.subscribe((e=>this.customnewMessagesIndicatorTemplate=e))),this.subscriptions.push(this.customTemplatesService.typingIndicatorTemplate$.subscribe((e=>this.typingIndicatorTemplate=e))),this.usersTypingInChannel$=this.channelService.usersTypingInChannel$,this.usersTypingInThread$=this.channelService.usersTypingInThread$}get class(){return"str-chat-angular__main-panel-inner str-chat-angular__message-list-host str-chat__main-panel-inner "+(this.isEmpty?"str-chat-angular__message-list-host--empty":"")}ngOnInit(){this.setMessages$()}ngOnChanges(e){var t;(e.mode||e.direction)&&this.setMessages$(),e.direction&&(null===(t=this.scrollContainer)||void 0===t?void 0:t.nativeElement)&&this.jumpToLatestMessage()}ngAfterViewInit(){this.ngZone.runOutsideAngular((()=>{this.scrollContainer.nativeElement.addEventListener("scroll",(()=>this.scrolled()))})),this.subscriptions.push(this.channelService.jumpToMessage$.pipe((0,Hn.I)((e=>!!e.id))).subscribe((e=>{var t,n;let r;"main"===this.mode?r=e.parentId||e.id:e.parentId&&(r=e.id),null===(n=null===(t=this.chatClientService.chatClient)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"info",`Jumping to ${r||""}`,{tags:`message list ${this.mode}`}),r&&("latest"===r?this.scrollToLatestMessage():(this.scrollMessageIntoView(r),this.highlightedMessageId=r))}))),this.subscriptions.push(this.customTemplatesService.emptyMainMessageListPlaceholder$.subscribe((e=>{const t=this.emptyMainMessageListTemplate!==e;this.emptyMainMessageListTemplate=e||null,t&&this.cdRef.detectChanges()}))),this.subscriptions.push(this.customTemplatesService.emptyThreadMessageListPlaceholder$.subscribe((e=>{const t=this.emptyThreadMessageListTemplate!==e;this.emptyThreadMessageListTemplate=e||null,t&&this.cdRef.detectChanges()})))}ngAfterViewChecked(){var e,t,n,r,s,i;this.highlightedMessageId&&(this.hasNewMessages=!1,this.olderMassagesLoaded=!1),"top-to-bottom"===this.direction?!this.hasNewMessages||!this.isNewMessageSentByUser&&this.isUserScrolled||(this.isLatestMessageInList?this.scrollToTop():this.jumpToLatestMessage(),this.hasNewMessages=!1,this.containerHeight=this.scrollContainer.nativeElement.scrollHeight):this.hasNewMessages?(this.isUserScrolled&&!this.isNewMessageSentByUser||(null===(t=null===(e=this.chatClientService.chatClient)||void 0===e?void 0:e.logger)||void 0===t||t.call(e,"info",`User has new messages, and not scrolled or sent new messages, therefore we ${this.isLatestMessageInList?"scroll":"jump"} to latest message`,{tags:`message list ${this.mode}`}),this.isLatestMessageInList?this.scrollToBottom():this.jumpToLatestMessage()),this.hasNewMessages=!1,this.containerHeight=this.scrollContainer.nativeElement.scrollHeight):this.olderMassagesLoaded?(null===(r=null===(n=this.chatClientService.chatClient)||void 0===n?void 0:n.logger)||void 0===r||r.call(n,"info","Older messages are loaded, we preserve the scroll position",{tags:`message list ${this.mode}`}),this.preserveScrollbarPosition(),this.containerHeight=this.scrollContainer.nativeElement.scrollHeight,this.olderMassagesLoaded=!1):"bottom"===this.getScrollPosition()||this.isUserScrolled||this.highlightedMessageId||(null===(i=null===(s=this.chatClientService.chatClient)||void 0===s?void 0:s.logger)||void 0===i||i.call(s,"info",`Container grew and user didn't scroll therefore we ${this.isLatestMessageInList?"scroll":"jump"} to latest message`,{tags:`message list ${this.mode}`}),this.isLatestMessageInList?this.scrollToBottom():this.jumpToLatestMessage(),this.containerHeight=this.scrollContainer.nativeElement.scrollHeight)}ngOnDestroy(){var e;this.subscriptions.forEach((e=>e.unsubscribe())),null===(e=this.newMessageSubscription)||void 0===e||e.unsubscribe(),this.scrollEndTimeout&&clearTimeout(this.scrollEndTimeout)}trackByMessageId(e,t){return t.id}trackByUserId(e,t){return t.id}jumpToLatestMessage(){var e;this.channelService.jumpToMessage("latest","thread"===this.mode?null===(e=this.parentMessage)||void 0===e?void 0:e.id:void 0)}scrollToBottom(){this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight,this.forceRepaint()}scrollToTop(){this.scrollContainer.nativeElement.scrollTop=0}scrolled(){var e,t;if(this.scrollContainer.nativeElement.scrollHeight===this.scrollContainer.nativeElement.clientHeight)return;const n=this.getScrollPosition();null===(t=null===(e=this.chatClientService.chatClient)||void 0===e?void 0:e.logger)||void 0===t||t.call(e,"info",`Scrolled - scroll position: ${n}, container height: ${this.scrollContainer.nativeElement.scrollHeight}`,{tags:`message list ${this.mode}`});const r=("bottom-to-top"===this.direction?"bottom"!==n:"top"!==n)||!this.isLatestMessageInList;this.isUserScrolled!==r&&this.ngZone.run((()=>{this.isUserScrolled=r,this.isUserScrolled||(this.unreadMessageCount=0)})),this.shouldLoadMoreMessages(n)&&this.ngZone.run((()=>{var e,t;let r;this.containerHeight=this.scrollContainer.nativeElement.scrollHeight,r="top-to-bottom"===this.direction?"top"===n?"newer":"older":"top"===n?"older":"newer",("main"===this.mode?this.channelService.loadMoreMessages(r):this.channelService.loadMoreThreadReplies(r))&&(null===(t=null===(e=this.chatClientService.chatClient)||void 0===e?void 0:e.logger)||void 0===t||t.call(e,"info","Displaying loading indicator",{tags:`message list ${this.mode}`}),this.isLoading=!0)})),this.prevScrollTop=this.scrollContainer.nativeElement.scrollTop}getTypingIndicatorContext(){return{usersTyping$:this.usersTyping$}}getTypingIndicatorText(e){return ji(e)}isSentByCurrentUser(e){var t,n;return!!e&&(null===(t=e.user)||void 0===t?void 0:t.id)===(null===(n=this.chatClientService.chatClient.user)||void 0===n?void 0:n.id)}parseDate(e){if(this.parsedDates.has(e))return this.parsedDates.get(e);const t=this.dateParser.parseDate(e);return this.parsedDates.set(e,t),t}get replyCountParam(){var e;return{replyCount:null===(e=this.parentMessage)||void 0===e?void 0:e.reply_count}}get emptyListTemplate(){return"main"===this.mode?this.emptyMainMessageListTemplate:this.emptyThreadMessageListTemplate}preserveScrollbarPosition(){this.scrollContainer.nativeElement.scrollTop=(this.prevScrollTop||0)+(this.scrollContainer.nativeElement.scrollHeight-this.containerHeight)}forceRepaint(){this.scrollContainer.nativeElement.style.display="none",this.scrollContainer.nativeElement.offsetHeight,this.scrollContainer.nativeElement.style.display=""}getScrollPosition(){var e,t;let n="middle";return Math.floor(this.scrollContainer.nativeElement.scrollTop)<=((null===(e=this.parentMessageElement)||void 0===e?void 0:e.nativeElement.clientHeight)||0)&&(void 0===this.prevScrollTop||this.prevScrollTop>((null===(t=this.parentMessageElement)||void 0===t?void 0:t.nativeElement.clientHeight)||0))?n="top":Math.ceil(this.scrollContainer.nativeElement.scrollTop)+this.scrollContainer.nativeElement.clientHeight>=this.scrollContainer.nativeElement.scrollHeight&&(n="bottom"),n}shouldLoadMoreMessages(e){return"middle"!==e&&!this.highlightedMessageId}setMessages$(){this.messages$=("main"===this.mode?this.channelService.activeChannelMessages$:this.channelService.activeThreadMessages$).pipe((0,qn.y)((e=>{var t,n,r,s;if(this.isLoading=!1,0===e.length)return null===(n=null===(t=this.chatClientService.chatClient)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"info","Empty messages array, reseting scroll state",{tags:`message list ${this.mode}`}),void this.resetScrollState();this.isEmpty&&setTimeout((()=>this.isEmpty=!1),0),null===(s=null===(r=this.chatClientService.chatClient)||void 0===r?void 0:r.logger)||void 0===s||s.call(r,"info","Received one or more messages",{tags:`message list ${this.mode}`});const i=e[e.length-1];this.newMessageReceived(i);const o=e[0];this.oldestMessage&&e.find((e=>e.id===this.oldestMessage.id))?this.oldestMessage.created_at.getTime()>o.created_at.getTime()&&(this.oldestMessage=o,this.olderMassagesLoaded=!0):this.oldestMessage=o})),(0,qn.y)((e=>{var t;return this.lastSentMessageId=null===(t=[...e].reverse().find((e=>{var t,n,r;return(null===(t=e.user)||void 0===t?void 0:t.id)===(null===(r=null===(n=this.chatClientService.chatClient)||void 0===n?void 0:n.user)||void 0===r?void 0:r.id)&&"sending"!==e.status})))||void 0===t?void 0:t.id})),(0,qn.y)((e=>{this.isLatestMessageInList=!this.latestMessage||0===e.length||e[e.length-1].id===this.latestMessage.id,this.isLatestMessageInList||(this.isUserScrolled=!0)})),(0,qn.y)((()=>{var e;this.isJumpingToLatestUnreadMessage&&this.lastReadMessageId&&this.lastReadMessageId===(null===(e=this.latestMessage)||void 0===e?void 0:e.id)&&(this.lastReadMessageId=void 0)})),(0,$n.k)((e=>"bottom-to-top"===this.direction?e:[...e].reverse())),(0,qn.y)((e=>{this.groupStyles=e.map(((t,n)=>((e,t,n,r=!1)=>{var s,i,o,a,c,l;if(r||e.attachments&&0!==e.attachments.length)return"single";const u=!t||!Ji(t.created_at,e.created_at)||"system"===t.type||t.attachments&&0!==(null===(s=t.attachments)||void 0===s?void 0:s.length)||(null===(i=e.user)||void 0===i?void 0:i.id)!==(null===(o=t.user)||void 0===o?void 0:o.id)||"error"===t.type||t.deleted_at||e.reaction_counts&&Object.keys(e.reaction_counts).length>0,h=!n||!Ji(e.created_at,n.created_at)||"system"===n.type||n.attachments&&0!==(null===(a=n.attachments)||void 0===a?void 0:a.length)||(null===(c=e.user)||void 0===c?void 0:c.id)!==(null===(l=n.user)||void 0===l?void 0:l.id)||"error"===n.type||n.deleted_at||n.reaction_counts&&Object.keys(n.reaction_counts).length>0;return u||h?h?u||e.deleted_at||"error"===e.type?"single":"bottom":u?"top":"":e.deleted_at||"error"===e.type?"single":"middle"})(t,e[n-1],e[n+1]))),this.isNextMessageOnSeparateDate=e.map(((t,n)=>this.checkIfOnSeparateDates(t,e[n+1])))})))}resetScrollState(){this.isEmpty=!0,this.latestMessage=void 0,this.hasNewMessages=!0,this.isUserScrolled=!1,this.containerHeight=void 0,this.olderMassagesLoaded=!1,this.oldestMessage=void 0,this.unreadMessageCount=0,this.prevScrollTop=void 0,this.isNewMessageSentByUser=void 0,this.isLatestMessageInList=!0}get usersTyping$(){return"thread"===this.mode?this.usersTypingInThread$:this.usersTypingInChannel$}scrollMessageIntoView(e,t=!0){const n=document.getElementById(e);!n&&t?setTimeout((()=>this.scrollMessageIntoView(e,!1))):n&&(n.scrollIntoView({block:e===this.lastReadMessageId?"start":"center"}),setTimeout((()=>{this.highlightedMessageId=void 0,this.isJumpingToLatestUnreadMessage=!1}),1e3))}scrollToLatestMessage(e=!0){document.getElementById(this.latestMessage.id)?"bottom-to-top"===this.direction?this.scrollToBottom():this.scrollToTop():e&&setTimeout((()=>this.scrollToLatestMessage(!1)),0)}newMessageReceived(e){var t,n,r,s,i,o;(!this.latestMessage||(null===(t=this.latestMessage.created_at)||void 0===t?void 0:t.getTime())<e.created_at.getTime())&&(null===(r=null===(n=this.chatClientService.chatClient)||void 0===n?void 0:n.logger)||void 0===r||r.call(n,"info","Received new message",{tags:`message list ${this.mode}`}),this.latestMessage=e,this.hasNewMessages=!0,this.isNewMessageSentByUser=(null===(s=e.user)||void 0===s?void 0:s.id)===(null===(o=null===(i=this.chatClientService.chatClient)||void 0===i?void 0:i.user)||void 0===o?void 0:o.id),this.isUserScrolled&&this.unreadMessageCount++)}checkIfOnSeparateDates(e,t){return!(!e||!t||e.created_at.getDate()===t.created_at.getDate()&&e.created_at.getFullYear()===t.created_at.getFullYear()&&e.created_at.getMonth()===t.created_at.getMonth())}}Xi.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Xi,deps:[{token:ui},{token:ai},{token:bi},{token:zi},{token:i.NgZone},{token:i.ChangeDetectorRef}],target:i["ɵɵFactoryTarget"].Component}),Xi.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:Xi,selector:"stream-message-list",inputs:{mode:"mode",direction:"direction",messageOptionsTrigger:"messageOptionsTrigger",hideJumpToLatestButtonDuringScroll:"hideJumpToLatestButtonDuringScroll",customMessageActions:"customMessageActions",displayDateSeparator:"displayDateSeparator",dateSeparatorTextPos:"dateSeparatorTextPos",openMessageListAt:"openMessageListAt",displayLoadingIndicator:"displayLoadingIndicator"},host:{properties:{class:"this.class"}},viewQueries:[{propertyName:"scrollContainer",first:!0,predicate:["scrollContainer"],descendants:!0},{propertyName:"parentMessageElement",first:!0,predicate:["parentMessageElement"],descendants:!0}],usesOnChanges:!0,ngImport:i,template:'<div\n  #scrollContainer\n  data-testid="scroll-container"\n  class="str-chat__list"\n  style="overscroll-behavior: none"\n>\n  <ng-container *ngIf="mode === \'main\' && isEmpty && emptyListTemplate">\n    <ng-container *ngTemplateOutlet="emptyListTemplate"></ng-container>\n  </ng-container>\n  <div class="str-chat__reverse-infinite-scroll str-chat__message-list-scroll">\n    <ul\n      class="str-chat__ul"\n      [class.str-chat__message-options-in-bubble]="\n        messageOptionsTrigger === \'message-bubble\'\n      "\n    >\n      <li\n        #parentMessageElement\n        *ngIf="mode === \'thread\' && parentMessage"\n        data-testid="parent-message"\n        class="str-chat__parent-message-li"\n      >\n        <ng-container\n          *ngTemplateOutlet="\n            messageTemplateContainer;\n            context: { message: parentMessage, index: \'parent\' }\n          "\n        ></ng-container>\n        <div data-testid="reply-count" class="str-chat__thread-start">\n          {{parentMessage?.reply_count === 1 ? (\'streamChat.1 reply\' | translate) : (\'streamChat.{{ replyCount }}\n          replies\' | translate:replyCountParam)}}\n        </div>\n      </li>\n      <ng-container *ngIf="mode === \'thread\' && isEmpty && emptyListTemplate">\n        <ng-container *ngTemplateOutlet="emptyListTemplate"></ng-container>\n      </ng-container>\n      <stream-loading-indicator\n        data-testid="top-loading-indicator"\n        *ngIf="\n          isLoading && direction === \'bottom-to-top\' && displayLoadingIndicator\n        "\n      ></stream-loading-indicator>\n      <ng-container *ngIf="messages$ | async as messages">\n        <ng-container\n          *ngFor="\n            let message of messages;\n            let i = index;\n            let isFirst = first;\n            let isLast = last;\n            trackBy: trackByMessageId\n          "\n        >\n          <ng-container *ngIf="isFirst">\n            <ng-container\n              *ngTemplateOutlet="\n                dateSeparator;\n                context: {\n                  date: message.created_at,\n                  parsedDate: parseDate(message.created_at),\n                  isNewMessage: false\n                }\n              "\n            ></ng-container>\n          </ng-container>\n          <li\n            tabindex="0"\n            data-testclass="message"\n            class="str-chat__li str-chat__li--{{ groupStyles[i] }}"\n            id="{{ message.id }}"\n          >\n            <ng-container\n              *ngTemplateOutlet="\n                messageTemplateContainer;\n                context: { message: message, index: i }\n              "\n            ></ng-container>\n          </li>\n          <ng-container\n            *ngIf="\n              (lastReadMessageId === message.id &&\n                !isLast &&\n                direction === \'bottom-to-top\' &&\n                !isSentByCurrentUser(messages[i + 1]) &&\n                (!displayDateSeparator || !isNextMessageOnSeparateDate[i])) ||\n              (direction === \'top-to-bottom\' &&\n                !isLast &&\n                !isSentByCurrentUser(message) &&\n                lastReadMessageId === messages[i + 1].id)\n            "\n          >\n            <ng-container\n              *ngTemplateOutlet="\n                customnewMessagesIndicatorTemplate ||\n                defaultNewMessagesIndicator\n              "\n            ></ng-container>\n          </ng-container>\n          <ng-container *ngIf="isNextMessageOnSeparateDate[i]">\n            <ng-container\n              *ngTemplateOutlet="\n                dateSeparator;\n                context: {\n                  date: messages[i + 1].created_at,\n                  parsedDate: parseDate(messages[i + 1].created_at),\n                  isNewMessage:\n                    (direction === \'bottom-to-top\' &&\n                      message.id === lastReadMessageId &&\n                      !isSentByCurrentUser(messages[i + 1])) ||\n                    (direction === \'top-to-bottom\' && false)\n                }\n              "\n            ></ng-container>\n          </ng-container>\n        </ng-container>\n      </ng-container>\n      <stream-loading-indicator\n        data-testid="bottom-loading-indicator"\n        *ngIf="\n          isLoading && direction === \'top-to-bottom\' && displayLoadingIndicator\n        "\n      ></stream-loading-indicator>\n    </ul>\n    <ng-template #defaultTypingIndicator let-usersTyping$="usersTyping$">\n      \x3c!-- eslint-disable-next-line @angular-eslint/template/no-any --\x3e\n      <ng-container *ngIf="$any(usersTyping$ | async) as users">\n        <div\n          *ngIf="users.length > 0"\n          data-testid="typing-indicator"\n          class="str-chat__typing-indicator str-chat__typing-indicator--typing"\n        >\n          <div class="str-chat__typing-indicator__dots">\n            <span class="str-chat__typing-indicator__dot"></span>\n            <span class="str-chat__typing-indicator__dot"></span>\n            <span class="str-chat__typing-indicator__dot"></span>\n          </div>\n          <div\n            data-testid="typing-users"\n            class="str-chat__typing-indicator__users"\n          >\n            {{\n              users.length === 1\n                ? ("streamChat.user is typing"\n                  | translate: { user: getTypingIndicatorText(users) })\n                : ("streamChat.users are typing"\n                  | translate: { users: getTypingIndicatorText(users) })\n            }}\n          </div>\n        </div>\n      </ng-container>\n    </ng-template>\n    <ng-container\n      *ngTemplateOutlet="\n        typingIndicatorTemplate || defaultTypingIndicator;\n        context: getTypingIndicatorContext()\n      "\n    ></ng-container>\n  </div>\n</div>\n<div class="str-chat__jump-to-latest-message">\n  <button\n    data-testid="scroll-to-latest"\n    *ngIf="isUserScrolled"\n    class="\n      str-chat__message-notification-scroll-to-latest\n      str-chat__message-notification-scroll-to-latest-right\n      str-chat__circle-fab\n    "\n    (keyup.enter)="jumpToLatestMessage()"\n    (click)="jumpToLatestMessage()"\n  >\n    <stream-icon\n      class="str-chat__jump-to-latest-icon str-chat__circle-fab-icon"\n      [icon]="direction === \'bottom-to-top\' ? \'arrow-down\' : \'arrow-up\'"\n    ></stream-icon>\n    <div\n      *ngIf="unreadMessageCount > 0"\n      class="\n        str-chat__message-notification\n        str-chat__message-notification-scroll-to-latest-unread-count\n        str-chat__jump-to-latest-unread-count\n      "\n    >\n      {{ unreadMessageCount }}\n    </div>\n  </button>\n</div>\n\n<ng-template #messageTemplateContainer let-message="message" let-index="index">\n  <ng-template\n    #defaultMessageTemplate\n    let-messageInput="message"\n    let-isLastSentMessage="isLastSentMessage"\n    let-enabledMessageActions="enabledMessageActions"\n    let-mode="mode"\n    let-isHighlighted="isHighlighted"\n    let-customActions="customActions"\n  >\n    <stream-message\n      [message]="messageInput"\n      [isLastSentMessage]="isLastSentMessage"\n      [enabledMessageActions]="enabledMessageActions"\n      [mode]="mode"\n      [isHighlighted]="isHighlighted"\n      [customActions]="customActions"\n    ></stream-message>\n  </ng-template>\n  <ng-container\n    *ngTemplateOutlet="\n      messageTemplate || defaultMessageTemplate;\n      context: {\n        message: message,\n        isLastSentMessage: !!(\n          lastSentMessageId && message?.id === lastSentMessageId\n        ),\n        enabledMessageActions: enabledMessageActions,\n        mode: mode,\n        isHighlighted:\n          message?.id === highlightedMessageId &&\n          !isJumpingToLatestUnreadMessage,\n        customActions: customMessageActions\n      }\n    "\n  ></ng-container>\n</ng-template>\n\n<ng-template\n  #dateSeparator\n  let-date="date"\n  let-parsedDate="parsedDate"\n  let-isNewMessage="isNewMessage"\n>\n  <ng-container *ngIf="displayDateSeparator">\n    <ng-container\n      *ngTemplateOutlet="\n        customDateSeparatorTemplate || defaultDateSeparator;\n        context: {\n          date: date,\n          parsedDate: parsedDate,\n          isNewMessage: isNewMessage\n        }\n      "\n    ></ng-container>\n  </ng-container>\n\n  <ng-template\n    #defaultDateSeparator\n    let-date="date"\n    let-parsedDate="parsedDate"\n    let-isNewMessage="isNewMessage"\n  >\n    <div data-testid="date-separator" class="str-chat__date-separator">\n      <hr\n        *ngIf="\n          dateSeparatorTextPos === \'right\' || dateSeparatorTextPos === \'center\'\n        "\n        class="str-chat__date-separator-line"\n      />\n      <div class="str-chat__date-separator-date">\n        {{ parsedDate }}\n        <span\n          *ngIf="isNewMessage"\n          data-testid="new-messages-indicator-date-separator"\n          >• {{ "streamChat.New" | translate }}</span\n        >\n      </div>\n      <hr\n        *ngIf="\n          dateSeparatorTextPos === \'left\' || dateSeparatorTextPos === \'center\'\n        "\n        class="str-chat__date-separator-line"\n      />\n    </div>\n  </ng-template>\n</ng-template>\n\n<ng-template #defaultNewMessagesIndicator>\n  <div data-testid="new-messages-indicator" class="str-chat__date-separator">\n    <hr\n      *ngIf="\n        dateSeparatorTextPos === \'right\' || dateSeparatorTextPos === \'center\'\n      "\n      class="str-chat__date-separator-line"\n    />\n    <div class="str-chat__date-separator-date" translate>streamChat.New</div>\n    <hr\n      *ngIf="\n        dateSeparatorTextPos === \'left\' || dateSeparatorTextPos === \'center\'\n      "\n      class="str-chat__date-separator-line"\n    />\n  </div>\n</ng-template>\n',components:[{type:_i,selector:"stream-loading-indicator",inputs:["size","color"]},{type:Di,selector:"stream-icon",inputs:["icon","size"]},{type:Gi,selector:"stream-message",inputs:["message","enabledMessageActions","isLastSentMessage","mode","isHighlighted","customActions"]}],directives:[{type:nr.u_,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:nr.ay,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:tr.eM,selector:"[translate],[ngx-translate]",inputs:["translate","translateParams"]}],pipes:{translate:tr.sD,async:nr.a}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:Xi,decorators:[{type:i.Component,args:[{selector:"stream-message-list",templateUrl:"./message-list.component.html",styles:[]}]}],ctorParameters:function(){return[{type:ui},{type:ai},{type:bi},{type:zi},{type:i.NgZone},{type:i.ChangeDetectorRef}]},propDecorators:{mode:[{type:i.Input}],direction:[{type:i.Input}],messageOptionsTrigger:[{type:i.Input}],hideJumpToLatestButtonDuringScroll:[{type:i.Input}],customMessageActions:[{type:i.Input}],displayDateSeparator:[{type:i.Input}],dateSeparatorTextPos:[{type:i.Input}],openMessageListAt:[{type:i.Input}],displayLoadingIndicator:[{type:i.Input}],scrollContainer:[{type:i.ViewChild,args:["scrollContainer"]}],parentMessageElement:[{type:i.ViewChild,args:["parentMessageElement"]}],class:[{type:i.HostBinding,args:["class"]}]}});class eo{constructor(){this.imageLoad$=new l.E}}eo.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:eo,deps:[],target:i["ɵɵFactoryTarget"].Injectable}),eo.ɵprov=i["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:eo,providedIn:"root"}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:eo,decorators:[{type:i.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class to{constructor(e,t,n){this.customTemplatesService=e,this.channelService=t,this.chatClientService=n,this.class="str-chat__thread",this.subscriptions=[],this.subscriptions.push(this.channelService.activeParentMessage$.subscribe((e=>this.parentMessage=e))),this.subscriptions.push(this.channelService.activeChannel$.subscribe((e=>this.channel=e)))}ngOnDestroy(){this.subscriptions.forEach((e=>e.unsubscribe()))}getThreadHeaderContext(){return{parentMessage:this.parentMessage,closeThreadHandler:()=>this.closeThread()}}closeThread(){this.channelService.setAsActiveParentMessage(void 0)}get channelName(){return this.channel&&this.chatClientService.chatClient.user?Ni(this.channel,this.chatClientService.chatClient.user):""}}to.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:to,deps:[{token:bi},{token:ui},{token:ai}],target:i["ɵɵFactoryTarget"].Component}),to.ɵcmp=i["ɵɵngDeclareComponent"]({minVersion:"12.0.0",version:"12.2.5",type:to,selector:"stream-thread",host:{properties:{class:"this.class"}},ngImport:i,template:'<div class="str-chat__thread-container">\n  <ng-container\n    *ngTemplateOutlet="\n      (customTemplatesService.threadHeaderTemplate$ | async) ||\n        defaultThreadHeader;\n      context: getThreadHeaderContext()\n    "\n  ></ng-container>\n  <ng-content></ng-content>\n</div>\n\n<ng-template\n  #defaultThreadHeader\n  let-parentMessage="parentMessage"\n  let-closeThreadHandler="closeThreadHandler"\n>\n  <div class="str-chat__thread-header">\n    <div class="str-chat__thread-header-details">\n      <div class="str-chat__thread-header-name" translate>\n        streamChat.Thread\n      </div>\n      <div\n        class="str-chat__thread-header-channel-name"\n        data-testid="channel-name"\n      >\n        {{ channelName }}\n      </div>\n    </div>\n    <button\n      class="str-chat__square-button str-chat__close-thread-button"\n      data-testid="close-button"\n      (click)="closeThreadHandler()"\n    >\n      <stream-icon-placeholder\n        icon="close-no-outline"\n      ></stream-icon-placeholder>\n    </button>\n  </div>\n</ng-template>\n',components:[{type:Ci,selector:"stream-icon-placeholder",inputs:["icon","size"]}],directives:[{type:nr.XV,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:tr.eM,selector:"[translate],[ngx-translate]",inputs:["translate","translateParams"]}],pipes:{async:nr.a}}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:to,decorators:[{type:i.Component,args:[{selector:"stream-thread",templateUrl:"./thread.component.html",styles:[]}]}],ctorParameters:function(){return[{type:bi},{type:ui},{type:ai}]},propDecorators:{class:[{type:i.HostBinding,args:["class"]}]}});class no{}no.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:no,deps:[],target:i["ɵɵFactoryTarget"].NgModule}),no.ɵmod=i["ɵɵngDeclareNgModule"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:no,declarations:[yi,wi],imports:[nr.MD,tr.O0],exports:[yi,wi]}),no.ɵinj=i["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:no,imports:[[nr.MD,tr.O0]]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:no,decorators:[{type:i.NgModule,args:[{declarations:[yi,wi],imports:[nr.MD,tr.O0],exports:[yi,wi]}]}]});class ro{}ro.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ro,deps:[],target:i["ɵɵFactoryTarget"].NgModule}),ro.ɵmod=i["ɵɵngDeclareNgModule"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ro,declarations:[Li,Vi,Hi,Bi,Gi,Fi,Xi,_i,Di,Pi,Mi,Ki,Oi,Ri,Ai,xi,Ei,to,Ci,Si],imports:[nr.MD,tr.O0,no,Os],exports:[Li,Vi,Hi,Bi,Gi,Fi,Xi,_i,Di,Pi,Mi,Ki,Oi,Ri,Ai,xi,no,to,Ci,Si]}),ro.ɵinj=i["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ro,imports:[[nr.MD,tr.O0,no,Os],no]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:ro,decorators:[{type:i.NgModule,args:[{declarations:[Li,Vi,Hi,Bi,Gi,Fi,Xi,_i,Di,Pi,Mi,Ki,Oi,Ri,Ai,xi,Ei,to,Ci,Si],imports:[nr.MD,tr.O0,no,Os],exports:[Li,Vi,Hi,Bi,Gi,Fi,Xi,_i,Di,Pi,Mi,Ki,Oi,Ri,Ai,xi,no,to,Ci,Si]}]}]});class so{}so.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:so,deps:[],target:i["ɵɵFactoryTarget"].NgModule}),so.ɵmod=i["ɵɵngDeclareNgModule"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:so,declarations:[Qi],imports:[nr.MD,tr.O0,ii,no],exports:[Qi]}),so.ɵinj=i["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:so,providers:[{provide:Ii,useValue:Qi}],imports:[[nr.MD,tr.O0,ii,no]]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:so,decorators:[{type:i.NgModule,args:[{declarations:[Qi],imports:[nr.MD,tr.O0,ii,no],exports:[Qi],providers:[{provide:Ii,useValue:Qi}]}]}]});class io{}io.ɵfac=i["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:io,deps:[],target:i["ɵɵFactoryTarget"].NgModule}),io.ɵmod=i["ɵɵngDeclareNgModule"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:io,declarations:[Zi],imports:[nr.MD,tr.O0],exports:[Zi]}),io.ɵinj=i["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:io,providers:[{provide:Ii,useValue:Zi}],imports:[[nr.MD,tr.O0]]}),i["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"12.2.5",ngImport:i,type:io,decorators:[{type:i.NgModule,args:[{declarations:[Zi],imports:[nr.MD,tr.O0],exports:[Zi],providers:[{provide:Ii,useValue:Zi}]}]}]})},4352:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(1316),s=n(5144),i=n(8676),o=n(6764);let a=class{constructor(e,t){this.http=e,this.auth=t,this.baseUrl="https://localhost:7183"}getToken(){return this.http.get(`${this.baseUrl}/api/stream/token`,{responseType:"json"})}getChannel(e,t,n,r){return this.http.get(`${this.baseUrl}/api/stream/channel?channelType=${e}&channelId=${t}&user1=${n}&user2=${r}`)}getUserChannels(e){return this.http.get(`${this.baseUrl}/api/stream/channels?user=${e}`)}addUser(e){this.http.post(`${this.baseUrl}/api/stream/user?username=${e}`,{headers:{"Content-Type":"application/json"}}).subscribe((e=>{console.log(e)}),(e=>{console.error("Error:",e)}))}login(){this.http.get(`${this.baseUrl}/api/auth/login`).subscribe((e=>{console.log(e)}),(e=>{console.error("Error:",e)}))}getUser(){this.http.get(`${this.baseUrl}/api/auth/user`).subscribe((e=>{console.log(e)}),(e=>{console.error("Error:",e)}))}addMessage(e,t,n,r){return this.http.get(`${this.baseUrl}/api/stream/message?channelType=${e}&channelId=${t}&user=${n}&message=${r}`,{headers:{"Content-Type":"application/json"}})}};a=(0,r.UN)([(0,i.Injectable)({providedIn:"root"}),(0,r.YR)("design:paramtypes",[s.KK,o.oj])],a)},6636:(e,t,n)=>{var r=n(9848).default;function s(){"use strict";e.exports=s=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var s=t&&t.prototype instanceof m?t:m,i=Object.create(s.prototype),a=new T(r||[]);return o(i,"_invoke",{value:S(e,n,a)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var g={};function m(){}function f(){}function v(){}var y={};h(y,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==n&&i.call(w,c)&&(y=w);var D=v.prototype=m.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(s,o,a,c){var l=d(e[s],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==r(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var s;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,s){n(e,r,t,s)}))}return s=s?s.then(i,i):i()}})}function S(e,t,n){var r="suspendedStart";return function(s,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===s)throw i;return{value:void 0,done:!0}}for(n.method=s,n.arg=i;;){var o=n.delegate;if(o){var a=x(o,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var s=d(r,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,g;var i=s.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function k(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:M}}function M(){return{value:void 0,done:!0}}return f.prototype=v,o(D,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:f,configurable:!0}),f.displayName=h(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,h(e,u,"GeneratorFunction")),e.prototype=Object.create(D),e},t.awrap=function(e){return{__await:e}},C(_.prototype),h(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var o=new _(p(e,n,r,s),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(D),h(D,u,"Generator"),h(D,c,(function(){return this})),h(D,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;E(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},t}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},9848:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3248:(e,t,n)=>{var r=n(6636)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},1132:(e,t,n)=>{"use strict";n.d(t,{Ko:()=>Pe,MD:()=>gt,MP:()=>D,OM:()=>bt,QF:()=>Se,Qd:()=>y,Qt:()=>$e,Sg:()=>_e,Ud:()=>c,Wm:()=>Le,XV:()=>Be,YZ:()=>ft,_k:()=>mt,a:()=>Ke,ay:()=>ke,mQ:()=>h,mg:()=>a,oB:()=>C,uC:()=>w,u_:()=>Ae,ug:()=>o,uy:()=>i});var r=n(8676);let s=null;function i(){return s}function o(e){s||(s=e)}class a{}const c=new r.InjectionToken("DocumentToken");class l{historyGo(e){throw new Error("Not implemented")}}function u(){return(0,r["ɵɵinject"])(p)}l.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:l,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),l.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:l,providedIn:"platform",useFactory:u}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:l,decorators:[{type:r.Injectable,args:[{providedIn:"platform",useFactory:u}]}]});const h=new r.InjectionToken("Location Initialized");class p extends l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){d()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){d()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}function d(){return!!window.history.pushState}function g(){return new p((0,r["ɵɵinject"])(c))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function f(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-("/"===e[n-1]?1:0);return e.slice(0,r)+e.slice(n)}function v(e){return e&&"?"!==e[0]?"?"+e:e}p.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:p,deps:[{token:c}],target:r["ɵɵFactoryTarget"].Injectable}),p.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:p,providedIn:"platform",useFactory:g}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:p,decorators:[{type:r.Injectable,args:[{providedIn:"platform",useFactory:g}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[c]}]}]}});class y{historyGo(e){throw new Error("Not implemented")}}y.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:y,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),y.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:y,providedIn:"root",useFactory:()=>(0,r.inject)(w)}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:y,decorators:[{type:r.Injectable,args:[{providedIn:"root",useFactory:()=>(0,r.inject)(w)}]}]});const b=new r.InjectionToken("appBaseHref");class w extends y{constructor(e,t){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??(0,r.inject)(c).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const s=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){const s=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}w.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:w,deps:[{token:l},{token:b,optional:!0}],target:r["ɵɵFactoryTarget"].Injectable}),w.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:w,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:w,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:l},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[b]}]}]}});class D extends y{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let s=this.prepareExternalUrl(n+v(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){let s=this.prepareExternalUrl(n+v(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}D.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:D,deps:[{token:l},{token:b,optional:!0}],target:r["ɵɵFactoryTarget"].Injectable}),D.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:D}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:D,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:l},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[b]}]}]}});class C{constructor(e){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const t=this._locationStrategy.getBaseHref();this._basePath=function(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(f(S(t))),this._locationStrategy.onPopState((e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})}))}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+v(t))}normalize(e){return C.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._basePath,S(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._locationStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+v(t)),n)}replaceState(e,t="",n=null){this._locationStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+v(t)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((e=>{this._notifyUrlChangeListeners(e.url,e.state)}))),()=>{const t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach((n=>n(e,t)))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}function _(){return new C((0,r["ɵɵinject"])(y))}function S(e){return e.replace(/\/index.html$/,"")}C.normalizeQueryParams=v,C.joinWithSlash=m,C.stripTrailingSlash=f,C.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:C,deps:[{token:y}],target:r["ɵɵFactoryTarget"].Injectable}),C.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:C,providedIn:"root",useFactory:_}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:C,decorators:[{type:r.Injectable,args:[{providedIn:"root",useFactory:_}]}],ctorParameters:function(){return[{type:y}]}});const x={ADP:[void 0,void 0,0],AFN:[void 0,"؋",0],ALL:[void 0,void 0,0],AMD:[void 0,"֏",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"₼"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",2],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GHS:[void 0,"GH₵"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["₱"],PKR:[void 0,"Rs",2],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["¤"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var I,E,T,k,M,A,F;function O(e,t){return V((0,r["ɵfindLocaleData"])(e)[r["ɵLocaleDataIndex"].DateFormat],t)}function R(e,t){return V((0,r["ɵfindLocaleData"])(e)[r["ɵLocaleDataIndex"].TimeFormat],t)}function P(e,t){return V((0,r["ɵfindLocaleData"])(e)[r["ɵLocaleDataIndex"].DateTimeFormat],t)}function L(e,t){const n=(0,r["ɵfindLocaleData"])(e),s=n[r["ɵLocaleDataIndex"].NumberSymbols][t];if(void 0===s){if(t===A.CurrencyDecimal)return n[r["ɵLocaleDataIndex"].NumberSymbols][A.Decimal];if(t===A.CurrencyGroup)return n[r["ɵLocaleDataIndex"].NumberSymbols][A.Group]}return s}function j(e,t){return(0,r["ɵfindLocaleData"])(e)[r["ɵLocaleDataIndex"].NumberFormats][t]}!function(e){e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific"}(I||(I={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other"}(E||(E={})),function(e){e[e.Format=0]="Format",e[e.Standalone=1]="Standalone"}(T||(T={})),function(e){e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short"}(k||(k={})),function(e){e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full"}(M||(M={})),function(e){e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup"}(A||(A={})),function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(F||(F={}));const N=r["ɵgetLocalePluralCase"];function U(e){if(!e[r["ɵLocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r["ɵLocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function V(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function $(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const B=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H={},q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var z,W,K;function G(e,t,n,r){let s=function(e){if(le(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map((e=>+e));return Z(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(B))return function(e){const t=new Date(0);let n=0,r=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,o,a,c,l),t}(n)}const t=new Date(e);if(!le(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Y(n,t)||t;let i,o=[];for(;t;){if(i=q.exec(t),!i){o.push(t);break}{o=o.concat(i.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();r&&(a=ce(r,a),s=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ce(t,r)-r))}(s,r));let c="";return o.forEach((e=>{const t=function(e){if(ae[e])return ae[e];let t;switch(e){case"G":case"GG":case"GGG":t=ee(K.Eras,k.Abbreviated);break;case"GGGG":t=ee(K.Eras,k.Wide);break;case"GGGGG":t=ee(K.Eras,k.Narrow);break;case"y":t=X(W.FullYear,1,0,!1,!0);break;case"yy":t=X(W.FullYear,2,0,!0,!0);break;case"yyy":t=X(W.FullYear,3,0,!1,!0);break;case"yyyy":t=X(W.FullYear,4,0,!1,!0);break;case"Y":t=oe(1);break;case"YY":t=oe(2,!0);break;case"YYY":t=oe(3);break;case"YYYY":t=oe(4);break;case"M":case"L":t=X(W.Month,1,1);break;case"MM":case"LL":t=X(W.Month,2,1);break;case"MMM":t=ee(K.Months,k.Abbreviated);break;case"MMMM":t=ee(K.Months,k.Wide);break;case"MMMMM":t=ee(K.Months,k.Narrow);break;case"LLL":t=ee(K.Months,k.Abbreviated,T.Standalone);break;case"LLLL":t=ee(K.Months,k.Wide,T.Standalone);break;case"LLLLL":t=ee(K.Months,k.Narrow,T.Standalone);break;case"w":t=ie(1);break;case"ww":t=ie(2);break;case"W":t=ie(1,!0);break;case"d":t=X(W.Date,1);break;case"dd":t=X(W.Date,2);break;case"c":case"cc":t=X(W.Day,1);break;case"ccc":t=ee(K.Days,k.Abbreviated,T.Standalone);break;case"cccc":t=ee(K.Days,k.Wide,T.Standalone);break;case"ccccc":t=ee(K.Days,k.Narrow,T.Standalone);break;case"cccccc":t=ee(K.Days,k.Short,T.Standalone);break;case"E":case"EE":case"EEE":t=ee(K.Days,k.Abbreviated);break;case"EEEE":t=ee(K.Days,k.Wide);break;case"EEEEE":t=ee(K.Days,k.Narrow);break;case"EEEEEE":t=ee(K.Days,k.Short);break;case"a":case"aa":case"aaa":t=ee(K.DayPeriods,k.Abbreviated);break;case"aaaa":t=ee(K.DayPeriods,k.Wide);break;case"aaaaa":t=ee(K.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":t=ee(K.DayPeriods,k.Abbreviated,T.Standalone,!0);break;case"bbbb":t=ee(K.DayPeriods,k.Wide,T.Standalone,!0);break;case"bbbbb":t=ee(K.DayPeriods,k.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":t=ee(K.DayPeriods,k.Abbreviated,T.Format,!0);break;case"BBBB":t=ee(K.DayPeriods,k.Wide,T.Format,!0);break;case"BBBBB":t=ee(K.DayPeriods,k.Narrow,T.Format,!0);break;case"h":t=X(W.Hours,1,-12);break;case"hh":t=X(W.Hours,2,-12);break;case"H":t=X(W.Hours,1);break;case"HH":t=X(W.Hours,2);break;case"m":t=X(W.Minutes,1);break;case"mm":t=X(W.Minutes,2);break;case"s":t=X(W.Seconds,1);break;case"ss":t=X(W.Seconds,2);break;case"S":t=X(W.FractionalSeconds,1);break;case"SS":t=X(W.FractionalSeconds,2);break;case"SSS":t=X(W.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=te(z.Short);break;case"ZZZZZ":t=te(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=te(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=te(z.Long);break;default:return null}return ae[e]=t,t}(e);c+=t?t(s,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}function Z(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Y(e,t){const n=function(e){return(0,r["ɵfindLocaleData"])(e)[r["ɵLocaleDataIndex"].LocaleId]}(e);if(H[n]=H[n]||{},H[n][t])return H[n][t];let s="";switch(t){case"shortDate":s=O(e,M.Short);break;case"mediumDate":s=O(e,M.Medium);break;case"longDate":s=O(e,M.Long);break;case"fullDate":s=O(e,M.Full);break;case"shortTime":s=R(e,M.Short);break;case"mediumTime":s=R(e,M.Medium);break;case"longTime":s=R(e,M.Long);break;case"fullTime":s=R(e,M.Full);break;case"short":const t=Y(e,"shortTime"),n=Y(e,"shortDate");s=Q(P(e,M.Short),[t,n]);break;case"medium":const r=Y(e,"mediumTime"),i=Y(e,"mediumDate");s=Q(P(e,M.Medium),[r,i]);break;case"long":const o=Y(e,"longTime"),a=Y(e,"longDate");s=Q(P(e,M.Long),[o,a]);break;case"full":const c=Y(e,"fullTime"),l=Y(e,"fullDate");s=Q(P(e,M.Full),[c,l])}return s&&(H[n][t]=s),s}function Q(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function J(e,t,n="-",r,s){let i="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,i=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),i+o}function X(e,t,n=0,r=!1,s=!1){return function(i,o){let a=function(e,t){switch(e){case W.FullYear:return t.getFullYear();case W.Month:return t.getMonth();case W.Date:return t.getDate();case W.Hours:return t.getHours();case W.Minutes:return t.getMinutes();case W.Seconds:return t.getSeconds();case W.FractionalSeconds:return t.getMilliseconds();case W.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,i);if((n>0||a>-n)&&(a+=n),e===W.Hours)0===a&&-12===n&&(a=12);else if(e===W.FractionalSeconds)return c=t,J(a,3).substring(0,c);var c;const l=L(o,A.MinusSign);return J(a,t,l,r,s)}}function ee(e,t,n=T.Format,s=!1){return function(i,o){return function(e,t,n,s,i,o){switch(n){case K.Months:return function(e,t,n){const s=(0,r["ɵfindLocaleData"])(e),i=V([s[r["ɵLocaleDataIndex"].MonthsFormat],s[r["ɵLocaleDataIndex"].MonthsStandalone]],t);return V(i,n)}(t,i,s)[e.getMonth()];case K.Days:return function(e,t,n){const s=(0,r["ɵfindLocaleData"])(e),i=V([s[r["ɵLocaleDataIndex"].DaysFormat],s[r["ɵLocaleDataIndex"].DaysStandalone]],t);return V(i,n)}(t,i,s)[e.getDay()];case K.DayPeriods:const a=e.getHours(),c=e.getMinutes();if(o){const e=function(e){const t=(0,r["ɵfindLocaleData"])(e);return U(t),(t[r["ɵLocaleDataIndex"].ExtraData][2]||[]).map((e=>"string"==typeof e?$(e):[$(e[0]),$(e[1])]))}(t),n=function(e,t,n){const s=(0,r["ɵfindLocaleData"])(e);U(s);const i=V([s[r["ɵLocaleDataIndex"].ExtraData][0],s[r["ɵLocaleDataIndex"].ExtraData][1]],t)||[];return V(i,n)||[]}(t,i,s),o=e.findIndex((e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&c>=t.minutes,s=a<n.hours||a===n.hours&&c<n.minutes;if(t.hours<n.hours){if(r&&s)return!0}else if(r||s)return!0}else if(e.hours===a&&e.minutes===c)return!0;return!1}));if(-1!==o)return n[o]}return function(e,t,n){const s=(0,r["ɵfindLocaleData"])(e),i=V([s[r["ɵLocaleDataIndex"].DayPeriodsFormat],s[r["ɵLocaleDataIndex"].DayPeriodsStandalone]],t);return V(i,n)}(t,i,s)[a<12?0:1];case K.Eras:return function(e,t){return V((0,r["ɵfindLocaleData"])(e)[r["ɵLocaleDataIndex"].Eras],t)}(t,s)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,s)}}function te(e){return function(t,n,r){const s=-1*r,i=L(n,A.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case z.Short:return(s>=0?"+":"")+J(o,2,i)+J(Math.abs(s%60),2,i);case z.ShortGMT:return"GMT"+(s>=0?"+":"")+J(o,1,i);case z.Long:return"GMT"+(s>=0?"+":"")+J(o,2,i)+":"+J(Math.abs(s%60),2,i);case z.Extended:return 0===r?"Z":(s>=0?"+":"")+J(o,2,i)+":"+J(Math.abs(s%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}!function(e){e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended"}(z||(z={})),function(e){e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day"}(W||(W={})),function(e){e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras"}(K||(K={}));const ne=0,re=4;function se(e){return Z(e.getFullYear(),e.getMonth(),e.getDate()+(re-e.getDay()))}function ie(e,t=!1){return function(n,r){let s;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();s=1+Math.floor((t+e)/7)}else{const e=se(n),t=function(e){const t=Z(e,ne,1).getDay();return Z(e,0,1+(t<=re?re:re+7)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();s=1+Math.round(r/6048e5)}return J(s,e,L(r,A.MinusSign))}}function oe(e,t=!1){return function(n,r){return J(se(n).getFullYear(),e,L(r,A.MinusSign),t)}}const ae={};function ce(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function le(e){return e instanceof Date&&!isNaN(e.valueOf())}const ue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,he=22,pe=".",de="0",ge=";",me=",",fe="#";function ve(e,t,n,r,s,i,o=!1){let a="",c=!1;if(isFinite(e)){let l=function(e){let t,n,r,s,i,o=Math.abs(e)+"",a=0;for((n=o.indexOf(pe))>-1&&(o=o.replace(pe,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===de;r++);if(r===(i=o.length))t=[0],n=1;else{for(i--;o.charAt(i)===de;)i--;for(n-=r,t=[],s=0;r<=i;r++,s++)t[s]=Number(o.charAt(r))}return n>he&&(t=t.splice(0,he-1),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);o&&(l=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,h=t.minFrac,p=t.maxFrac;if(i){const e=i.match(ue);if(null===e)throw new Error(`${i} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(u=be(t)),null!=n&&(h=be(n)),null!=r?p=be(r):null!=n&&h>p&&(p=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,s=r.length-e.integerLen;const i=Math.min(Math.max(t,s),n);let o=i+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{s=Math.max(0,s),e.integerLen=1,r.length=Math.max(1,o=i+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;s<Math.max(0,i);s++)r.push(0);let c=0!==i;const l=t+e.integerLen,u=r.reduceRight((function(e,t,n,r){return t+=e,r[n]=t<10?t:t-10,c&&(0===r[n]&&n>=l?r.pop():c=!1),t>=10?1:0}),0);u&&(r.unshift(u),e.integerLen++)}(l,h,p);let d=l.digits,g=l.integerLen;const m=l.exponent;let f=[];for(c=d.every((e=>!e));g<u;g++)d.unshift(0);for(;g<0;g++)d.unshift(0);g>0?f=d.splice(g,d.length):(f=d,d=[0]);const v=[];for(d.length>=t.lgSize&&v.unshift(d.splice(-t.lgSize,d.length).join(""));d.length>t.gSize;)v.unshift(d.splice(-t.gSize,d.length).join(""));d.length&&v.unshift(d.join("")),a=v.join(L(n,r)),f.length&&(a+=L(n,s)+f.join("")),m&&(a+=L(n,A.Exponential)+"+"+m)}else a=L(n,A.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function ye(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(ge),s=r[0],i=r[1],o=-1!==s.indexOf(pe)?s.split(pe):[s.substring(0,s.lastIndexOf(de)+1),s.substring(s.lastIndexOf(de)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(fe));for(let e=0;e<c.length;e++){const t=c.charAt(e);t===de?n.minFrac=n.maxFrac=e+1:t===fe?n.maxFrac=e+1:n.posSuf+=t}const l=a.split(me);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,i){const e=s.length-n.posPre.length-n.posSuf.length,t=i.indexOf(fe);n.negPre=i.substring(0,t).replace(/'/g,""),n.negSuf=i.slice(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function be(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class we{}function De(e,t,n,r){let s=`=${e}`;if(t.indexOf(s)>-1)return s;if(s=n.getPluralCategory(e,r),t.indexOf(s)>-1)return s;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}we.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:we,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),we.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:we,providedIn:"root",useFactory:e=>new Ce(e),deps:[{token:r.LOCALE_ID}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:we,decorators:[{type:r.Injectable,args:[{providedIn:"root",useFactory:e=>new Ce(e),deps:[r.LOCALE_ID]}]}]});class Ce extends we{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(N(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}function _e(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}Ce.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ce,deps:[{token:r.LOCALE_ID}],target:r["ɵɵFactoryTarget"].Injectable}),Ce.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ce}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ce,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[r.LOCALE_ID]}]}]}});class Se{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r["ɵisListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem((e=>this._toggleClass(e.key,e.currentValue))),e.forEachChangedItem((e=>this._toggleClass(e.key,e.currentValue))),e.forEachRemovedItem((e=>{e.previousValue&&this._toggleClass(e.key,!1)}))}_applyIterableChanges(e){e.forEachAddedItem((e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r["ɵstringify"])(e.item)}`);this._toggleClass(e.item,!0)})),e.forEachRemovedItem((e=>this._toggleClass(e.item,!1)))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach((e=>this._toggleClass(e,!0))):Object.keys(e).forEach((t=>this._toggleClass(t,!!e[t]))))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach((e=>this._toggleClass(e,!1))):Object.keys(e).forEach((e=>this._toggleClass(e,!1))))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach((e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)}))}}Se.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Se,deps:[{token:r.IterableDiffers},{token:r.KeyValueDiffers},{token:r.ElementRef},{token:r.Renderer2}],target:r["ɵɵFactoryTarget"].Directive}),Se.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Se,isStandalone:!0,selector:"[ngClass]",inputs:{klass:["class","klass"],ngClass:"ngClass"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Se,decorators:[{type:r.Directive,args:[{selector:"[ngClass]",standalone:!0}]}],ctorParameters:function(){return[{type:r.IterableDiffers},{type:r.KeyValueDiffers},{type:r.ElementRef},{type:r.Renderer2}]},propDecorators:{klass:[{type:r.Input,args:["class"]}],ngClass:[{type:r.Input,args:["ngClass"]}]}});class xe{constructor(e){this._viewContainerRef=e,this.ngComponentOutlet=null}ngOnChanges(e){const{_viewContainerRef:t,ngComponentOutletNgModule:n,ngComponentOutletNgModuleFactory:s}=this;if(t.clear(),this._componentRef=void 0,this.ngComponentOutlet){const i=this.ngComponentOutletInjector||t.parentInjector;(e.ngComponentOutletNgModule||e.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=n?(0,r.createNgModule)(n,Ie(i)):s?s.create(Ie(i)):void 0),this._componentRef=t.createComponent(this.ngComponentOutlet,{index:t.length,injector:i,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}function Ie(e){return e.get(r.NgModuleRef).injector}xe.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:xe,deps:[{token:r.ViewContainerRef}],target:r["ɵɵFactoryTarget"].Directive}),xe.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:xe,isStandalone:!0,selector:"[ngComponentOutlet]",inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},usesOnChanges:!0,ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:xe,decorators:[{type:r.Directive,args:[{selector:"[ngComponentOutlet]",standalone:!0}]}],ctorParameters:function(){return[{type:r.ViewContainerRef}]},propDecorators:{ngComponentOutlet:[{type:r.Input}],ngComponentOutletInjector:[{type:r.Input}],ngComponentOutletContent:[{type:r.Input}],ngComponentOutletNgModule:[{type:r.Input}],ngComponentOutletNgModuleFactory:[{type:r.Input}]}});const Ee="undefined"==typeof ngDevMode||!!ngDevMode;class Te{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class ke{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Ee&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)if(Ee)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch{let n=`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables, such as Arrays.`;throw"object"==typeof t&&(n+=" Did you mean to use the keyvalue pipe?"),new r["ɵRuntimeError"](-2200,n)}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=this._viewContainer;e.forEachOperation(((e,n,r)=>{if(null==e.previousIndex)t.createEmbeddedView(this._template,new Te(e.item,this._ngForOf,-1,-1),null===r?void 0:r);else if(null==r)t.remove(null===n?void 0:n);else if(null!==n){const s=t.get(n);t.move(s,r),Me(s,e)}}));for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.index=e,r.count=n,r.ngForOf=this._ngForOf}e.forEachIdentityChange((e=>{Me(t.get(e.currentIndex),e)}))}static ngTemplateContextGuard(e,t){return!0}}function Me(e,t){e.context.$implicit=t.item}ke.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ke,deps:[{token:r.ViewContainerRef},{token:r.TemplateRef},{token:r.IterableDiffers}],target:r["ɵɵFactoryTarget"].Directive}),ke.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:ke,isStandalone:!0,selector:"[ngFor][ngForOf]",inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ke,decorators:[{type:r.Directive,args:[{selector:"[ngFor][ngForOf]",standalone:!0}]}],ctorParameters:function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef},{type:r.IterableDiffers}]},propDecorators:{ngForOf:[{type:r.Input}],ngForTrackBy:[{type:r.Input}],ngForTemplate:[{type:r.Input}]}});class Ae{constructor(e,t){this._viewContainer=e,this._context=new Fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Oe("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Oe("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}Ae.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ae,deps:[{token:r.ViewContainerRef},{token:r.TemplateRef}],target:r["ɵɵFactoryTarget"].Directive}),Ae.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Ae,isStandalone:!0,selector:"[ngIf]",inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ae,decorators:[{type:r.Directive,args:[{selector:"[ngIf]",standalone:!0}]}],ctorParameters:function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef}]},propDecorators:{ngIf:[{type:r.Input}],ngIfThen:[{type:r.Input}],ngIfElse:[{type:r.Input}]}});class Fe{constructor(){this.$implicit=null,this.ngIf=null}}function Oe(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r["ɵstringify"])(t)}'.`)}class Re{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class Pe{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}Pe.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Pe,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Pe.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Pe,isStandalone:!0,selector:"[ngSwitch]",inputs:{ngSwitch:"ngSwitch"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Pe,decorators:[{type:r.Directive,args:[{selector:"[ngSwitch]",standalone:!0}]}],propDecorators:{ngSwitch:[{type:r.Input}]}});class Le{constructor(e,t,n){this.ngSwitch=n,"undefined"!=typeof ngDevMode&&!ngDevMode||n||Ne("ngSwitchCase","NgSwitchCase"),n._addCase(),this._view=new Re(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}Le.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Le,deps:[{token:r.ViewContainerRef},{token:r.TemplateRef},{token:Pe,host:!0,optional:!0}],target:r["ɵɵFactoryTarget"].Directive}),Le.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Le,isStandalone:!0,selector:"[ngSwitchCase]",inputs:{ngSwitchCase:"ngSwitchCase"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Le,decorators:[{type:r.Directive,args:[{selector:"[ngSwitchCase]",standalone:!0}]}],ctorParameters:function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef},{type:Pe,decorators:[{type:r.Optional},{type:r.Host}]}]},propDecorators:{ngSwitchCase:[{type:r.Input}]}});class je{constructor(e,t,n){"undefined"!=typeof ngDevMode&&!ngDevMode||n||Ne("ngSwitchDefault","NgSwitchDefault"),n._addDefault(new Re(e,t))}}function Ne(e,t){throw new r["ɵRuntimeError"](2e3,`An element with the "${e}" attribute (matching the "${t}" directive) must be located inside an element with the "ngSwitch" attribute (matching "NgSwitch" directive)`)}je.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:je,deps:[{token:r.ViewContainerRef},{token:r.TemplateRef},{token:Pe,host:!0,optional:!0}],target:r["ɵɵFactoryTarget"].Directive}),je.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:je,isStandalone:!0,selector:"[ngSwitchDefault]",ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:je,decorators:[{type:r.Directive,args:[{selector:"[ngSwitchDefault]",standalone:!0}]}],ctorParameters:function(){return[{type:r.ViewContainerRef},{type:r.TemplateRef},{type:Pe,decorators:[{type:r.Optional},{type:r.Host}]}]}});class Ue{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=De(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}Ue.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ue,deps:[{token:we}],target:r["ɵɵFactoryTarget"].Directive}),Ue.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Ue,isStandalone:!0,selector:"[ngPlural]",inputs:{ngPlural:"ngPlural"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ue,decorators:[{type:r.Directive,args:[{selector:"[ngPlural]",standalone:!0}]}],ctorParameters:function(){return[{type:we}]},propDecorators:{ngPlural:[{type:r.Input}]}});class Ve{constructor(e,t,n,r){this.value=e;const s=!isNaN(Number(e));r.addCase(s?`=${e}`:e,new Re(n,t))}}Ve.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ve,deps:[{token:"ngPluralCase",attribute:!0},{token:r.TemplateRef},{token:r.ViewContainerRef},{token:Ue,host:!0}],target:r["ɵɵFactoryTarget"].Directive}),Ve.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Ve,isStandalone:!0,selector:"[ngPluralCase]",ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ve,decorators:[{type:r.Directive,args:[{selector:"[ngPluralCase]",standalone:!0}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Attribute,args:["ngPluralCase"]}]},{type:r.TemplateRef},{type:r.ViewContainerRef},{type:Ue,decorators:[{type:r.Host}]}]}});class $e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,s]=e.split("."),i=-1===n.indexOf("-")?void 0:r.RendererStyleFlags2.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,n,s?`${t}${s}`:t,i):this._renderer.removeStyle(this._ngEl.nativeElement,n,i)}_applyChanges(e){e.forEachRemovedItem((e=>this._setStyle(e.key,null))),e.forEachAddedItem((e=>this._setStyle(e.key,e.currentValue))),e.forEachChangedItem((e=>this._setStyle(e.key,e.currentValue)))}}$e.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:$e,deps:[{token:r.ElementRef},{token:r.KeyValueDiffers},{token:r.Renderer2}],target:r["ɵɵFactoryTarget"].Directive}),$e.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:$e,isStandalone:!0,selector:"[ngStyle]",inputs:{ngStyle:"ngStyle"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:$e,decorators:[{type:r.Directive,args:[{selector:"[ngStyle]",standalone:!0}]}],ctorParameters:function(){return[{type:r.ElementRef},{type:r.KeyValueDiffers},{type:r.Renderer2}]},propDecorators:{ngStyle:[{type:r.Input,args:["ngStyle"]}]}});class Be{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:t,ngTemplateOutletContext:n,ngTemplateOutletInjector:r}=this;this._viewRef=e.createEmbeddedView(t,n,r?{injector:r}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}Be.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Be,deps:[{token:r.ViewContainerRef}],target:r["ɵɵFactoryTarget"].Directive}),Be.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Be,isStandalone:!0,selector:"[ngTemplateOutlet]",inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},usesOnChanges:!0,ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Be,decorators:[{type:r.Directive,args:[{selector:"[ngTemplateOutlet]",standalone:!0}]}],ctorParameters:function(){return[{type:r.ViewContainerRef}]},propDecorators:{ngTemplateOutletContext:[{type:r.Input}],ngTemplateOutlet:[{type:r.Input}],ngTemplateOutletInjector:[{type:r.Input}]}});const He=[Se,xe,ke,Ae,Be,$e,Pe,Le,je,Ue,Ve];function qe(e,t){return new r["ɵRuntimeError"](2100,ngDevMode&&`InvalidPipeArgument: '${t}' for pipe '${(0,r["ɵstringify"])(e)}'`)}const ze=new class{createSubscription(e,t){return e.then(t,(e=>{throw e}))}dispose(e){}},We=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}};class Ke{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(t=>this._updateLatestValue(e,t)))}_selectStrategy(e){if((0,r["ɵisPromise"])(e))return ze;if((0,r["ɵisSubscribable"])(e))return We;throw qe(Ke,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}Ke.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ke,deps:[{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Pipe}),Ke.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:Ke,isStandalone:!0,name:"async",pure:!1}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ke,decorators:[{type:r.Pipe,args:[{name:"async",pure:!1,standalone:!0}]}],ctorParameters:function(){return[{type:r.ChangeDetectorRef}]}});class Ge{transform(e){if(null==e)return null;if("string"!=typeof e)throw qe(Ge,e);return e.toLowerCase()}}Ge.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ge,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),Ge.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:Ge,isStandalone:!0,name:"lowercase"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ge,decorators:[{type:r.Pipe,args:[{name:"lowercase",standalone:!0}]}]});const Ze=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;class Ye{transform(e){if(null==e)return null;if("string"!=typeof e)throw qe(Ye,e);return e.replace(Ze,(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()))}}Ye.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ye,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),Ye.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:Ye,isStandalone:!0,name:"titlecase"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ye,decorators:[{type:r.Pipe,args:[{name:"titlecase",standalone:!0}]}]});class Qe{transform(e){if(null==e)return null;if("string"!=typeof e)throw qe(Qe,e);return e.toUpperCase()}}Qe.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Qe,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),Qe.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:Qe,isStandalone:!0,name:"uppercase"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Qe,decorators:[{type:r.Pipe,args:[{name:"uppercase",standalone:!0}]}]});const Je=new r.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE"),Xe=new r.InjectionToken("DATE_PIPE_DEFAULT_OPTIONS");class et{constructor(e,t,n){this.locale=e,this.defaultTimezone=t,this.defaultOptions=n}transform(e,t,n,r){if(null==e||""===e||e!=e)return null;try{const s=t??this.defaultOptions?.dateFormat??"mediumDate",i=n??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return G(e,s,r||this.locale,i)}catch(e){throw qe(et,e.message)}}}et.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:et,deps:[{token:r.LOCALE_ID},{token:Je,optional:!0},{token:Xe,optional:!0}],target:r["ɵɵFactoryTarget"].Pipe}),et.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:et,isStandalone:!0,name:"date"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:et,decorators:[{type:r.Pipe,args:[{name:"date",pure:!0,standalone:!0}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[r.LOCALE_ID]}]},{type:void 0,decorators:[{type:r.Inject,args:[Je]},{type:r.Optional}]},{type:void 0,decorators:[{type:r.Inject,args:[Xe]},{type:r.Optional}]}]}});const tt=/#/g;class nt{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw qe(nt,t);return t[De(e,Object.keys(t),this._localization,n)].replace(tt,e.toString())}}nt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:nt,deps:[{token:we}],target:r["ɵɵFactoryTarget"].Pipe}),nt.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:nt,isStandalone:!0,name:"i18nPlural"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:nt,decorators:[{type:r.Pipe,args:[{name:"i18nPlural",pure:!0,standalone:!0}]}],ctorParameters:function(){return[{type:we}]}});class rt{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw qe(rt,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}rt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:rt,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),rt.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:rt,isStandalone:!0,name:"i18nSelect"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:rt,decorators:[{type:r.Pipe,args:[{name:"i18nSelect",pure:!0,standalone:!0}]}]});class st{transform(e){return JSON.stringify(e,null,2)}}st.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:st,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),st.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:st,isStandalone:!0,name:"json",pure:!1}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:st,decorators:[{type:r.Pipe,args:[{name:"json",pure:!1,standalone:!0}]}]});class it{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=ot}transform(e,t=ot){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e),r=t!==this.compareFn;return n&&(this.keyValues=[],n.forEachItem((e=>{this.keyValues.push({key:e.key,value:e.currentValue})}))),(n||r)&&(this.keyValues.sort(t),this.compareFn=t),this.keyValues}}function ot(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const s=String(n),i=String(r);return s==i?0:s<i?-1:1}it.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:it,deps:[{token:r.KeyValueDiffers}],target:r["ɵɵFactoryTarget"].Pipe}),it.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:it,isStandalone:!0,name:"keyvalue",pure:!1}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:it,decorators:[{type:r.Pipe,args:[{name:"keyvalue",pure:!1,standalone:!0}]}],ctorParameters:function(){return[{type:r.KeyValueDiffers}]}});class at{constructor(e){this._locale=e}transform(e,t,n){if(!ut(e))return null;n=n||this._locale;try{return function(e,t,n){return ve(e,ye(j(t,I.Decimal),L(t,A.MinusSign)),t,A.Group,A.Decimal,n)}(ht(e),n,t)}catch(e){throw qe(at,e.message)}}}at.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:at,deps:[{token:r.LOCALE_ID}],target:r["ɵɵFactoryTarget"].Pipe}),at.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:at,isStandalone:!0,name:"number"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:at,decorators:[{type:r.Pipe,args:[{name:"number",standalone:!0}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[r.LOCALE_ID]}]}]}});class ct{constructor(e){this._locale=e}transform(e,t,n){if(!ut(e))return null;n=n||this._locale;try{return function(e,t,n){return ve(e,ye(j(t,I.Percent),L(t,A.MinusSign)),t,A.Group,A.Decimal,n,!0).replace(new RegExp("%","g"),L(t,A.PercentSign))}(ht(e),n,t)}catch(e){throw qe(ct,e.message)}}}ct.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ct,deps:[{token:r.LOCALE_ID}],target:r["ɵɵFactoryTarget"].Pipe}),ct.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:ct,isStandalone:!0,name:"percent"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ct,decorators:[{type:r.Pipe,args:[{name:"percent",standalone:!0}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[r.LOCALE_ID]}]}]}});class lt{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(e,t=this._defaultCurrencyCode,n="symbol",s,i){if(!ut(e))return null;i=i||this._locale,"boolean"==typeof n&&(("undefined"==typeof ngDevMode||ngDevMode)&&console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let o=t||this._defaultCurrencyCode;"code"!==n&&(o="symbol"===n||"symbol-narrow"===n?function(e,t,n="en"){const s=function(e){return(0,r["ɵfindLocaleData"])(e)[r["ɵLocaleDataIndex"].Currencies]}(n)[e]||x[e]||[],i=s[1];return"narrow"===t&&"string"==typeof i?i:s[0]||e}(o,"symbol"===n?"wide":"narrow",i):n);try{return function(e,t,n,r,s){const i=ye(j(t,I.Currency),L(t,A.MinusSign));return i.minFrac=function(e){let t;const n=x[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),i.maxFrac=i.minFrac,ve(e,i,t,A.CurrencyGroup,A.CurrencyDecimal,s).replace("¤",n).replace("¤","").trim()}(ht(e),i,o,t,s)}catch(e){throw qe(lt,e.message)}}}function ut(e){return!(null==e||""===e||e!=e)}function ht(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}lt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:lt,deps:[{token:r.LOCALE_ID},{token:r.DEFAULT_CURRENCY_CODE}],target:r["ɵɵFactoryTarget"].Pipe}),lt.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:lt,isStandalone:!0,name:"currency"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:lt,decorators:[{type:r.Pipe,args:[{name:"currency",standalone:!0}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Inject,args:[r.LOCALE_ID]}]},{type:void 0,decorators:[{type:r.Inject,args:[r.DEFAULT_CURRENCY_CODE]}]}]}});class pt{transform(e,t,n){if(null==e)return null;if(!this.supports(e))throw qe(pt,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}pt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:pt,deps:[],target:r["ɵɵFactoryTarget"].Pipe}),pt.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:pt,isStandalone:!0,name:"slice",pure:!1}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:pt,decorators:[{type:r.Pipe,args:[{name:"slice",pure:!1,standalone:!0}]}]});const dt=[Ke,Qe,Ge,st,pt,at,ct,Ye,lt,et,nt,rt,it];class gt{}gt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:gt,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),gt.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:gt,imports:[Se,xe,ke,Ae,Be,$e,Pe,Le,je,Ue,Ve,Ke,Qe,Ge,st,pt,at,ct,Ye,lt,et,nt,rt,it],exports:[Se,xe,ke,Ae,Be,$e,Pe,Le,je,Ue,Ve,Ke,Qe,Ge,st,pt,at,ct,Ye,lt,et,nt,rt,it]}),gt.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:gt}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:gt,decorators:[{type:r.NgModule,args:[{imports:[He,dt],exports:[He,dt]}]}]});const mt="browser";new r.Version("15.0.4");class ft{}ft.ɵprov=(0,r["ɵɵdefineInjectable"])({token:ft,providedIn:"root",factory:()=>new vt((0,r["ɵɵinject"])(c),window)});class vt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yt(this.window.history)||yt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yt(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class bt{}function wt(e,t){return Dt(e)?new URL(e):new URL(e,t.location.href)}function Dt(e){return/^https?:\/\//.test(e)}function Ct(e){return Dt(e)?new URL(e).hostname:e}const _t=e=>e.src,St=new r.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>_t});function xt(e,t){return function(n){return function(e){if("string"!=typeof e||""===e.trim())return!1;try{return new URL(e),!0}catch{return!1}}(n)||function(e,t){throw new r["ɵRuntimeError"](2959,ngDevMode&&`Image loader has detected an invalid path (\`${e}\`). To fix this, supply a path using one of the following formats: ${t.join(" or ")}`)}(n,t||[]),n=function(e){return e.endsWith("/")?e.slice(0,-1):e}(n),[{provide:St,useValue:t=>{return Dt(t.src)&&function(e,t){throw new r["ɵRuntimeError"](2959,ngDevMode&&`Image loader has detected a \`<img>\` tag with an invalid \`ngSrc\` attribute: ${t}. This image loader expects \`ngSrc\` to be a relative URL - however the provided value is an absolute URL. To fix this, provide \`ngSrc\` as a path relative to the base URL configured for this loader (\`${e}\`).`)}(n,t.src),e(n,{...t,src:(s=t.src,s.startsWith("/")?s.slice(1):s)});var s}}]}}xt((function(e,t){let n="format=auto";return t.width&&(n+=`,width=${t.width}`),`${e}/cdn-cgi/image/${n}/${t.src}`}),ngDevMode?["https://<ZONE>/cdn-cgi/image/<OPTIONS>/<SOURCE-IMAGE>"]:void 0);const It={name:"Cloudinary",testUrl:function(e){return Et.test(e)}},Et=/https?\:\/\/[^\/]+\.cloudinary\.com\/.+/;xt((function(e,t){let n="f_auto,q_auto";return t.width&&(n+=`,w_${t.width}`),`${e}/image/upload/${n}/${t.src}`}),ngDevMode?["https://res.cloudinary.com/mysite","https://mysite.cloudinary.com","https://subdomain.mysite.com"]:void 0);const Tt={name:"ImageKit",testUrl:function(e){return kt.test(e)}},kt=/https?\:\/\/[^\/]+\.imagekit\.io\/.+/;xt((function(e,t){let n="tr:q-auto";return t.width&&(n+=`,w-${t.width}`),`${e}/${n}/${t.src}`}),ngDevMode?["https://ik.imagekit.io/mysite","https://subdomain.mysite.com"]:void 0);const Mt={name:"Imgix",testUrl:function(e){return At.test(e)}},At=/https?\:\/\/[^\/]+\.imgix\.net\/.+/;function Ft(e,t=!0){return`The NgOptimizedImage directive ${t?`(activated on an <img> element with the \`ngSrc="${e}"\`) `:""}has detected that`}function Ot(e){if(!ngDevMode)throw new r["ɵRuntimeError"](2958,`Unexpected invocation of the ${e} in the prod mode. Please make sure that the prod mode is enabled for production builds.`)}xt((function(e,t){const n=new URL(`${e}/${t.src}`);return n.searchParams.set("auto","format"),t.width&&n.searchParams.set("w",t.width.toString()),n.href}),ngDevMode?["https://somepath.imgix.net/"]:void 0);class Rt{constructor(){this.images=new Map,this.alreadyWarned=new Set,this.window=null,this.observer=null,Ot("LCP checker");const e=(0,r.inject)(c).defaultView;void 0!==e&&"undefined"!=typeof PerformanceObserver&&(this.window=e,this.observer=this.initPerformanceObserver())}initPerformanceObserver(){const e=new PerformanceObserver((e=>{const t=e.getEntries();if(0===t.length)return;const n=t[t.length-1],s=n.element?.src??"";s.startsWith("data:")||s.startsWith("blob:")||this.images.get(s)&&!this.alreadyWarned.has(s)&&(this.alreadyWarned.add(s),function(e){const t=Ft(e);console.warn((0,r["ɵformatRuntimeError"])(2955,`${t} this image is the Largest Contentful Paint (LCP) element but was not marked "priority". This image should be marked "priority" in order to prioritize its loading. To fix this, add the "priority" attribute.`))}(s))}));return e.observe({type:"largest-contentful-paint",buffered:!0}),e}registerImage(e,t){this.observer&&this.images.set(wt(e,this.window).href,t)}unregisterImage(e){this.observer&&this.images.delete(wt(e,this.window).href)}ngOnDestroy(){this.observer&&(this.observer.disconnect(),this.images.clear(),this.alreadyWarned.clear())}}Rt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Rt,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Rt.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Rt,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Rt,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});const Pt=new Set(["localhost","127.0.0.1","0.0.0.0"]),Lt=new r.InjectionToken("PRECONNECT_CHECK_BLOCKLIST");class jt{constructor(){this.document=(0,r.inject)(c),this.preconnectLinks=null,this.alreadySeen=new Set,this.window=null,this.blocklist=new Set(Pt),Ot("preconnect link checker");const e=this.document.defaultView;void 0!==e&&(this.window=e);const t=(0,r.inject)(Lt,{optional:!0});t&&this.populateBlocklist(t)}populateBlocklist(e){Array.isArray(e)?Nt(e,(e=>{this.blocklist.add(Ct(e))})):this.blocklist.add(Ct(e))}assertPreconnect(e,t){if(!this.window)return;const n=wt(e,this.window);this.blocklist.has(n.hostname)||this.alreadySeen.has(n.origin)||(this.alreadySeen.add(n.origin),this.preconnectLinks||(this.preconnectLinks=this.queryPreconnectLinks()),this.preconnectLinks.has(n.origin)||console.warn((0,r["ɵformatRuntimeError"])(2956,`${Ft(t)} there is no preconnect tag present for this image. Preconnecting to the origin(s) that serve priority images ensures that these images are delivered as soon as possible. To fix this, please add the following element into the <head> of the document:\n  <link rel="preconnect" href="${n.origin}">`)))}queryPreconnectLinks(){const e=new Set,t=Array.from(this.document.querySelectorAll("link[rel=preconnect]"));for(let n of t){const t=wt(n.href,this.window);e.add(t.origin)}return e}ngOnDestroy(){this.preconnectLinks?.clear(),this.alreadySeen.clear()}}function Nt(e,t){for(let n of e)Array.isArray(n)?Nt(n,t):t(n)}jt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:jt,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),jt.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:jt,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:jt,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});const Ut=new r.InjectionToken("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});class Vt{constructor(){this.preloadedImages=(0,r.inject)(Ut),this.document=(0,r.inject)(c)}createPreloadLinkTag(e,t,n,s){if(ngDevMode&&this.preloadedImages.size>=5)throw new r["ɵRuntimeError"](2961,ngDevMode&&'The `NgOptimizedImage` directive has detected that more than 5 images were marked as priority. This might negatively affect an overall performance of the page. To fix this, remove the "priority" attribute from images with less priority.');if(this.preloadedImages.has(t))return;this.preloadedImages.add(t);const i=e.createElement("link");e.setAttribute(i,"as","image"),e.setAttribute(i,"href",t),e.setAttribute(i,"rel","preload"),e.setAttribute(i,"fetchpriority","high"),s&&e.setAttribute(i,"imageSizes",s),n&&e.setAttribute(i,"imageSrcset",n),e.appendChild(this.document.head,i)}}Vt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Vt,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Vt.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Vt,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Vt,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});const $t=/^((\s*\d+w\s*(,|$)){1,})$/,Bt=/^((\s*\d+(\.\d+)?x\s*(,|$)){1,})$/,Ht=[1,2],qt=[Mt,Tt,It],zt={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},Wt=new r.InjectionToken("ImageConfig",{providedIn:"root",factory:()=>zt});class Kt{constructor(){this.imageLoader=(0,r.inject)(St),this.config=function(e){let t={};return e.breakpoints&&(t.breakpoints=e.breakpoints.sort(((e,t)=>e-t))),Object.assign({},zt,e,t)}((0,r.inject)(Wt)),this.renderer=(0,r.inject)(r.Renderer2),this.imgElement=(0,r.inject)(r.ElementRef).nativeElement,this.injector=(0,r.inject)(r.Injector),this.isServer="server"===(0,r.inject)(r.PLATFORM_ID),this.preloadLinkChecker=(0,r.inject)(Vt),this.lcpObserver=ngDevMode?this.injector.get(Rt):null,this._renderedSrc=null,this._priority=!1,this._disableOptimizedSrcset=!1,this._fill=!1}set width(e){ngDevMode&&Qt(this,e,"width"),this._width=Gt(e)}get width(){return this._width}set height(e){ngDevMode&&Qt(this,e,"height"),this._height=Gt(e)}get height(){return this._height}set priority(e){this._priority=Zt(e)}get priority(){return this._priority}set disableOptimizedSrcset(e){this._disableOptimizedSrcset=Zt(e)}get disableOptimizedSrcset(){return this._disableOptimizedSrcset}set fill(e){this._fill=Zt(e)}get fill(){return this._fill}ngOnInit(){ngDevMode&&(Yt(this,"ngSrc",this.ngSrc),function(e,t){if(null==t)return;Yt(e,"ngSrcset",t);const n=t,s=$t.test(n),i=Bt.test(n);if(i&&function(e,t){if(!t.split(",").every((e=>""===e||parseFloat(e)<=3)))throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} the \`ngSrcset\` contains an unsupported image density:\`${t}\`. NgOptimizedImage generally recommends a max image density of 2x but supports image densities up to 3x. The human eye cannot distinguish between image densities greater than 2x - which makes them unnecessary for most use cases. Images that will be pinch-zoomed are typically the primary use case for 3x images. Please remove the high density descriptor and try again.`)}(e,n),!s&&!i)throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} \`ngSrcset\` has an invalid value (\`${t}\`). To fix this, supply \`ngSrcset\` using a comma-separated list of one or more width descriptors (e.g. "100w, 200w") or density descriptors (e.g. "1x, 2x").`)}(this,this.ngSrcset),function(e){if(e.src)throw new r["ɵRuntimeError"](2950,`${Ft(e.ngSrc)} both \`src\` and \`ngSrc\` have been set. Supplying both of these attributes breaks lazy loading. The NgOptimizedImage directive sets \`src\` itself based on the value of \`ngSrc\`. To fix this, please remove the \`src\` attribute.`)}(this),this.ngSrcset&&function(e){if(e.srcset)throw new r["ɵRuntimeError"](2951,`${Ft(e.ngSrc)} both \`srcset\` and \`ngSrcset\` have been set. Supplying both of these attributes breaks lazy loading. The NgOptimizedImage directive sets \`srcset\` itself based on the value of \`ngSrcset\`. To fix this, please remove the \`srcset\` attribute.`)}(this),function(e){let t=e.ngSrc.trim();if(t.startsWith("data:"))throw t.length>50&&(t=t.substring(0,50)+"..."),new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc,!1)} \`ngSrc\` is a Base64-encoded string (${t}). NgOptimizedImage does not support Base64-encoded strings. To fix this, disable the NgOptimizedImage directive for this element by removing \`ngSrc\` and using a standard \`src\` attribute instead.`)}(this),function(e){const t=e.ngSrc.trim();if(t.startsWith("blob:"))throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} \`ngSrc\` was set to a blob URL (${t}). Blob URLs are not supported by the NgOptimizedImage directive. To fix this, disable the NgOptimizedImage directive for this element by removing \`ngSrc\` and using a regular \`src\` attribute instead.`)}(this),this.fill?(function(e){if(e.width||e.height)throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} the attributes \`height\` and/or \`width\` are present along with the \`fill\` attribute. Because \`fill\` mode causes an image to fill its containing element, the size attributes have no effect and should be removed.`)}(this),function(e,t,n){const s=n.listen(t,"load",(()=>{s();const n=parseFloat(t.clientHeight);e.fill&&0===n&&console.warn((0,r["ɵformatRuntimeError"])(2952,`${Ft(e.ngSrc)} the height of the fill-mode image is zero. This is likely because the containing element does not have the CSS 'position' property set to one of the following: "relative", "fixed", or "absolute". To fix this problem, make sure the container element has the CSS 'position' property defined and the height of the element is not zero.`))}))}(this,this.imgElement,this.renderer)):(function(e){let t=[];if(void 0===e.width&&t.push("width"),void 0===e.height&&t.push("height"),t.length>0)throw new r["ɵRuntimeError"](2954,`${Ft(e.ngSrc)} these required attributes are missing: ${t.map((e=>`"${e}"`)).join(", ")}. Including "width" and "height" attributes will prevent image-related layout shifts. To fix this, include "width" and "height" attributes on the image tag or turn on "fill" mode with the \`fill\` attribute.`)}(this),function(e,t,n){const s=n.listen(t,"load",(()=>{s();const n=parseFloat(t.clientWidth),i=parseFloat(t.clientHeight),o=n/i,a=0!==n&&0!==i,c=parseFloat(t.naturalWidth),l=parseFloat(t.naturalHeight),u=c/l,h=e.width,p=e.height,d=h/p,g=Math.abs(d-u)>.1,m=a&&Math.abs(u-o)>.1;if(g)console.warn((0,r["ɵformatRuntimeError"])(2952,`${Ft(e.ngSrc)} the aspect ratio of the image does not match the aspect ratio indicated by the width and height attributes. \nIntrinsic image size: ${c}w x ${l}h (aspect-ratio: ${u}). \nSupplied width and height attributes: ${h}w x ${p}h (aspect-ratio: ${d}). \nTo fix this, update the width and height attributes.`));else if(m)console.warn((0,r["ɵformatRuntimeError"])(2952,`${Ft(e.ngSrc)} the aspect ratio of the rendered image does not match the image's intrinsic aspect ratio. \nIntrinsic image size: ${c}w x ${l}h (aspect-ratio: ${u}). \nRendered image size: ${n}w x ${i}h (aspect-ratio: ${o}). \nThis issue can occur if "width" and "height" attributes are added to an image without updating the corresponding image styling. To fix this, adjust image styling. In most cases, adding "height: auto" or "width: auto" to the image styling will fix this issue.`));else if(!e.ngSrcset&&a){const t=2*n,s=2*i;(c-t>=1e3||l-s>=1e3)&&console.warn((0,r["ɵformatRuntimeError"])(2960,`${Ft(e.ngSrc)} the intrinsic image is significantly larger than necessary. \nRendered image size: ${n}w x ${i}h. \nIntrinsic image size: ${c}w x ${l}h. \nRecommended intrinsic image size: ${t}w x ${s}h. \nNote: Recommended intrinsic image size is calculated assuming a maximum DPR of 2. To improve loading time, resize the image or consider using the "ngSrcset" and "sizes" attributes.`))}}))}(this,this.imgElement,this.renderer)),function(e){if(e.loading&&e.priority)throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} the \`loading\` attribute was used on an image that was marked "priority". Setting \`loading\` on priority images is not allowed because these images will always be eagerly loaded. To fix this, remove the “loading” attribute from the priority image.`);if("string"==typeof e.loading&&!["auto","eager","lazy"].includes(e.loading))throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} the \`loading\` attribute has an invalid value (\`${e.loading}\`). To fix this, provide a valid value ("lazy", "eager", or "auto").`)}(this),this.ngSrcset||function(e){let t=e.sizes;if(t?.match(/((\)|,)\s|^)\d+px/))throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc,!1)} \`sizes\` was set to a string including pixel values. For automatic \`srcset\` generation, \`sizes\` must only include responsive values, such as \`sizes="50vw"\` or \`sizes="(min-width: 768px) 50vw, 100vw"\`. To fix this, modify the \`sizes\` attribute, or provide your own \`ngSrcset\` value directly.`)}(this),function(e,t){if(t===_t){let t="";for(const n of qt)if(n.testUrl(e)){t=n.name;break}t&&console.warn((0,r["ɵformatRuntimeError"])(2962,`NgOptimizedImage: It looks like your images may be hosted on the ${t} CDN, but your app is not using Angular's built-in loader for that CDN. We recommend switching to use the built-in by calling \`provide${t}Loader()\` in your \`providers\` and passing it your instance's base URL. If you don't want to use the built-in loader, define a custom loader function using IMAGE_LOADER to silence this warning.`))}}(this.ngSrc,this.imageLoader),this.priority?this.injector.get(jt).assertPreconnect(this.getRewrittenSrc(),this.ngSrc):null!==this.lcpObserver&&this.injector.get(r.NgZone).runOutsideAngular((()=>{this.lcpObserver.registerImage(this.getRewrittenSrc(),this.ngSrc)}))),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority());const e=this.getRewrittenSrc();let t;this.setHostAttribute("src",e),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?t=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(t=this.getAutomaticSrcset()),t&&this.setHostAttribute("srcset",t),this.isServer&&this.priority&&this.preloadLinkChecker.createPreloadLinkTag(this.renderer,e,t,this.sizes)}ngOnChanges(e){ngDevMode&&function(e,t,n){["ngSrc","ngSrcset","width","height","priority","fill","loading","sizes","disableOptimizedSrcset"].forEach((n=>{if(t.hasOwnProperty(n)&&!t[n].isFirstChange())throw"ngSrc"===n&&(e={ngSrc:t[n].previousValue}),function(e,t){let n;return n="width"===t||"height"===t?`Changing \`${t}\` may result in different attribute value applied to the underlying image element and cause layout shifts on a page.`:`Changing the \`${t}\` would have no effect on the underlying image element, because the resource loading has already occurred.`,new r["ɵRuntimeError"](2953,`${Ft(e.ngSrc)} \`${t}\` was updated after initialization. The NgOptimizedImage directive will not react to this input change. ${n} To fix this, either switch \`${t}\` to a static value or wrap the image element in an *ngIf that is gated on the necessary value.`)}(e,n)}))}(this,e)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){const e={src:this.ngSrc};this._renderedSrc=this.imageLoader(e)}return this._renderedSrc}getRewrittenSrcset(){const e=$t.test(this.ngSrcset);return this.ngSrcset.split(",").filter((e=>""!==e)).map((t=>{t=t.trim();const n=e?parseFloat(t):parseFloat(t)*this.width;return`${this.imageLoader({src:this.ngSrc,width:n})} ${t}`})).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:e}=this.config;let t=e;return"100vw"===this.sizes?.trim()&&(t=e.filter((e=>e>=640))),t.map((e=>`${this.imageLoader({src:this.ngSrc,width:e})} ${e}w`)).join(", ")}getFixedSrcset(){return Ht.map((e=>`${this.imageLoader({src:this.ngSrc,width:this.width*e})} ${e}x`)).join(", ")}shouldGenerateAutomaticSrcset(){return!this._disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==_t&&!(this.width>1920||this.height>1080)}ngOnDestroy(){ngDevMode&&(this.priority||null===this._renderedSrc||null===this.lcpObserver||this.lcpObserver.unregisterImage(this._renderedSrc))}setHostAttribute(e,t){this.renderer.setAttribute(this.imgElement,e,t)}}function Gt(e){return"string"==typeof e?parseInt(e,10):e}function Zt(e){return null!=e&&"false"!=`${e}`}function Yt(e,t,n){const s="string"==typeof n,i=s&&""===n.trim();if(!s||i)throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} \`${t}\` has an invalid value (\`${n}\`). To fix this, change the value to a non-empty string.`)}function Qt(e,t,n){const s="number"==typeof t&&t>0,i="string"==typeof t&&/^\d+$/.test(t.trim())&&parseInt(t)>0;if(!s&&!i)throw new r["ɵRuntimeError"](2952,`${Ft(e.ngSrc)} \`${n}\` has an invalid value (\`${t}\`). To fix this, provide \`${n}\` as a number greater than 0.`)}Kt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Kt,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Kt.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Kt,isStandalone:!0,selector:"img[ngSrc]",inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:"width",height:"height",loading:"loading",priority:"priority",disableOptimizedSrcset:"disableOptimizedSrcset",fill:"fill",src:"src",srcset:"srcset"},host:{properties:{"style.position":'fill ? "absolute" : null',"style.width":'fill ? "100%" : null',"style.height":'fill ? "100%" : null',"style.inset":'fill ? "0px" : null'}},usesOnChanges:!0,ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Kt,decorators:[{type:r.Directive,args:[{standalone:!0,selector:"img[ngSrc]",host:{"[style.position]":'fill ? "absolute" : null',"[style.width]":'fill ? "100%" : null',"[style.height]":'fill ? "100%" : null',"[style.inset]":'fill ? "0px" : null'}}]}],propDecorators:{ngSrc:[{type:r.Input}],ngSrcset:[{type:r.Input}],sizes:[{type:r.Input}],width:[{type:r.Input}],height:[{type:r.Input}],loading:[{type:r.Input}],priority:[{type:r.Input}],disableOptimizedSrcset:[{type:r.Input}],fill:[{type:r.Input}],src:[{type:r.Input}],srcset:[{type:r.Input}]}})},5144:(e,t,n)=>{"use strict";n.d(t,{KK:()=>M,SU:()=>le,So:()=>O});var r=n(1132),s=n(8676),i=n(7288),o=n(1944),a=n(7964),c=n(5232),l=n(4864);class u{}class h{}class p{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach((e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}}))}:()=>{("undefined"==typeof ngDevMode||ngDevMode)&&function(e){for(const[t,n]of Object.entries(e))if("string"!=typeof n&&!Array.isArray(n))throw new Error(`Unexpected value of the \`${t}\` header provided. Expecting either a string or an array, but got: \`${n}\`.`)}(e),this.headers=new Map,Object.keys(e).forEach((t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof p?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(e){const t=new p;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof p?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===s.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}}class d{encodeKey(e){return f(e)}encodeValue(e){return f(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const g=/%(\d[a-f0-9])/gi,m={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function f(e){return encodeURIComponent(e).replace(g,((e,t)=>m[t]??e))}function v(e){return`${e}`}class y{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new d,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{const r=e.indexOf("="),[s,i]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(s)||[];o.push(i),n.set(s,o)})),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{const n=e.fromObject[t],r=Array.isArray(n)?n.map(v):[v(n)];this.map.set(t,r)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach((n=>{const r=e[n];Array.isArray(r)?r.forEach((e=>{t.push({param:n,value:e,op:"a"})})):t.push({param:n,value:r,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(e){const t=new y({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(v(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(v(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}}class b{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function w(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function D(e){return"undefined"!=typeof Blob&&e instanceof Blob}function C(e){return"undefined"!=typeof FormData&&e instanceof FormData}class _{constructor(e,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new p),this.context||(this.context=new b),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),r=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+r+e}}else this.params=new y,this.urlWithParams=t}serializeBody(){return null===this.body?null:w(this.body)||D(this.body)||C(this.body)||(e=this.body,"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams)||"string"==typeof this.body?this.body:this.body instanceof y?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();var e}detectContentTypeHeader(){return null===this.body||C(this.body)?null:D(this.body)?this.body.type||null:w(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof y?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,i=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce(((t,n)=>t.set(n,e.setHeaders[n])),a)),e.setParams&&(c=Object.keys(e.setParams).reduce(((t,n)=>t.set(n,e.setParams[n])),c)),new _(t,n,s,{params:c,headers:a,context:l,reportProgress:o,responseType:r,withCredentials:i})}}var S;!function(e){e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User"}(S||(S={}));class x{constructor(e,t=200,n="OK"){this.headers=e.headers||new p,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class I extends x{constructor(e={}){super(e),this.type=S.ResponseHeader}clone(e={}){return new I({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class E extends x{constructor(e={}){super(e),this.type=S.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new E({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T extends x{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function k(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class M{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof _)r=e;else{let s,i;s=n.headers instanceof p?n.headers:new p(n.headers),n.params&&(i=n.params instanceof y?n.params:new y({fromObject:n.params})),r=new _(e,t,void 0!==n.body?n.body:null,{headers:s,context:n.context,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=(0,i.of)(r).pipe((0,a.m)((e=>this.handler.handle(e))));if(e instanceof _||"events"===n.observe)return s;const o=s.pipe((0,c.I)((e=>e instanceof E)));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,l.k)((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return o.pipe((0,l.k)((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return o.pipe((0,l.k)((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));default:return o.pipe((0,l.k)((e=>e.body)))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new y).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,k(n,t))}post(e,t,n={}){return this.request("POST",e,k(n,t))}put(e,t,n={}){return this.request("PUT",e,k(n,t))}}function A(e,t){return t(e)}function F(e,t){return(n,r)=>t.intercept(n,{handle:t=>e(t,r)})}M.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:M,deps:[{token:u}],target:s["ɵɵFactoryTarget"].Injectable}),M.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:M}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:M,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:u}]}});const O=new s.InjectionToken("HTTP_INTERCEPTORS"),R=new s.InjectionToken("HTTP_INTERCEPTOR_FNS");function P(){let e=null;return(t,n)=>{if(null===e){const t=(0,s.inject)(O,{optional:!0})??[];e=t.reduceRight(F,A)}return e(t,n)}}class L extends u{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=Array.from(new Set(this.injector.get(R)));this.chain=e.reduceRight(((e,t)=>function(e,t,n){return(r,s)=>n.runInContext((()=>t(r,(t=>e(t,s)))))}(e,t,this.injector)),A)}return this.chain(e,(e=>this.backend.handle(e)))}}L.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:L,deps:[{token:h},{token:s.EnvironmentInjector}],target:s["ɵɵFactoryTarget"].Injectable}),L.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:L}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:L,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:h},{type:s.EnvironmentInjector}]}});let j,N=0;class U{}function V(){return"object"==typeof window?window:{}}class ${constructor(e,t){this.callbackMap=e,this.document=t,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+N++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");if(e.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new o._((t=>{const n=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),s=this.document.createElement("script");s.src=r;let i=null,o=!1;this.callbackMap[n]=e=>{delete this.callbackMap[n],i=e,o=!0};const a=()=>{s.parentNode&&s.parentNode.removeChild(s),delete this.callbackMap[n]};return s.addEventListener("load",(e=>{this.resolvedPromise.then((()=>{a(),o?(t.next(new E({body:i,status:200,statusText:"OK",url:r})),t.complete()):t.error(new T({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))}))})),s.addEventListener("error",(e=>{a(),t.error(new T({error:e,status:0,statusText:"JSONP Error",url:r}))})),this.document.body.appendChild(s),t.next({type:S.Sent}),()=>{o||this.removeListeners(s),a()}}))}removeListeners(e){j||(j=this.document.implementation.createHTMLDocument()),j.adoptNode(e)}}function B(e,t){return"JSONP"===e.method?(0,s.inject)($).handle(e):t(e)}$.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:$,deps:[{token:U},{token:r.Ud}],target:s["ɵɵFactoryTarget"].Injectable}),$.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:$}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:$,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:U},{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]}]}});class H{constructor(e){this.injector=e}intercept(e,t){return this.injector.runInContext((()=>B(e,(e=>t.handle(e)))))}}H.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:H,deps:[{token:s.EnvironmentInjector}],target:s["ɵɵFactoryTarget"].Injectable}),H.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:H}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:H,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:s.EnvironmentInjector}]}});const q=/^\)\]\}',?\n/;class z{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o._((t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach(((e,t)=>n.setRequestHeader(e,t.join(",")))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let s=null;const i=()=>{if(null!==s)return s;const t=n.statusText||"OK",r=new p(n.getAllResponseHeaders()),i=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return s=new I({headers:r,status:n.status,statusText:t,url:i}),s},o=()=>{let{headers:r,status:s,statusText:o,url:a}=i(),c=null;204!==s&&(c=void 0===n.response?n.responseText:n.response),0===s&&(s=c?200:0);let l=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(q,"");try{c=""!==c?JSON.parse(c):null}catch(t){c=e,l&&(l=!1,c={error:t,text:c})}}l?(t.next(new E({body:c,headers:r,status:s,statusText:o,url:a||void 0})),t.complete()):t.error(new T({error:c,headers:r,status:s,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=i(),s=new T({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(s)};let c=!1;const l=r=>{c||(t.next(i()),c=!0);let s={type:S.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(s.total=r.total),"text"===e.responseType&&n.responseText&&(s.partialText=n.responseText),t.next(s)},u=e=>{let n={type:S.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:S.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}}))}}z.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:z,deps:[{token:r.OM}],target:s["ɵɵFactoryTarget"].Injectable}),z.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:z}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:z,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:r.OM}]}});const W=new s.InjectionToken("XSRF_ENABLED"),K="XSRF-TOKEN",G=new s.InjectionToken("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>K}),Z="X-XSRF-TOKEN",Y=new s.InjectionToken("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Z});class Q{}class J{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,r.Sg)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}function X(e,t){const n=e.url.toLowerCase();if(!(0,s.inject)(W)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=(0,s.inject)(Q).getToken(),i=(0,s.inject)(Y);return null==r||e.headers.has(i)||(e=e.clone({headers:e.headers.set(i,r)})),t(e)}J.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:J,deps:[{token:r.Ud},{token:s.PLATFORM_ID},{token:G}],target:s["ɵɵFactoryTarget"].Injectable}),J.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:J}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:J,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]},{type:void 0,decorators:[{type:s.Inject,args:[s.PLATFORM_ID]}]},{type:void 0,decorators:[{type:s.Inject,args:[G]}]}]}});class ee{constructor(e){this.injector=e}intercept(e,t){return this.injector.runInContext((()=>X(e,(e=>t.handle(e)))))}}var te;function ne(e,t){return{ɵkind:e,ɵproviders:t}}function re(...e){if(ngDevMode){const t=new Set(e.map((e=>e.ɵkind)));if(t.has(te.NoXsrfProtection)&&t.has(te.CustomXsrfConfiguration))throw new Error(ngDevMode?"Configuration error: found both withXsrfConfiguration() and withNoXsrfProtection() in the same call to provideHttpClient(), which is a contradiction.":"")}const t=[M,z,L,{provide:u,useExisting:L},{provide:h,useExisting:z},{provide:R,useValue:X,multi:!0},{provide:W,useValue:!0},{provide:Q,useClass:J}];for(const n of e)t.push(...n.ɵproviders);return(0,s.makeEnvironmentProviders)(t)}ee.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ee,deps:[{token:s.EnvironmentInjector}],target:s["ɵɵFactoryTarget"].Injectable}),ee.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ee}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ee,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:s.EnvironmentInjector}]}}),function(e){e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent"}(te||(te={}));const se=new s.InjectionToken("LEGACY_INTERCEPTOR_FN");function ie(){return ne(te.LegacyInterceptors,[{provide:se,useFactory:P},{provide:R,useExisting:se,multi:!0}])}function oe({cookieName:e,headerName:t}){const n=[];return void 0!==e&&n.push({provide:G,useValue:e}),void 0!==t&&n.push({provide:Y,useValue:t}),ne(te.CustomXsrfConfiguration,n)}function ae(){return ne(te.JsonpSupport,[$,{provide:U,useFactory:V},{provide:R,useValue:B,multi:!0}])}class ce{static disable(){return{ngModule:ce,providers:[ne(te.NoXsrfProtection,[{provide:W,useValue:!1}]).ɵproviders]}}static withOptions(e={}){return{ngModule:ce,providers:oe(e).ɵproviders}}}ce.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ce,deps:[],target:s["ɵɵFactoryTarget"].NgModule}),ce.ɵmod=s["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:s,type:ce}),ce.ɵinj=s["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ce,providers:[ee,{provide:O,useExisting:ee,multi:!0},{provide:Q,useClass:J},oe({cookieName:K,headerName:Z}).ɵproviders,{provide:W,useValue:!0}]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ce,decorators:[{type:s.NgModule,args:[{providers:[ee,{provide:O,useExisting:ee,multi:!0},{provide:Q,useClass:J},oe({cookieName:K,headerName:Z}).ɵproviders,{provide:W,useValue:!0}]}]}]});class le{}le.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:le,deps:[],target:s["ɵɵFactoryTarget"].NgModule}),le.ɵmod=s["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:s,type:le}),le.ɵinj=s["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:le,providers:[re(ie(),oe({cookieName:K,headerName:Z}))]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:le,decorators:[{type:s.NgModule,args:[{providers:[re(ie(),oe({cookieName:K,headerName:Z}))]}]}]});class ue{}ue.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ue,deps:[],target:s["ɵɵFactoryTarget"].NgModule}),ue.ɵmod=s["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:s,type:ue}),ue.ɵinj=s["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ue,providers:[ae().ɵproviders]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ue,decorators:[{type:s.NgModule,args:[{providers:[ae().ɵproviders]}]}]})},8676:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>es,ANIMATION_MODULE_TYPE:()=>vv,APP_BOOTSTRAP_LISTENER:()=>mv,APP_ID:()=>lv,APP_INITIALIZER:()=>av,ApplicationInitStatus:()=>cv,ApplicationModule:()=>ob,ApplicationRef:()=>fy,Attribute:()=>Jr,COMPILER_OPTIONS:()=>Iv,CUSTOM_ELEMENTS_SCHEMA:()=>Ks,ChangeDetectionStrategy:()=>De,ChangeDetectorRef:()=>Sy,Compiler:()=>xv,CompilerFactory:()=>Ev,Component:()=>Xf,ComponentFactory:()=>Za,ComponentFactoryResolver:()=>Qa,ComponentRef:()=>Ga,ContentChild:()=>rs,ContentChildren:()=>ns,DEFAULT_CURRENCY_CODE:()=>wv,DebugElement:()=>Ay,DebugEventListener:()=>Ty,DebugNode:()=>My,DefaultIterableDiffer:()=>Hy,Directive:()=>Jf,ENVIRONMENT_INITIALIZER:()=>Da,ElementRef:()=>Xa,EmbeddedViewRef:()=>Ey,EnvironmentInjector:()=>Ba,ErrorHandler:()=>lc,EventEmitter:()=>Rm,Host:()=>As,HostBinding:()=>rv,HostListener:()=>sv,INJECTOR:()=>Ca,Inject:()=>Es,InjectFlags:()=>ee,Injectable:()=>Nc,InjectionToken:()=>Xr,Injector:()=>$c,Input:()=>tv,IterableDiffers:()=>Jy,KeyValueDiffers:()=>eb,LOCALE_ID:()=>bv,MissingTranslationStrategy:()=>_v,ModuleWithComponentFactories:()=>Sv,NO_ERRORS_SCHEMA:()=>Gs,NgModule:()=>iv,NgModuleFactory:()=>Bg,NgModuleRef:()=>$g,NgProbeToken:()=>ny,NgZone:()=>Lv,Optional:()=>Ts,Output:()=>nv,PACKAGE_ROOT_URL:()=>fv,PLATFORM_ID:()=>gv,PLATFORM_INITIALIZER:()=>dv,Pipe:()=>ev,PlatformRef:()=>hy,Query:()=>ts,QueryList:()=>Lm,ReflectiveInjector:()=>ol,ReflectiveKey:()=>Wc,Renderer2:()=>nc,RendererFactory2:()=>tc,RendererStyleFlags2:()=>ci,ResolvedReflectiveFactory:()=>Qc,Sanitizer:()=>rc,SecurityContext:()=>ha,Self:()=>ks,SimpleChange:()=>Ht,SkipSelf:()=>Ms,TRANSLATIONS:()=>Dv,TRANSLATIONS_FORMAT:()=>Cv,TemplateRef:()=>jm,Testability:()=>zv,TestabilityRegistry:()=>Wv,Type:()=>us,VERSION:()=>ic,Version:()=>sc,ViewChild:()=>is,ViewChildren:()=>ss,ViewContainerRef:()=>$m,ViewEncapsulation:()=>_e,ViewRef:()=>Iy,asNativeElements:()=>ky,assertPlatform:()=>ay,createComponent:()=>yb,createEnvironmentInjector:()=>Gg,createNgModule:()=>Hg,createNgModuleRef:()=>qg,createPlatform:()=>ry,createPlatformFactory:()=>oy,defineInjectable:()=>q,destroyPlatform:()=>ly,enableProdMode:()=>wy,forwardRef:()=>d,getDebugNode:()=>Uy,getModuleFactory:()=>Dy,getNgModuleById:()=>Cy,getPlatform:()=>uy,importProvidersFrom:()=>Ia,inject:()=>fe,isDevMode:()=>by,makeEnvironmentProviders:()=>xa,platformCore:()=>ib,reflectComponentType:()=>bb,resolveForwardRef:()=>g,setTestabilityGetter:()=>Kv,ɵALLOW_MULTIPLE_PLATFORMS:()=>Yv,ɵAPP_ID_RANDOM_PROVIDER:()=>hv,ɵChangeDetectorStatus:()=>Ce,ɵComponentFactory:()=>Za,ɵConsole:()=>yv,ɵDEFAULT_LOCALE_ID:()=>fd,ɵINJECTOR_SCOPE:()=>ja,ɵLContext:()=>fi,ɵLifecycleHooksFeature:()=>hu,ɵLocaleDataIndex:()=>gd,ɵNG_COMP_DEF:()=>Ee,ɵNG_DIR_DEF:()=>Te,ɵNG_ELEMENT_ID:()=>Fe,ɵNG_INJ_DEF:()=>Q,ɵNG_MOD_DEF:()=>Me,ɵNG_PIPE_DEF:()=>ke,ɵNG_PROV_DEF:()=>Y,ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>oc,ɵNO_CHANGE:()=>Ac,ɵNgModuleFactory:()=>Wg,ɵNoopNgZone:()=>Bv,ɵReflectionCapabilities:()=>Ss,ɵRender3ComponentFactory:()=>lu,ɵRender3ComponentRef:()=>uu,ɵRender3NgModuleRef:()=>zg,ɵRuntimeError:()=>b,ɵTESTABILITY:()=>Hv,ɵTESTABILITY_GETTER:()=>qv,ɵViewRef:()=>su,ɵXSS_SECURITY_URL:()=>y,ɵ_sanitizeHtml:()=>la,ɵ_sanitizeUrl:()=>Ho,ɵallowSanitizationBypassAndThrow:()=>Fo,ɵbypassSanitizationTrustHtml:()=>Ro,ɵbypassSanitizationTrustResourceUrl:()=>No,ɵbypassSanitizationTrustScript:()=>Lo,ɵbypassSanitizationTrustStyle:()=>Po,ɵbypassSanitizationTrustUrl:()=>jo,ɵclearResolutionOfComponentResourcesQueue:()=>Vs,ɵcoerceToBoolean:()=>ab,ɵcompileComponent:()=>Rf,ɵcompileDirective:()=>Lf,ɵcompileNgModule:()=>wf,ɵcompileNgModuleDefs:()=>Df,ɵcompileNgModuleFactory:()=>Xv,ɵcompilePipe:()=>Yf,ɵconvertToBitFlags:()=>ve,ɵcreateInjector:()=>Uc,ɵdefaultIterableDiffers:()=>rb,ɵdefaultKeyValueDiffers:()=>sb,ɵdetectChanges:()=>rh,ɵdevModeEqual:()=>Au,ɵfindLocaleData:()=>ld,ɵflushModuleScopingQueueAsMuchAsPossible:()=>yf,ɵformatRuntimeError:()=>w,ɵgetDebugNode:()=>Uy,ɵgetDebugNodeR2:()=>Vy,ɵgetDirectives:()=>nm,ɵgetHostElement:()=>sm,ɵgetInjectableDef:()=>W,ɵgetLContext:()=>vi,ɵgetLocaleCurrencyCode:()=>ud,ɵgetLocalePluralCase:()=>hd,ɵgetSanitizationBypassType:()=>Oo,ɵgetUnknownElementStrictMode:()=>Qs,ɵgetUnknownPropertyStrictMode:()=>ei,ɵglobal:()=>se,ɵinjectChangeDetectorRef:()=>xy,ɵinternalCreateApplication:()=>iy,ɵisBoundToModule:()=>ty,ɵisDefaultChangeDetectionStrategy:()=>Se,ɵisEnvironmentProviders:()=>f,ɵisInjectable:()=>K,ɵisListLikeIterable:()=>ku,ɵisObservable:()=>yh,ɵisPromise:()=>fh,ɵisStandalone:()=>We,ɵisSubscribable:()=>vh,ɵivyEnabled:()=>cb,ɵmakeDecorator:()=>Gr,ɵnoSideEffects:()=>we,ɵpatchComponentDefWithScope:()=>Mf,ɵpublishDefaultGlobalUtils:()=>Av,ɵpublishGlobalUtil:()=>Fv,ɵregisterLocaleData:()=>cd,ɵresetCompiledComponents:()=>Ef,ɵresetJitOptions:()=>df,ɵresolveComponentResources:()=>Ls,ɵsetAllowDuplicateNgModuleIdsForTest:()=>Ws,ɵsetClassMetadata:()=>cm,ɵsetCurrentInjector:()=>pe,ɵsetDocument:()=>bo,ɵsetLocaleId:()=>Dd,ɵsetUnknownElementStrictMode:()=>Ys,ɵsetUnknownPropertyStrictMode:()=>Xs,ɵstore:()=>ih,ɵstringify:()=>u,ɵtransitiveScopesFor:()=>Af,ɵunregisterLocaleData:()=>dd,ɵunwrapSafeValue:()=>Ao,ɵɵCopyDefinitionFeature:()=>wu,ɵɵFactoryTarget:()=>os,ɵɵHostDirectivesFeature:()=>Du,ɵɵInheritDefinitionFeature:()=>du,ɵɵNgOnChangesFeature:()=>qt,ɵɵProvidersFeature:()=>Vg,ɵɵStandaloneFeature:()=>Yg,ɵɵadvance:()=>Fc,ɵɵattribute:()=>Nu,ɵɵattributeInterpolate1:()=>Gu,ɵɵattributeInterpolate2:()=>Zu,ɵɵattributeInterpolate3:()=>Yu,ɵɵattributeInterpolate4:()=>Qu,ɵɵattributeInterpolate5:()=>Ju,ɵɵattributeInterpolate6:()=>Xu,ɵɵattributeInterpolate7:()=>eh,ɵɵattributeInterpolate8:()=>th,ɵɵattributeInterpolateV:()=>nh,ɵɵclassMap:()=>op,ɵɵclassMapInterpolate1:()=>Mp,ɵɵclassMapInterpolate2:()=>Ap,ɵɵclassMapInterpolate3:()=>Fp,ɵɵclassMapInterpolate4:()=>Op,ɵɵclassMapInterpolate5:()=>Rp,ɵɵclassMapInterpolate6:()=>Pp,ɵɵclassMapInterpolate7:()=>Lp,ɵɵclassMapInterpolate8:()=>jp,ɵɵclassMapInterpolateV:()=>Np,ɵɵclassProp:()=>rp,ɵɵcontentQuery:()=>sf,ɵɵdefineComponent:()=>Re,ɵɵdefineDirective:()=>$e,ɵɵdefineInjectable:()=>H,ɵɵdefineInjector:()=>z,ɵɵdefineNgModule:()=>Ne,ɵɵdefinePipe:()=>Be,ɵɵdirectiveInject:()=>cl,ɵɵdisableBindings:()=>vn,ɵɵelement:()=>hh,ɵɵelementContainer:()=>gh,ɵɵelementContainerEnd:()=>dh,ɵɵelementContainerStart:()=>ph,ɵɵelementEnd:()=>uh,ɵɵelementStart:()=>lh,ɵɵenableBindings:()=>fn,ɵɵgetCurrentView:()=>mh,ɵɵgetInheritedFactory:()=>$r,ɵɵhostProperty:()=>rd,ɵɵi18n:()=>Tg,ɵɵi18nApply:()=>Ag,ɵɵi18nAttributes:()=>kg,ɵɵi18nEnd:()=>Eg,ɵɵi18nExp:()=>Mg,ɵɵi18nPostprocess:()=>Fg,ɵɵi18nStart:()=>Ig,ɵɵinject:()=>ge,ɵɵinjectAttribute:()=>qr,ɵɵinvalidFactory:()=>ll,ɵɵinvalidFactoryDep:()=>me,ɵɵlistener:()=>bh,ɵɵloadQuery:()=>of,ɵɵnamespaceHTML:()=>er,ɵɵnamespaceMathML:()=>Xn,ɵɵnamespaceSVG:()=>Jn,ɵɵnextContext:()=>Sh,ɵɵngDeclareClassMetadata:()=>ub,ɵɵngDeclareComponent:()=>hb,ɵɵngDeclareDirective:()=>lb,ɵɵngDeclareFactory:()=>pb,ɵɵngDeclareInjectable:()=>gb,ɵɵngDeclareInjector:()=>mb,ɵɵngDeclareNgModule:()=>fb,ɵɵngDeclarePipe:()=>vb,ɵɵpipe:()=>xm,ɵɵpipeBind1:()=>Im,ɵɵpipeBind2:()=>Em,ɵɵpipeBind3:()=>Tm,ɵɵpipeBind4:()=>km,ɵɵpipeBindV:()=>Mm,ɵɵprojection:()=>Eh,ɵɵprojectionDef:()=>Ih,ɵɵproperty:()=>ah,ɵɵpropertyInterpolate:()=>Th,ɵɵpropertyInterpolate1:()=>kh,ɵɵpropertyInterpolate2:()=>Mh,ɵɵpropertyInterpolate3:()=>Ah,ɵɵpropertyInterpolate4:()=>Fh,ɵɵpropertyInterpolate5:()=>Oh,ɵɵpropertyInterpolate6:()=>Rh,ɵɵpropertyInterpolate7:()=>Ph,ɵɵpropertyInterpolate8:()=>Lh,ɵɵpropertyInterpolateV:()=>jh,ɵɵpureFunction0:()=>lm,ɵɵpureFunction1:()=>um,ɵɵpureFunction2:()=>hm,ɵɵpureFunction3:()=>pm,ɵɵpureFunction4:()=>dm,ɵɵpureFunction5:()=>gm,ɵɵpureFunction6:()=>mm,ɵɵpureFunction7:()=>fm,ɵɵpureFunction8:()=>vm,ɵɵpureFunctionV:()=>ym,ɵɵqueryRefresh:()=>nf,ɵɵreference:()=>oh,ɵɵregisterNgModuleType:()=>qs,ɵɵresetView:()=>Dn,ɵɵresolveBody:()=>dc,ɵɵresolveDocument:()=>pc,ɵɵresolveWindow:()=>hc,ɵɵrestoreView:()=>wn,ɵɵsanitizeHtml:()=>pa,ɵɵsanitizeResourceUrl:()=>ma,ɵɵsanitizeScript:()=>fa,ɵɵsanitizeStyle:()=>da,ɵɵsanitizeUrl:()=>ga,ɵɵsanitizeUrlOrResourceUrl:()=>ba,ɵɵsetComponentScope:()=>Pe,ɵɵsetNgModuleScope:()=>Ue,ɵɵstyleMap:()=>sp,ɵɵstyleMapInterpolate1:()=>Up,ɵɵstyleMapInterpolate2:()=>Vp,ɵɵstyleMapInterpolate3:()=>$p,ɵɵstyleMapInterpolate4:()=>Bp,ɵɵstyleMapInterpolate5:()=>Hp,ɵɵstyleMapInterpolate6:()=>qp,ɵɵstyleMapInterpolate7:()=>zp,ɵɵstyleMapInterpolate8:()=>Wp,ɵɵstyleMapInterpolateV:()=>Kp,ɵɵstyleProp:()=>np,ɵɵstylePropInterpolate1:()=>Gp,ɵɵstylePropInterpolate2:()=>Zp,ɵɵstylePropInterpolate3:()=>Yp,ɵɵstylePropInterpolate4:()=>Qp,ɵɵstylePropInterpolate5:()=>Jp,ɵɵstylePropInterpolate6:()=>Xp,ɵɵstylePropInterpolate7:()=>ed,ɵɵstylePropInterpolate8:()=>td,ɵɵstylePropInterpolateV:()=>nd,ɵɵsyntheticHostListener:()=>wh,ɵɵsyntheticHostProperty:()=>sd,ɵɵtemplate:()=>sh,ɵɵtemplateRefExtractor:()=>uf,ɵɵtext:()=>bp,ɵɵtextInterpolate:()=>wp,ɵɵtextInterpolate1:()=>Dp,ɵɵtextInterpolate2:()=>Cp,ɵɵtextInterpolate3:()=>_p,ɵɵtextInterpolate4:()=>Sp,ɵɵtextInterpolate5:()=>xp,ɵɵtextInterpolate6:()=>Ip,ɵɵtextInterpolate7:()=>Ep,ɵɵtextInterpolate8:()=>Tp,ɵɵtextInterpolateV:()=>kp,ɵɵtrustConstantHtml:()=>va,ɵɵtrustConstantResourceUrl:()=>ya,ɵɵvalidateIframeAttribute:()=>yo,ɵɵviewQuery:()=>rf});var r=n(3588),s=n(8888),i=n(1944),o=n(2700),a=n(3192);function c(e){for(let t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function l(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=c({__forward_ref__:c});function d(e){return e.__forward_ref__=d,e.toString=function(){return u(this())},e}function g(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===d}function f(e){return e&&!!e.ɵproviders}const v="https://angular.io/errors",y="https://g.co/ng/security#xss";class b extends Error{constructor(e,t){super(w(e,t)),this.code=e}}function w(e,t){const n=`NG0${Math.abs(e)}`;let r=`${n}${t?": "+t.trim():""}`;if(ngDevMode&&e<0){const e=!r.match(/[.,;!?]$/);r=`${r}${e?".":""} Find more at ${v}/${n}`}return r}function D(e){return"string"==typeof e?e:null==e?"":String(e)}function C(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():D(e)}function _(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new b(-200,`Circular dependency in DI detected for ${e}${n}`)}function S(){throw new Error("Cannot mix multi providers and regular providers")}function x(e,t,n){if(e&&t){const r=t.map((e=>e==n?"?"+n+"?":"..."));throw new Error(`Invalid provider for the NgModule '${u(e)}' - only instances of Provider and Type are allowed, got: [${r.join(", ")}]`)}throw f(n)?n.ɵfromNgModule?new b(207,"Invalid providers from 'importProvidersFrom' present in a non-environment injector. 'importProvidersFrom' can't be used for component providers."):new b(207,"Invalid providers present in a non-environment injector. 'EnvironmentProviders' can't be used for component providers."):new Error("Invalid provider")}function I(e,t){const n=t?` in ${t}`:"";throw new b(-201,ngDevMode&&`No provider for ${C(e)} found${n}`)}function E(e,t){"number"!=typeof e&&U(t,typeof e,"number","===")}function T(e,t,n){E(e,"Expected a number"),P(e,n,"Expected number to be less than or equal to"),j(e,t,"Expected number to be greater than or equal to")}function k(e,t){"string"!=typeof e&&U(t,null===e?"null":typeof e,"string","===")}function M(e,t,n){e!=t&&U(n,e,t,"==")}function A(e,t,n){e==t&&U(n,e,t,"!=")}function F(e,t,n){e!==t&&U(n,e,t,"===")}function O(e,t,n){e===t&&U(n,e,t,"!==")}function R(e,t,n){e<t||U(n,e,t,"<")}function P(e,t,n){e<=t||U(n,e,t,"<=")}function L(e,t,n){e>t||U(n,e,t,">")}function j(e,t,n){e>=t||U(n,e,t,">=")}function N(e,t){null==e&&U(t,e,null,"!=")}function U(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function V(e){"undefined"!=typeof Node&&e instanceof Node||"object"==typeof e&&null!=e&&"WebWorkerRenderNode"===e.constructor.name||U(`The provided value must be an instance of a DOM Node but got ${u(e)}`)}function $(e,t){N(e,"Array must be defined.");const n=e.length;(t<0||t>=n)&&U(`Index expected to be less than ${n} but got ${t}`)}function B(e,...t){if(-1!==t.indexOf(e))return!0;U(`Expected value to be one of ${JSON.stringify(t)} but was ${JSON.stringify(e)}.`)}function H(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const q=H;function z(e){return{providers:e.providers||[],imports:e.imports||[]}}function W(e){return G(e,Y)||G(e,J)}function K(e){return null!==W(e)}function G(e,t){return e.hasOwnProperty(t)?e[t]:null}function Z(e){return e&&(e.hasOwnProperty(Q)||e.hasOwnProperty(X))?e[Q]:null}const Y=c({ɵprov:c}),Q=c({ɵinj:c}),J=c({ngInjectableDef:c}),X=c({ngInjectorDef:c});var ee;let te;function ne(e){const t=te;return te=e,t}function re(e,t,n){const r=W(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ee.Optional?null:void 0!==t?t:void I(u(e),"Injector")}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(ee||(ee={}));const se=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)();function ie(){return!("undefined"!=typeof ngDevMode&&!ngDevMode||("object"!=typeof ngDevMode&&function(){const e="undefined"!=typeof location?location.toString():"",t={namedConstructors:-1!=e.indexOf("ngDevMode=namedConstructors"),firstCreatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0},n=-1===e.indexOf("ngDevMode=false");se.ngDevMode=n&&t}(),"undefined"==typeof ngDevMode||!ngDevMode))}const oe={},ae="__NG_DI_FLAG__",ce="ngTempTokenPath",le=/\n/gm,ue="__source";let he;function pe(e){const t=he;return he=e,t}function de(e,t=ee.Default){if(void 0===he)throw new b(-203,ngDevMode&&"inject() must be called from an injection context such as a constructor, a factory function, a field initializer, or a function used with `EnvironmentInjector#runInContext`.");return null===he?re(e,void 0,t):he.get(e,t&ee.Optional?null:void 0,t)}function ge(e,t=ee.Default){return(te||de)(g(e),t)}function me(e){throw new b(202,ngDevMode&&`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${e} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${e} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`)}function fe(e,t=ee.Default){return ge(e,ve(t))}function ve(e){return void 0===e||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ye(e){const t=[];for(let n=0;n<e.length;n++){const r=g(e[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,ngDevMode&&"Arguments array must have arguments.");let e,n=ee.Default;for(let t=0;t<r.length;t++){const s=r[t],i=s[ae];"number"==typeof i?-1===i?e=s.token:n|=i:e=s}t.push(ge(e,n))}else t.push(ge(r))}return t}function be(e,t){return e[ae]=t,e.prototype[ae]=t,e}function we(e){return{toString:e}.toString()}var De,Ce,_e;function Se(e){return null==e||e===De.Default}!function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(De||(De={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(Ce||(Ce={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(_e||(_e={}));const xe={},Ie=[];("undefined"==typeof ngDevMode||ngDevMode)&&ie()&&(Object.freeze(xe),Object.freeze(Ie));const Ee=c({ɵcmp:c}),Te=c({ɵdir:c}),ke=c({ɵpipe:c}),Me=c({ɵmod:c}),Ae=c({ɵfac:c}),Fe=c({__NG_ELEMENT_ID__:c});let Oe=0;function Re(e){return we((()=>{("undefined"==typeof ngDevMode||ngDevMode)&&ie();const t=e.type,n=!0===e.standalone,r={},s={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===De.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Ie,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||_e.Emulated,id:"c"+Oe++,styles:e.styles||Ie,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=e.dependencies,o=e.features;return s.inputs=Ve(e.inputs,r),s.outputs=Ve(e.outputs),o&&o.forEach((e=>e(s))),s.directiveDefs=i?()=>("function"==typeof i?i():i).map(Le).filter(je):null,s.pipeDefs=i?()=>("function"==typeof i?i():i).map(ze).filter(je):null,s}))}function Pe(e,t,n){const r=e.ɵcmp;r.directiveDefs=()=>("function"==typeof t?t():t).map(Le),r.pipeDefs=()=>("function"==typeof n?n():n).map(ze)}function Le(e){return He(e)||qe(e)}function je(e){return null!==e}function Ne(e){return we((()=>({type:e.type,bootstrap:e.bootstrap||Ie,declarations:e.declarations||Ie,imports:e.imports||Ie,exports:e.exports||Ie,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null})))}function Ue(e,t){return we((()=>{const n=Ke(e,!0);n.declarations=t.declarations||Ie,n.imports=t.imports||Ie,n.exports=t.exports||Ie}))}function Ve(e,t){if(null==e)return xe;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,t&&(t[s]=i)}return n}const $e=Re;function Be(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function He(e){return e[Ee]||null}function qe(e){return e[Te]||null}function ze(e){return e[ke]||null}function We(e){const t=He(e)||qe(e)||ze(e);return null!==t&&t.standalone}function Ke(e,t){const n=e[Me]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have 'ɵmod' property.`);return n}const Ge=0,Ze=1,Ye=2,Qe=3,Je=4,Xe=5,et=6,tt=7,nt=8,rt=9,st=10,it=11,ot=12,at=13,ct=14,lt=15,ut=16,ht=17,pt=18,dt=19,gt=20,mt=21,ft=22,vt=1,yt=2,bt=7,wt=9,Dt=10;function Ct(e){return Array.isArray(e)&&"object"==typeof e[vt]}function _t(e){return Array.isArray(e)&&!0===e[vt]}function St(e){return 0!=(4&e.flags)}function xt(e){return e.componentOffset>-1}function It(e){return 1==(1&e.flags)}function Et(e){return null!==e.template}function Tt(e,t){kt(e,t[Ze])}function kt(e,t){Mt(e),e.hasOwnProperty("tView_")&&M(e.tView_,t,"This TNode does not belong to this TView.")}function Mt(e){N(e,"TNode must be defined"),e&&"object"==typeof e&&e.hasOwnProperty("directiveStylingLast")||U("Not of type TNode, got: "+e)}function At(e){N(e,"Expected TIcu to be defined"),"number"!=typeof e.currentCaseLViewIndex&&U("Object is not of TIcu type.")}function Ft(e){N(e,"currentTNode should exist!"),N(e.parent,"currentTNode should have a parent")}function Ot(e){N(e,"LContainer must be defined"),M(_t(e),!0,"Expecting LContainer")}function Rt(e){e&&M(Ct(e),!0,"Expecting LView or undefined or null")}function Pt(e){N(e,"LView must be defined"),M(Ct(e),!0,"Expecting LView")}function Lt(e,t){M(e.firstCreatePass,!0,t||"Should only be called in first create pass.")}function jt(e,t){M(e.firstUpdatePass,!0,t||"Should only be called in first update pass.")}function Nt(e,t){Ut(e[1].expandoStartIndex,e.length,t)}function Ut(e,t,n){e<=n&&n<t||U(`Index out of range (expecting ${e} <= ${n} < ${t})`)}function Vt(e,t){N(e,t||"Component views should always have a parent view (component's host view)")}function $t(e,t){Nt(e,t),Nt(e,t+8),E(e[t+0],"injectorIndex should point to a bloom filter"),E(e[t+1],"injectorIndex should point to a bloom filter"),E(e[t+2],"injectorIndex should point to a bloom filter"),E(e[t+3],"injectorIndex should point to a bloom filter"),E(e[t+4],"injectorIndex should point to a bloom filter"),E(e[t+5],"injectorIndex should point to a bloom filter"),E(e[t+6],"injectorIndex should point to a bloom filter"),E(e[t+7],"injectorIndex should point to a bloom filter"),E(e[t+8],"injectorIndex should point to parent injector")}function Bt(e,t){const n=e.hasOwnProperty(Ae);if(!n&&!0===t&&ngDevMode)throw new Error(`Type ${u(e)} does not have 'ɵfac' property.`);return n?e[Ae]:null}class Ht{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function qt(){return zt}function zt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Kt),Wt}function Wt(){const e=Zt(this),t=e?.current;if(t){const n=e.previous;if(n===xe)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Kt(e,t,n,r){const s=this.declaredInputs[n];ngDevMode&&k(s,"Name of input in ngOnChanges has to be a string");const i=Zt(e)||function(e,t){return e[Gt]=t}(e,{previous:xe,current:null}),o=i.current||(i.current={}),a=i.previous,c=a[s];o[s]=new Ht(c&&c.currentValue,t,a===xe),e[r]=t}qt.ngInherit=!0;const Gt="__ngSimpleChanges__";function Zt(e){return e[Gt]||null}let Yt=null;const Qt=e=>{Yt=e},Jt=function(e,t,n){null!=Yt&&Yt(e,t,n)},Xt="svg",en="math";function tn(e){for(;Array.isArray(e);)e=e[Ge];return e}function nn(e,t){return ngDevMode&&$(t,e),ngDevMode&&j(e,ft,"Expected to be past HEADER_OFFSET"),tn(t[e])}function rn(e,t){return ngDevMode&&Tt(e,t),ngDevMode&&$(t,e.index),tn(t[e.index])}function sn(e,t){ngDevMode&&L(t,-1,"wrong index for TNode"),ngDevMode&&R(t,e.data.length,"wrong index for TNode");const n=e.data[t];return ngDevMode&&null!==n&&Mt(n),n}function on(e,t){return ngDevMode&&$(e,t),e[t]}function an(e,t){ngDevMode&&$(t,e);const n=t[e];return Ct(n)?n:n[Ge]}function cn(e){return 4==(4&e[Ye])}function ln(e){return 64==(64&e[Ye])}function un(e,t){return null==t?null:(ngDevMode&&$(e,t),e[t])}function hn(e){e[pt]=0}function pn(e,t){e[Xe]+=t;let n=e,r=e[Qe];for(;null!==r&&(1===t&&1===n[Xe]||-1===t&&0===n[Xe]);)r[Xe]+=t,n=r,r=r[Qe]}const dn={lFrame:zn(null),bindingsEnabled:!0};let gn=!1;function mn(){return dn.bindingsEnabled}function fn(){dn.bindingsEnabled=!0}function vn(){dn.bindingsEnabled=!1}function yn(){return dn.lFrame.lView}function bn(){return dn.lFrame.tView}function wn(e){return dn.lFrame.contextLView=e,e[nt]}function Dn(e){return dn.lFrame.contextLView=null,e}function Cn(){let e=_n();for(;null!==e&&64===e.type;)e=e.parent;return e}function _n(){return dn.lFrame.currentTNode}function Sn(){const e=dn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function xn(e,t){ngDevMode&&e&&kt(e,dn.lFrame.tView);const n=dn.lFrame;n.currentTNode=e,n.isParent=t}function In(){return dn.lFrame.isParent}function En(){dn.lFrame.isParent=!1}function Tn(){return!ngDevMode&&U("Must never be called in production mode"),gn}function kn(e){!ngDevMode&&U("Must never be called in production mode"),gn=e}function Mn(){const e=dn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function An(){return dn.lFrame.bindingIndex}function Fn(e){return dn.lFrame.bindingIndex=e}function On(){return dn.lFrame.bindingIndex++}function Rn(e){const t=dn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Pn(e){dn.lFrame.inI18n=e}function Ln(e,t){const n=dn.lFrame;n.bindingIndex=n.bindingRootIndex=e,jn(t)}function jn(e){dn.lFrame.currentDirectiveIndex=e}function Nn(e){const t=dn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Un(){return dn.lFrame.currentQueryIndex}function Vn(e){dn.lFrame.currentQueryIndex=e}function $n(e){const t=e[Ze];return 2===t.type?(ngDevMode&&N(t.declTNode,"Embedded TNodes should have declaration parents."),t.declTNode):1===t.type?e[et]:null}function Bn(e,t,n){if(ngDevMode&&Rt(e),n&ee.SkipSelf){ngDevMode&&kt(t,e[Ze]);let r=t,s=e;for(;ngDevMode&&N(r,"Parent TNode should be defined"),r=r.parent,!(null!==r||n&ee.Host||(r=$n(s),null===r)||(ngDevMode&&N(s,"Parent LView should be defined"),s=s[lt],10&r.type)););if(null===r)return!1;t=r,e=s}ngDevMode&&Tt(t,e);const r=dn.lFrame=qn();return r.currentTNode=t,r.lView=e,!0}function Hn(e){ngDevMode&&A(e[0],e[1],"????"),ngDevMode&&Rt(e);const t=qn();ngDevMode&&(M(t.isParent,!0,"Expected clean LFrame"),M(t.lView,null,"Expected clean LFrame"),M(t.tView,null,"Expected clean LFrame"),M(t.selectedIndex,-1,"Expected clean LFrame"),M(t.elementDepthCount,0,"Expected clean LFrame"),M(t.currentDirectiveIndex,-1,"Expected clean LFrame"),M(t.currentNamespace,null,"Expected clean LFrame"),M(t.bindingRootIndex,-1,"Expected clean LFrame"),M(t.currentQueryIndex,0,"Expected clean LFrame"));const n=e[Ze];dn.lFrame=t,ngDevMode&&n.firstChild&&kt(n.firstChild,n),t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function qn(){const e=dn.lFrame,t=null===e?null:e.child;return null===t?zn(e):t}function zn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Wn(){const e=dn.lFrame;return dn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kn=Wn;function Gn(){const e=Wn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Zn(){return dn.lFrame.selectedIndex}function Yn(e){ngDevMode&&-1!==e&&j(e,ft,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&R(e,dn.lFrame.lView.length,"Can't set index passed end of LView"),dn.lFrame.selectedIndex=e}function Qn(){const e=dn.lFrame;return sn(e.tView,e.selectedIndex)}function Jn(){dn.lFrame.currentNamespace=Xt}function Xn(){dn.lFrame.currentNamespace=en}function er(){dn.lFrame.currentNamespace=null}function tr(e,t){ngDevMode&&Lt(e);for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];ngDevMode&&N(t,"Expecting DirectiveDef");const r=t.type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:a,ngOnDestroy:c}=r;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),a&&((e.viewHooks||(e.viewHooks=[])).push(n,a),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,a)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function nr(e,t,n){ir(e,t,3,n)}function rr(e,t,n,r){ngDevMode&&A(n,3,"Init pre-order hooks should not be called more than once"),(3&e[Ye])===n&&ir(e,t,n,r)}function sr(e,t){ngDevMode&&A(t,3,"Init hooks phase should not be incremented after all init hooks have been run.");let n=e[Ye];(3&n)===t&&(n&=2047,n+=1,e[Ye]=n)}function ir(e,t,n,r){ngDevMode&&M(Tn(),!1,"Hooks should never be run when in check no changes mode.");const s=void 0!==r?65535&e[pt]:0,i=null!=r?r:-1,o=t.length-1;let a=0;for(let c=s;c<o;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[pt]+=65536),(a<i||-1==i)&&(or(e,n,t,c),e[pt]=(4294901760&e[pt])+c+2),c++}function or(e,t,n,r){const s=n[r]<0,i=n[r+1],o=e[s?-n[r]:n[r]];if(s){if(e[Ye]>>11<e[pt]>>16&&(3&e[Ye])===t){e[Ye]+=2048,Jt(4,o,i);try{i.call(o)}finally{Jt(5,o,i)}}}else{Jt(4,o,i);try{i.call(o)}finally{Jt(5,o,i)}}}const ar=-1;class cr{constructor(e,t,n){this.factory=e,this.resolving=!1,ngDevMode&&N(e,"Factory not specified"),ngDevMode&&M(typeof e,"function","Expected factory function."),this.canSeeViewProviders=t,this.injectImpl=n}}function lr(e){let t="";return 1&e&&(t+="|Text"),2&e&&(t+="|Element"),4&e&&(t+="|Container"),8&e&&(t+="|ElementContainer"),16&e&&(t+="|Projection"),32&e&&(t+="|IcuContainer"),64&e&&(t+="|Placeholder"),t.length>0?t.substring(1):t}function ur(e,t,n){N(e,"should be called with a TNode"),0==(e.type&t)&&U(n||`Expected [${lr(t)}] but got ${lr(e.type)}.`)}function hr(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const i=n[r++],o=n[r++],a=n[r++];ngDevMode&&ngDevMode.rendererSetAttribute++,e.setAttribute(t,o,a,i)}else{const i=s,o=n[++r];ngDevMode&&ngDevMode.rendererSetAttribute++,dr(i)?e.setProperty(t,i,o):e.setAttribute(t,i,o),r++}}return r}function pr(e){return 3===e||4===e||6===e}function dr(e){return 64===e.charCodeAt(0)}function gr(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||mr(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function mr(e,t,n,r,s){let i=0,o=e.length;if(-1===t)o=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==s&&(e[i+1]=s));if(r===e[i+1])return void(e[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==o&&(e.splice(o,0,t),i=o+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==s&&e.splice(i++,0,s)}function fr(e){return e!==ar}function vr(e){return ngDevMode&&E(e,"Number expected"),ngDevMode&&A(e,-1,"Not a valid state."),ngDevMode&&L(32767&e,ft,"Parent injector must be pointing past HEADER_OFFSET."),32767&e}function yr(e,t){let n=e>>16,r=t;for(;n>0;)r=r[lt],n--;return r}let br=!0;function wr(e){const t=br;return br=e,t}const Dr=255,Cr=5;let _r=0;const Sr={};function xr(e,t){const n=Er(e,t);if(-1!==n)return n;const r=t[Ze];r.firstCreatePass&&(e.injectorIndex=t.length,Ir(r.data,e),Ir(t,null),Ir(r.blueprint,null));const s=Tr(e,t),i=e.injectorIndex;if(fr(s)){const e=vr(s),n=yr(s,t),r=n[Ze].data;for(let s=0;s<8;s++)t[i+s]=n[e+s]|r[e+s]}return t[i+8]=s,i}function Ir(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Er(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:(ngDevMode&&$(t,e.injectorIndex),e.injectorIndex)}function Tr(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=Hr(s),null===r)return ar;if(ngDevMode&&r&&Tt(r,s[lt]),n++,s=s[lt],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ar}function kr(e,t,n){!function(e,t,n){let r;ngDevMode&&M(t.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fe)&&(r=n[Fe]),null==r&&(r=n[Fe]=_r++);const s=r&Dr,i=1<<s;t.data[e+(s>>Cr)]|=i}(e,t,n)}function Mr(e,t,n){if(n&ee.Optional||void 0!==e)return e;I(t,"NodeInjector")}function Ar(e,t,n,r){if(n&ee.Optional&&void 0===r&&(r=null),0==(n&(ee.Self|ee.Host))){const s=e[rt],i=ne(void 0);try{return s?s.get(t,r,n&ee.Optional):re(t,r,n&ee.Optional)}finally{ne(i)}}return Mr(r,t,n)}function Fr(e,t,n,r=ee.Default,s){if(null!==e){if(1024&t[Ye]){const s=function(e,t,n,r,s){let i=e,o=t;for(;null!==i&&null!==o&&1024&o[Ye]&&!(256&o[Ye]);){ngDevMode&&Tt(i,o);const e=Or(i,o,n,r|ee.Self,Sr);if(e!==Sr)return e;let t=i.parent;if(!t){const e=o[mt];if(e){const t=e.get(n,Sr,r);if(t!==Sr)return t}t=Hr(o),o=o[lt]}i=t}return s}(e,t,n,r,Sr);if(s!==Sr)return s}const s=Or(e,t,n,r,Sr);if(s!==Sr)return s}return Ar(t,n,r,s)}function Or(e,t,n,r,s){const i=function(e){if(ngDevMode&&N(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Fe)?e[Fe]:void 0;return"number"==typeof t?t>=0?t&Dr:(ngDevMode&&M(t,-1,"Expecting to get Special Injector Id"),Vr):t}(n);if("function"==typeof i){if(!Bn(t,e,r))return r&ee.Host?Mr(s,n,r):Ar(t,n,r,s);try{const e=i(r);if(null!=e||r&ee.Optional)return e;I(n)}finally{Kn()}}else if("number"==typeof i){let s=null,o=Er(e,t),a=ar,c=r&ee.Host?t[ut][et]:null;for((-1===o||r&ee.SkipSelf)&&(a=-1===o?Tr(e,t):t[o+8],a!==ar&&Nr(r,!1)?(s=t[Ze],o=vr(a),t=yr(a,t)):o=-1);-1!==o;){ngDevMode&&$t(t,o);const e=t[Ze];if(ngDevMode&&Tt(e.data[o+8],t),jr(i,o,e.data)){const e=Rr(o,t,n,s,r,c);if(e!==Sr)return e}a=t[o+8],a!==ar&&Nr(r,t[Ze].data[o+8]===c)&&jr(i,o,t)?(s=e,o=vr(a),t=yr(a,t)):o=-1}}return s}function Rr(e,t,n,r,s,i){const o=t[Ze],a=o.data[e+8],c=Pr(a,o,n,null==r?xt(a)&&br:r!=o&&0!=(3&a.type),s&ee.Host&&i===a);return null!==c?Lr(t,o,c,a):Sr}function Pr(e,t,n,r,s){const i=e.providerIndexes,o=t.data,a=1048575&i,c=e.directiveStart,l=e.directiveEnd,u=i>>20,h=s?a+u:l;for(let e=r?a:a+u;e<h;e++){const t=o[e];if(e<c&&n===t||e>=c&&t.type===n)return e}if(s){const e=o[c];if(e&&Et(e)&&e.type===n)return c}return null}function Lr(e,t,n,r){let s=e[n];const i=t.data;if(s instanceof cr){const a=s;a.resolving&&_(C(i[n]));const c=wr(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?ne(a.injectImpl):null,u=Bn(e,r,ee.Default);ngDevMode&&M(u,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{s=e[n]=a.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&(ngDevMode&&(void 0!==(o=i[n]).type&&null!=o.selectors&&void 0!==o.inputs||U("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")),function(e,t,n){ngDevMode&&Lt(n);const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=t.type.prototype;if(r){const r=zt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t))}finally{null!==l&&ne(l),wr(c),a.resolving=!1,Kn()}}var o;return s}function jr(e,t,n){const r=1<<e;return!!(n[t+(e>>Cr)]&r)}function Nr(e,t){return!(e&ee.Self||e&ee.Host&&t)}class Ur{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Fr(this._tNode,this._lView,e,ve(n),t)}}function Vr(){return new Ur(Cn(),yn())}function $r(e){return we((()=>{const t=e.prototype.constructor,n=t[Ae]||Br(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const e=s[Ae]||Br(s);if(e&&e!==n)return e;s=Object.getPrototypeOf(s)}return e=>new e}))}function Br(e){return m(e)?()=>{const t=Br(g(e));return t&&t()}:Bt(e)}function Hr(e){const t=e[Ze],n=t.type;return 2===n?(ngDevMode&&N(t.declTNode,"Embedded TNodes should have declaration parents."),t.declTNode):1===n?e[et]:null}function qr(e){return function(e,t){if(ngDevMode&&ur(e,15),ngDevMode&&N(e,"expecting tNode"),"class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const s=n[r];if(pr(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(Cn(),e)}const zr="__annotations__",Wr="__parameters__",Kr="__prop__metadata__";function Gr(e,t,n,r,s){return we((()=>{const i=Zr(t);function o(...e){if(this instanceof o)return i.call(this,...e),this;const t=new o(...e);return function(n){return s&&s(n,...e),(n.hasOwnProperty(zr)?n[zr]:Object.defineProperty(n,zr,{value:[]})[zr]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}function Zr(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function Yr(e,t,n){return we((()=>{const r=Zr(t);function s(...e){if(this instanceof s)return r.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,r){const s=e.hasOwnProperty(Wr)?e[Wr]:Object.defineProperty(e,Wr,{value:[]})[Wr];for(;s.length<=r;)s.push(null);return(s[r]=s[r]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}function Qr(e,t,n,r){return we((()=>{const s=Zr(t);function i(...e){if(this instanceof i)return s.apply(this,e),this;const t=new i(...e);return function(n,s){const i=n.constructor,o=i.hasOwnProperty(Kr)?i[Kr]:Object.defineProperty(i,Kr,{value:{}})[Kr];o[s]=o.hasOwnProperty(s)&&o[s]||[],o[s].unshift(t),r&&r(n,s,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}const Jr=Yr("Attribute",(e=>({attributeName:e,__NG_ELEMENT_ID__:()=>qr(e)})));class Xr{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof t?(("undefined"==typeof ngDevMode||ngDevMode)&&R(t,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=t):void 0!==t&&(this.ɵprov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const es=new Xr("AnalyzeForEntryComponents");class ts{}const ns=Qr("ContentChildren",((e,t={})=>({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...t})),ts),rs=Qr("ContentChild",((e,t={})=>({selector:e,first:!0,isViewQuery:!1,descendants:!0,...t})),ts),ss=Qr("ViewChildren",((e,t={})=>({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...t})),ts),is=Qr("ViewChild",((e,t)=>({selector:e,first:!0,isViewQuery:!0,descendants:!0,...t})),ts);var os,as,cs;function ls(e){const t=se.ng;if(t&&t.ɵcompilerFacade)return t.ɵcompilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${e.kind}`,e.type);let t=`The ${e.kind} '${e.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===e.usage?(t+=`The ${e.kind} is part of a library that has been partially compiled.\n`,t+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",t+="\n",t+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):t+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",t+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",t+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(t)}throw new Error("JIT compiler unavailable")}!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(os||(os={})),function(e){e[e.Directive=0]="Directive",e[e.Pipe=1]="Pipe",e[e.NgModule=2]="NgModule"}(as||(as={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(cs||(cs={}));const us=Function;function hs(e){return"function"==typeof e}function ps(e){return e.flat(Number.POSITIVE_INFINITY)}function ds(e,t){e.forEach((e=>Array.isArray(e)?ds(e,t):t(e)))}function gs(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ms(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function fs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function vs(e,t,n){let r=bs(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){ngDevMode&&P(t,e.length,"Can't insert past array end.");let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;){const t=s-2;e[s]=e[t],s--}e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ys(e,t){const n=bs(e,t);if(n>=0)return e[1|n]}function bs(e,t){return function(e,t,n){ngDevMode&&M(Array.isArray(e),!0,"Expecting an array");let r=0,s=e.length>>n;for(;s!==r;){const i=r+(s-r>>1),o=e[i<<n];if(t===o)return i<<n;o>t?s=i:r=i+1}return~(s<<n)}(e,t,1)}const ws=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ds=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Cs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,_s=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Ss{constructor(e){this._reflect=e||se.Reflect}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=fs(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]&&e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),ws.test(n)||_s.test(n)||Ds.test(n)&&!Cs.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map((e=>e&&e.type)),n=e.map((e=>e&&xs(e.decorators)));return this._zipTypesAndAnnotations(t,n)}const s=e.hasOwnProperty(Wr)&&e[Wr],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||s?this._zipTypesAndAnnotations(i,s):fs(e.length)}parameters(e){if(!hs(e))return[];const t=Is(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?xs(e.decorators):e.hasOwnProperty(zr)?e[zr]:null}annotations(e){if(!hs(e))return[];const t=Is(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach((e=>{n[e]=xs(t[e])})),n}return e.hasOwnProperty(Kr)?e[Kr]:null}propMetadata(e){if(!hs(e))return{};const t=Is(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach((t=>{n[t]=e[t]}))}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach((e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t})),n}ownPropMetadata(e){return hs(e)&&this._ownPropMetadata(e,Is(e))||{}}hasLifecycleHook(e,t){return e instanceof us&&t in e.prototype}}function xs(e){return e?e.map((e=>new(0,e.type.annotationCls)(...e.args?e.args:[]))):[]}function Is(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Es=be(Yr("Inject",(e=>({token:e}))),-1),Ts=be(Yr("Optional"),8),ks=be(Yr("Self"),2),Ms=be(Yr("SkipSelf"),4),As=be(Yr("Host"),1);let Fs=null;function Os(){return Fs=Fs||new Ss}function Rs(e){return Ps(Os().parameters(e))}function Ps(e){return e.map((e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const s=Object.getPrototypeOf(r);if(r instanceof Ts||"Optional"===s.ngMetadataName)t.optional=!0;else if(r instanceof Ms||"SkipSelf"===s.ngMetadataName)t.skipSelf=!0;else if(r instanceof ks||"Self"===s.ngMetadataName)t.self=!0;else if(r instanceof As||"Host"===s.ngMetadataName)t.host=!0;else if(r instanceof Es)t.token=r.token;else if(r instanceof Jr){if(void 0===r.attributeName)throw new b(204,ngDevMode&&"Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else void 0===e||Array.isArray(e)&&0===e.length?t.token=null:t.token=e;return t}(e)))}function Ls(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const s=e(t);n.set(t,r=s.then($s))}return r}return js.forEach(((e,n)=>{const s=[];e.templateUrl&&s.push(r(e.templateUrl).then((t=>{e.template=t})));const i=e.styleUrls,o=e.styles||(e.styles=[]),a=e.styles.length;i&&i.forEach(((t,n)=>{o.push(""),s.push(r(t).then((r=>{o[a+n]=r,i.splice(i.indexOf(t),1),0==i.length&&(e.styleUrls=void 0)})))}));const c=Promise.all(s).then((()=>function(e){Ns.delete(e)}(n)));t.push(c)})),Vs(),Promise.all(t).then((()=>{}))}let js=new Map;const Ns=new Set;function Us(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Vs(){const e=js;return js=new Map,e}function $s(e){return"string"==typeof e?e:e.text()}const Bs=new Map;let Hs=!0;function qs(e,t){!function(e,t,n){if(t&&t!==n&&Hs)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(t,Bs.get(t)||null,e),Bs.set(t,e)}function zs(e){return Bs.get(e)}function Ws(e){Hs=!e}const Ks={name:"custom-elements"},Gs={name:"no-errors-schema"};let Zs=!1;function Ys(e){Zs=e}function Qs(){return Zs}let Js=!1;function Xs(e){Js=e}function ei(){return Js}function ti(e,t,n,r){t||4!==n||(t="ng-template");const s=si(r);let i=`Can't bind to '${e}' since it isn't a known property of '${t}'${ii(r)}.`;const o=`'${s?"@Component":"@NgModule"}.schemas'`,a=s?"included in the '@Component.imports' of this component":"a part of an @NgModule where this component is declared";oi.has(e)?i+=`\nIf the '${e}' is an Angular control flow directive, please make sure that either the '${oi.get(e)}' directive or the 'CommonModule' is ${a}.`:(i+=`\n1. If '${t}' is an Angular component and it has the '${e}' input, then verify that it is ${a}.`,t&&t.indexOf("-")>-1?(i+=`\n2. If '${t}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the ${o} of this component to suppress this message.`,i+=`\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the ${o} of this component.`):i+=`\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the ${o} of this component.`),ni(i)}function ni(e){if(Js)throw new b(303,e);console.error(w(303,e))}function ri(e){!ngDevMode&&U("Must never be called in production mode");const t=e[ut][nt];return t&&t.constructor?He(t.constructor):null}function si(e){!ngDevMode&&U("Must never be called in production mode");const t=ri(e);return!!t?.standalone}function ii(e){!ngDevMode&&U("Must never be called in production mode");const t=ri(e),n=t?.type?.name;return n?` (used in the '${n}' component template)`:""}const oi=new Map([["ngIf","NgIf"],["ngFor","NgFor"],["ngSwitchCase","NgSwitchCase"],["ngSwitchDefault","NgSwitchDefault"]]);function ai(e,t){if(null!==e)for(let n=0;n<e.length;n++){const r=e[n];if(r===Gs||r===Ks&&t&&t.indexOf("-")>-1)return!0}return!1}var ci;!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(ci||(ci={}));const li=/^>|^->|<!--|-->|--!>|<!-$/g,ui=/(<|>)/,hi="​$1​";function pi(e){return e.replace(li,(e=>e.replace(ui,hi)))}const di=new Map;let gi=0;function mi(e){return ngDevMode&&E(e,"ID used for LView lookup must be a number"),di.get(e)||null}class fi{constructor(e,t,n){this.lViewId=e,this.nodeIndex=t,this.native=n}get lView(){return mi(this.lViewId)}}function vi(e){let t=Ci(e);if(t){if(Ct(t)){const r=t;let s,i,o;if(Si(e)){if(s=Ei(r,e),-1==s)throw new Error("The provided component was not found in the application");i=e}else if((n=e)&&n.constructor&&n.constructor.ɵdir){if(s=function(e,t){let n=e[Ze].firstChild;for(;n;){const r=n.directiveStart,s=n.directiveEnd;for(let i=r;i<s;i++)if(e[i]===t)return n.index;n=Ii(n)}return-1}(r,e),-1==s)throw new Error("The provided directive was not found in the application");o=Ti(s,r)}else if(s=xi(r,e),-1==s)return null;const a=tn(r[s]),c=Ci(a),l=c&&!Array.isArray(c)?c:yi(r,s,a);if(i&&void 0===l.component&&(l.component=i,Di(l.component,l)),o&&void 0===l.directives){l.directives=o;for(let e=0;e<o.length;e++)Di(o[e],l)}Di(l.native,l),t=l}}else{const n=e;ngDevMode&&V(n);let r=n;for(;r=r.parentNode;){const e=Ci(r);if(e){const r=Array.isArray(e)?e:e.lView;if(!r)return null;const s=xi(r,n);if(s>=0){const e=tn(r[s]),n=yi(r,s,e);Di(e,n),t=n;break}}}}var n;return t||null}function yi(e,t,n){return new fi(e[gt],t,n)}function bi(e){let t,n=Ci(e);if(Ct(n)){const r=n,s=Ei(r,e);t=an(s,r);const i=yi(r,s,t[Ge]);i.component=e,Di(e,i),Di(i.native,i)}else{const e=n,r=e.lView;ngDevMode&&Pt(r),t=an(e.nodeIndex,r)}return t}const wi="__ngContext__";function Di(e,t){var n;ngDevMode&&N(e,"Target expected"),Ct(t)?(e[wi]=t[gt],n=t,ngDevMode&&E(n[gt],"LView must have an ID in order to be registered"),di.set(n[gt],n)):e[wi]=t}function Ci(e){ngDevMode&&N(e,"Target expected");const t=e[wi];return"number"==typeof t?mi(t):t||null}function _i(e){const t=Ci(e);return t?Ct(t)?t:t.lView:null}function Si(e){return e&&e.constructor&&e.constructor.ɵcmp}function xi(e,t){const n=e[Ze];for(let r=ft;r<n.bindingStartIndex;r++)if(tn(e[r])===t)return r;return-1}function Ii(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Ei(e,t){const n=e[Ze].components;if(n)for(let r=0;r<n.length;r++){const s=n[r];if(an(s,e)[nt]===t)return s}else if(an(ft,e)[nt]===t)return ft;return-1}function Ti(e,t){const n=t[Ze].data[e];if(0===n.directiveStart)return Ie;const r=[];for(let e=n.directiveStart;e<n.directiveEnd;e++){const n=t[e];Si(n)||r.push(n)}return r}let ki;function Mi(e,t){return ki(e,t)}function Ai(e){ngDevMode&&Pt(e);const t=e[Qe];return _t(t)?t[Qe]:t}function Fi(e){const t=function(e){ngDevMode&&N(e,"component");let t=Ct(e)?e:_i(e);for(;t&&!(256&t[Ye]);)t=Ai(t);return ngDevMode&&Pt(t),t}(e);return ngDevMode&&N(t[nt],"Root view has no context. Perhaps it is disconnected?"),t[nt]}function Oi(e){return Pi(e[at])}function Ri(e){return Pi(e[Je])}function Pi(e){for(;null!==e&&!_t(e);)e=e[Je];return e}function Li(e,t,n,r,s){if(null!=r){let i,o=!1;_t(r)?i=r:Ct(r)&&(o=!0,ngDevMode&&N(r[Ge],"HOST must be defined for a component LView"),r=r[Ge]);const a=tn(r);0===e&&null!==n?null==s?Gi(t,n,a):Ki(t,n,a,s||null,!0):1===e&&null!==n?Ki(t,n,a,s||null,!0):2===e?lo(t,a,o):3===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(a)),null!=i&&function(e,t,n,r,s){ngDevMode&&Ot(n);const i=n[bt];i!==tn(n)&&Li(t,e,r,i,s);for(let s=Dt;s<n.length;s++){const o=n[s];ho(o[Ze],o,e,t,r,i)}}(t,e,i,n,s)}}function ji(e,t){return ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&ngDevMode.rendererSetText++,e.createText(t)}function Ni(e,t,n){ngDevMode&&ngDevMode.rendererSetText++,e.setValue(t,n)}function Ui(e,t){return ngDevMode&&ngDevMode.rendererCreateComment++,e.createComment(pi(t))}function Vi(e,t,n){return ngDevMode&&ngDevMode.rendererCreateElement++,e.createElement(t,n)}function $i(e,t){ngDevMode&&Ot(e),ngDevMode&&N(e[wt],"A projected view should belong to a non-empty projected views collection");const n=e[wt],r=n.indexOf(t),s=t[Qe];ngDevMode&&Ot(s),512&t[Ye]&&(t[Ye]&=-513,pn(s,-1)),n.splice(r,1)}function Bi(e,t){if(e.length<=Dt)return;const n=Dt+t,r=e[n];if(r){const i=r[ht];null!==i&&i!==e&&$i(i,r),t>0&&(e[n-1][Je]=r[Je]);const o=ms(e,Dt+t);ho(r[Ze],s=r,s[it],2,null,null),s[Ge]=null,s[et]=null;const a=o[dt];null!==a&&a.detachView(o[Ze]),r[Qe]=null,r[Je]=null,r[Ye]&=-65}var s;return r}function Hi(e,t){if(!(128&t[Ye])){const n=t[it];n.destroyNode&&ho(e,t,n,3,null,null),function(e){let t=e[at];if(!t)return qi(e[Ze],e);for(;t;){let n=null;if(Ct(t))n=t[at];else{ngDevMode&&Ot(t);const e=t[Dt];e&&(n=e)}if(!n){for(;t&&!t[Je]&&t!==e;)Ct(t)&&qi(t[Ze],t),t=t[Qe];null===t&&(t=e),Ct(t)&&qi(t[Ze],t),n=t&&t[Je]}t=n}}(t)}}function qi(e,t){if(!(128&t[Ye])){t[Ye]&=-65,t[Ye]|=128,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let e=0;e<n.length;e+=2){const r=t[n[e]];if(!(r instanceof cr)){const t=n[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){const n=r[t[e]],s=t[e+1];Jt(4,n,s);try{s.call(n)}finally{Jt(5,n,s)}}else{Jt(4,r,t);try{t.call(r)}finally{Jt(5,r,t)}}}}}(e,t),function(e,t){const n=e.cleanup,r=t[tt];let s=-1;if(null!==n)for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const t=n[e+3];ngDevMode&&E(t,"cleanup target must be a number"),t>=0?r[s=t]():r[s=-t].unsubscribe(),e+=2}else{const t=r[s=n[e+1]];n[e].call(t)}if(null!==r){for(let e=s+1;e<r.length;e++){const t=r[e];ngDevMode&&(o="Expecting instance cleanup function.","function"!=typeof(i=t)&&U(o,null===i?"null":typeof i,"function","===")),t()}t[tt]=null}var i,o}(e,t),1===t[Ze].type&&(ngDevMode&&ngDevMode.rendererDestroy++,t[it].destroy());const n=t[ht];if(null!==n&&_t(t[Qe])){n!==t[Qe]&&$i(n,t);const r=t[dt];null!==r&&r.detachView(e)}!function(e){ngDevMode&&E(e[gt],"Cannot stop tracking an LView that does not have an ID"),di.delete(e[gt])}(t)}}function zi(e,t,n){return Wi(e,t.parent,n)}function Wi(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Ge];{ngDevMode&&ur(r,7);const{componentOffset:t}=r;if(t>-1){ngDevMode&&Tt(r,n);const{encapsulation:s}=e.data[r.directiveStart+t];if(s===_e.None||s===_e.Emulated)return null}return rn(r,n)}}function Ki(e,t,n,r,s){ngDevMode&&ngDevMode.rendererInsertBefore++,e.insertBefore(t,n,r,s)}function Gi(e,t,n){ngDevMode&&ngDevMode.rendererAppendChild++,ngDevMode&&N(t,"parent node must be defined"),e.appendChild(t,n)}function Zi(e,t,n,r,s){null!==r?Ki(e,t,n,r,s):Gi(e,t,n)}function Yi(e,t){return e.parentNode(t)}function Qi(e,t,n){return ro(e,t,n)}function Ji(e,t,n){return 40&e.type?rn(e,n):null}let Xi,eo,to,no,ro=Ji;function so(e,t){ro=e,Xi=t}function io(e,t,n,r){const s=zi(e,r,t),i=t[it],o=Qi(r.parent||t[et],r,t);if(null!=s)if(Array.isArray(n))for(let e=0;e<n.length;e++)Zi(i,s,n[e],o,!1);else Zi(i,s,n,o,!1);void 0!==Xi&&Xi(i,r,t,n,s)}function oo(e,t){if(null!==t){ngDevMode&&ur(t,63);const n=t.type;if(3&n)return rn(t,e);if(4&n)return co(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return oo(e,n);{const n=e[t.index];return _t(n)?co(-1,n):tn(n)}}if(32&n)return Mi(t,e)()||tn(e[t.index]);{const n=ao(e,t);if(null!==n){if(Array.isArray(n))return n[0];const t=Ai(e[ut]);return ngDevMode&&Vt(t),oo(t,n)}return oo(e,t.next)}}return null}function ao(e,t){if(null!==t){const n=e[ut][et],r=t.projection;return ngDevMode&&function(e,t){N(e[ut],"Component views should exist."),N(e[ut][et].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}(e),n.projection[r]}return null}function co(e,t){const n=Dt+e+1;if(n<t.length){const e=t[n],r=e[Ze].firstChild;if(null!==r)return oo(e,r)}return t[bt]}function lo(e,t,n){ngDevMode&&ngDevMode.rendererRemoveNode++;const r=Yi(e,t);r&&function(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}function uo(e,t,n,r,s,i,o){for(;null!=n;){ngDevMode&&Tt(n,r),ngDevMode&&ur(n,63);const a=r[n.index],c=n.type;if(o&&0===t&&(a&&Di(tn(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)uo(e,t,n.child,r,s,i,!1),Li(t,e,s,a,i);else if(32&c){const o=Mi(n,r);let c;for(;c=o();)Li(t,e,s,c,i);Li(t,e,s,a,i)}else 16&c?po(e,t,r,n,s,i):(ngDevMode&&ur(n,7),Li(t,e,s,a,i));n=o?n.projectionNext:n.next}}function ho(e,t,n,r,s,i){uo(n,r,e.firstChild,t,s,i,!1)}function po(e,t,n,r,s,i){const o=n[ut],a=o[et];ngDevMode&&M(typeof r.projection,"number","expecting projection index");const c=a.projection[r.projection];if(Array.isArray(c))for(let n=0;n<c.length;n++)Li(t,e,s,c[n],i);else uo(e,t,c,o[Qe],s,i,!0)}function go(e,t,n){ngDevMode&&k(n,"'newValue' should be a string"),""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n),ngDevMode&&ngDevMode.rendererSetClassName++}function mo(e,t,n){const{mergedAttrs:r,classes:s,styles:i}=n;null!==r&&hr(e,t,r),null!==s&&go(e,t,s),null!==i&&function(e,t,n){ngDevMode&&k(n,"'newValue' should be a string"),e.setAttribute(t,"style",n),ngDevMode&&ngDevMode.rendererSetStyle++}(e,t,i)}function fo(){if(void 0===eo&&(eo=null,se.trustedTypes))try{eo=se.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return eo}function vo(e){return fo()?.createHTML(e)||e}function yo(e,t,n){const r=yn(),s=Qn(),i=rn(s,r);if(2===s.type&&"iframe"===t.toLowerCase()){const e=i;e.src="",e.srcdoc=vo(""),lo(r[it],e);const t=ngDevMode&&`Angular has detected that the \`${n}\` was applied as a binding to an <iframe>${ii(r)}. For security reasons, the \`${n}\` can be set on an <iframe> as a static attribute only. \nTo fix this, switch the \`${n}\` binding to a static attribute in a template or in host bindings section.`;throw new b(-910,t)}return e}function bo(e){to=e}function wo(){return void 0!==to?to:"undefined"!=typeof document?document:void 0}function Do(){if(void 0===no&&(no=null,se.trustedTypes))try{no=se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return no}function Co(e){return Do()?.createHTML(e)||e}function _o(e){return Do()?.createScript(e)||e}function So(e){return Do()?.createScriptURL(e)||e}class xo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${y})`}}class Io extends xo{getTypeName(){return"HTML"}}class Eo extends xo{getTypeName(){return"Style"}}class To extends xo{getTypeName(){return"Script"}}class ko extends xo{getTypeName(){return"URL"}}class Mo extends xo{getTypeName(){return"ResourceURL"}}function Ao(e){return e instanceof xo?e.changingThisBreaksApplicationSecurity:e}function Fo(e,t){const n=Oo(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${y})`)}return n===t}function Oo(e){return e instanceof xo&&e.getTypeName()||null}function Ro(e){return new Io(e)}function Po(e){return new Eo(e)}function Lo(e){return new To(e)}function jo(e){return new ko(e)}function No(e){return new Mo(e)}function Uo(e){const t=new $o(e);return function(){try{return!!(new window.DOMParser).parseFromString(vo(""),"text/html")}catch{return!1}}()?new Vo(t):t}class Vo{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(vo(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class $o{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=vo(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=vo(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Bo=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ho(e){return(e=String(e)).match(Bo)?e:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see ${y})`),"unsafe:"+e)}function qo(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function zo(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Wo=qo("area,br,col,hr,img,wbr"),Ko=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Go=qo("rp,rt"),Zo=zo(Go,Ko),Yo=zo(Ko,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qo=zo(Go,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jo=zo(Wo,Yo,Qo,Zo),Xo=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ea=qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta=qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),na=zo(Xo,ea,ta),ra=qo("script,style,template");class sa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Jo.hasOwnProperty(t))return this.sanitizedSomething=!0,!ra.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let e=0;e<n.length;e++){const t=n.item(e),r=t.name,s=r.toLowerCase();if(!na.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let i=t.value;Xo[s]&&(i=Ho(i)),this.buf.push(" ",r,'="',aa(i),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Jo.hasOwnProperty(t)&&!Wo.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(aa(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ia=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oa=/([^\#-~ |!])/g;function aa(e){return e.replace(/&/g,"&amp;").replace(ia,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(oa,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ca;function la(e,t){let n=null;try{ca=ca||Uo(e);let r=t?String(t):"";n=ca.getInertBodyElement(r);let s=5,i=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=i,i=n.innerHTML,n=ca.getInertBodyElement(r)}while(r!==i);const o=new sa,a=o.sanitizeChildren(ua(n)||n);return("undefined"==typeof ngDevMode||ngDevMode)&&o.sanitizedSomething&&console.warn(`WARNING: sanitizing HTML stripped some content, see ${y}`),vo(a)}finally{if(n){const e=ua(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ua(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ha;function pa(e){const t=wa();return t?Co(t.sanitize(ha.HTML,e)||""):Fo(e,"HTML")?Co(Ao(e)):la(wo(),D(e))}function da(e){const t=wa();return t?t.sanitize(ha.STYLE,e)||"":Fo(e,"Style")?Ao(e):D(e)}function ga(e){const t=wa();return t?t.sanitize(ha.URL,e)||"":Fo(e,"URL")?Ao(e):Ho(D(e))}function ma(e){const t=wa();if(t)return So(t.sanitize(ha.RESOURCE_URL,e)||"");if(Fo(e,"ResourceURL"))return So(Ao(e));throw new b(904,ngDevMode&&`unsafe value used in a resource URL context (see ${y})`)}function fa(e){const t=wa();if(t)return _o(t.sanitize(ha.SCRIPT,e)||"");if(Fo(e,"Script"))return _o(Ao(e));throw new b(905,ngDevMode&&"unsafe value used in a script context")}function va(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${e.join("?")}`);return vo(e[0])}function ya(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${e.join("?")}`);return function(e){return fo()?.createScriptURL(e)||e}(e[0])}function ba(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ma:ga}(t,n)(e)}function wa(){const e=yn();return e&&e[ot]}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(ha||(ha={}));const Da=new Xr("ENVIRONMENT_INITIALIZER"),Ca=new Xr("INJECTOR",-1),_a=new Xr("INJECTOR_DEF_TYPES");class Sa{get(e,t=oe){if(t===oe){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}function xa(e){return{ɵproviders:e}}function Ia(...e){return{ɵproviders:Ea(!0,e),ɵfromNgModule:!0}}function Ea(e,...t){const n=[],r=new Set;let s;return ds(t,(t=>{if(("undefined"==typeof ngDevMode||ngDevMode)&&e){const e=He(t);if(e?.standalone)throw new b(800,`Importing providers supports NgModule or ModuleWithProviders but got a standalone component "${C(t)}"`)}const i=t;ka(i,n,[],r)&&(s||(s=[]),s.push(i))})),void 0!==s&&Ta(s,n),n}function Ta(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:s}=e[n];Aa(s,(e=>{ngDevMode&&Ma(e,s||Ie,r),t.push(e)}))}}function ka(e,t,n,r){if(!(e=g(e)))return!1;let s=null,i=Z(e);const o=!i&&He(e);if(i||o){if(o&&!o.standalone)return!1;s=e}else{const t=e.ngModule;if(i=Z(t),!i)return!1;s=t}ngDevMode&&-1!==n.indexOf(s)&&_(u(s),n.map(u));const a=r.has(s);if(o){if(a)return!1;if(r.add(s),o.dependencies){const e="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const s of e)ka(s,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let e;ngDevMode&&n.push(s),r.add(s);try{ds(i.imports,(s=>{ka(s,t,n,r)&&(e||(e=[]),e.push(s))}))}finally{ngDevMode&&n.pop()}void 0!==e&&Ta(e,t)}if(!a){const e=Bt(s)||(()=>new s);t.push({provide:s,useFactory:e,deps:Ie},{provide:_a,useValue:s,multi:!0},{provide:Da,useValue:()=>ge(s),multi:!0})}const o=i.providers;if(null!=o&&!a){const n=e;Aa(o,(e=>{ngDevMode&&Ma(e,o,n),t.push(e)}))}}}return s!==e&&void 0!==e.providers}function Ma(e,t,n){La(e)||Oa(e)||Pa(e)||Ra(e)||g(e&&(e.useClass||e.provide))||x(n,t,e)}function Aa(e,t){for(let n of e)f(n)&&(n=n.ɵproviders),Array.isArray(n)?Aa(n,t):t(n)}const Fa=c({provide:String,useValue:c});function Oa(e){return null!==e&&"object"==typeof e&&Fa in e}function Ra(e){return!(!e||!e.useExisting)}function Pa(e){return!(!e||!e.useFactory)}function La(e){return"function"==typeof e}const ja=new Xr("Set Injector scope."),Na={},Ua={};let Va;function $a(){return void 0===Va&&(Va=new Sa),Va}class Ba{}class Ha extends Ba{constructor(e,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ka(e,(e=>this.processProvider(e))),this.records.set(Ca,Wa(void 0,this)),r.has("environment")&&this.records.set(Ba,Wa(void 0,this));const s=this.records.get(ja);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(_a.multi,Ie,ee.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=pe(this),n=ne(void 0);try{return e()}finally{pe(t),ne(n)}}get(e,t=oe,n=ee.Default){this.assertNotDestroyed(),n=ve(n);const r=pe(this),s=ne(void 0);try{if(!(n&ee.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Xr)&&W(e);t=n&&this.injectableDefInScope(n)?Wa(qa(e),Na):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const r=n&ee.Self?$a():this.parent;return t=n&ee.Optional&&t===oe?null:t,r.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t[ce]=t[ce]||[]).unshift(u(e)),r)throw t;return function(e,t,n,r){const s=e[ce];throw t[ue]&&s.unshift(t[ue]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.slice(2):e;let s=u(t);if(Array.isArray(t))s=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}s=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(le,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[ce]=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{ne(s),pe(r)}var i}resolveInjectorInitializers(){const e=pe(this),t=ne(void 0);try{const e=this.get(Da.multi,Ie,ee.Self);if(ngDevMode&&!Array.isArray(e))throw new b(-209,`Unexpected type of the \`ENVIRONMENT_INITIALIZER\` token value (expected an array, but got ${typeof e}). Please check that the \`ENVIRONMENT_INITIALIZER\` token is configured as a \`multi: true\` provider.`);for(const t of e)t()}finally{pe(e),ne(t)}}toString(){const e=[],t=this.records;for(const n of t.keys())e.push(u(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,ngDevMode&&"Injector has already been destroyed.")}processProvider(e){let t=La(e=g(e))?e:g(e&&e.provide);const n=function(e){return Oa(e)?Wa(void 0,e.useValue):Wa(za(e),Na)}(e);if(La(e)||!0!==e.multi){const e=this.records.get(t);ngDevMode&&e&&void 0!==e.multi&&S()}else{let n=this.records.get(t);n?ngDevMode&&void 0===n.multi&&S():(n=Wa(void 0,Na,!0),n.factory=()=>ye(n.multi),this.records.set(t,n)),t=e,n.multi.push(e)}this.records.set(t,n)}hydrate(e,t){var n;return ngDevMode&&t.value===Ua?_(u(e)):t.value===Na&&(t.value=Ua,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=g(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function qa(e){const t=W(e),n=null!==t?t.factory:Bt(e);if(null!==n)return n;if(e instanceof Xr)throw new b(204,ngDevMode&&`Token ${u(e)} is missing a ɵprov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=fs(t,"?");throw new b(204,ngDevMode&&`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[Y]||e[J]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new b(204,ngDevMode&&"unreachable")}function za(e,t,n){let r;if(ngDevMode&&f(e)&&x(void 0,n,e),La(e)){const t=g(e);return Bt(t)||qa(t)}if(Oa(e))r=()=>g(e.useValue);else if(Pa(e))r=()=>e.useFactory(...ye(e.deps||[]));else if(Ra(e))r=()=>ge(g(e.useExisting));else{const s=g(e&&(e.useClass||e.provide));if(ngDevMode&&!s&&x(t,n,e),!e.deps)return Bt(s)||qa(s);r=()=>new s(...ye(e.deps))}return r}function Wa(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ka(e,t){for(const n of e)Array.isArray(n)?Ka(n,t):n&&f(n)?Ka(n.ɵproviders,t):t(n)}class Ga{}class Za{}class Ya{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class Qa{}function Ja(e,t){return new Xa(rn(e,t))}Qa.NULL=new Ya;class Xa{constructor(e){this.nativeElement=e}}function ec(e){return e instanceof Xa?e.nativeElement:e}Xa.__NG_ELEMENT_ID__=function(){return Ja(Cn(),yn())};class tc{}class nc{}nc.__NG_ELEMENT_ID__=()=>function(){const e=yn(),t=an(Cn().index,e);return(Ct(t)?t:e)[it]}();class rc{}rc.ɵprov=H({token:rc,providedIn:"root",factory:()=>null});class sc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ic=new sc("15.0.4"),oc={},ac="ngOriginalError";function cc(e){return e[ac]}class lc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cc(e);for(;t&&cc(t);)t=cc(t);return t||null}}const uc=/([A-Z])/g;function hc(e){return e.ownerDocument.defaultView}function pc(e){return e.ownerDocument}function dc(e){return e.ownerDocument.body}const gc="�";function mc(e){return e instanceof Function?e():e}function fc(e){if(!He(e))throw new b(906,`The ${C(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function vc(e,t,n){throw new b(-300,`Multiple components match node with tagname ${e.value}: ${C(t)} and ${C(n)}`)}function yc(e,t,n,r,s){const[i,o,...a]=r.split(gc);let c=o,l=o;for(let r=0;r<a.length;r++){const i=t+r;c+=`${e[i]}${a[r]}`,l+=`${i===n?s:e[i]}${a[r]}`}return{propName:i,oldValue:c,newValue:l}}function bc(e,t,n){ngDevMode&&A(t,"",'can not look for "" string.');let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const n=t.length;if(s+n===r||e.charCodeAt(s+n)<=32)return s}n=s+1}}const wc="ng-template";function Dc(e,t,n){ngDevMode&&M(t,t.toLowerCase(),"Class name expected to be lowercase.");let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==bc(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Cc(e){return 4===e.type&&e.value!==wc}function _c(e,t,n){return t===(4!==e.type||n?e.value:wc)}function Sc(e,t,n){ngDevMode&&N(t[0],"Selector should have a tag name");let r=4;const s=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(pr(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!_c(e,c,n)||""===c&&1===t.length){if(xc(r))return!1;o=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!Dc(e.attrs,l,n)){if(xc(r))return!1;o=!0}continue}const u=Ic(8&r?"class":c,s,Cc(e),n);if(-1===u){if(xc(r))return!1;o=!0;continue}if(""!==l){let e;u>i?e="":(ngDevMode&&A(s[u],0,"We do not match directives on namespaced attributes"),e=s[u+1].toLowerCase());const t=8&r?e:null;if(t&&-1!==bc(t,l,0)||2&r&&l!==e){if(xc(r))return!1;o=!0}}}}else{if(!o&&!xc(r)&&!xc(c))return!1;if(o&&xc(c))continue;o=!1,r=c|1&r}}return xc(r)||o}function xc(e){return 0==(1&e)}function Ic(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let n=!1;for(;s<t.length;){const r=t[s];if(r===e)return s;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ec(e,t,n=!1){for(let r=0;r<t.length;r++)if(Sc(e,t[r],n))return!0;return!1}function Tc(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function kc(e,t){return e?":not("+t.trim()+")":t}function Mc(e){let t=e[0],n=1,r=2,s="",i=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""===s||xc(o)||(t+=kc(i,s),s=""),r=o,i=i||!xc(r);n++}return""!==s&&(t+=kc(i,s)),t}const Ac="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function Fc(e){ngDevMode&&L(e,0,"Can only advance forward"),Oc(bn(),yn(),Zn()+e,!!ngDevMode&&Tn())}function Oc(e,t,n,r){if(ngDevMode&&function(e,t){const n=e[1];Ut(ft,n.bindingStartIndex,t)}(t,n),!r)if(3==(3&t[Ye])){const r=e.preOrderCheckHooks;null!==r&&nr(t,r,n)}else{const r=e.preOrderHooks;null!==r&&rr(t,r,0,n)}Yn(n)}const Rc={ɵɵdefineInjectable:H,ɵɵdefineInjector:z,ɵɵinject:ge,ɵɵinvalidFactoryDep:me,resolveForwardRef:g};const Pc=c({provide:String,useValue:c});function Lc(e){return void 0!==e.useClass}function jc(e){return void 0!==e.useFactory}const Nc=Gr("Injectable",void 0,void 0,void 0,((e,t)=>function(e,t){let n=null,r=null;e.hasOwnProperty(Y)||Object.defineProperty(e,Y,{get:()=>{if(null===n){const r=ls({usage:0,kind:"injectable",type:e});n=r.compileInjectable(Rc,`ng:///${e.name}/ɵprov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Lc(n)||jc(n))&&void 0!==n.deps&&(r.deps=Ps(n.deps)),Lc(n)?r.useClass=n.useClass:function(e){return Pc in e}(n)?r.useValue=n.useValue:jc(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))}return n}}),e.hasOwnProperty(Ae)||Object.defineProperty(e,Ae,{get:()=>{if(null===r){const t=ls({usage:0,kind:"injectable",type:e});r=t.compileFactory(Rc,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Rs(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t)));function Uc(e,t=null,n=null,r){const s=Vc(e,t,n,r);return s.resolveInjectorInitializers(),s}function Vc(e,t=null,n=null,r,s=new Set){const i=[n||Ie,Ia(e)];return r=r||("object"==typeof e?void 0:u(e)),new Ha(i,t||$a(),r||null,s)}class $c{static create(e,t){if(Array.isArray(e))return Uc({name:""},t,e,"");{const t=e.name??"";return Uc({name:t},e.parent,e.providers,t)}}}function Bc(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((e=>u(e.token))).join(" -> ")+")":""}function Hc(e,t,n,r){const s=[t],i=n(s),o=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r[ac]=t,r}(i,r):Error(i);return o.addKey=qc,o.keys=s,o.injectors=[e],o.constructResolvingMessage=n,o[ac]=r,o}function qc(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function zc(e,t){const n=[];for(let e=0,r=t.length;e<r;e++){const r=t[e];r&&0!=r.length?n.push(r.map(u).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+u(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+u(e)+"' is decorated with Injectable.")}$c.THROW_IF_NOT_FOUND=oe,$c.NULL=new Sa,$c.ɵprov=H({token:$c,providedIn:"any",factory:()=>ge(Ca)}),$c.__NG_ELEMENT_ID__=-1;class Wc{constructor(e,t){if(this.token=e,this.id=t,!e)throw new b(208,ngDevMode&&"Token must be defined!");this.displayName=u(this.token)}static get(e){return Kc.get(g(e))}static get numberOfKeys(){return Kc.numberOfKeys}}const Kc=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof Wc)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new Wc(e,Wc.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}};class Gc{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new Gc(e,!1,null)}}const Zc=[];class Yc{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class Qc{constructor(e,t){this.factory=e,this.dependencies=t}}function Jc(e){let t,n;if(e.useClass){const r=g(e.useClass);t=Os().factory(r),n=nl(r)}else e.useExisting?(t=e=>e,n=[Gc.fromKey(Wc.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map((e=>[e]));return t.map((t=>rl(e,t,n)))}return nl(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=Zc);return new Qc(t,n)}function Xc(e){return new Yc(Wc.get(e.provide),[Jc(e)],e.multi||!1)}function el(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],s=t.get(r.key.id);if(s){if(r.multiProvider!==s.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${s} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)s.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new Yc(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(tl(e,[]).map(Xc),new Map);return Array.from(t.values())}function tl(e,t){return e.forEach((e=>{if(e instanceof us)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);tl(e,t)}})),t}function nl(e){const t=Os().parameters(e);if(!t)return[];if(t.some((e=>null==e)))throw zc(e,t);return t.map((n=>rl(e,n,t)))}function rl(e,t,n){let r=null,s=!1;if(!Array.isArray(t))return sl(t instanceof Es?t.token:t,s,null);let i=null;for(let e=0;e<t.length;++e){const n=t[e];n instanceof us?r=n:n instanceof Es?r=n.token:n instanceof Ts?s=!0:n instanceof ks||n instanceof Ms?i=n:n instanceof Xr&&(r=n)}if(r=g(r),null!=r)return sl(r,s,i);throw zc(e,n)}function sl(e,t,n){return new Gc(Wc.get(e),t,n)}const il={};class ol{static resolve(e){return el(e)}static resolveAndCreate(e,t){const n=ol.resolve(e);return ol.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new al(e,t)}}class al{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let t=0;t<n;t++)this.keyIds[t]=e[t].key.id,this.objs[t]=il}get(e,t=oe){return this._getByKey(Wc.get(e),null,t)}resolveAndCreateChild(e){const t=ol.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new al(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(ol.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw this,Hc(this,e.key,(function(e){return`Cannot instantiate cyclic dependency!${Bc(e)}`}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,s;try{r=t.dependencies.map((e=>this._getByReflectiveDependency(e)))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{s=n(...r)}catch(t){throw this,i=t,t.stack,Hc(this,e.key,(function(e){const t=u(e[0].token);return`${i.message}: Error during instantiation of ${t}!${Bc(e)}.`}),i)}var i;return s}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:oe)}_getByKey(e,t,n){return e===al.INJECTOR_KEY?this:t instanceof ks?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===il&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return il}_throwOrNull(e,t){if(t!==oe)return t;throw function(e,t){return Hc(e,t,(function(e){return`No provider for ${u(e[0].token)}!${Bc(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==il?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof Ms?this.parent:this;r instanceof al;){const t=r,n=t._getObjByKeyId(e.id);if(n!==il)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let t=0;t<e._providers.length;++t)n[t]=' "'+e.getProviderAtIndex(t).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}function cl(e,t=ee.Default){const n=yn();return null===n?(ngDevMode&&(ngDevMode&&A(te,cl,"Calling ɵɵinject would cause infinite recursion")),ge(e,t)):Fr(Cn(),n,g(e),t)}function ll(){const e=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(e)}function ul(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],i=n[r+1];if(-1!==i){const n=e.data[i];ngDevMode&&N(n,"DirectiveDef not found."),ngDevMode&&N(n.contentQueries,"contentQueries function should be defined"),Vn(s),n.contentQueries(2,t[i],i)}}}function hl(e,t,n,r,s,i,o,a,c,l,u){const h=t.blueprint.slice();return h[Ge]=s,h[Ye]=76|r,(null!==u||e&&1024&e[Ye])&&(h[Ye]|=1024),hn(h),ngDevMode&&t.declTNode&&e&&Tt(t.declTNode,e),h[Qe]=h[lt]=e,h[nt]=n,h[st]=o||e&&e[st],ngDevMode&&N(h[st],"RendererFactory is required"),h[it]=a||e&&e[it],ngDevMode&&N(h[it],"Renderer is required"),h[ot]=c||e&&e[ot]||null,h[rt]=l||e&&e[rt]||null,h[et]=i,h[gt]=gi++,h[mt]=u,ngDevMode&&M(2!=t.type||null!==e,!0,"Embedded views must have parentLView"),h[ut]=2==t.type?e[ut]:h,h}function pl(e,t,n,r,s){ngDevMode&&0!==t&&j(t,ft,"TNodes can't be in the LView header."),ngDevMode&&function(e){2!==e&&1!==e&&4!==e&&8!==e&&32!==e&&16!==e&&64!==e&&U(`Expected TNodeType to have only a single type selected, but got ${lr(e)}.`)}(n);let i=e.data[t];if(null===i)i=dl(e,t,n,r,s),dn.lFrame.inI18n&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const o=Sn();i.injectorIndex=null===o?-1:o.injectorIndex,ngDevMode&&kt(i,e),ngDevMode&&M(t,i.index,"Expecting same index")}return xn(i,!0),i}function dl(e,t,n,r,s){const i=_n(),o=In(),a=o?i:i&&i.parent,c=e.data[t]=function(e,t,n,r,s,i){ngDevMode&&0!==r&&j(r,ft,"TNodes can't be in the LView header."),ngDevMode&&O(i,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&ngDevMode.tNode++,ngDevMode&&t&&kt(t,e);const o={type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};return ngDevMode&&Object.seal(o),o}(e,a,n,t,r,s);return null===e.firstChild&&(e.firstChild=c),null!==i&&(o?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}function gl(e,t,n,r){if(0===n)return-1;ngDevMode&&(Lt(e),F(e,t[Ze],"`LView` must be associated with `TView`!"),M(e.data.length,t.length,"Expecting LView to be same size as TView"),M(e.data.length,e.blueprint.length,"Expecting Blueprint to be same size as TView"),jt(e));const s=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function ml(e,t,n){ngDevMode&&M(cn(t),!0,"Should be run in creation mode"),Hn(t);try{const r=e.viewQuery;null!==r&&Gl(1,r,n);const s=e.template;null!==s&&vl(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ul(e,t),e.staticViewQueries&&Gl(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)Hl(e,t[n])}(t,i)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[Ye]&=-5,Gn()}}function fl(e,t,n,r){ngDevMode&&M(cn(t),!1,"Should be run in update mode");const s=t[Ye];if(128==(128&s))return;Hn(t);const i=ngDevMode&&Tn();try{hn(t),Fn(e.bindingStartIndex),null!==n&&vl(e,t,n,2,r);const o=3==(3&s);if(!i)if(o){const n=e.preOrderCheckHooks;null!==n&&nr(t,n,null)}else{const n=e.preOrderHooks;null!==n&&rr(t,n,0,null),sr(t,0)}if(function(e){for(let t=Oi(e);null!==t;t=Ri(t)){if(!t[yt])continue;const e=t[wt];ngDevMode&&N(e,"Transplanted View flags set but missing MOVED_VIEWS");for(let t=0;t<e.length;t++){const n=e[t],r=n[Qe];ngDevMode&&Ot(r),0==(512&n[Ye])&&pn(r,1),n[Ye]|=512}}}(t),function(e){for(let t=Oi(e);null!==t;t=Ri(t))for(let e=Dt;e<t.length;e++){const n=t[e],r=n[Ze];ngDevMode&&N(r,"TView must be allocated"),ln(n)&&fl(r,n,r.template,n[nt])}}(t),null!==e.contentQueries&&ul(e,t),!i)if(o){const n=e.contentCheckHooks;null!==n&&nr(t,n)}else{const n=e.contentHooks;null!==n&&rr(t,n,1),sr(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)Yn(~r);else{const s=r,i=n[++e],o=n[++e];Ln(i,s),o(2,t[s])}}}finally{Yn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)$l(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Gl(2,c,r),!i)if(o){const n=e.viewCheckHooks;null!==n&&nr(t,n)}else{const n=e.viewHooks;null!==n&&rr(t,n,2),sr(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[Ye]&=-41),512&t[Ye]&&(t[Ye]&=-513,pn(t[Qe],-1))}finally{Gn()}}function vl(e,t,n,r,s){const i=Zn(),o=2&r;try{Yn(-1),o&&t.length>ft&&Oc(e,t,ft,!!ngDevMode&&Tn()),Jt(o?2:0,s),n(r,s)}finally{Yn(i),Jt(o?3:1,s)}}function yl(e,t,n){if(St(t)){const r=t.directiveStart,s=t.directiveEnd;for(let t=r;t<s;t++){const r=e.data[t];r.contentQueries&&r.contentQueries(1,n[t],t)}}}function bl(e,t,n){mn()&&(function(e,t,n,r){const s=n.directiveStart,i=n.directiveEnd;xt(n)&&(ngDevMode&&ur(n,3),function(e,t,n){const r=rn(t,e),s=Dl(n),i=e[st],o=ql(e,hl(e,s,null,n.onPush?32:16,r,t,i,i.createRenderer(r,n),null,null,null));e[t.index]=o}(t,n,e.data[s+n.componentOffset])),e.firstCreatePass||xr(n,t),Di(r,t);const o=n.initialInputs;for(let r=s;r<i;r++){const i=e.data[r],a=Lr(t,e,r,n);Di(a,t),null!==o&&Nl(t,r-s,a,i,n,o),Et(i)&&(an(n.index,t)[nt]=Lr(t,e,r,n))}}(e,t,n,rn(n,t)),64==(64&n.flags)&&Al(e,t,n))}function wl(e,t,n=rn){const r=t.localNames;if(null!==r){let s=t.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?n(t,e):e[o];e[s++]=a}}}function Dl(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=Cl(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts)}return t}function Cl(e,t,n,r,s,i,o,a,c,l){ngDevMode&&ngDevMode.tView++;const u=ft+r,h=u+s,p=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ac);return n}(u,h),d="function"==typeof l?l():l,g=p[Ze]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:d,incompleteFirstPass:!1};return ngDevMode&&Object.seal(g),g}function _l(e,t,n,r){const s=Yl(t);null===n?(ngDevMode&&Object.freeze(Ql(e)),s.push(r)):(s.push(n),e.firstCreatePass&&Ql(e).push(r,s.length-1))}function Sl(e,t,n,r){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const i=e[s];null===r?xl(n,t,s,i):r.hasOwnProperty(s)&&xl(n,t,r[s],i)}return n}function xl(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Il(e,t,n,r,s,i,o,a){ngDevMode&&O(s,Ac,"Incoming value should never be NO_CHANGE.");const c=rn(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[r])?(eu(e,n,l,r,s),xt(t)&&El(n,t.index),ngDevMode&&function(e,t,n,r,s){if(7&n)for(let i=0;i<r.length;i+=2)Tl(e,t,n,r[i+1],s)}(n,c,t.type,l,s)):3&t.type?(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,ngDevMode&&(function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`;throw new b(306,t)}}(r),function(e,t,n,r){return!(null!==r&&!(ai(r,n)||t in e||dr(t))&&"undefined"!=typeof Node&&null!==Node&&e instanceof Node)}(c,r,t.value,e.schemas)||ti(r,t.value,t.type,n),ngDevMode.rendererSetProperty++),s=null!=o?o(s,t.value||"",r):s,i.setProperty(c,r,s)):12&t.type&&ngDevMode&&!ai(e.schemas,t.value)&&ti(r,t.value,t.type,n)}function El(e,t){ngDevMode&&Pt(e);const n=an(t,e);16&n[Ye]||(n[Ye]|=32)}function Tl(e,t,n,r,s){const i=e[it];var o;o=r.replace(/[$@]/g,"_"),r=`ng-reflect-${o.replace(uc,((...e)=>"-"+e[1].toLowerCase()))}`;const a=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(s);if(3&n)null==s?i.removeAttribute(t,r):i.setAttribute(t,r,a);else{const e=pi(`bindings=${JSON.stringify({[r]:a},null,2)}`);i.setValue(t,e)}}function kl(e,t,n,r){ngDevMode&&Lt(e);let s=!1;if(mn()){const i=null===r?null:{"":-1},o=function(e,t){ngDevMode&&Lt(e),ngDevMode&&ur(t,15);const n=e.directiveRegistry;let r=null,s=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];if(Ec(t,o.selectors,!1))if(r||(r=[]),Et(o))if(ngDevMode&&(ur(t,2,`"${t.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${u(o.type)} component.`),xt(t)&&vc(t,r.find(Et).type,o.type)),null!==o.findHostDirectiveDefs){const n=[];s=s||new Map,o.findHostDirectiveDefs(o,n,s),r.unshift(...n,o),Ol(e,t,n.length)}else r.unshift(o),Ol(e,t,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,r,s),r.push(o)}return null===r?null:[r,s]}(e,n);let a,c;null===o?a=c=null:[a,c]=o,null!==a&&(s=!0,Ml(e,t,n,a,i,c)),i&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=n[t[e+1]];if(null==s)throw new b(-301,ngDevMode&&`Export of name '${t[e+1]}' not found!`);r.push(t[e],s)}}}(n,r,i)}return n.mergedAttrs=gr(n.mergedAttrs,n.attrs),s}function Ml(e,t,n,r,s,i){ngDevMode&&Lt(e);for(let s=0;s<r.length;s++)kr(xr(n,t),e,r[s].type);!function(e,t,n){ngDevMode&&A(n,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}let o=!1,a=!1,c=gl(e,t,r.length,null);ngDevMode&&F(c,n.directiveStart,"TNode.directiveStart should point to just allocated space");for(let i=0;i<r.length;i++){const l=r[i];n.mergedAttrs=gr(n.mergedAttrs,l.hostAttrs),Pl(e,n,t,c,l),Rl(c,l,s),null!==l.contentQueries&&(n.flags|=4),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=64);const u=l.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),o=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t,n){ngDevMode&&Lt(e);const r=t.directiveStart,s=t.directiveEnd,i=e.data,o=t.attrs,a=[];let c=null,l=null;for(let e=r;e<s;e++){const r=i[e],s=n?n.get(r):null,u=s?s.inputs:null,h=s?s.outputs:null;c=Sl(r.inputs,e,c,u),l=Sl(r.outputs,e,l,h);const p=null===c||null===o||Cc(t)?null:Ul(c,e,o);a.push(p)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,i)}function Al(e,t,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,o=dn.lFrame.currentDirectiveIndex;try{Yn(i);for(let n=r;n<s;n++){const r=e.data[n],s=t[n];jn(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fl(r,s)}}finally{Yn(-1),jn(o)}}function Fl(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ol(e,t,n){ngDevMode&&Lt(e),ngDevMode&&L(n,-1,"componentOffset must be great than -1"),t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function Rl(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Et(t)&&(n[""]=e)}}function Pl(e,t,n,r,s){ngDevMode&&j(r,ft,"Must be in Expando section"),e.data[r]=s;const i=s.factory||(s.factory=Bt(s.type,!0)),o=new cr(i,Et(s),cl);e.blueprint[r]=o,n[r]=o,function(e,t,n,r,s){ngDevMode&&Lt(e);const i=s.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=o&&s.push(o),s.push(n,r,i)}}(e,t,r,gl(e,n,s.hostVars,Ac),s)}function Ll(e,t,n,r,s,i){ngDevMode&&(O(r,Ac,"Incoming value should never be NO_CHANGE."),function(e){if(e.toLowerCase().startsWith("on")){const t=`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`;throw new b(306,t)}}(n),ur(e,2,`Attempted to set attribute \`${n}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const o=rn(e,t);jl(t[it],o,i,e.value,n,r,s)}function jl(e,t,n,r,s,i,o){if(null==i)ngDevMode&&ngDevMode.rendererRemoveAttribute++,e.removeAttribute(t,s,n);else{ngDevMode&&ngDevMode.rendererSetAttribute++;const a=null==o?D(i):o(i,r||"",s);e.setAttribute(t,s,a,n)}}function Nl(e,t,n,r,s,i){const o=i[t];if(null!==o){const t=r.setInput;for(let i=0;i<o.length;){const a=o[i++],c=o[i++],l=o[i++];null!==t?r.setInput(n,l,a,c):n[c]=l,ngDevMode&&Tl(e,rn(s,e),s.type,c,l)}}}function Ul(e,t,n){let r=null,s=0;for(;s<n.length;){const i=n[s];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const o=e[i];for(let e=0;e<o.length;e+=2)if(o[e]===t){r.push(i,o[e+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function Vl(e,t,n,r){ngDevMode&&Pt(t);const s=[e,!0,!1,t,null,0,r,n,null,null];return ngDevMode&&M(s.length,Dt,"Should allocate correct number of slots for LContainer header."),s}function $l(e,t){ngDevMode&&M(cn(e),!1,"Should be run in update mode");const n=an(t,e);if(ln(n)){const e=n[Ze];48&n[Ye]?fl(e,n,e.template,n[nt]):n[Xe]>0&&Bl(n)}}function Bl(e){for(let t=Oi(e);null!==t;t=Ri(t))for(let e=Dt;e<t.length;e++){const n=t[e];if(ln(n))if(512&n[Ye]){const e=n[Ze];ngDevMode&&N(e,"TView must be allocated"),fl(e,n,e.template,n[nt])}else n[Xe]>0&&Bl(n)}const t=e[Ze].components;if(null!==t)for(let n=0;n<t.length;n++){const r=an(t[n],e);ln(r)&&r[Xe]>0&&Bl(r)}}function Hl(e,t){ngDevMode&&M(cn(e),!0,"Should be run in creation mode");const n=an(t,e),r=n[Ze];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),ml(r,n,n[nt])}function ql(e,t){return e[at]?e[ct][Je]=t:e[at]=t,e[ct]=t,t}function zl(e){for(;e;){e[Ye]|=32;const t=Ai(e);if(0!=(256&e[Ye])&&!t)return e;e=t}return null}function Wl(e,t,n,r=!0){const s=t[st],i=!!ngDevMode&&Tn();!i&&s.begin&&s.begin();try{fl(e,t,e.template,n)}catch(e){throw r&&Xl(t,e),e}finally{!i&&s.end&&s.end()}}function Kl(e,t,n,r=!0){kn(!0);try{Wl(e,t,n,r)}finally{kn(!1)}}function Gl(e,t,n){ngDevMode&&N(t,"View queries function to execute must be defined."),Vn(0),t(e,n)}function Zl(e,t,n,r,...s){if(null===e[r]&&(null==t.inputs||!t.inputs[n])){(t.propertyBindings||(t.propertyBindings=[])).push(r);let i=n;s.length>0&&(i+=gc+s.join(gc)),e[r]=i}}function Yl(e){return e[tt]||(e[tt]=[])}function Ql(e){return e.cleanup||(e.cleanup=[])}function Jl(e,t,n){return(null===e||Et(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[vt])return e;e=e[Ge]}return null}(n[t.index])),n[it]}function Xl(e,t){const n=e[rt],r=n?n.get(lc,null):null;r&&r.handleError(t)}function eu(e,t,n,r,s){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=t[o];ngDevMode&&$(t,o);const l=e.data[o];null!==l.setInput?l.setInput(c,s,r,a):c[a]=s}}function tu(e,t,n){ngDevMode&&k(n,"Value should be a string"),ngDevMode&&O(n,Ac,"value should not be NO_CHANGE"),ngDevMode&&$(e,t);const r=nn(t,e);ngDevMode&&N(r,"native element should exist"),Ni(e[it],r,n)}function nu(e,t,n){ngDevMode&&Lt(bn(),"Expecting to be called in first template pass only");let r=n?e.styles:null,s=n?e.classes:null,i=0;if(null!==t)for(let e=0;e<t.length;e++){const n=t[e];"number"==typeof n?i=n:1==i?s=h(s,n):2==i&&(r=h(r,n+": "+t[++e]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function ru(e,t,n,r,s=!1){for(;null!==n;){ngDevMode&&ur(n,63);const i=t[n.index];if(null!==i&&r.push(tn(i)),_t(i))for(let e=Dt;e<i.length;e++){const t=i[e],n=t[Ze].firstChild;null!==n&&ru(t[Ze],t,n,r)}const o=n.type;if(8&o)ru(e,t,n.child,r);else if(32&o){const e=Mi(n,t);let s;for(;s=e();)r.push(s)}else if(16&o){const e=ao(t,n);if(Array.isArray(e))r.push(...e);else{const n=Ai(t[ut]);ngDevMode&&Vt(n),ru(n[Ze],n,e,r,!0)}}n=s?n.projectionNext:n.next}return r}al.INJECTOR_KEY=Wc.get($c);class su{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[Ze];return ru(t,e,t.firstChild,[])}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return 128==(128&this._lView[Ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qe];if(_t(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ngDevMode&&M(n,e.indexOf(this._lView)-Dt,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),Bi(e,n),ms(t,n))}this._attachedToViewContainer=!1}Hi(this._lView[Ze],this._lView)}onDestroy(e){_l(this._lView[Ze],this._lView,null,e)}markForCheck(){zl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-65}reattach(){this._lView[Ye]|=64}detectChanges(){Wl(this._lView[Ze],this._lView,this.context)}checkNoChanges(){ngDevMode&&Kl(this._lView[Ze],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new b(902,ngDevMode&&"This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ho(this._lView[Ze],e=this._lView,e[it],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,ngDevMode&&"This view is already attached to a ViewContainer!");this._appRef=e}}class iu extends su{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Wl(e[Ze],e,e[nt],!1)}checkNoChanges(){if(ngDevMode){const e=this._view;Kl(e[Ze],e,e[nt],!1)}}get context(){return null}}class ou extends Qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){ngDevMode&&function(e,t="Type passed in is not ComponentType, it does not have 'ɵcmp' property."){He(e)||U(t)}(e);const t=He(e);return new lu(t,this.ngModule)}}function au(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}class cu{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){n=ve(n);const r=this.injector.get(e,oc,n);return r!==oc||t===oc?r:this.parentInjector.get(e,t,n)}}class lu extends Za{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Mc).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return au(this.componentDef.inputs)}get outputs(){return au(this.componentDef.outputs)}create(e,t,n,r){let s=(r=r||this.ngModule)instanceof Ba?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const i=s?new cu(e,s):e,o=i.get(tc,null);if(null===o)throw new b(407,ngDevMode&&"Angular was not able to inject a renderer (RendererFactory2). Likely this is due to a broken DI hierarchy. Make sure that any injector used to create this component has a correct parent.");const a=i.get(rc,null),c=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(e,t,n){const r=n===_e.ShadowDom;return e.selectRootElement(t,r)}(c,n,this.componentDef.encapsulation):Vi(c,l,function(e){const t=e.toLowerCase();return"svg"===t?Xt:"math"===t?en:null}(l)),h=this.componentDef.onPush?288:272,p=Cl(0,null,null,1,0,null,null,null,null,null),d=hl(null,p,null,h,null,null,o,c,a,i,null);let g,m;Hn(d);try{const e=this.componentDef;let r,s=null;e.findHostDirectiveDefs?(r=[],s=new Map,e.findHostDirectiveDefs(e,r,s),r.push(e)):r=[e];const i=function(e,t,n,r,s,i,o,a){const c=s[Ze];!function(e,t,n,r){for(const n of e)t.mergedAttrs=gr(t.mergedAttrs,n.hostAttrs);null!==t.mergedAttrs&&(nu(t,t.mergedAttrs,!0),null!==n&&mo(r,n,t))}(r,e,t,o);const l=i.createRenderer(t,n),u=hl(s,Dl(n),null,n.onPush?32:16,s[e.index],e,i,l,null,null,null);return c.firstCreatePass&&Ol(c,e,r.length-1),ql(s,u),s[e.index]=u}(function(e,t){const n=e[Ze],r=ft;return ngDevMode&&$(e,r),e[r]=t,pl(n,r,2,"#host",null)}(d,u),u,e,r,d,o,c);m=sn(p,ft),u&&function(e,t,n,r){if(r)hr(e,n,["ng-version",ic.full]);else{const{attrs:r,classes:s}=function(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===s?""!==i&&t.push(i,e[++r]):8===s&&n.push(i);else{if(!xc(s))break;s=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);r&&hr(e,n,r),s&&s.length>0&&go(e,n,s.join(" "))}}(c,e,u,n),void 0!==t&&function(e,t,n){const r=e.projection=[];for(let e=0;e<t.length;e++){const t=n[e];r.push(null!=t?Array.from(t):null)}}(m,this.ngContentSelectors,t),g=function(e,t,n,r,s,i){const o=Cn();ngDevMode&&N(o,"tNode should have been already created");const a=s[Ze],c=rn(o,s);Ml(a,s,o,n,null,r);for(let e=0;e<n.length;e++)Di(Lr(s,a,o.directiveStart+e,o),s);Al(a,s,o),c&&Di(c,s),ngDevMode&&L(o.componentOffset,-1,"componentOffset must be great than -1");const l=Lr(s,a,o.directiveStart+o.componentOffset,o);if(e[nt]=s[nt]=l,null!==i)for(const e of i)e(l,t);return yl(a,o,e),l}(i,e,r,s,d,[hu]),ml(p,d,null)}finally{Gn()}return new uu(this.componentType,g,Ja(m,d),d,m)}}class uu extends Ga{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new iu(r),this.componentType=e}setInput(e,t){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[e])){const n=this._rootLView;eu(n[Ze],n,r,e,t),El(n,this._tNode.index)}else if(ngDevMode){let t=`Can't set value of the '${e}' input on the '${C(this.componentType)}' component. `;t+=`Make sure that the '${e}' property is annotated with @Input() or a mapped @Input('${e}') exists.`,ni(t)}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function hu(){const e=Cn();ngDevMode&&N(e,"TNode is required"),tr(yn()[Ze],e)}function pu(e){return Object.getPrototypeOf(e.prototype).constructor}function du(e){let t=pu(e.type),n=!0;const r=[e];for(;t;){let s;if(Et(e))s=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp)throw new b(903,ngDevMode&&`Directives cannot inherit Components. Directive ${C(e.type)} is attempting to extend component ${C(t)}`);s=t.ɵdir}if(s){if(n){r.push(s);const t=e;t.inputs=gu(e.inputs),t.declaredInputs=gu(e.declaredInputs),t.outputs=gu(e.outputs);const n=s.hostBindings;n&&vu(e,n);const i=s.viewQuery,o=s.contentQueries;if(i&&mu(e,i),o&&fu(e,o),l(e.inputs,s.inputs),l(e.declaredInputs,s.declaredInputs),l(e.outputs,s.outputs),Et(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}}const t=s.features;if(t)for(let r=0;r<t.length;r++){const s=t[r];s&&s.ngInherit&&s(e),s===du&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=gr(s.hostAttrs,n=gr(n,s.hostAttrs))}}(r)}function gu(e){return e===xe?{}:e===Ie?[]:e}function mu(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function fu(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,s)=>{t(e,r,s),n(e,r,s)}:t}function vu(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const yu=["providersResolver"],bu=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function wu(e){let t,n=pu(e.type);t=Et(e)?n.ɵcmp:n.ɵdir;const r=e;for(const e of yu)r[e]=t[e];if(Et(t))for(const e of bu)r[e]=t[e]}function Du(e){return t=>{t.findHostDirectiveDefs=Cu,t.hostDirectives=(Array.isArray(e)?e:e()).map((e=>"function"==typeof e?{directive:g(e),inputs:xe,outputs:xe}:{directive:g(e.directive),inputs:_u(e.inputs),outputs:_u(e.outputs)}))}}function Cu(e,t,n){if(null!==e.hostDirectives)for(const r of e.hostDirectives){const e=qe(r.directive);("undefined"==typeof ngDevMode||ngDevMode)&&xu(r,e,t),Su(e.declaredInputs,r.inputs),Cu(e,t,n),n.set(e,r),t.push(e)}}function _u(e){if(void 0===e||0===e.length)return xe;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function Su(e,t){for(const n in t)if(t.hasOwnProperty(n)){const r=t[n],s=e[n];("undefined"==typeof ngDevMode||ngDevMode)&&e.hasOwnProperty(r)&&M(e[r],e[n],`Conflicting host directive input alias ${n}.`),e[r]=s}}function xu(e,t,n){const r=e.directive;if(null===t){if(null!==He(r))throw new b(310,`Host directive ${r.name} cannot be a component.`);throw new b(307,`Could not resolve metadata for host directive ${r.name}. Make sure that the ${r.name} class is annotated with an @Directive decorator.`)}if(!t.standalone)throw new b(308,`Host directive ${t.type.name} must be standalone.`);if(n.indexOf(t)>-1)throw new b(309,`Directive ${t.type.name} matches multiple times on the same element. Directives can only match an element once.`);Iu("input",t,e.inputs),Iu("output",t,e.outputs)}function Iu(e,t,n){const r=t.type.name,s="input"===e?t.inputs:t.outputs;for(const t in n)if(n.hasOwnProperty(t)){if(!s.hasOwnProperty(t))throw new b(311,`Directive ${r} does not have an ${e} with a public name of ${t}.`);const i=n[t];if(s.hasOwnProperty(i)&&s[i]!==t)throw new b(312,`Cannot alias ${e} ${t} of host directive ${r} to ${i}, because it already has a different ${e} with the same public name.`)}}let Eu=null;function Tu(){if(!Eu){const e=se.Symbol;if(e&&e.iterator)Eu=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Eu=n)}}}return Eu}function ku(e){return!!Mu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Tu()in e)}function Mu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Au(e,t){const n=ku(e),r=ku(t);return n&&r?function(e,t,n){const r=e[Tu()](),s=t[Tu()]();for(;;){const e=r.next(),t=s.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Au):!(n||!e||"object"!=typeof e&&"function"!=typeof e||r||!t||"object"!=typeof t&&"function"!=typeof t)||Object.is(e,t)}function Fu(e,t,n){return e[t]=n}function Ou(e,t){return ngDevMode&&$(e,t),ngDevMode&&O(e[t],Ac,"Stored value should never be NO_CHANGE."),e[t]}function Ru(e,t,n){ngDevMode&&O(n,Ac,"Incoming value should never be NO_CHANGE."),ngDevMode&&R(t,e.length,"Slot should have been initialized to NO_CHANGE");const r=e[t];if(Object.is(r,n))return!1;if(ngDevMode&&Tn()){const s=r!==Ac?r:void 0;if(!Au(s,n)){const i=function(e,t,n,r){const s=e[Ze].data,i=s[t];if("string"==typeof i)return i.indexOf(gc)>-1?yc(e,t,t,i,r):{propName:i,oldValue:n,newValue:r};if(null===i){let n=t-1;for(;"string"!=typeof s[n]&&null===s[n+1];)n--;const i=s[n];if("string"==typeof i){const s=i.match(new RegExp(gc,"g"));if(s&&s.length-1>t-n)return yc(e,n,t,i,r)}}return{propName:void 0,oldValue:n,newValue:r}}(e,t,s,n);!function(e,t,n,r){let s=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${r?` for '${r}'`:""}: '${t}'. Current value: '${n}'.`;throw e&&(s+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new b(-100,s)}(r===Ac,i.oldValue,i.newValue,i.propName)}return!1}return e[t]=n,!0}function Pu(e,t,n,r){const s=Ru(e,t,n);return Ru(e,t+1,r)||s}function Lu(e,t,n,r,s){const i=Pu(e,t,n,r);return Ru(e,t+2,s)||i}function ju(e,t,n,r,s,i){const o=Pu(e,t,n,r);return Pu(e,t+2,s,i)||o}function Nu(e,t,n,r){const s=yn(),i=On();if(Ru(s,i,t)){const o=bn(),a=Qn();Ll(a,s,e,t,n,r),ngDevMode&&Zl(o.data,a,"attr."+e,i)}return Nu}function Uu(e,t){ngDevMode&&R(2,t.length,"should have at least 3 values"),ngDevMode&&M(t.length%2,1,"should have an odd number of values");let n=!1,r=An();for(let s=1;s<t.length;s+=2)n=Ru(e,r++,t[s])||n;if(Fn(r),!n)return Ac;let s=t[0];for(let e=1;e<t.length;e+=2)s+=D(t[e])+t[e+1];return s}function Vu(e,t,n,r){return Ru(e,On(),n)?t+D(n)+r:Ac}function $u(e,t,n,r,s,i){const o=Pu(e,An(),n,s);return Rn(2),o?t+D(n)+r+D(s)+i:Ac}function Bu(e,t,n,r,s,i,o,a){const c=Lu(e,An(),n,s,o);return Rn(3),c?t+D(n)+r+D(s)+i+D(o)+a:Ac}function Hu(e,t,n,r,s,i,o,a,c,l){const u=ju(e,An(),n,s,o,c);return Rn(4),u?t+D(n)+r+D(s)+i+D(o)+a+D(c)+l:Ac}function qu(e,t,n,r,s,i,o,a,c,l,u,h){const p=An();let d=ju(e,p,n,s,o,c);return d=Ru(e,p+4,u)||d,Rn(5),d?t+D(n)+r+D(s)+i+D(o)+a+D(c)+l+D(u)+h:Ac}function zu(e,t,n,r,s,i,o,a,c,l,u,h,p,d){const g=An();let m=ju(e,g,n,s,o,c);return m=Pu(e,g+4,u,p)||m,Rn(6),m?t+D(n)+r+D(s)+i+D(o)+a+D(c)+l+D(u)+h+D(p)+d:Ac}function Wu(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m){const f=An();let v=ju(e,f,n,s,o,c);return v=Lu(e,f+4,u,p,g)||v,Rn(7),v?t+D(n)+r+D(s)+i+D(o)+a+D(c)+l+D(u)+h+D(p)+d+D(g)+m:Ac}function Ku(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v){const y=An();let b=ju(e,y,n,s,o,c);return b=ju(e,y+4,u,p,g,f)||b,Rn(8),b?t+D(n)+r+D(s)+i+D(o)+a+D(c)+l+D(u)+h+D(p)+d+D(g)+m+D(f)+v:Ac}function Gu(e,t,n,r,s,i){const o=yn(),a=Vu(o,t,n,r);if(a!==Ac){const n=Qn();Ll(n,o,e,a,s,i),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-1,t,r)}return Gu}function Zu(e,t,n,r,s,i,o,a){const c=yn(),l=$u(c,t,n,r,s,i);if(l!==Ac){const n=Qn();Ll(n,c,e,l,o,a),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-2,t,r,i)}return Zu}function Yu(e,t,n,r,s,i,o,a,c,l){const u=yn(),h=Bu(u,t,n,r,s,i,o,a);if(h!==Ac){const n=Qn();Ll(n,u,e,h,c,l),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-3,t,r,i,a)}return Yu}function Qu(e,t,n,r,s,i,o,a,c,l,u,h){const p=yn(),d=Hu(p,t,n,r,s,i,o,a,c,l);if(d!==Ac){const n=Qn();Ll(n,p,e,d,u,h),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-4,t,r,i,a,l)}return Qu}function Ju(e,t,n,r,s,i,o,a,c,l,u,h,p,d){const g=yn(),m=qu(g,t,n,r,s,i,o,a,c,l,u,h);if(m!==Ac){const n=Qn();Ll(n,g,e,m,p,d),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-5,t,r,i,a,l,h)}return Ju}function Xu(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m){const f=yn(),v=zu(f,t,n,r,s,i,o,a,c,l,u,h,p,d);if(v!==Ac){const n=Qn();Ll(n,f,e,v,g,m),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-6,t,r,i,a,l,h,d)}return Xu}function eh(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v){const y=yn(),b=Wu(y,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m);if(b!==Ac){const n=Qn();Ll(n,y,e,b,f,v),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-7,t,r,i,a,l,h,d,m)}return eh}function th(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v,y,b){const w=yn(),D=Ku(w,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v);if(D!==Ac){const n=Qn();Ll(n,w,e,D,y,b),ngDevMode&&Zl(bn().data,n,"attr."+e,An()-8,t,r,i,a,l,h,d,m,v)}return th}function nh(e,t,n,r){const s=yn(),i=Uu(s,t);if(i!==Ac){const o=Qn();if(Ll(o,s,e,i,n,r),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Zl(bn().data,o,"attr."+e,An()-n.length+1,...n)}}return nh}function rh(e){const t=bi(e);Wl(t[Ze],t,e)}function sh(e,t,n,r,s,i,o,a){const c=yn(),l=bn(),u=e+ft,h=l.firstCreatePass?function(e,t,n,r,s,i,o,a,c){ngDevMode&&Lt(t),ngDevMode&&ngDevMode.firstCreatePass++;const l=t.consts,u=pl(t,e,4,o||null,un(l,a));kl(t,n,u,un(l,c)),tr(t,u);const h=u.tViews=Cl(2,u,r,s,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,s,i,o):l.data[u];xn(h,!1);const p=c[it].createComment(ngDevMode?"container":"");io(l,c,p,h),Di(p,c),ql(c,c[u]=Vl(p,c,p,h)),It(h)&&bl(l,c,h),null!=o&&wl(c,h,a)}function ih(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function oh(e){return on(function(){const e=dn.lFrame.contextLView;return ngDevMode&&N(e,"contextLView must be defined."),e}(),ft+e)}function ah(e,t,n){const r=yn(),s=On();if(Ru(r,s,t)){const i=bn(),o=Qn();Il(i,o,r,e,t,r[it],n,!1),ngDevMode&&Zl(i.data,o,e,s)}return ah}function ch(e,t,n,r,s){const i=s?"class":"style";eu(e,n,t.inputs[i],i,r)}function lh(e,t,n,r){const s=yn(),i=bn(),o=ft+e;ngDevMode&&M(An(),i.bindingStartIndex,"elements should be created before any bindings"),ngDevMode&&$(s,o);const a=s[it],c=s[o]=Vi(a,t,dn.lFrame.currentNamespace),l=i.firstCreatePass?function(e,t,n,r,s,i,o){ngDevMode&&Lt(t),ngDevMode&&ngDevMode.firstCreatePass++;const a=t.consts,c=pl(t,e,2,s,un(a,i)),l=kl(t,n,c,un(a,o));return ngDevMode&&function(e,t,n,r,s){if(null!==r&&!s&&null!==n&&("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&e instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&n.indexOf("-")>-1&&!customElements.get(n))&&!ai(r,n)){const e=si(t),r=`'${e?"@Component":"@NgModule"}.schemas'`;let s=`'${n}' is not a known element${ii(t)}:\n`;if(s+=`1. If '${n}' is an Angular component, then verify that it is ${e?"included in the '@Component.imports' of this component":"a part of an @NgModule where this component is declared"}.\n`,n&&n.indexOf("-")>-1?s+=`2. If '${n}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the ${r} of this component to suppress this message.`:s+=`2. To allow any element add 'NO_ERRORS_SCHEMA' to the ${r} of this component.`,Zs)throw new b(304,s);console.error(w(304,s))}}(r,n,c.value,t.schemas,l),null!==c.attrs&&nu(c,c.attrs,!1),null!==c.mergedAttrs&&nu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,i,s,c,t,n,r):i.data[o];return xn(l,!0),mo(a,c,l),32!=(32&l.flags)&&io(i,s,c,l),0===dn.lFrame.elementDepthCount&&Di(c,s),dn.lFrame.elementDepthCount++,It(l)&&(bl(i,s,l),yl(i,l,s)),null!==r&&wl(s,l),lh}function uh(){let e=Cn();ngDevMode&&N(e,"No parent node to close."),In()?En():(ngDevMode&&Ft(Cn()),e=e.parent,xn(e,!1));const t=e;ngDevMode&&ur(t,3),dn.lFrame.elementDepthCount--;const n=bn();return n.firstCreatePass&&(tr(n,e),St(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(8&e.flags)}(t)&&ch(n,t,yn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ch(n,t,yn(),t.stylesWithoutHost,!1),uh}function hh(e,t,n,r){return lh(e,t,n,r),uh(),hh}function ph(e,t,n){const r=yn(),s=bn(),i=e+ft;ngDevMode&&$(r,i),ngDevMode&&M(An(),s.bindingStartIndex,"element containers should be created before any bindings");const o=s.firstCreatePass?function(e,t,n,r,s){ngDevMode&&ngDevMode.firstCreatePass++;const i=t.consts,o=un(i,r),a=pl(t,e,8,"ng-container",o);return null!==o&&nu(a,o,!0),kl(t,n,a,un(i,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,s,r,t,n):s.data[i];xn(o,!0),ngDevMode&&ngDevMode.rendererCreateComment++;const a=r[i]=r[it].createComment(ngDevMode?"ng-container":"");return io(s,r,a,o),Di(a,r),It(o)&&(bl(s,r,o),yl(s,o,r)),null!=n&&wl(r,o),ph}function dh(){let e=Cn();const t=bn();return In()?En():(ngDevMode&&Ft(e),e=e.parent,xn(e,!1)),ngDevMode&&ur(e,8),t.firstCreatePass&&(tr(t,e),St(e)&&t.queries.elementEnd(e)),dh}function gh(e,t,n){return ph(e,t,n),dh(),gh}function mh(){return yn()}function fh(e){return!!e&&"function"==typeof e.then}function vh(e){return!!e&&"function"==typeof e.subscribe}const yh=vh;function bh(e,t,n,r){const s=yn(),i=bn(),o=Cn();return Dh(i,s,s[it],o,e,t,r),bh}function wh(e,t){const n=Cn(),r=yn(),s=bn();return Dh(s,r,Jl(Nn(s.data),n,r),n,e,t),wh}function Dh(e,t,n,r,s,i,o){const a=It(r),c=e.firstCreatePass&&Ql(e),l=t[nt],u=Yl(t);ngDevMode&&ur(r,15);let h=!0;if(3&r.type||o){const p=rn(r,t),d=o?o(p):p,g=u.length,m=o?e=>o(tn(e[r.index])):r.index;let f=null;if(!o&&a&&(f=function(e,t,n,r){const s=e.cleanup;if(null!=s)for(let e=0;e<s.length-1;e+=2){const i=s[e];if(i===n&&s[e+1]===r){const n=t[tt],r=s[e+2];return n.length>r?n[r]:null}"string"==typeof i&&(e+=2)}return null}(e,t,s,r.index)),null!==f)(f.__ngLastListenerFn__||f).__ngNextListenerFn__=i,f.__ngLastListenerFn__=i,h=!1;else{i=_h(r,t,l,i,!1);const e=n.listen(d,s,i);ngDevMode&&ngDevMode.rendererAddEventListener++,u.push(i,e),c&&c.push(s,m,g,g+1)}}else i=_h(r,t,l,i,!1);const p=r.outputs;let d;if(h&&null!==p&&(d=p[s])){const e=d.length;if(e)for(let n=0;n<e;n+=2){const e=d[n];ngDevMode&&$(t,e);const o=d[n+1],a=t[e],l=a[o];if(ngDevMode&&!yh(l))throw new Error(`@Output ${o} not initialized in '${a.constructor.name}'.`);const h=l.subscribe(i),p=u.length;u.push(i,h),c&&c.push(s,r.index,p,-(p+1))}}}function Ch(e,t,n,r){try{return Jt(6,t,n),!1!==n(r)}catch(t){return Xl(e,t),!1}finally{Jt(7,t,n)}}function _h(e,t,n,r,s){return function i(o){if(o===Function)return r;zl(e.componentOffset>-1?an(e.index,t):t);let a=Ch(t,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Ch(t,n,c,o)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Sh(e=1){return function(e){return(dn.lFrame.contextLView=function(e,t){for(;e>0;)ngDevMode&&N(t[lt],"Declaration view should be defined if nesting level is greater than 0."),t=t[lt],e--;return t}(e,dn.lFrame.contextLView))[nt]}(e)}function xh(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const i=t[s];if("*"!==i){if(null===r?Ec(e,i,!0):Tc(r,i))return s}else n=s}return n}function Ih(e){const t=yn()[ut][et];if(!t.projection){const n=e?e.length:1,r=t.projection=fs(n,null),s=r.slice();let i=t.child;for(;null!==i;){const t=e?xh(i,e):0;null!==t&&(s[t]?s[t].projectionNext=i:r[t]=i,s[t]=i),i=i.next}}}function Eh(e,t=0,n){const r=yn(),s=bn(),i=pl(s,ft+e,16,null,n||null);null===i.projection&&(i.projection=t),En(),32!=(32&i.flags)&&function(e,t,n){po(t[it],0,t,n,zi(e,n,t),Qi(n.parent||t[et],n,t))}(s,r,i)}function Th(e,t,n){return kh(e,"",t,"",n),Th}function kh(e,t,n,r,s){const i=yn(),o=Vu(i,t,n,r);if(o!==Ac){const n=bn(),a=Qn();Il(n,a,i,e,o,i[it],s,!1),ngDevMode&&Zl(n.data,a,e,An()-1,t,r)}return kh}function Mh(e,t,n,r,s,i,o){const a=yn(),c=$u(a,t,n,r,s,i);if(c!==Ac){const n=bn(),s=Qn();Il(n,s,a,e,c,a[it],o,!1),ngDevMode&&Zl(n.data,s,e,An()-2,t,r,i)}return Mh}function Ah(e,t,n,r,s,i,o,a,c){const l=yn(),u=Bu(l,t,n,r,s,i,o,a);if(u!==Ac){const n=bn(),s=Qn();Il(n,s,l,e,u,l[it],c,!1),ngDevMode&&Zl(n.data,s,e,An()-3,t,r,i,a)}return Ah}function Fh(e,t,n,r,s,i,o,a,c,l,u){const h=yn(),p=Hu(h,t,n,r,s,i,o,a,c,l);if(p!==Ac){const n=bn(),s=Qn();Il(n,s,h,e,p,h[it],u,!1),ngDevMode&&Zl(n.data,s,e,An()-4,t,r,i,a,l)}return Fh}function Oh(e,t,n,r,s,i,o,a,c,l,u,h,p){const d=yn(),g=qu(d,t,n,r,s,i,o,a,c,l,u,h);if(g!==Ac){const n=bn(),s=Qn();Il(n,s,d,e,g,d[it],p,!1),ngDevMode&&Zl(n.data,s,e,An()-5,t,r,i,a,l,h)}return Oh}function Rh(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g){const m=yn(),f=zu(m,t,n,r,s,i,o,a,c,l,u,h,p,d);if(f!==Ac){const n=bn(),s=Qn();Il(n,s,m,e,f,m[it],g,!1),ngDevMode&&Zl(n.data,s,e,An()-6,t,r,i,a,l,h,d)}return Rh}function Ph(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f){const v=yn(),y=Wu(v,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m);if(y!==Ac){const n=bn(),s=Qn();Il(n,s,v,e,y,v[it],f,!1),ngDevMode&&Zl(n.data,s,e,An()-7,t,r,i,a,l,h,d,m)}return Ph}function Lh(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v,y){const b=yn(),w=Ku(b,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v);if(w!==Ac){const n=bn(),s=Qn();Il(n,s,b,e,w,b[it],y,!1),ngDevMode&&Zl(n.data,s,e,An()-8,t,r,i,a,l,h,d,m,v)}return Lh}function jh(e,t,n){const r=yn(),s=Uu(r,t);if(s!==Ac){const i=bn(),o=Qn();if(Il(i,o,r,e,s,r[it],n,!1),ngDevMode){const n=[t[0]];for(let e=2;e<t.length;e+=2)n.push(t[e]);Zl(i.data,o,e,An()-n.length+1,...n)}}return jh}function Nh(e,t){return ngDevMode&&T(e,0,32767),ngDevMode&&T(t,0,32767),e<<17|t<<2}function Uh(e){return ngDevMode&&E(e,"expected number"),e>>17&32767}function Vh(e){return ngDevMode&&E(e,"expected number"),2|e}function $h(e){return ngDevMode&&E(e,"expected number"),(131068&e)>>2}function Bh(e,t){return ngDevMode&&E(e,"expected number"),ngDevMode&&T(t,0,32767),-131069&e|t<<2}function Hh(e){return ngDevMode&&E(e,"expected number"),1|e}function qh(e,t,n,r,s){const i=e[n+1],o=null===t;let a=r?Uh(i):$h(i),c=!1;for(;0!==a&&(!1===c||o);){ngDevMode&&$(e,a);const n=e[a],s=e[a+1];zh(n,t)&&(c=!0,e[a+1]=r?Hh(s):Vh(s)),a=r?Uh(s):$h(s)}c&&(e[n+1]=r?Vh(i):Hh(i))}function zh(e,t){return ngDevMode&&A(Array.isArray(t),!0,"Expected that 'tStylingKey' has been unwrapped"),null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&bs(e,t)>=0}const Wh={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kh(e){return e.substring(Wh.key,Wh.keyEnd)}function Gh(e){return e.substring(Wh.value,Wh.valueEnd)}function Zh(e,t){const n=Wh.textEnd;return n===t?-1:(t=Wh.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Wh.key=t,n),Jh(e,t,n))}function Yh(e,t){const n=Wh.textEnd;let r=Wh.key=Jh(e,t,n);return n===r?-1:(r=Wh.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Xh(e,r,n,58),r=Wh.value=Jh(e,r,n),r=Wh.valueEnd=function(e,t,n){let r=-1,s=-1,i=-1,o=t,a=o;for(;o<n;){const c=e.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=ep(e,c,o,n):t===o-4&&85===i&&82===s&&76===r&&40===c?a=o=ep(e,41,o,n):c>32&&(a=o),i=s,s=r,r=-33&c}return a}(e,r,n),Xh(e,r,n,59))}function Qh(e){Wh.key=0,Wh.keyEnd=0,Wh.value=0,Wh.valueEnd=0,Wh.textEnd=e.length}function Jh(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Xh(e,t,n,r){return(t=Jh(e,t,n))<n&&(ngDevMode&&e.charCodeAt(t)!==r&&tp(e,String.fromCharCode(r),t),t++),t}function ep(e,t,n,r){let s=-1,i=n;for(;i<r;){const n=e.charCodeAt(i++);if(n==t&&92!==s)return i;s=92==n&&92===s?0:n}throw ngDevMode?tp(e,String.fromCharCode(t),r):new Error}function tp(e,t,n){throw ngDevMode&&M("string"==typeof e,!0,"String expected here"),U(`Malformed style at location ${n} in string '`+e.substring(0,n)+"[>>"+e.substring(n,n+1)+"<<]"+e.slice(n+1)+`'. Expecting '${t}'.`)}function np(e,t,n){return cp(e,t,n,!1),np}function rp(e,t){return cp(e,t,null,!0),rp}function sp(e){lp(gp,ip,e,!1)}function ip(e,t){for(let n=function(e){return Qh(e),Yh(e,Jh(e,0,Wh.textEnd))}(t);n>=0;n=Yh(t,n))gp(e,Kh(t),Gh(t))}function op(e){lp(vs,ap,e,!0)}function ap(e,t){for(let n=function(e){return Qh(e),Zh(e,Jh(e,0,Wh.textEnd))}(t);n>=0;n=Zh(t,n))vs(e,Kh(t),!0)}function cp(e,t,n,r){const s=yn(),i=bn(),o=Rn(2);i.firstUpdatePass&&hp(i,e,o,r),t!==Ac&&Ru(s,o,t)&&mp(i,i.data[Zn()],s,s[it],e,s[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Ao(e)))),e}(t,n),r,o)}function lp(e,t,n,r){const s=bn(),i=Rn(2);s.firstUpdatePass&&hp(s,null,i,r);const o=yn();if(n!==Ac&&Ru(o,i,n)){const a=s.data[Zn()];if(yp(a,r)&&!up(s,i)){if(ngDevMode){const e=s.data[i];M(Array.isArray(e)?e[1]:e,!1,"Styling linked list shadow input should be marked as 'false'")}let e=r?a.classesWithoutHost:a.stylesWithoutHost;ngDevMode&&!1===r&&null!==e&&M(e.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==e&&(n=h(e,n||"")),ch(s,a,o,n,r)}else!function(e,t,n,r,s,i,o,a){s===Ac&&(s=Ie);let c=0,l=0,u=0<s.length?s[0]:null,h=0<i.length?i[0]:null;for(;null!==u||null!==h;){ngDevMode&&R(c,999,"Are we stuck in infinite loop?"),ngDevMode&&R(l,999,"Are we stuck in infinite loop?");const p=c<s.length?s[c+1]:void 0,d=l<i.length?i[l+1]:void 0;let g,m=null;u===h?(c+=2,l+=2,p!==d&&(m=h,g=d)):null===h||null!==u&&u<h?(c+=2,m=u):(ngDevMode&&N(h,"Expecting to have a valid key"),l+=2,m=h,g=d),null!==m&&mp(e,t,n,r,m,g,o,a),u=c<s.length?s[c]:null,h=l<i.length?i[l]:null}}(s,a,o,o[it],o[i+1],o[i+1]=function(e,t,n){if(null==n||""===n)return Ie;const r=[],s=Ao(n);if(Array.isArray(s))for(let t=0;t<s.length;t++)e(r,s[t],!0);else if("object"==typeof s)for(const t in s)s.hasOwnProperty(t)&&e(r,t,s[t]);else"string"==typeof s?t(r,s):ngDevMode&&U("Unsupported styling type "+typeof s+": "+s);return r}(e,t,n),r,i)}}function up(e,t){return t>=e.expandoStartIndex}function hp(e,t,n,r){ngDevMode&&jt(e);const s=e.data;if(null===s[n+1]){const i=s[Zn()];ngDevMode&&N(i,"TNode expected");const o=up(e,n);yp(i,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const s=Nn(e);let i=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=dp(n=pp(null,e,t,n,r),t.attrs,r),i=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(n=pp(s,e,t,n,r),null===i){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==$h(r))return e[Uh(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=pp(null,e,t,n[1],r),n=dp(n,t.attrs,r),function(e,t,n,r){const s=n?t.classBindings:t.styleBindings;ngDevMode&&A($h(s),0,"Expecting to have at least one template styling binding."),e[Uh(s)]=r}(e,t,r,n))}else i=function(e,t,n){let r;const s=t.directiveEnd;ngDevMode&&A(t.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let i=1+t.directiveStylingLast;i<s;i++)r=dp(r,e[i].hostAttrs,n);return dp(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(s,i,t,r),function(e,t,n,r,s,i){ngDevMode&&jt(bn());let o=i?t.classBindings:t.styleBindings,a=Uh(o),c=$h(o);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||bs(e,l)>0)&&(u=!0)}else l=n;if(s)if(0!==c){const t=Uh(e[a+1]);e[r+1]=Nh(t,a),0!==t&&(e[t+1]=Bh(e[t+1],r)),e[a+1]=(h=e[a+1],p=r,ngDevMode&&E(h,"expected number"),ngDevMode&&T(p,0,32767),131071&h|p<<17)}else e[r+1]=Nh(a,0),0!==a&&(e[a+1]=Bh(e[a+1],r)),a=r;else e[r+1]=Nh(c,0),ngDevMode&&M(0!==a&&0===c,!1,"Adding template bindings after hostBindings is not allowed."),0===a?a=r:e[c+1]=Bh(e[c+1],r),c=r;var h,p;u&&(e[r+1]=Vh(e[r+1])),qh(e,l,r,!0),qh(e,l,r,!1),function(e,t,n,r,s){const i=s?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&bs(i,t)>=0&&(n[r+1]=Hh(n[r+1]))}(t,l,e,r,i),o=Nh(a,c),i?t.classBindings=o:t.styleBindings=o}(s,i,t,n,o,r)}}function pp(e,t,n,r,s){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=t[a],ngDevMode&&N(i,"expected to be defined"),r=dp(r,i.hostAttrs,s),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function dp(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?s=o:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vs(e,o,!!n||t[++i]))}return void 0===e?null:e}function gp(e,t,n){vs(e,t,Ao(n))}function mp(e,t,n,r,s,i,o,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];var u;vp((u=l,ngDevMode&&E(u,"expected number"),1==(1&u)?fp(c,t,n,s,$h(l),o):void 0))||(vp(i)||function(e){return ngDevMode&&E(e,"expected number"),2==(2&e)}(l)&&(i=fp(c,null,n,s,a,o)),function(e,t,n,r,s){if(t)s?(ngDevMode&&ngDevMode.rendererAddClass++,e.addClass(n,r)):(ngDevMode&&ngDevMode.rendererRemoveClass++,e.removeClass(n,r));else{let t=-1===r.indexOf("-")?void 0:ci.DashCase;null==s?(ngDevMode&&ngDevMode.rendererRemoveStyle++,e.removeStyle(n,r,t)):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),t|=ci.Important),ngDevMode&&ngDevMode.rendererSetStyle++,e.setStyle(n,r,s,t))}}(r,o,nn(Zn(),n),s,i))}function fp(e,t,n,r,s,i){const o=null===t;let a;for(;s>0;){const t=e[s],i=Array.isArray(t),c=i?t[1]:t,l=null===c;let u=n[s+1];u===Ac&&(u=l?Ie:void 0);let h=l?ys(u,r):c===r?u:void 0;if(i&&!vp(h)&&(h=ys(t,r)),vp(h)&&(a=h,o))return a;const p=e[s+1];s=o?Uh(p):$h(p)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=ys(e,r))}return a}function vp(e){return void 0!==e}function yp(e,t){return 0!=(e.flags&(t?8:16))}function bp(e,t=""){const n=yn(),r=bn(),s=e+ft;ngDevMode&&M(An(),r.bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&$(n,s);const i=r.firstCreatePass?pl(r,s,1,t,null):r.data[s],o=n[s]=ji(n[it],t);io(r,n,o,i),xn(i,!1)}function wp(e){return Dp("",e,""),wp}function Dp(e,t,n){const r=yn(),s=Vu(r,e,t,n);return s!==Ac&&tu(r,Zn(),s),Dp}function Cp(e,t,n,r,s){const i=yn(),o=$u(i,e,t,n,r,s);return o!==Ac&&tu(i,Zn(),o),Cp}function _p(e,t,n,r,s,i,o){const a=yn(),c=Bu(a,e,t,n,r,s,i,o);return c!==Ac&&tu(a,Zn(),c),_p}function Sp(e,t,n,r,s,i,o,a,c){const l=yn(),u=Hu(l,e,t,n,r,s,i,o,a,c);return u!==Ac&&tu(l,Zn(),u),Sp}function xp(e,t,n,r,s,i,o,a,c,l,u){const h=yn(),p=qu(h,e,t,n,r,s,i,o,a,c,l,u);return p!==Ac&&tu(h,Zn(),p),xp}function Ip(e,t,n,r,s,i,o,a,c,l,u,h,p){const d=yn(),g=zu(d,e,t,n,r,s,i,o,a,c,l,u,h,p);return g!==Ac&&tu(d,Zn(),g),Ip}function Ep(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g){const m=yn(),f=Wu(m,e,t,n,r,s,i,o,a,c,l,u,h,p,d,g);return f!==Ac&&tu(m,Zn(),f),Ep}function Tp(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f){const v=yn(),y=Ku(v,e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f);return y!==Ac&&tu(v,Zn(),y),Tp}function kp(e){const t=yn(),n=Uu(t,e);return n!==Ac&&tu(t,Zn(),n),kp}function Mp(e,t,n){lp(vs,ap,Vu(yn(),e,t,n),!0)}function Ap(e,t,n,r,s){lp(vs,ap,$u(yn(),e,t,n,r,s),!0)}function Fp(e,t,n,r,s,i,o){lp(vs,ap,Bu(yn(),e,t,n,r,s,i,o),!0)}function Op(e,t,n,r,s,i,o,a,c){lp(vs,ap,Hu(yn(),e,t,n,r,s,i,o,a,c),!0)}function Rp(e,t,n,r,s,i,o,a,c,l,u){lp(vs,ap,qu(yn(),e,t,n,r,s,i,o,a,c,l,u),!0)}function Pp(e,t,n,r,s,i,o,a,c,l,u,h,p){lp(vs,ap,zu(yn(),e,t,n,r,s,i,o,a,c,l,u,h,p),!0)}function Lp(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g){lp(vs,ap,Wu(yn(),e,t,n,r,s,i,o,a,c,l,u,h,p,d,g),!0)}function jp(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f){lp(vs,ap,Ku(yn(),e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f),!0)}function Np(e){lp(vs,ap,Uu(yn(),e),!0)}function Up(e,t,n){sp(Vu(yn(),e,t,n))}function Vp(e,t,n,r,s){sp($u(yn(),e,t,n,r,s))}function $p(e,t,n,r,s,i,o){sp(Bu(yn(),e,t,n,r,s,i,o))}function Bp(e,t,n,r,s,i,o,a,c){sp(Hu(yn(),e,t,n,r,s,i,o,a,c))}function Hp(e,t,n,r,s,i,o,a,c,l,u){sp(qu(yn(),e,t,n,r,s,i,o,a,c,l,u))}function qp(e,t,n,r,s,i,o,a,c,l,u,h,p){sp(zu(yn(),e,t,n,r,s,i,o,a,c,l,u,h,p))}function zp(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g){sp(Wu(yn(),e,t,n,r,s,i,o,a,c,l,u,h,p,d,g))}function Wp(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f){sp(Ku(yn(),e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f))}function Kp(e){sp(Uu(yn(),e))}function Gp(e,t,n,r,s){return cp(e,Vu(yn(),t,n,r),s,!1),Gp}function Zp(e,t,n,r,s,i,o){return cp(e,$u(yn(),t,n,r,s,i),o,!1),Zp}function Yp(e,t,n,r,s,i,o,a,c){return cp(e,Bu(yn(),t,n,r,s,i,o,a),c,!1),Yp}function Qp(e,t,n,r,s,i,o,a,c,l,u){return cp(e,Hu(yn(),t,n,r,s,i,o,a,c,l),u,!1),Qp}function Jp(e,t,n,r,s,i,o,a,c,l,u,h,p){return cp(e,qu(yn(),t,n,r,s,i,o,a,c,l,u,h),p,!1),Jp}function Xp(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g){return cp(e,zu(yn(),t,n,r,s,i,o,a,c,l,u,h,p,d),g,!1),Xp}function ed(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f){return cp(e,Wu(yn(),t,n,r,s,i,o,a,c,l,u,h,p,d,g,m),f,!1),ed}function td(e,t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v,y){return cp(e,Ku(yn(),t,n,r,s,i,o,a,c,l,u,h,p,d,g,m,f,v),y,!1),td}function nd(e,t,n){return cp(e,Uu(yn(),t),n,!1),nd}function rd(e,t,n){const r=yn(),s=On();if(Ru(r,s,t)){const i=bn(),o=Qn();Il(i,o,r,e,t,r[it],n,!0),ngDevMode&&Zl(i.data,o,e,s)}return rd}function sd(e,t,n){const r=yn(),s=On();if(Ru(r,s,t)){const i=bn(),o=Qn();Il(i,o,r,e,t,Jl(Nn(i.data),o,r),n,!0),ngDevMode&&Zl(i.data,o,e,s)}return sd}"undefined"==typeof ngI18nClosureMode&&(se.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg);const id=void 0;var od=["en",[["a","p"],["AM","PM"],id],[["AM","PM"],id,id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",id,"{1} 'at' {0}",id],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let ad={};function cd(e,t,n){"string"!=typeof t&&(n=t,t=e[gd.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ad[t]=e,n&&(ad[t][gd.ExtraData]=n)}function ld(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=pd(t);if(n)return n;const r=t.split("-")[0];if(n=pd(r),n)return n;if("en"===r)return od;throw new b(701,ngDevMode&&`Missing locale data for the locale "${e}".`)}function ud(e){return ld(e)[gd.CurrencyCode]||null}function hd(e){return ld(e)[gd.PluralCase]}function pd(e){return e in ad||(ad[e]=se.ng&&se.ng.common&&se.ng.common.locales&&se.ng.common.locales[e]),ad[e]}function dd(){ad={}}var gd;!function(e){e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData"}(gd||(gd={}));const md=["zero","one","two","few","many"],fd="en-US",vd={marker:"element"},yd={marker:"ICU"};var bd;!function(e){e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT"}(bd||(bd={}));let wd=fd;function Dd(e){N(e,"Expected localeId to be defined"),"string"==typeof e&&(wd=e.toLowerCase().replace(/_/g,"-"))}function Cd(e,t,n){const r=t.insertBeforeIndex,s=Array.isArray(r)?r[0]:r;return null===s?Ji(e,0,n):(ngDevMode&&$(n,s),tn(n[s]))}function _d(e,t,n,r,s){const i=t.insertBeforeIndex;if(Array.isArray(i)){ngDevMode&&V(r);let o=r,a=null;if(3&t.type||(a=o,o=s),null!==o&&-1===t.componentOffset)for(let t=1;t<i.length;t++)Ki(e,o,n[i[t]],a,!1)}}function Sd(e,t){if(ngDevMode&&M(t.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];xd(r)||Id(r,t)&&null===Ed(r)&&Td(r,t.index)}}function xd(e){return!(64&e.type)}function Id(e,t){return xd(t)||e.index>t.index}function Ed(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Td(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(so(Cd,_d),e.insertBeforeIndex=t)}function kd(e,t){const n=e.data[t];if(null===n||"string"==typeof n)return null;!ngDevMode||n.hasOwnProperty("tViews")||n.hasOwnProperty("currentCaseLViewIndex")||U("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+n);const r=n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;return ngDevMode&&At(r),r}function Md(e,t,n){const r=dl(e,n,64,null,null);return Sd(t,r),r}function Ad(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Fd(e){return e>>>17}function Od(e){return(131070&e)>>>1}function Rd(e){return 1&e}let Pd=0,Ld=0;function jd(e,t,n,r){ngDevMode&&V(r);const s=n[it];let i,o=null;for(let a=0;a<t.length;a++){const c=t[a];if("string"==typeof c){const e=t[++a];null===n[e]&&(ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&$(n,e),n[e]=ji(s,c))}else if("number"==typeof c)switch(1&c){case 0:const l=Fd(c);let u,h;if(null===o&&(o=l,i=Yi(s,r)),l===o?(u=r,h=i):(u=null,h=tn(n[l])),null!==h){ngDevMode&&V(h);const t=Od(c);ngDevMode&&L(t,ft,"Missing ref");const r=n[t];ngDevMode&&V(r),Ki(s,h,r,u,!1);const i=kd(e,t);if(null!==i&&"object"==typeof i){ngDevMode&&At(i);const t=Ad(i,n);null!==t&&jd(e,i.create[t],n,n[i.anchorIdx])}}break;case 1:const p=c>>>1,d=t[++a],g=t[++a];jl(s,nn(p,n),null,null,d,g,null);break;default:if(ngDevMode)throw new b(700,`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case yd:const e=t[++a],r=t[++a];null===n[r]&&(ngDevMode&&M(typeof e,"string",`Expected "${e}" to be a comment node value`),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&Nt(n,r),Di(n[r]=Ui(s,e),n));break;case vd:const i=t[++a],o=t[++a];null===n[o]&&(ngDevMode&&M(typeof i,"string",`Expected "${i}" to be an element node tag name`),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&Nt(n,o),Di(n[o]=Vi(s,i,null),n));break;default:ngDevMode&&U(`Unable to determine the type of mutate operation for "${c}"`)}}}function Nd(e,t,n,r,s){for(let i=0;i<n.length;i++){const o=n[i],a=n[++i];if(o&s){let s="";for(let o=i+1;o<=i+a;o++){const i=n[o];if("string"==typeof i)s+=i;else if("number"==typeof i)if(i<0)s+=D(t[r-i]);else{const a=i>>>2;switch(3&i){case 1:const i=n[++o],c=n[++o],l=e.data[a];ngDevMode&&N(l,"Experting TNode or string"),"string"==typeof l?jl(t[it],t[a],null,l,i,s,c):Il(e,l,t,i,s,t[it],c,!1);break;case 0:const u=t[a];null!==u&&Ni(t[it],u,s);break;case 2:Vd(e,kd(e,a),t,s);break;case 3:Ud(e,kd(e,a),r,t)}}}}else{const s=n[i+1];if(s>0&&3==(3&s)){const n=kd(e,s>>>2);t[n.currentCaseLViewIndex]<0&&Ud(e,n,r,t)}}i+=a}}function Ud(e,t,n,r){ngDevMode&&$(r,t.currentCaseLViewIndex);let s=r[t.currentCaseLViewIndex];if(null!==s){let i=Pd;s<0&&(s=r[t.currentCaseLViewIndex]=~s,i=-1),Nd(e,r,t.update[s],n,i)}}function Vd(e,t,n,r){const s=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=hd(t)(parseInt(e,10)),r=md[n];return void 0!==r?r:"other"}(t,wd);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Ad(t,n)!==s&&($d(e,t,n),n[t.currentCaseLViewIndex]=null===s?null:~s,null!==s)){const r=n[t.anchorIdx];r&&(ngDevMode&&V(r),jd(e,t.create[s],n,r))}}function $d(e,t,n){let r=Ad(t,n);if(null!==r){const s=t.remove[r];for(let t=0;t<s.length;t++){const r=s[t];if(r>0){const e=nn(r,n);null!==e&&lo(n[it],e)}else $d(e,kd(e,~r),n)}}}function Bd(){const e=[];let t,n,r=-1;function s(e,t){r=0;const s=Ad(e,t);null!==s?(ngDevMode&&T(s,0,e.cases.length-1),n=e.remove[s]):n=Ie}function i(){if(r<n.length){const o=n[r++];if(ngDevMode&&E(o,"Expecting OpCode number"),o>0){const e=t[o];return ngDevMode&&V(e),e}{e.push(r,n);const a=~o,c=t[Ze].data[a];return ngDevMode&&At(c),s(c,t),i()}}return 0===e.length?null:(n=e.pop(),r=e.pop(),i())}return function(n,r){for(t=r;e.length;)e.pop();return ngDevMode&&Tt(n,r),s(n.value,r),i}}function Hd(e,t){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{get:t,enumerable:!1})}function qd(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e++],s=t[e],i=(r&bd.COMMENT)===bd.COMMENT,o=(r&bd.APPEND_EAGERLY)===bd.APPEND_EAGERLY,a=r>>>bd.SHIFT;n.push(`lView[${a}] = document.${i?"createComment":"createText"}(${JSON.stringify(s)});`),o&&n.push(`parent.appendChild(lView[${a}]);`)}return n}function zd(e){const t=new Gd(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=e>>>2;switch(3&e){case 0:return`(lView[${n}] as Text).textContent = $$$`;case 1:const e=t.consumeString(),r=t.consumeFunction();return`(lView[${n}] as Element).setAttribute('${e}', ${r?`(${r})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${n}, $$$)`;case 3:return`icuUpdateCase(${n})`}throw new Error("unexpected OpCode")}for(;t.hasMore();){let e=t.consumeNumber(),s=t.consumeNumber();const i=t.i+s,o=[];let a="";for(;t.i<i;){let e=t.consumeNumberOrString();if("string"==typeof e)a+=e;else if(e<0)a+="${lView[i"+e+"]}";else{const t=r(e);o.push(t.replace("$$$","`"+a+"`")+";"),a=""}}n.push(`if (mask & 0b${e.toString(2)}) { ${o.join(" ")} }`)}return n}function Wd(e){const t=new Gd(e||(Array.isArray(this)?this:[]));let n=[];function r(e){const n=Fd(e),r=Od(e);switch(Rd(e)){case 0:return`(lView[${n}] as Element).appendChild(lView[${s}])`;case 1:return`(lView[${r}] as Element).setAttribute("${t.consumeString()}", "${t.consumeString()}")`}throw new Error("Unexpected OpCode: "+Rd(e))}let s=-1;for(;t.hasMore();){let e=t.consumeNumberStringOrMarker();if(e===yd){const e=t.consumeString();s=t.consumeNumber(),n.push(`lView[${s}] = document.createComment("${e}")`)}else if(e===vd){const e=t.consumeString();s=t.consumeNumber(),n.push(`lView[${s}] = document.createElement("${e}")`)}else if("string"==typeof e)s=t.consumeNumber(),n.push(`lView[${s}] = document.createTextNode("${e}")`);else{if("number"!=typeof e)throw new Error("Unexpected value");{const t=r(e);t&&n.push(t)}}}return n}function Kd(e){const t=e||(Array.isArray(this)?this:[]);let n=[];for(let e=0;e<t.length;e++){const r=t[e];r>0?n.push(`remove(lView[${r}])`):n.push(`removeNestedICU(${~r})`)}return n}class Gd{constructor(e){this.i=0,this.codes=e}hasMore(){return this.i<this.codes.length}consumeNumber(){let e=this.codes[this.i++];return E(e,"expecting number in OpCode"),e}consumeString(){let e=this.codes[this.i++];return k(e,"expecting string in OpCode"),e}consumeFunction(){let e=this.codes[this.i++];if(null===e||"function"==typeof e)return e;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let e=this.codes[this.i++];return"string"==typeof e||E(e,"expecting number or string in OpCode"),e}consumeNumberStringOrMarker(){let e=this.codes[this.i++];return"string"==typeof e||"number"==typeof e||e==yd||e==vd||E(e,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),e}}const Zd=/�(\d+):?\d*�/gi,Yd=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,Qd=/�(\d+)�/,Jd=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,Xd="�",eg=/�\/?\*(\d+:\d+)�/gi,tg=/�(\/?[#*]\d+):?\d*�/gi,ng=/\uE500/g;function rg(e,t,n,r,s,i,o){const a=gl(e,r,1,null);let c=a<<bd.SHIFT,l=Sn();t===l&&(l=null),null===l&&(c|=bd.APPEND_EAGERLY),o&&(c|=bd.COMMENT,void 0===ki&&(ki=Bd())),s.push(c,null===i?"":i);const u=dl(e,a,o?32:1,null===i?ngDevMode?"{{?}}":"":i,null);Sd(n,u);const h=u.index;return xn(u,!1),null!==l&&t!==l&&function(e,t){ngDevMode&&Mt(e);let n=e.insertBeforeIndex;null===n?(so(Cd,_d),n=e.insertBeforeIndex=[null,t]):(M(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(l,h),u}function sg(e,t,n,r,s,i,o){const a=o.match(Zd),c=rg(e,t,n,i,r,a?null:o,!1);a&&ig(s,o,c.index,null,0,null)}function ig(e,t,n,r,s,i){ngDevMode&&j(n,ft,"Index must be in absolute LView offset");const o=e.length,a=o+1;e.push(null,null);const c=o+2;ngDevMode&&Hd(e,zd);const l=t.split(Zd);let u=0;for(let t=0;t<l.length;t++){const n=l[t];if(1&t){const t=s+parseInt(n,10);e.push(-1-t),u|=ag(t)}else""!==n&&e.push(n)}return e.push(n<<2|(r?1:0)),r&&e.push(r,i),e[o]=u,e[a]=e.length-c,u}function og(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function ag(e){return 1<<Math.min(e,31)}function cg(e){let t,n,r="",s=0,i=!1;for(;null!==(t=eg.exec(e));)i?t[0]===`${Xd}/*${n}${Xd}`&&(s=t.index,i=!1):(r+=e.substring(s,t.index+t[0].length),n=t[1],i=!0);return ngDevMode&&M(i,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${e}"`),r+=e.slice(s),r}function lg(e,t,n,r,s,i){ngDevMode&&N(s,"ICU expression must be defined");let o=0;const a={type:s.type,currentCaseLViewIndex:gl(e,t,1,null),anchorIdx:i,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(ag(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,s,i),function(e,t,n){const r=e.data[t];ngDevMode&&M(null===r||r.hasOwnProperty("tViews"),!0,"We expect to get 'null'|'TIcuContainer'"),null===r?e.data[t]=n:(ngDevMode&&ur(r,32),r.value=n)}(e,i,a);const c=s.values;for(let i=0;i<c.length;i++){const l=c[i],u=[];for(let e=0;e<l.length;e++){const t=l[e];if("string"!=typeof t){const n=u.push(t)-1;l[e]=`\x3c!--�${n}�--\x3e`}}o=pg(e,a,t,n,r,s.cases[i],l.join(""),u)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,i)}function ug(e){const t=[],n=[];let r=1,s=0;const i=hg(e=e.replace(Jd,(function(e,t,n){return r="select"===n?0:1,s=parseInt(t.slice(1),10),""})));for(let e=0;e<i.length;){let s=i[e++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);const o=hg(i[e++]);t.length>n.length&&n.push(o)}return{type:r,mainBinding:s,cases:t,values:n}}function hg(e){if(!e)return[];let t=0;const n=[],r=[],s=/[{}]/g;let i;for(s.lastIndex=0;i=s.exec(e);){const s=i.index;if("}"==i[0]){if(n.pop(),0==n.length){const n=e.substring(t,s);Jd.test(n)?r.push(ug(n)):r.push(n),t=s+1}}else{if(0==n.length){const n=e.substring(t,s);r.push(n),t=s+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function pg(e,t,n,r,s,i,o,a){const c=[],l=[],u=[];ngDevMode&&(Hd(c,Wd),Hd(l,Kd),Hd(u,zd)),t.cases.push(i),t.create.push(c),t.remove.push(l),t.update.push(u);const h=Uo(wo()).getInertBodyElement(o);ngDevMode&&N(h,"Unable to generate inert body element");const p=ua(h)||h;return p?dg(e,t,n,r,c,l,u,p,s,a,0):0}function dg(e,t,n,r,s,i,o,a,c,l,u){let h=0,p=a.firstChild;for(;p;){const a=gl(e,n,1,null);switch(p.nodeType){case Node.ELEMENT_NODE:const d=p,g=d.tagName.toLowerCase();if(Jo.hasOwnProperty(g)){fg(s,vd,g,c,a),e.data[a]=g;const m=d.attributes;for(let e=0;e<m.length;e++){const t=m.item(e),n=t.name.toLowerCase();t.value.match(Zd)?na.hasOwnProperty(n)?Xo[n]?ig(o,t.value,a,t.name,0,Ho):ig(o,t.value,a,t.name,0,null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${n} on element ${g} (see ${y})`):vg(s,a,t)}h=dg(e,t,n,r,s,i,o,p,a,l,u+1)|h,gg(i,a,u)}break;case Node.TEXT_NODE:const m=p.textContent||"",f=m.match(Zd);fg(s,null,f?"":m,c,a),gg(i,a,u),f&&(h=ig(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const v=Qd.exec(p.textContent||"");if(v){const t=parseInt(v[1],10),o=l[t];fg(s,yd,ngDevMode?`nested ICU ${t}`:"",c,a),lg(e,n,r,c,o,a),mg(i,a,u)}}p=p.nextSibling}return h}function gg(e,t,n){0===n&&e.push(t)}function mg(e,t,n){0===n&&(e.push(~t),e.push(t))}function fg(e,t,n,r,s){var i,o;null!==t&&e.push(t),e.push(n,s,(0,i=r,o=s,ngDevMode&&j(i,0,"Missing parent index"),ngDevMode&&L(o,0,"Missing ref index"),0|i<<17|o<<1))}function vg(e,t,n){e.push(t<<1|1,n.name,n.value)}const yg=0,bg=/\[(�.+?�?)\]/,wg=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,Dg=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Cg=/{([A-Z0-9_]+)}/g,_g=/�I18N_EXP_(ICU(_\d+)?)�/g,Sg=/\/\*/,xg=/\d+\:(\d+)/;function Ig(e,t,n=-1){const r=bn(),s=yn(),i=ft+e;ngDevMode&&N(r,"tView should be defined");const o=un(r.consts,t),a=Sn();r.firstCreatePass&&function(e,t,n,r,s,i){const o=Sn(),a=[],c=[],l=[[]];ngDevMode&&(Hd(a,qd),Hd(c,zd)),s=function(e,t){if(function(e){return-1===e}(t))return cg(e);{const n=e.indexOf(`:${t}${Xd}`)+2+t.toString().length,r=e.search(new RegExp(`${Xd}\\/\\*\\d+:${t}${Xd}`));return cg(e.substring(n,r))}}(s,i);const u=(h=s,h.replace(ng," ")).split(tg);var h;for(let i=0;i<u.length;i++){let h=u[i];if(0==(1&i)){const i=hg(h);for(let u=0;u<i.length;u++){let h=i[u];if(0==(1&u)){const t=h;ngDevMode&&k(t,"Parsed ICU part should be string"),""!==t&&sg(e,o,l[0],a,c,n,t)}else{const i=h;if("object"!=typeof i)throw new Error(`Unable to parse ICU expression in "${s}" message.`);const u=rg(e,o,l[0],n,a,ngDevMode?`ICU ${r}:${i.mainBinding}`:"",!0).index;ngDevMode&&j(u,ft,"Index must be in absolute LView offset"),lg(e,n,c,t,i,u)}}}else{const t=47===h.charCodeAt(0),n=h.charCodeAt(t?1:0);ngDevMode&&B(n,42,35);const r=ft+Number.parseInt(h.substring(t?2:1));if(t)l.shift(),xn(Sn(),!1);else{const t=Md(e,l[0],r);l.unshift([]),xn(t,!0)}}}e.data[r]={create:a,update:c}}(r,null===a?0:a.index,s,i,o,n);const c=r.data[i],l=Wi(r,a===s[et]?null:a,s),u=a&&8&a.type?s[a.index]:null;!function(e,t,n,r){const s=e[it];for(let i=0;i<t.length;i++){const o=t[i++],a=t[i],c=(o&bd.COMMENT)===bd.COMMENT,l=(o&bd.APPEND_EAGERLY)===bd.APPEND_EAGERLY,u=o>>>bd.SHIFT;let h=e[u];null===h&&(h=e[u]=c?s.createComment(a):ji(s,a)),l&&null!==n&&Ki(s,n,h,r,!1)}}(s,c.create,l,u),Pn(!0)}function Eg(){Pn(!1)}function Tg(e,t,n){Ig(e,t,n),Eg()}function kg(e,t){const n=bn();ngDevMode&&N(n,"tView should be defined");const r=un(n.consts,t);!function(e,t,n){const r=Cn().index,s=[];if(ngDevMode&&Hd(s,zd),e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],i=n[e+1];if(""!==i){if(Yd.test(i))throw new Error(`ICU expressions are not supported in attributes. Message: "${i}".`);ig(s,i,r,t,og(s),null)}}e.data[t]=s}}(n,e+ft,r)}function Mg(e){return Ru(yn(),On(),e)&&(Pd|=1<<Math.min(Ld,31)),Ld++,Mg}function Ag(e){!function(e,t,n){if(Ld>0){ngDevMode&&N(e,"tView should be defined");const r=e.data[n];Nd(e,t,Array.isArray(r)?r:r.update,An()-Ld-1,Pd)}Pd=0,Ld=0}(bn(),yn(),e+ft)}function Fg(e,t={}){return function(e,t={}){let n=e;if(bg.test(e)){const e={},t=[yg];n=n.replace(wg,((n,r,s)=>{const i=r||s,o=e[i]||[];if(o.length||(i.split("|").forEach((e=>{const t=e.match(xg),n=t?parseInt(t[1],10):yg,r=Sg.test(e);o.push([n,r,e])})),e[i]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${i}`);const a=t[t.length-1];let c=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){c=e;break}const[l,u,h]=o[c];return u?t.pop():a!==l&&t.push(l),o.splice(c,1),h}))}return Object.keys(t).length?(n=n.replace(Dg,((e,n,r,s,i,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e)),n=n.replace(Cg,((e,n)=>t.hasOwnProperty(n)?t[n]:e)),n=n.replace(_g,((e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e})),n):n}(e,t)}function Og(e,t,n,r,s){if(e=g(e),Array.isArray(e))for(let i=0;i<e.length;i++)Og(e[i],t,n,r,s);else{const i=bn(),o=yn();let a=La(e)?e:g(e.provide),c=za(e);const l=Cn(),u=1048575&l.providerIndexes,h=l.directiveStart,p=l.providerIndexes>>20;if(La(e)||!e.multi){const r=new cr(c,s,cl),d=Lg(a,t,s?u:u+p,h);-1===d?(kr(xr(l,o),i,a),Rg(i,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Lg(a,t,u+p,h),g=Lg(a,t,u,u+p),m=d>=0&&n[d],f=g>=0&&n[g];if(s&&!f||!s&&!m){kr(xr(l,o),i,a);const u=function(e,t,n,r,s){const i=new cr(e,n,cl);return i.multi=[],i.index=t,i.componentProviders=0,Pg(i,s,r&&!n),i}(s?Ng:jg,n.length,s,r,c);!s&&f&&(n[g].providerFactory=u),Rg(i,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else Rg(i,e,d>-1?d:g,Pg(n[s?g:d],c,!s&&r));!s&&r&&f&&n[g].componentProviders++}}}function Rg(e,t,n,r){const s=La(t),i=!!t.useClass;if(s||i){const o=(i?g(t.useClass):t).prototype.ngOnDestroy;if(o){const i=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){ngDevMode&&N(r,"indexInFactory when registering multi factory destroy hook");const e=i.indexOf(n);-1===e?i.push(n,[r,o]):i[e+1].push(r,o)}else i.push(n,o)}}}function Pg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lg(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function jg(e,t,n,r){return Ug(this.multi,[])}function Ng(e,t,n,r){const s=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Lr(n,n[Ze],this.providerFactory.index,r);i=t.slice(0,e),Ug(s,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],Ug(s,i);return i}function Ug(e,t){for(let n=0;n<e.length;n++){const r=e[n];t.push(r())}return t}function Vg(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=bn();if(r.firstCreatePass){const s=Et(e);Og(n,r.data,r.blueprint,s,!0),Og(t,r.data,r.blueprint,s,!1)}}(n,r?r(e):e,t)}}class $g{}class Bg{}function Hg(e,t){return new zg(e,t??null)}const qg=Hg;class zg extends $g{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ou(this);const n=Ke(e);ngDevMode&&N(n,`NgModule '${u(e)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=mc(n.bootstrap),this._r3Injector=Vc(e,t,[{provide:$g,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver}],u(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){ngDevMode&&N(this.destroyCbs,"NgModule already destroyed");const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){ngDevMode&&N(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)}}class Wg extends Bg{constructor(e){super(),this.moduleType=e}create(e){return new zg(this.moduleType,e)}}class Kg extends $g{constructor(e,t,n){super(),this.componentFactoryResolver=new ou(this),this.instance=null;const r=new Ha([...e,{provide:$g,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver}],t||$a(),n,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Gg(e,t,n=null){return new Kg(e,t,n).injector}class Zg{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const t=Ea(!1,e.type),n=t.length>0?Gg([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,n)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}function Yg(e){e.getStandaloneInjector=t=>t.get(Zg).getOrCreateStandaloneInjector(e)}function Qg(e){ngDevMode&&am(e);const t=vi(e);if(null===t)return null;if(void 0===t.component){const e=t.lView;if(null===e)return null;t.component=function(e,t){const n=t[Ze].data[e],{directiveStart:r,componentOffset:s}=n;return s>-1?t[r+s]:null}(t.nodeIndex,e)}return t.component}function Jg(e){am(e);const t=vi(e),n=t?t.lView:null;return null===n?null:n[nt]}function Xg(e){const t=vi(e);let n,r=t?t.lView:null;if(null===r)return null;for(;2===r[Ze].type&&(n=Ai(r));)r=n;return 256&r[Ye]?null:r[nt]}function em(e){const t=_i(e);return null!==t?[Fi(t)]:[]}function tm(e){const t=vi(e),n=t?t.lView:null;if(null===n)return $c.NULL;const r=n[Ze].data[t.nodeIndex];return new Ur(r,n)}function nm(e){if(e instanceof Text)return[];const t=vi(e),n=t?t.lView:null;if(null===n)return[];const r=n[Ze],s=t.nodeIndex;return r?.data[s]?(void 0===t.directives&&(t.directives=Ti(s,n)),null===t.directives?[]:[...t.directives]):[]}function rm(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=He(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?De.OnPush:De.Default};const r=qe(t);return r?{inputs:r.inputs,outputs:r.outputs}:null}function sm(e){return vi(e).native}function im(e){ngDevMode&&am(e);const t=vi(e),n=null===t?null:t.lView;if(null===n)return[];const r=n[Ze],s=n[tt],i=r.cleanup,o=[];if(i&&s)for(let t=0;t<i.length;){const r=i[t++],a=i[t++];if("string"==typeof r){const c=r,l=tn(n[a]),u=s[i[t++]],h=i[t++],p="boolean"==typeof h||h>=0?"dom":"output",d="boolean"==typeof h&&h;e==l&&o.push({element:e,name:c,callback:u,useCapture:d,type:p})}}return o.sort(om),o}function om(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function am(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function cm(e,t,n,r){return we((()=>{const s=e;null!==t&&(s.hasOwnProperty("decorators")&&void 0!==s.decorators?s.decorators.push(...t):s.decorators=t),null!==n&&(s.ctorParameters=n),null!==r&&(s.hasOwnProperty("propDecorators")&&void 0!==s.propDecorators?s.propDecorators={...s.propDecorators,...r}:s.propDecorators=r)}))}function lm(e,t,n){const r=Mn()+e,s=yn();return s[r]===Ac?Fu(s,r,n?t.call(n):t()):Ou(s,r)}function um(e,t,n,r){return wm(yn(),Mn(),e,t,n,r)}function hm(e,t,n,r,s){return Dm(yn(),Mn(),e,t,n,r,s)}function pm(e,t,n,r,s,i){return Cm(yn(),Mn(),e,t,n,r,s,i)}function dm(e,t,n,r,s,i,o){return _m(yn(),Mn(),e,t,n,r,s,i,o)}function gm(e,t,n,r,s,i,o,a){const c=Mn()+e,l=yn(),u=ju(l,c,n,r,s,i);return Ru(l,c+4,o)||u?Fu(l,c+5,a?t.call(a,n,r,s,i,o):t(n,r,s,i,o)):Ou(l,c+5)}function mm(e,t,n,r,s,i,o,a,c){const l=Mn()+e,u=yn(),h=ju(u,l,n,r,s,i);return Pu(u,l+4,o,a)||h?Fu(u,l+6,c?t.call(c,n,r,s,i,o,a):t(n,r,s,i,o,a)):Ou(u,l+6)}function fm(e,t,n,r,s,i,o,a,c,l){const u=Mn()+e,h=yn();let p=ju(h,u,n,r,s,i);return Lu(h,u+4,o,a,c)||p?Fu(h,u+7,l?t.call(l,n,r,s,i,o,a,c):t(n,r,s,i,o,a,c)):Ou(h,u+7)}function vm(e,t,n,r,s,i,o,a,c,l,u){const h=Mn()+e,p=yn(),d=ju(p,h,n,r,s,i);return ju(p,h+4,o,a,c,l)||d?Fu(p,h+8,u?t.call(u,n,r,s,i,o,a,c,l):t(n,r,s,i,o,a,c,l)):Ou(p,h+8)}function ym(e,t,n,r){return Sm(yn(),Mn(),e,t,n,r)}function bm(e,t){ngDevMode&&$(e,t);const n=e[t];return n===Ac?void 0:n}function wm(e,t,n,r,s,i){const o=t+n;return Ru(e,o,s)?Fu(e,o+1,i?r.call(i,s):r(s)):bm(e,o+1)}function Dm(e,t,n,r,s,i,o){const a=t+n;return Pu(e,a,s,i)?Fu(e,a+2,o?r.call(o,s,i):r(s,i)):bm(e,a+2)}function Cm(e,t,n,r,s,i,o,a){const c=t+n;return Lu(e,c,s,i,o)?Fu(e,c+3,a?r.call(a,s,i,o):r(s,i,o)):bm(e,c+3)}function _m(e,t,n,r,s,i,o,a,c){const l=t+n;return ju(e,l,s,i,o,a)?Fu(e,l+4,c?r.call(c,s,i,o,a):r(s,i,o,a)):bm(e,l+4)}function Sm(e,t,n,r,s,i){let o=t+n,a=!1;for(let t=0;t<s.length;t++)Ru(e,o++,s[t])&&(a=!0);return a?Fu(e,o,r.apply(i,s)):bm(e,o)}function xm(e,t){const n=bn();let r;const s=e+ft;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}if(ngDevMode)throw new b(-302,function(e){const t=yn(),n=t[ut][nt],r=si(t);return`The pipe '${e}' could not be found${n?` in the '${n.constructor.name}' component`:""}. ${"Verify that it is "+(r?"included in the '@Component.imports' of this component":"declared or imported in this module")}`}(e))}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=Bt(r.type,!0)),o=ne(cl);try{const e=wr(!1),t=i();return wr(e),ih(n,yn(),s,t),t}finally{ne(o)}}function Im(e,t,n){const r=e+ft,s=yn(),i=on(s,r);return Am(s,r)?wm(s,Mn(),t,i.transform,n,i):i.transform(n)}function Em(e,t,n,r){const s=e+ft,i=yn(),o=on(i,s);return Am(i,s)?Dm(i,Mn(),t,o.transform,n,r,o):o.transform(n,r)}function Tm(e,t,n,r,s){const i=e+ft,o=yn(),a=on(o,i);return Am(o,i)?Cm(o,Mn(),t,a.transform,n,r,s,a):a.transform(n,r,s)}function km(e,t,n,r,s,i){const o=e+ft,a=yn(),c=on(a,o);return Am(a,o)?_m(a,Mn(),t,c.transform,n,r,s,i,c):c.transform(n,r,s,i)}function Mm(e,t,n){const r=e+ft,s=yn(),i=on(s,r);return Am(s,r)?Sm(s,Mn(),t,i.transform,n,i):i.transform.apply(i,n)}function Am(e,t){return e[Ze].data[t].pure}Zg.ɵprov=H({token:Zg,providedIn:"environment",factory:()=>new Zg(ge(Ba))});class Fm extends r.E{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r=e,i=t||(()=>null),o=n;if(e&&"object"==typeof e){const t=e;r=t.next?.bind(t),i=t.error?.bind(t),o=t.complete?.bind(t)}this.__isAsync&&(i=Om(i),r&&(r=Om(r)),o&&(o=Om(o)));const a=super.subscribe({next:r,error:i,complete:o});return e instanceof s.wH&&e.add(a),a}}function Om(e){return t=>{setTimeout(e,void 0,t)}}const Rm=Fm;function Pm(){return this._results[Tu()]()}class Lm{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Tu(),n=Lm.prototype;n[t]||(n[t]=Pm)}get changes(){return this._changes||(this._changes=new Rm)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=ps(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=t[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol.iterator;class jm{}jm.__NG_ELEMENT_ID__=function(){return Vm(Cn(),yn())};const Nm=jm,Um=class extends Nm{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e,t){const n=this._declarationTContainer.tViews,r=hl(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null,t||null),s=this._declarationLView[this._declarationTContainer.index];ngDevMode&&Ot(s),r[ht]=s;const i=this._declarationLView[dt];return null!==i&&(r[dt]=i.createEmbeddedView(n)),ml(n,r,e),new su(r)}};function Vm(e,t){return 4&e.type?(ngDevMode&&N(e.tViews,"TView must be allocated"),new Um(t,e,Ja(e,t))):null}class $m{}$m.__NG_ELEMENT_ID__=function(){return Wm(Cn(),yn())};const Bm=$m,Hm=class extends Bm{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tr(this._hostTNode,this._hostLView);if(fr(e)){const t=yr(e,this._hostLView),n=vr(e);ngDevMode&&$t(t,n);const r=t[Ze].data[n+8];return new Ur(r,t)}return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=qm(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,t,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const i=e.createEmbeddedView(t||{},s);return this.insert(i,r),i}createComponent(e,t,n,r,s){const i=e&&!hs(e);let o;if(i)ngDevMode&&M("object"!=typeof t,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),o=t;else{ngDevMode&&(N(He(e),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),M("number"!=typeof t,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const i=t||{};ngDevMode&&i.environmentInjector&&i.ngModuleRef&&U("Cannot pass both environmentInjector and ngModuleRef options to createComponent()."),o=i.index,n=i.injector,r=i.projectableNodes,s=i.environmentInjector||i.ngModuleRef}const a=i?e:new lu(He(e)),c=n||this.parentInjector;if(!s&&null==a.ngModule){const e=(i?c:this.parentInjector).get(Ba,null);e&&(s=e)}const l=a.create(c,r,void 0,s);return this.insert(l.hostView,o),l}insert(e,t){const n=e._lView,r=n[Ze];if(ngDevMode&&e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(_t(n[Qe])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[Qe];ngDevMode&&M(_t(t),!0,"An attached view should have its PARENT point to a container.");const r=new Hm(t,t[et],t[Qe]);r.detach(r.indexOf(e))}}const s=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,r){ngDevMode&&Pt(t),ngDevMode&&Ot(n);const s=Dt+r,i=n.length;r>0&&(n[s-1][Je]=t),r<i-Dt?(t[Je]=n[s],gs(n,Dt+r,t)):(n.push(t),t[Je]=null),t[Qe]=n;const o=t[ht];null!==o&&n!==o&&function(e,t){ngDevMode&&N(t,"LView required"),ngDevMode&&Ot(e);const n=e[wt],r=t[Qe];ngDevMode&&Ot(r);const s=r[Qe][ut];ngDevMode&&N(s,"Missing insertedComponentLView");const i=t[ut];ngDevMode&&N(i,"Missing declaredComponentLView"),i!==s&&(e[yt]=!0),null===n?e[wt]=[t]:n.push(t)}(o,t);const a=t[dt];null!==a&&a.insertView(e),t[Ye]|=64}(r,n,i,s);const o=co(s,i),a=n[it],c=Yi(a,i[bt]);return null!==c&&function(e,t,n,r,s,i){r[Ge]=s,r[et]=t,ho(e,r,n,1,s,i)}(r,i[et],a,n,c,o),e.attachToViewContainerRef(),gs(zm(i),s,e),e}move(e,t){if(ngDevMode&&e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=qm(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Bi(this._lContainer,t);n&&(ms(zm(this._lContainer),t),Hi(n[Ze],n))}detach(e){const t=this._adjustIndex(e,-1),n=Bi(this._lContainer,t);return n&&null!=ms(zm(this._lContainer),t)?new su(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:(ngDevMode&&(L(e,-1,`ViewRef index must be positive, got ${e}`),R(e,this.length+1+t,"index")),e)}};function qm(e){return e[8]}function zm(e){return e[8]||(e[8]=[])}function Wm(e,t){let n;ngDevMode&&ur(e,15);const r=t[e.index];if(_t(r))n=r;else{let s;if(8&e.type)s=tn(r);else{const n=t[it];ngDevMode&&ngDevMode.rendererCreateComment++,s=n.createComment(ngDevMode?"container":"");const r=rn(e,t);Ki(n,Yi(n,r),s,function(e,t){return e.nextSibling(t)}(n,r),!1)}t[e.index]=n=Vl(r,t,s,e),ql(t,n)}return new Hm(n,e,t)}class Km{constructor(e){this.queryList=e,this.matches=null}clone(){return new Km(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e),s=this.queries[n.indexInDeclarationView];r.push(s.clone())}return new Gm(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==lf(e,t).matches&&this.queries[t].setDirty()}}class Zm{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Ym{constructor(e=[]){this.queries=e}elementStart(e,t){ngDevMode&&Lt(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new Ym(t):null}template(e,t){ngDevMode&&Lt(e,"Queries should collect results on the first template pass only");for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return ngDevMode&&$(this.queries,e),this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Qm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Qm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,Jm(t,s)),this.matchTNodeWithReadOption(e,t,Pr(t,e,s,!1,!1))}else n===jm?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pr(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Xa||r===$m||r===jm&&4&t.type)this.addMatch(t.index,-2);else{const n=Pr(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Jm(e,t){const n=e.localNames;if(null!==n)for(let e=0;e<n.length;e+=2)if(n[e]===t)return n[e+1];return null}function Xm(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ja(e,t):4&e.type?Vm(e,t):null}(t,e):-2===n?function(e,t,n){return n===Xa?Ja(t,e):n===jm?Vm(t,e):n===$m?(ngDevMode&&ur(t,15),Wm(t,e)):void(ngDevMode&&U(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${u(n)}.`))}(e,t,r):Lr(e,e[Ze],n,t)}function ef(e,t,n,r){const s=t[dt].queries[r];if(null===s.matches){const r=e.data,i=n.matches,o=[];for(let e=0;e<i.length;e+=2){const s=i[e];if(s<0)o.push(null);else{ngDevMode&&$(r,s);const a=r[s];o.push(Xm(t,a,i[e+1],n.metadata.read))}}s.matches=o}return s.matches}function tf(e,t,n,r){const s=e.queries.getByIndex(n),i=s.matches;if(null!==i){const o=ef(e,t,s,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)r.push(o[e/2]);else{const s=i[e+1],o=t[-n];ngDevMode&&Ot(o);for(let e=Dt;e<o.length;e++){const t=o[e];t[ht]===t[Qe]&&tf(t[Ze],t,s,r)}if(null!==o[wt]){const e=o[wt];for(let t=0;t<e.length;t++){const n=e[t];tf(n[Ze],n,s,r)}}}}}return r}function nf(e){const t=yn(),n=bn(),r=Un();Vn(r+1);const s=lf(n,r);if(e.dirty&&cn(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const i=s.crossesNgTemplate?tf(n,t,r,[]):ef(n,t,s,r);e.reset(i,ec),e.notifyOnChanges()}return!0}return!1}function rf(e,t,n){ngDevMode&&E(t,"Expecting flags");const r=bn();r.firstCreatePass&&(cf(r,new Zm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),af(r,yn(),t)}function sf(e,t,n,r){ngDevMode&&E(n,"Expecting flags");const s=bn();if(s.firstCreatePass){const i=Cn();cf(s,new Zm(t,n,r),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}af(s,yn(),n)}function of(){return e=yn(),t=Un(),ngDevMode&&N(e[dt],"LQueries should be defined when trying to load a query"),ngDevMode&&$(e[dt].queries,t),e[dt].queries[t].queryList;var e,t}function af(e,t,n){const r=new Lm(4==(4&n));_l(e,t,r,r.destroy),null===t[dt]&&(t[dt]=new Gm),t[dt].queries.push(new Km(r))}function cf(e,t,n){null===e.queries&&(e.queries=new Ym),e.queries.track(new Qm(t,n))}function lf(e,t){return ngDevMode&&N(e.queries,"TQueries must be defined to retrieve a TQuery"),e.queries.getByIndex(t)}function uf(e,t){return Vm(e,t)}const hf={ɵɵattribute:Nu,ɵɵattributeInterpolate1:Gu,ɵɵattributeInterpolate2:Zu,ɵɵattributeInterpolate3:Yu,ɵɵattributeInterpolate4:Qu,ɵɵattributeInterpolate5:Ju,ɵɵattributeInterpolate6:Xu,ɵɵattributeInterpolate7:eh,ɵɵattributeInterpolate8:th,ɵɵattributeInterpolateV:nh,ɵɵdefineComponent:Re,ɵɵdefineDirective:$e,ɵɵdefineInjectable:H,ɵɵdefineInjector:z,ɵɵdefineNgModule:Ne,ɵɵdefinePipe:Be,ɵɵdirectiveInject:cl,ɵɵgetInheritedFactory:$r,ɵɵinject:ge,ɵɵinjectAttribute:qr,ɵɵinvalidFactory:ll,ɵɵinvalidFactoryDep:me,ɵɵtemplateRefExtractor:uf,ɵɵresetView:Dn,ɵɵHostDirectivesFeature:Du,ɵɵNgOnChangesFeature:qt,ɵɵProvidersFeature:Vg,ɵɵCopyDefinitionFeature:wu,ɵɵInheritDefinitionFeature:du,ɵɵStandaloneFeature:Yg,ɵɵnextContext:Sh,ɵɵnamespaceHTML:er,ɵɵnamespaceMathML:Xn,ɵɵnamespaceSVG:Jn,ɵɵenableBindings:fn,ɵɵdisableBindings:vn,ɵɵelementStart:lh,ɵɵelementEnd:uh,ɵɵelement:hh,ɵɵelementContainerStart:ph,ɵɵelementContainerEnd:dh,ɵɵelementContainer:gh,ɵɵpureFunction0:lm,ɵɵpureFunction1:um,ɵɵpureFunction2:hm,ɵɵpureFunction3:pm,ɵɵpureFunction4:dm,ɵɵpureFunction5:gm,ɵɵpureFunction6:mm,ɵɵpureFunction7:fm,ɵɵpureFunction8:vm,ɵɵpureFunctionV:ym,ɵɵgetCurrentView:mh,ɵɵrestoreView:wn,ɵɵlistener:bh,ɵɵprojection:Eh,ɵɵsyntheticHostProperty:sd,ɵɵsyntheticHostListener:wh,ɵɵpipeBind1:Im,ɵɵpipeBind2:Em,ɵɵpipeBind3:Tm,ɵɵpipeBind4:km,ɵɵpipeBindV:Mm,ɵɵprojectionDef:Ih,ɵɵhostProperty:rd,ɵɵproperty:ah,ɵɵpropertyInterpolate:Th,ɵɵpropertyInterpolate1:kh,ɵɵpropertyInterpolate2:Mh,ɵɵpropertyInterpolate3:Ah,ɵɵpropertyInterpolate4:Fh,ɵɵpropertyInterpolate5:Oh,ɵɵpropertyInterpolate6:Rh,ɵɵpropertyInterpolate7:Ph,ɵɵpropertyInterpolate8:Lh,ɵɵpropertyInterpolateV:jh,ɵɵpipe:xm,ɵɵqueryRefresh:nf,ɵɵviewQuery:rf,ɵɵloadQuery:of,ɵɵcontentQuery:sf,ɵɵreference:oh,ɵɵclassMap:op,ɵɵclassMapInterpolate1:Mp,ɵɵclassMapInterpolate2:Ap,ɵɵclassMapInterpolate3:Fp,ɵɵclassMapInterpolate4:Op,ɵɵclassMapInterpolate5:Rp,ɵɵclassMapInterpolate6:Pp,ɵɵclassMapInterpolate7:Lp,ɵɵclassMapInterpolate8:jp,ɵɵclassMapInterpolateV:Np,ɵɵstyleMap:sp,ɵɵstyleMapInterpolate1:Up,ɵɵstyleMapInterpolate2:Vp,ɵɵstyleMapInterpolate3:$p,ɵɵstyleMapInterpolate4:Bp,ɵɵstyleMapInterpolate5:Hp,ɵɵstyleMapInterpolate6:qp,ɵɵstyleMapInterpolate7:zp,ɵɵstyleMapInterpolate8:Wp,ɵɵstyleMapInterpolateV:Kp,ɵɵstyleProp:np,ɵɵstylePropInterpolate1:Gp,ɵɵstylePropInterpolate2:Zp,ɵɵstylePropInterpolate3:Yp,ɵɵstylePropInterpolate4:Qp,ɵɵstylePropInterpolate5:Jp,ɵɵstylePropInterpolate6:Xp,ɵɵstylePropInterpolate7:ed,ɵɵstylePropInterpolate8:td,ɵɵstylePropInterpolateV:nd,ɵɵclassProp:rp,ɵɵadvance:Fc,ɵɵtemplate:sh,ɵɵtext:bp,ɵɵtextInterpolate:wp,ɵɵtextInterpolate1:Dp,ɵɵtextInterpolate2:Cp,ɵɵtextInterpolate3:_p,ɵɵtextInterpolate4:Sp,ɵɵtextInterpolate5:xp,ɵɵtextInterpolate6:Ip,ɵɵtextInterpolate7:Ep,ɵɵtextInterpolate8:Tp,ɵɵtextInterpolateV:kp,ɵɵi18n:Tg,ɵɵi18nAttributes:kg,ɵɵi18nExp:Mg,ɵɵi18nStart:Ig,ɵɵi18nEnd:Eg,ɵɵi18nApply:Ag,ɵɵi18nPostprocess:Fg,ɵɵresolveWindow:hc,ɵɵresolveDocument:pc,ɵɵresolveBody:dc,ɵɵsetComponentScope:Pe,ɵɵsetNgModuleScope:Ue,ɵɵregisterNgModuleType:qs,ɵɵsanitizeHtml:pa,ɵɵsanitizeStyle:da,ɵɵsanitizeResourceUrl:ma,ɵɵsanitizeScript:fa,ɵɵsanitizeUrl:ga,ɵɵsanitizeUrlOrResourceUrl:ba,ɵɵtrustConstantHtml:va,ɵɵtrustConstantResourceUrl:ya,ɵɵvalidateIframeAttribute:yo,forwardRef:d,resolveForwardRef:g};let pf=null;function df(){pf=null}function gf(e){return void 0!==e.ngModule}function mf(e){return!!Ke(e)}const ff=[];let vf=!1;function yf(){if(!vf){vf=!0;try{for(let e=ff.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=ff[e];n.declarations&&n.declarations.every(bf)&&(ff.splice(e,1),kf(t,n))}}finally{vf=!1}}}function bf(e){return Array.isArray(e)?e.every(bf):!!g(e)}function wf(e,t={}){Df(e,t),void 0!==t.id&&qs(e,t.id),function(e,t){ff.push({moduleType:e,ngModule:t})}(e,t)}function Df(e,t,n=!1){ngDevMode&&N(e,"Required value moduleType"),ngDevMode&&N(t,"Required value ngModule");const r=ps(t.declarations||Ie);let s=null;Object.defineProperty(e,Me,{configurable:!0,get:()=>{if(null===s){if(ngDevMode&&t.imports&&t.imports.indexOf(e)>-1)throw new Error(`'${C(e)}' module can't import itself`);const n=ls({usage:0,kind:"NgModule",type:e});s=n.compileNgModule(hf,`ng:///${e.name}/ɵmod.js`,{type:e,bootstrap:ps(t.bootstrap||Ie).map(g),declarations:r.map(g),imports:ps(t.imports||Ie).map(g).map(Ff),exports:ps(t.exports||Ie).map(g).map(Ff),schemas:t.schemas?ps(t.schemas):null,id:t.id||null}),s.schemas||(s.schemas=[])}return s}});let i=null;Object.defineProperty(e,Ae,{get:()=>{if(null===i){const t=ls({usage:0,kind:"NgModule",type:e});i=t.compileFactory(hf,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,deps:Rs(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!!ngDevMode});let o=null;Object.defineProperty(e,Q,{get:()=>{if(null===o){ngDevMode&&Cf(e,n);const r={name:e.name,type:e,providers:t.providers||Ie,imports:[(t.imports||Ie).map(g),(t.exports||Ie).map(g)]},s=ls({usage:0,kind:"NgModule",type:e});o=s.compileInjector(hf,`ng:///${e.name}/ɵinj.js`,r)}return o},configurable:!!ngDevMode})}function Cf(e,t,n){if(If.get(e))return;if(We(e))return;let r;if(If.set(e,!0),e=g(e),n){if(r=Ke(e),!r)throw new Error(`Unexpected value '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`)}else r=Ke(e,!0);const s=[],i=mc(r.declarations),o=mc(r.imports);ps(o).map(_f).forEach((t=>{h(t,e),Cf(t,!1,e)}));const a=mc(r.exports);i.forEach((function(t){He(t=g(t))||qe(t)||ze(t)||s.push(`Unexpected value '${C(t)}' declared by the module '${C(e)}'. Please add a @Pipe/@Directive/@Component annotation.`)})),i.forEach((function(e){const t=qe(e=g(e));!He(e)&&t&&0==t.selectors.length&&s.push(`Directive ${C(e)} has no selector, please add it!`)})),i.forEach((t=>function(e,t){const n=He(e=g(e))||qe(e)||ze(e);if(n?.standalone){const n=`"${C(t)}" NgModule`;s.push(function(e,t){return`Unexpected "${C(e)}" found in the "declarations" array of the ${t}, "${C(e)}" is marked as standalone and can't be declared in any NgModule - did you intend to import it instead (by adding it to the "imports" array)?`}(e,n))}}(t,e)));const c=[...i.map(g),...ps(o.map(Tf)).map(g)];a.forEach((function(t){const n=(He(t=g(t))?"component":qe(t)&&"directive")||ze(t)&&"pipe";n&&-1===c.lastIndexOf(t)&&s.push(`Can't export ${n} ${C(t)} from ${C(e)} as it was neither declared nor imported!`)})),i.forEach((n=>function(t,n){t=g(t);const r=xf.get(t);if(r&&r!==e){if(!n){const n=[r,e].map(C).sort();s.push(`Type ${C(t)} is part of the declarations of 2 modules: ${n[0]} and ${n[1]}! Please consider moving ${C(t)} to a higher module that imports ${n[0]} and ${n[1]}. You can also create a new NgModule that exports and includes ${C(t)} then import that NgModule in ${n[0]} and ${n[1]}.`)}}else xf.set(t,e)}(n,t))),i.forEach((function(e){if(He(e=g(e))){const t=Sf(e,"Component");t&&t.entryComponents&&ds(t.entryComponents,u)}}));const l=Sf(e,"NgModule");if(l&&(l.imports&&ps(l.imports).map(_f).forEach((t=>{h(t,e),Cf(t,!1,e)})),l.bootstrap&&ds(l.bootstrap,(function(e){He(e=g(e))||s.push(`${C(e)} cannot be used as an entry component.`),We(e)&&s.push(`The \`${C(e)}\` class is a standalone component, which can not be used in the \`@NgModule.bootstrap\` array. Use the \`bootstrapApplication\` function for bootstrap instead.`)})),l.bootstrap&&ds(l.bootstrap,u),l.entryComponents&&ds(l.entryComponents,u)),s.length)throw new Error(s.join("\n"));function u(e){e=g(e),xf.get(e)||We(e)||s.push(`Component ${C(e)} is not part of any NgModule or the module has not been imported into your module.`)}function h(e,t){const n=He(e=g(e))||qe(e);if(null!==n&&!n.standalone)throw new Error(`Unexpected directive '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`);const r=ze(e);if(null!==r&&!r.standalone)throw new Error(`Unexpected pipe '${e.name}' imported by the module '${t.name}'. Please add an @NgModule annotation.`)}}function _f(e){return(e=g(e)).ngModule||e}function Sf(e,t){let n=null;return r(e.__annotations__),r(e.decorators),n;function r(e){e&&e.forEach(s)}function s(e){n||(Object.getPrototypeOf(e).ngMetadataName==t?n=e:e.type&&Object.getPrototypeOf(e.type).ngMetadataName==t&&(n=e.args[0]))}}let xf=new WeakMap,If=new WeakMap;function Ef(){xf=new WeakMap,If=new WeakMap,ff.length=0}function Tf(e){const t=Ke(e=g(e));return null===t?[e]:[...ps(mc(t.exports).map((e=>Ke(e)?(Cf(e,!1),Tf(e)):e)))]}function kf(e,t){const n=ps(t.declarations||Ie),r=Af(e);n.forEach((t=>{(t=g(t)).hasOwnProperty(Ee)?Mf(He(t),r):t.hasOwnProperty(Te)||t.hasOwnProperty(ke)||(t.ngSelectorScope=e)}))}function Mf(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map((e=>e.hasOwnProperty(Ee)?He(e):qe(e))).filter((e=>!!e)),e.pipeDefs=()=>Array.from(t.compilation.pipes).map((e=>ze(e))),e.schemas=t.schemas,e.tView=null}function Af(e){if(mf(e))return function(e){const t=Ke(e,!0);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return mc(t.imports).forEach((e=>{const t=Af(e);t.exported.directives.forEach((e=>n.compilation.directives.add(e))),t.exported.pipes.forEach((e=>n.compilation.pipes.add(e)))})),mc(t.declarations).forEach((e=>{ze(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),mc(t.exports).forEach((e=>{const t=e;if(mf(t)){const e=Af(t);e.exported.directives.forEach((e=>{n.compilation.directives.add(e),n.exported.directives.add(e)})),e.exported.pipes.forEach((e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else ze(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}(e);if(We(e)){if(null!==(He(e)||qe(e)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([e]),pipes:new Set}};if(null!==ze(e))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([e])}}}throw new Error(`${e.name} does not have a module def (ɵmod property)`)}function Ff(e){return gf(e)?e.ngModule:e}let Of=0;function Rf(e,t){("undefined"==typeof ngDevMode||ngDevMode)&&ie();let n=null;!function(e,t){Us(t)&&(js.set(e,t),Ns.add(e))}(e,t),Nf(e,t),Object.defineProperty(e,Ee,{get:()=>{if(null===n){const r=ls({usage:0,kind:"component",type:e});if(Us(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const s=pf;let i=t.preserveWhitespaces;void 0===i&&(i=null!==s&&void 0!==s.preserveWhitespaces&&s.preserveWhitespaces);let o=t.encapsulation;void 0===o&&(o=null!==s&&void 0!==s.defaultEncapsulation?s.defaultEncapsulation:_e.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,c={...Vf(e,t),typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:i,styles:t.styles||Ie,animations:t.animations,declarations:[],changeDetection:t.changeDetection,encapsulation:o,interpolation:t.interpolation,viewProviders:t.viewProviders||null,isStandalone:!!t.standalone};Of++;try{if(c.usesInheritance&&$f(e),n=r.compileComponent(hf,a,c),t.standalone){const r=ps(t.imports||Ie),{directiveDefs:s,pipeDefs:i}=function(e,t){let n=null,r=null;return{directiveDefs:()=>{if(null===n){n=[He(e)];const r=new Set;for(const s of t){ngDevMode&&Pf(s,e);const t=g(s);if(!r.has(t))if(r.add(t),Ke(t)){const e=Af(t);for(const t of e.exported.directives){const e=He(t)||qe(t);e&&!r.has(t)&&(r.add(t),n.push(e))}}else{const e=He(t)||qe(t);e&&n.push(e)}}}return n},pipeDefs:()=>{if(null===r){r=[];const e=new Set;for(const n of t){const t=g(n);if(!e.has(t))if(e.add(t),Ke(t)){const n=Af(t);for(const t of n.exported.pipes){const n=ze(t);n&&!e.has(t)&&(e.add(t),r.push(n))}}else{const e=ze(t);e&&r.push(e)}}}return r}}}(e,r);n.directiveDefs=s,n.pipeDefs=i,n.dependencies=()=>r.map(g)}}finally{Of--}if(0===Of&&yf(),void 0!==e.ngSelectorScope){const t=Af(e.ngSelectorScope);Mf(n,t)}if(t.schemas){if(!t.standalone)throw new Error(`The 'schemas' was specified for the ${C(e)} but is only valid on a component that is standalone.`);n.schemas=t.schemas}else t.standalone&&(n.schemas=[])}return n},configurable:!!ngDevMode})}function Pf(e,t){if(m(e)&&!(e=g(e)))throw new Error(`Expected forwardRef function, imported from "${C(t)}", to return a standalone entity or NgModule but got "${C(e)||e}".`);if(null==Ke(e)){const r=He(e)||qe(e)||ze(e);if(null==r)throw gf(e)?new Error(`A module with providers was imported from "${C(t)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${C(e)}" type, imported from "${C(t)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!r.standalone)throw new Error(`The "${C(e)}" ${n=e,He(n)?"component":qe(n)?"directive":ze(n)?"pipe":"type"}, imported from "${C(t)}", is not standalone. Did you forget to add the standalone: true flag?`)}var n}function Lf(e,t){let n=null;Nf(e,t||{}),Object.defineProperty(e,Te,{get:()=>{if(null===n){const r=jf(e,t||{}),s=ls({usage:0,kind:"directive",type:e});n=s.compileDirective(hf,r.sourceMapUrl,r.metadata)}return n},configurable:!!ngDevMode})}function jf(e,t){const n=e&&e.name,r=`ng:///${n}/ɵdir.js`,s=ls({usage:0,kind:"directive",type:e}),i=Vf(e,t);return i.typeSourceSpan=s.createParseSourceSpan("Directive",n,r),i.usesInheritance&&$f(e),{metadata:i,sourceMapUrl:r}}function Nf(e,t){let n=null;Object.defineProperty(e,Ae,{get:()=>{if(null===n){const r=jf(e,t),s=ls({usage:0,kind:"directive",type:e});n=s.compileFactory(hf,`ng:///${e.name}/ɵfac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:Rs(e),target:s.FactoryTarget.Directive})}return n},configurable:!!ngDevMode})}function Uf(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function Vf(e,t){const n=Os(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||xe,propMetadata:r,inputs:t.inputs||Ie,outputs:t.outputs||Ie,queries:Hf(e,r,qf),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Uf(e),exportAs:(s=t.exportAs,void 0===s?null:Kf(s)),providers:t.providers||null,viewQueries:Hf(e,r,zf),isStandalone:!!t.standalone,hostDirectives:t.hostDirectives?.map((e=>"function"==typeof e?{directive:e}:e))||null};var s}function $f(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)qe(n)||He(n)||!Zf(n)||Lf(n,null),n=Object.getPrototypeOf(n)}function Bf(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Kf(n):g(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function Hf(e,t,n){const r=[];for(const s in t)if(t.hasOwnProperty(s)){const i=t[s];i.forEach((t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${s}" of "${C(e)}" since the query selector wasn't defined.`);if(i.some(Wf))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Bf(s,t))}}))}return r}function qf(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function zf(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Wf(e){return"Input"===e.ngMetadataName}function Kf(e){return e.split(",").map((e=>e.trim()))}const Gf=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Zf(e){const t=Os();if(Gf.some((n=>t.hasLifecycleHook(e,n))))return!0;const n=t.propMetadata(e);for(const e in n){const t=n[e];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(Wf(n)||qf(n)||zf(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Yf(e,t){let n=null,r=null;Object.defineProperty(e,Ae,{get:()=>{if(null===r){const n=Qf(e,t),s=ls({usage:0,kind:"pipe",type:n.type});r=s.compileFactory(hf,`ng:///${n.name}/ɵfac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:Rs(e),target:s.FactoryTarget.Pipe})}return r},configurable:!!ngDevMode}),Object.defineProperty(e,ke,{get:()=>{if(null===n){const r=Qf(e,t),s=ls({usage:0,kind:"pipe",type:r.type});n=s.compilePipe(hf,`ng:///${r.name}/ɵpipe.js`,r)}return n},configurable:!!ngDevMode})}function Qf(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure,isStandalone:!!t.standalone}}const Jf=Gr("Directive",((e={})=>e),void 0,void 0,((e,t)=>Lf(e,t))),Xf=Gr("Component",((e={})=>({changeDetection:De.Default,...e})),Jf,void 0,((e,t)=>Rf(e,t))),ev=Gr("Pipe",(e=>({pure:!0,...e})),void 0,void 0,((e,t)=>Yf(e,t))),tv=Qr("Input",(e=>({bindingPropertyName:e}))),nv=Qr("Output",(e=>({bindingPropertyName:e}))),rv=Qr("HostBinding",(e=>({hostPropertyName:e}))),sv=Qr("HostListener",((e,t)=>({eventName:e,args:t}))),iv=Gr("NgModule",(e=>e),void 0,void 0,((e,t)=>wf(e,t)));function ov(...e){}const av=new Xr("Application Initializer");class cv{constructor(e){this.appInits=e,this.resolve=ov,this.reject=ov,this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let t=0;t<this.appInits.length;t++){const n=this.appInits[t]();if(fh(n))e.push(n);else if(yh(n)){const t=new Promise(((e,t)=>{n.subscribe({complete:e,error:t})}));e.push(t)}}Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}}cv.ɵfac=function(e){return new(e||cv)(ge(av,8))},cv.ɵprov=H({token:cv,factory:cv.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(cv,[{type:Nc,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:Es,args:[av]},{type:Ts}]}]}),null);const lv=new Xr("AppId",{providedIn:"root",factory:uv});function uv(){return`${pv()}${pv()}${pv()}`}const hv={provide:lv,useFactory:uv,deps:[]};function pv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dv=new Xr("Platform Initializer"),gv=new Xr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mv=new Xr("appBootstrapListener"),fv=new Xr("Application Packages Root URL"),vv=new Xr("AnimationModuleType");class yv{log(e){console.log(e)}warn(e){console.warn(e)}}yv.ɵfac=function(e){return new(e||yv)},yv.ɵprov=H({token:yv,factory:yv.ɵfac,providedIn:"platform"}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(yv,[{type:Nc,args:[{providedIn:"platform"}]}],null,null);const bv=new Xr("LocaleId",{providedIn:"root",factory:()=>fe(bv,ee.Optional|ee.SkipSelf)||("undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.LOCALE?goog.LOCALE:"undefined"!=typeof $localize&&$localize.locale||fd)}),wv=new Xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Dv=new Xr("Translations"),Cv=new Xr("TranslationsFormat");var _v;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(_v||(_v={}));class Sv{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}class xv{compileModuleSync(e){return new Wg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),n=mc(Ke(e).declarations).reduce(((e,t)=>{const n=He(t);return n&&e.push(new lu(n)),e}),[]);return new Sv(t,n)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}xv.ɵfac=function(e){return new(e||xv)},xv.ɵprov=H({token:xv,factory:xv.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(xv,[{type:Nc,args:[{providedIn:"root"}]}],null,null);const Iv=new Xr("compilerOptions");class Ev{}function Tv(e){ngDevMode&&N(e,"component"),zl(bi(e)),em(e).forEach((e=>rh(e)))}const kv="ng";let Mv=!1;function Av(){Mv||(Mv=!0,Fv("ɵsetProfiler",Qt),Fv("getDirectiveMetadata",rm),Fv("getComponent",Qg),Fv("getContext",Jg),Fv("getListeners",im),Fv("getOwningComponent",Xg),Fv("getHostElement",sm),Fv("getInjector",tm),Fv("getRootComponents",em),Fv("getDirectives",nm),Fv("applyChanges",Tv))}function Fv(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=se;if(ngDevMode&&N(t,"function not defined"),n){let r=n[kv];r||(r=n[kv]={}),r[e]=t}}}const Ov=Promise.resolve(0);function Rv(e){"undefined"==typeof Zone?Ov.then((()=>{e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Pv{constructor(e,t=console){this.name="asyncStackTagging for "+e,this.createTask=t?.createTask??(()=>null)}onScheduleTask(e,t,n,r){return r.consoleTask=this.createTask(`Zone - ${r.source||r.type}`),e.scheduleTask(n,r)}onInvokeTask(e,t,n,r,s,i){let o;return o=r.consoleTask?r.consoleTask.run((()=>e.invokeTask(n,r,s,i))):e.invokeTask(n,r,s,i),o}}class Lv{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rm(!1),this.onMicrotaskEmpty=new Rm(!1),this.onStable=new Rm(!1),this.onError=new Rm(!1),"undefined"==typeof Zone)throw new b(908,ngDevMode&&"In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,ngDevMode&&(r._inner=r._inner.fork(new Pv("Angular"))),Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=se.requestAnimationFrame,t=se.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(se,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,Uv(e),e.isCheckStableRunning=!0,Nv(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),Uv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,o,a)=>{try{return Vv(e),n.invokeTask(s,i,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),$v(e)}},onInvoke:(n,r,s,i,o,a,c)=>{try{return Vv(e),n.invoke(s,i,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),$v(e)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Uv(e),Nv(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),e.runOutsideAngular((()=>e.onError.emit(s))),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lv.isInAngularZone())throw new b(909,ngDevMode&&"Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lv.isInAngularZone())throw new b(909,ngDevMode&&"Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+r,e,jv,ov,ov);try{return s.runTask(i,t,n)}finally{s.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const jv={};function Nv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function Uv(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Vv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $v(e){e._nesting--,Nv(e)}class Bv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rm,this.onMicrotaskEmpty=new Rm,this.onStable=new Rm,this.onError=new Rm}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}const Hv=new Xr(""),qv=new Xr("");class zv{constructor(e,t,n){this._ngZone=e,this.registry=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gv||(Kv(n),n.addToWindow(t)),this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Lv.assertNotInAngularZone(),Rv((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rv((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==r)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,n){return[]}}zv.ɵfac=function(e){return new(e||zv)(ge(Lv),ge(Wv),ge(qv))},zv.ɵprov=H({token:zv,factory:zv.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(zv,[{type:Nc}],(function(){return[{type:Lv},{type:Wv},{type:void 0,decorators:[{type:Es,args:[qv]}]}]}),null);class Wv{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Gv?.findTestabilityInTree(this,e,t)??null}}function Kv(e){Gv=e}let Gv;Wv.ɵfac=function(e){return new(e||Wv)},Wv.ɵprov=H({token:Wv,factory:Wv.ɵfac,providedIn:"platform"}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(Wv,[{type:Nc,args:[{providedIn:"platform"}]}],null,null);let Zv=null;const Yv=new Xr("AllowMultipleToken"),Qv=new Xr("PlatformDestroyListeners"),Jv="undefined"==typeof ngDevMode||ngDevMode;function Xv(e,t,n){ngDevMode&&function(e,t="Type passed in is not NgModuleType, it does not have 'ɵmod' property."){Ke(e)||U(t)}(n);const r=new Wg(n);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(r);const s=e.get(Iv,[]).concat(t);if(function(e){if(null!==pf){if(e.defaultEncapsulation!==pf.defaultEncapsulation)return void(ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."));if(e.preserveWhitespaces!==pf.preserveWhitespaces)return void(ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."))}pf=e}({defaultEncapsulation:yy(s.map((e=>e.defaultEncapsulation))),preserveWhitespaces:yy(s.map((e=>e.preserveWhitespaces)))}),0===js.size)return Promise.resolve(r);const i=function(e){const t=[];return e.forEach((e=>e&&t.push(...e))),t}(s.map((e=>e.providers)));if(0===i.length)return Promise.resolve(r);const o=ls({usage:0,kind:"NgModule",type:n}),a=$c.create({providers:i}).get(o.ResourceLoader);return Ls((e=>Promise.resolve(a.get(e)))).then((()=>r))}function ey(){ngDevMode&&Av()}function ty(e){return e.isBoundToModule}class ny{constructor(e,t){this.name=e,this.token=t}}function ry(e){if(Zv&&!Zv.get(Yv,!1))throw new b(400,ngDevMode&&"There can be only one platform. Destroy the previous one to create a new one.");ey(),Zv=e;const t=e.get(hy);return sy(e),t}function sy(e){const t=e.get(dv,null);t&&t.forEach((e=>e()))}function iy(e){const{rootComponent:t,appProviders:n,platformProviders:r}=e;Jv&&void 0!==t&&function(e){if(fc(e),!He(e).standalone)throw new b(907,`The ${C(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${C(e)} component has the \`standalone: true\` flag in the decorator.`)}(t);const s=function(e=[]){if(Zv)return Zv;const t=cy(e);return Zv=t,ey(),sy(t),t}(r),i=dy("zone.js",py());return i.run((()=>{const e=Gg([{provide:Lv,useValue:i},...n||[]],s,"Environment Injector"),r=e.get(lc,null);if(Jv&&!r)throw new b(402,"No `ErrorHandler` found in the Dependency Injection tree.");let o;i.runOutsideAngular((()=>{o=i.onError.subscribe({next:e=>{r.handleError(e)}})}));const a=()=>e.destroy(),c=s.get(Qv);return c.add(a),e.onDestroy((()=>{o.unsubscribe(),c.delete(a)})),gy(r,i,(()=>{const n=e.get(cv);return n.runInitializers(),n.donePromise.then((()=>{Dd(e.get(bv,fd)||fd);const n=e.get(fy);return void 0!==t&&n.bootstrap(t),n}))}))}))}function oy(e,t,n=[]){const r=`Platform: ${t}`,s=new Xr(r);return(t=[])=>{let i=uy();if(!i||i.injector.get(Yv,!1)){const i=[...n,...t,{provide:s,useValue:!0}];e?e(i):ry(cy(i,r))}return ay(s)}}function ay(e){const t=uy();if(!t)throw new b(401,ngDevMode&&"No platform exists!");if(("undefined"==typeof ngDevMode||ngDevMode)&&!t.injector.get(e,null))throw new b(400,"A platform with a different configuration has been created. Please destroy it first.");return t}function cy(e=[],t){return $c.create({name:t,providers:[{provide:ja,useValue:"platform"},{provide:Qv,useValue:new Set([()=>Zv=null])},...e]})}function ly(){uy()?.destroy()}function uy(){return Zv?.get(hy)??null}class hy{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=dy(t?.ngZone,py(t)),r=[{provide:Lv,useValue:n}];return n.run((()=>{const t=$c.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(t),i=s.injector.get(lc,null);if(!i)throw new b(402,ngDevMode&&"No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular((()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});s.onDestroy((()=>{vy(this._modules,s),e.unsubscribe()}))})),gy(i,n,(()=>{const e=s.injector.get(cv);return e.runInitializers(),e.donePromise.then((()=>(Dd(s.injector.get(bv,fd)||fd),this._moduleDoBootstrap(s),s)))}))}))}bootstrapModule(e,t=[]){const n=my({},t);return Xv(this.injector,n,e).then((e=>this.bootstrapModuleFactory(e,n)))}_moduleDoBootstrap(e){const t=e.injector.get(fy);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap)throw new b(403,ngDevMode&&`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,ngDevMode&&"The platform has already been destroyed!");this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e()));const e=this._injector.get(Qv,null);e&&(e.forEach((e=>e())),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}function py(e){return{enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}function dy(e,t){let n;return n="noop"===e?new Bv:("zone.js"===e?void 0:e)||new Lv(t),n}function gy(e,t,n){try{const r=n();return fh(r)?r.catch((n=>{throw t.runOutsideAngular((()=>e.handleError(n))),n})):r}catch(n){throw t.runOutsideAngular((()=>e.handleError(n))),n}}function my(e,t){return Array.isArray(t)?t.reduce(my,e):{...e,...t}}hy.ɵfac=function(e){return new(e||hy)(ge($c))},hy.ɵprov=H({token:hy,factory:hy.ɵfac,providedIn:"platform"}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(hy,[{type:Nc,args:[{providedIn:"platform"}]}],(function(){return[{type:$c}]}),null);class fy{constructor(e,t,n){this._zone=e,this._injector=t,this._exceptionHandler=n,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run((()=>{this.tick()}))}});const r=new i._((e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular((()=>{e.next(this._stable),e.complete()}))})),s=new i._((e=>{let t;this._zone.runOutsideAngular((()=>{t=this._zone.onStable.subscribe((()=>{Lv.assertNotInAngularZone(),Rv((()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))}))}))}));const n=this._zone.onUnstable.subscribe((()=>{Lv.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular((()=>{e.next(!1)})))}));return()=>{t.unsubscribe(),n.unsubscribe()}}));this.isStable=(0,o.U)(r,s.pipe((0,a.o)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,t){Jv&&this.warnIfDestroyed();const n=e instanceof Za;if(!this._injector.get(cv).done){const t=!n&&We(e);throw new b(405,Jv&&"Cannot bootstrap as there are still asynchronous initializers running."+(t?"":" Bootstrap components in the `ngDoBootstrap` method of the root module."))}let r;r=n?e:this._injector.get(Qa).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=ty(r)?void 0:this._injector.get($g),i=t||r.selector,o=r.create($c.NULL,[],i,s),a=o.location.nativeElement,c=o.injector.get(Hv,null);return c?.registerApplication(a),o.onDestroy((()=>{this.detachView(o.hostView),vy(this.components,o),c?.unregisterApplication(a)})),this._loadComponent(o),("undefined"==typeof ngDevMode||ngDevMode)&&this._injector.get(yv).log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}tick(){if(Jv&&this.warnIfDestroyed(),this._runningTick)throw new b(101,ngDevMode&&"ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if("undefined"==typeof ngDevMode||ngDevMode)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular((()=>this._exceptionHandler.handleError(e)))}finally{this._runningTick=!1}}attachView(e){Jv&&this.warnIfDestroyed();const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){Jv&&this.warnIfDestroyed();const t=e;vy(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const t=this._injector.get(mv,[]);if(ngDevMode&&!Array.isArray(t))throw new b(-209,`Unexpected type of the \`APP_BOOTSTRAP_LISTENER\` token value (expected an array, but got ${typeof t}). Please check that the \`APP_BOOTSTRAP_LISTENER\` token is configured as a \`multi: true\` provider.`);t.push(...this._bootstrapListeners),t.forEach((t=>t(e)))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach((e=>e())),this._views.slice().forEach((e=>e.destroy())),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return Jv&&this.warnIfDestroyed(),this._destroyListeners.push(e),()=>vy(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new b(406,ngDevMode&&"This instance of the `ApplicationRef` has already been destroyed.");const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){Jv&&this._destroyed&&console.warn(w(406,"This instance of the `ApplicationRef` has already been destroyed."))}}function vy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function yy(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function by(){return"undefined"==typeof ngDevMode||!!ngDevMode}function wy(){("undefined"==typeof ngDevMode||ngDevMode)&&(se.ngDevMode=!1)}function Dy(e){const t=zs(e);if(!t)throw _y(e);return new Wg(t)}function Cy(e){const t=zs(e);if(!t)throw _y(e);return t}function _y(e){return new Error(`No module with ID ${e} loaded`)}fy.ɵfac=function(e){return new(e||fy)(ge(Lv),ge(Ba),ge(lc))},fy.ɵprov=H({token:fy,factory:fy.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(fy,[{type:Nc,args:[{providedIn:"root"}]}],(function(){return[{type:Lv},{type:Ba},{type:lc}]}),null);class Sy{}function xy(e){return function(e,t,n){if(xt(e)&&!n){const n=an(e.index,t);return new su(n,n)}if(47&e.type){const e=t[ut];return new su(e,t)}return null}(Cn(),yn(),16==(16&e))}Sy.__NG_ELEMENT_ID__=xy;class Iy extends Sy{}class Ey extends Iy{}class Ty{constructor(e,t){this.name=e,this.callback=t}}function ky(e){return e.map((e=>e.nativeElement))}class My{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new Ay(e):null}get injector(){return tm(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Qg(e)||Xg(e))}get context(){return Qg(this.nativeNode)||Jg(this.nativeNode)}get listeners(){return im(this.nativeNode).filter((e=>"dom"===e.type))}get references(){return function(e){const t=vi(e);if(null===t)return{};if(void 0===t.localRefs){const e=t.lView;if(null===e)return{};t.localRefs=function(e,t){const n=e[Ze].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let s=0;s<n.localNames.length;s+=2)t[n.localNames[s]]=e[r],r++;return t}return null}(e,t.nodeIndex)}return t.localRefs||{}}(this.nativeNode)}get providerTokens(){return function(e){const t=vi(e),n=t?t.lView:null;if(null===n)return[];const r=n[Ze],s=r.data[t.nodeIndex],i=[],o=1048575&s.providerIndexes,a=s.directiveEnd;for(let e=o;e<a;e++){let t=r.data[e];void 0!==(c=t).type&&void 0!==c.template&&void 0!==c.declaredInputs&&(t=t.type),i.push(t)}var c;return i}(this.nativeNode)}}class Ay extends My{constructor(e){ngDevMode&&V(e),super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=vi(this.nativeNode),t=e?e.lView:null;return null!==t?t[Ze].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=vi(this.nativeNode),t=e?e.lView:null;if(null===t)return{};const n=t[Ze].data,r=n[e.nodeIndex],s={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];Fy(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,s),function(e,t,n,r){let s=t.propertyBindings;if(null!==s)for(let t=0;t<s.length;t++){const i=s[t],o=r[i].split(gc),a=o[0];if(o.length>1){let t=o[1];for(let e=1;e<o.length-1;e++)t+=D(n[i+e-1])+o[e+1];e[a]=t}else e[a]=n[i]}}(s,r,t,n),s}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=vi(t),r=n?n.lView:null;if(null===r)return{};const s=r[Ze].data[n.nodeIndex].attrs,i=[];if(s){let t=0;for(;t<s.length;){const n=s[t];if("string"!=typeof n)break;const r=s[t+1];e[n]=r,i.push(n.toLowerCase()),t+=2}}const o=t.attributes;for(let t=0;t<o.length;t++){const n=o[t],r=n.name.toLowerCase();-1===i.indexOf(r)&&(e[r]=n.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return("string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((t=>e[t]=!0)),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(Uy(r))}return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let e=0;e<t.length;e++){const r=t[e];n.push(Uy(r))}return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Oy(this,e,t,!0),t}queryAllNodes(e){const t=[];return Oy(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach((s=>{if(s.name===e){const e=s.callback;e.call(n,t),r.push(e)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const s=e("__ngUnwrap__");return-1===r.indexOf(s)&&s.call(n,t)}}))}}function Fy(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Oy(e,t,n,r){const s=vi(e.nativeNode),i=s?s.lView:null;null!==i?Ry(i[Ze].data[s.nodeIndex],i,t,n,r,e.nativeNode):jy(e.nativeNode,t,n,r)}function Ry(e,t,n,r,s,i){ngDevMode&&Tt(e,t);const o=function(e,t){const n=null===e?-1:e.index;return-1!==n?(ngDevMode&&Tt(e,t),tn(t[n])):null}(e,t);if(11&e.type){if(Ly(o,n,r,s,i),xt(e)){const o=an(e.index,t);o&&o[Ze].firstChild&&Ry(o[Ze].firstChild,o,n,r,s,i)}else e.child&&Ry(e.child,t,n,r,s,i),o&&jy(o,n,r,s);const a=t[e.index];_t(a)&&Py(a,n,r,s,i)}else if(4&e.type){const o=t[e.index];Ly(o[bt],n,r,s,i),Py(o,n,r,s,i)}else if(16&e.type){const o=t[ut],a=o[et].projection[e.projection];if(Array.isArray(a))for(let e of a)Ly(e,n,r,s,i);else if(a){const e=o[Qe];Ry(e[Ze].data[a.index],e,n,r,s,i)}}else e.child&&Ry(e.child,t,n,r,s,i);if(i!==o){const o=2&e.flags?e.projectionNext:e.next;o&&Ry(o,t,n,r,s,i)}}function Py(e,t,n,r,s){for(let i=Dt;i<e.length;i++){const o=e[i],a=o[Ze].firstChild;a&&Ry(a,o,t,n,r,s)}}function Ly(e,t,n,r,s){if(s!==e){const s=Uy(e);if(!s)return;(r&&s instanceof Ay&&t(s)&&-1===n.indexOf(s)||!r&&t(s)&&-1===n.indexOf(s))&&n.push(s)}}function jy(e,t,n,r){const s=e.childNodes,i=s.length;for(let e=0;e<i;e++){const i=s[e],o=Uy(i);o&&((r&&o instanceof Ay&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o),jy(i,t,n,r))}}new Map;const Ny="__ng_debug__";function Uy(e){return e instanceof Node?(e.hasOwnProperty(Ny)||(e[Ny]=e.nodeType==Node.ELEMENT_NODE?new Ay(e):new My(e)),e[Ny]):null}function Vy(e){return null}class $y{constructor(){}supports(e){return ku(e)}create(e){return new Hy(e)}}const By=(e,t)=>t;class Hy{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||By}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const i=!n||t&&t.currentIndex<Ky(n,r,s)?t:n,o=Ky(i,r,s),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{s||(s=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<s.length?s[n]:s[n]=0,i=r+n;t<=i&&i<e&&(s[n]=r+1)}s[i.previousIndex]=t-e}}o!==a&&e(i,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ku(e))throw new b(900,ngDevMode&&`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,s=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,n,r,t)),Object.is(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,t),i=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Tu()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,(e=>{r=this._trackByFn(t,e),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,e,r,t)),Object.is(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,r,t),i=!0),s=s._next,t++})),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new qy(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Wy),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wy),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class qy{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zy{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Wy{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new zy,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ky(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Gy{constructor(){}supports(e){return e instanceof Map||Mu(e)}create(){return new Zy}}class Zy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Mu(e)))throw new b(900,ngDevMode&&`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,s=n._next;return r&&(r._next=s),s&&(s._prev=r),n._next=null,n._prev=null,n}const n=new Yy(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((n=>t(e[n],n)))}}class Yy{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qy(){return new Jy([new $y])}class Jy{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new Jy(e)}static extend(e){return{provide:Jy,useFactory:t=>Jy.create(e,t||Qy()),deps:[[Jy,new Ms,new Ts]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;throw new b(901,ngDevMode&&`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}function Xy(){return new eb([new Gy])}Jy.ɵprov=H({token:Jy,providedIn:"root",factory:Qy});class eb{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new eb(e)}static extend(e){return{provide:eb,useFactory:t=>eb.create(e,t||Xy()),deps:[[eb,new Ms,new Ts]]}}find(e){const t=this.factories.find((t=>t.supports(e)));if(t)return t;throw new b(901,ngDevMode&&`Cannot find a differ supporting object '${e}'`)}}eb.ɵprov=H({token:eb,providedIn:"root",factory:Xy});const tb=[new Gy],nb=[new $y],rb=new Jy(nb),sb=new eb(tb),ib=oy(null,"core",[]);class ob{constructor(e){}}function ab(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}ob.ɵfac=function(e){return new(e||ob)(ge(fy))},ob.ɵmod=Ne({type:ob}),ob.ɵinj=z({}),("undefined"==typeof ngDevMode||ngDevMode)&&cm(ob,[{type:iv}],(function(){return[{type:fy}]}),null);const cb=!0;function lb(e){return ls({usage:1,kind:"directive",type:e.type}).compileDirectiveDeclaration(hf,`ng:///${e.type.name}/ɵfac.js`,e)}function ub(e){cm(e.type,e.decorators,e.ctorParameters??null,e.propDecorators??null)}function hb(e){return ls({usage:1,kind:"component",type:e.type}).compileComponentDeclaration(hf,`ng:///${e.type.name}/ɵcmp.js`,e)}function pb(e){return ls({usage:1,kind:db(e.target),type:e.type}).compileFactoryDeclaration(hf,`ng:///${e.type.name}/ɵfac.js`,e)}function db(e){switch(e){case os.Directive:return"directive";case os.Component:return"component";case os.Injectable:return"injectable";case os.Pipe:return"pipe";case os.NgModule:return"NgModule"}}function gb(e){return ls({usage:1,kind:"injectable",type:e.type}).compileInjectableDeclaration(hf,`ng:///${e.type.name}/ɵprov.js`,e)}function mb(e){return ls({usage:1,kind:"NgModule",type:e.type}).compileInjectorDeclaration(hf,`ng:///${e.type.name}/ɵinj.js`,e)}function fb(e){return ls({usage:1,kind:"NgModule",type:e.type}).compileNgModuleDeclaration(hf,`ng:///${e.type.name}/ɵmod.js`,e)}function vb(e){return ls({usage:1,kind:"pipe",type:e.type}).compilePipeDeclaration(hf,`ng:///${e.type.name}/ɵpipe.js`,e)}function yb(e,t){ngDevMode&&fc(e);const n=He(e),r=t.elementInjector||$a();return new lu(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}function bb(e){const t=He(e);if(!t)return null;const n=new lu(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone}}}"undefined"!=typeof ngDevMode&&ngDevMode&&(se.$localize=se.$localize||function(){throw new Error("It looks like your application or one of its dependencies is using i18n.\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\nPlease run `ng add @angular/localize` from the Angular CLI.\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\nFor server-side rendering applications add the import to your `main.server.ts` file.)")})},4064:(e,t,n)=>{"use strict";n.d(t,{OY:()=>Z,eO:()=>V,iE:()=>q});var r=n(1132),s=n(8676);class i extends r.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends i{static makeCurrent(){(0,r.ug)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Sg)(document.cookie,e)}}let a,c=null;const l=new s.InjectionToken("TRANSITION_ID"),u=[{provide:s.APP_INITIALIZER,useFactory:function(e,t,n){return()=>{n.get(s.ApplicationInitStatus).donePromise.then((()=>{const n=(0,r.uy)(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<s.length;e++)n.remove(s[e])}))}},deps:[l,r.Ud,s.Injector],multi:!0}];class h{build(){return new XMLHttpRequest}}h.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:h,deps:[],target:s["ɵɵFactoryTarget"].Injectable}),h.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:h}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:h,decorators:[{type:s.Injectable}]});const p=new s.InjectionToken("EventManagerPlugins");class d{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach((e=>e.manager=this)),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let t=0;t<n.length;t++){const r=n[t];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error(`No event manager plugin found for event ${e}`)}}d.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:d,deps:[{token:p},{token:s.NgZone}],target:s["ɵɵFactoryTarget"].Injectable}),d.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:d}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:d,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[p]}]},{type:s.NgZone}]}});class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=(0,r.uy)().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}class m{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach((e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))})),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}m.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:m,deps:[],target:s["ɵɵFactoryTarget"].Injectable}),m.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:m}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:m,decorators:[{type:s.Injectable}]});class f extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach((e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))}))}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(((t,n)=>{this._addStylesToHost(e,n,t)}))}ngOnDestroy(){this._hostNodes.forEach((e=>e.forEach(v)))}}function v(e){(0,r.uy)().remove(e)}f.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:f,deps:[{token:r.Ud}],target:s["ɵɵFactoryTarget"].Injectable}),f.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:f}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:f,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]}]}});const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},b=/%COMP%/g,w="undefined"==typeof ngDevMode||!!ngDevMode,D="%COMP%",C=`_nghost-${D}`,_=`_ngcontent-${D}`;function S(e,t){return t.flat(100).map((t=>t.replace(b,e)))}function x(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let I=!1;class E{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new T(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new F(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case s.ViewEncapsulation.ShadowDom:return"undefined"!=typeof ngDevMode&&!ngDevMode||I||1!==t.encapsulation||(I=!0,console.warn("ViewEncapsulation.Native is no longer supported. Falling back to ViewEncapsulation.ShadowDom. The fallback will be removed in v12.")),new O(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=S(t.id,t.styles);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}E.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:E,deps:[{token:d},{token:f},{token:s.APP_ID}],target:s["ɵɵFactoryTarget"].Injectable}),E.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:E}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:E,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:d},{type:f},{type:void 0,decorators:[{type:s.Inject,args:[s.APP_ID]}]}]}});class T{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(y[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(A(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(A(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=y[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=y[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(s.RendererStyleFlags2.DashCase|s.RendererStyleFlags2.Important)?e.style.setProperty(t,n,r&s.RendererStyleFlags2.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&s.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){w&&M(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return w&&M(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,x(n)):this.eventManager.addEventListener(e,t,x(n))}}const k="@".charCodeAt(0);function M(e,t){if(e.charCodeAt(0)===k)throw new Error(`Unexpected synthetic ${t} ${e} found. Please make sure that:\n  - Either \`BrowserAnimationsModule\` or \`NoopAnimationsModule\` are imported in your application.\n  - There is corresponding configuration for the animation named \`${e}\` defined in the \`animations\` field of the \`@Component\` decorator (see https://angular.io/api/core/Component#animations).`)}function A(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class F extends T{constructor(e,t,n,r){super(e),this.component=n;const s=S(r+"-"+n.id,n.styles);var i;t.addStyles(s),this.contentAttr=(i=r+"-"+n.id,_.replace(b,i)),this.hostAttr=function(e){return C.replace(b,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class O extends T{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=S(r.id,r.styles);for(let e=0;e<s.length;e++){const t=document.createElement("style");t.textContent=s[e],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}class R extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}R.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:R,deps:[{token:r.Ud}],target:s["ɵɵFactoryTarget"].Injectable}),R.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:R}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:R,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]}]}});const P=["alt","control","meta","shift"],L={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class N extends g{constructor(e){super(e)}supports(e){return null!=N.parseEventName(e)}addEventListener(e,t,n){const s=N.parseEventName(t),i=N.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((()=>(0,r.uy)().onAndCancel(e,s.domEventName,i)))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=N._normalizeKey(t.pop());let s="",i=t.indexOf("code");if(i>-1&&(t.splice(i,1),s="code."),P.forEach((e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),s+=e+".")})),s+=r,0!=t.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=s,o}static matchEventFullKeyCode(e,t){let n=L[e.key]||e.key,r="";return t.indexOf("code.")>-1&&(n=e.code,r="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),P.forEach((t=>{t!==n&&(0,j[t])(e)&&(r+=t+".")})),r+=n,r===t)}static eventCallback(e,t,n){return r=>{N.matchEventFullKeyCode(r,e)&&n.runGuarded((()=>t(r)))}}static _normalizeKey(e){return"esc"===e?"escape":e}}N.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:N,deps:[{token:r.Ud}],target:s["ɵɵFactoryTarget"].Injectable}),N.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:N}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:N,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]}]}});const U="undefined"==typeof ngDevMode||!!ngDevMode,V=[{provide:s.PLATFORM_ID,useValue:r._k},{provide:s.PLATFORM_INITIALIZER,useValue:function(){o.makeCurrent()},multi:!0},{provide:r.Ud,useFactory:function(){return(0,s["ɵsetDocument"])(document),document},deps:[]}],$=((0,s.createPlatformFactory)(s.platformCore,"browser",V),new s.InjectionToken(U?"BrowserModule Providers Marker":"")),B=[{provide:s["ɵTESTABILITY_GETTER"],useClass:class{addToWindow(e){s["ɵglobal"].getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},s["ɵglobal"].getAllAngularTestabilities=()=>e.getAllTestabilities(),s["ɵglobal"].getAllAngularRootElements=()=>e.getAllRootElements(),s["ɵglobal"].frameworkStabilizers||(s["ɵglobal"].frameworkStabilizers=[]),s["ɵglobal"].frameworkStabilizers.push((e=>{const t=s["ɵglobal"].getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,n--,0==n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?(0,r.uy)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:s["ɵTESTABILITY"],useClass:s.Testability,deps:[s.NgZone,s.TestabilityRegistry,s["ɵTESTABILITY_GETTER"]]},{provide:s.Testability,useClass:s.Testability,deps:[s.NgZone,s.TestabilityRegistry,s["ɵTESTABILITY_GETTER"]]}],H=[{provide:s["ɵINJECTOR_SCOPE"],useValue:"root"},{provide:s.ErrorHandler,useFactory:function(){return new s.ErrorHandler},deps:[]},{provide:p,useClass:R,multi:!0,deps:[r.Ud,s.NgZone,s.PLATFORM_ID]},{provide:p,useClass:N,multi:!0,deps:[r.Ud]},{provide:E,useClass:E,deps:[d,f,s.APP_ID]},{provide:s.RendererFactory2,useExisting:E},{provide:m,useExisting:f},{provide:f,useClass:f,deps:[r.Ud]},{provide:d,useClass:d,deps:[p,s.NgZone]},{provide:r.OM,useClass:h,deps:[]},U?{provide:$,useValue:!0}:[]];class q{constructor(e){if(U&&e)throw new Error("Providers from the `BrowserModule` have already been loaded. If you need access to common directives such as NgIf and NgFor, import the `CommonModule` instead.")}static withServerTransition(e){return{ngModule:q,providers:[{provide:s.APP_ID,useValue:e.appId},{provide:l,useExisting:s.APP_ID},u]}}}function z(){return new W((0,s["ɵɵinject"])(r.Ud))}q.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:q,deps:[{token:$,optional:!0,skipSelf:!0}],target:s["ɵɵFactoryTarget"].NgModule}),q.ɵmod=s["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:s,type:q,exports:[r.MD,s.ApplicationModule]}),q.ɵinj=s["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:q,providers:[...H,...B],imports:[r.MD,s.ApplicationModule]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:q,decorators:[{type:s.NgModule,args:[{providers:[...H,...B],exports:[r.MD,s.ApplicationModule]}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Optional},{type:s.SkipSelf},{type:s.Inject,args:[$]}]}]}});class W{constructor(e){this._doc=e,this._dom=(0,r.uy)()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce(((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e)),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTags(t).filter((t=>this._containsAttributes(e,t)))[0];if(void 0!==n)return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(e,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach((n=>t.setAttribute(this._getMetaKeyMap(n),e[n]))),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every((n=>t.getAttribute(this._getMetaKeyMap(n))===e[n]))}_getMetaKeyMap(e){return K[e]||e}}W.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:W,deps:[{token:r.Ud}],target:s["ɵɵFactoryTarget"].Injectable}),W.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:W,providedIn:"root",useFactory:z,deps:[]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:W,decorators:[{type:s.Injectable,args:[{providedIn:"root",useFactory:z,deps:[]}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]}]}});const K={httpEquiv:"http-equiv"};function G(){return new Z((0,s["ɵɵinject"])(r.Ud))}class Z{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}Z.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:Z,deps:[{token:r.Ud}],target:s["ɵɵFactoryTarget"].Injectable}),Z.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:Z,providedIn:"root",useFactory:G,deps:[]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:Z,decorators:[{type:s.Injectable,args:[{providedIn:"root",useFactory:G,deps:[]}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]}]}}),"undefined"!=typeof window&&window;class Y{constructor(){this.store={},this.onSerializeCallbacks={}}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}function Q(e,t){const n=e.getElementById(t+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,(e=>t[e]))}(n.textContent))}catch(e){console.warn("Exception while restoring TransferState for app "+t,e)}return r}Y.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:Y,deps:[],target:s["ɵɵFactoryTarget"].Injectable}),Y.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:Y,providedIn:"root",useFactory:()=>{const e=(0,s.inject)(r.Ud),t=(0,s.inject)(s.APP_ID),n=new Y;return n.store=Q(e,t),n}}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:Y,decorators:[{type:s.Injectable,args:[{providedIn:"root",useFactory:()=>{const e=(0,s.inject)(r.Ud),t=(0,s.inject)(s.APP_ID),n=new Y;return n.store=Q(e,t),n}}]}]});class J{}J.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:J,deps:[],target:s["ɵɵFactoryTarget"].NgModule}),J.ɵmod=s["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:s,type:J}),J.ɵinj=s["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:J}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:J,decorators:[{type:s.NgModule,args:[{}]}]});const X={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},ee=new s.InjectionToken("HammerGestureConfig"),te=new s.InjectionToken("HammerLoader");class ne{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const e in this.overrides)t.get(e).set(this.overrides[e]);return t}}ne.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ne,deps:[],target:s["ɵɵFactoryTarget"].Injectable}),ne.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ne}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ne,decorators:[{type:s.Injectable}]});class re extends g{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r,this._loaderPromise=null}supports(e){return!(!X.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(("undefined"==typeof ngDevMode||ngDevMode)&&this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||r.runOutsideAngular((()=>this.loader()));let s=!1,i=()=>{s=!0};return r.runOutsideAngular((()=>this._loaderPromise.then((()=>{if(!window.Hammer)return("undefined"==typeof ngDevMode||ngDevMode)&&this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});s||(i=this.addEventListener(e,t,n))})).catch((()=>{("undefined"==typeof ngDevMode||ngDevMode)&&this.console.warn(`The "${t}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}})))),()=>{i()}}return r.runOutsideAngular((()=>{const s=this._config.buildHammer(e),i=function(e){r.runGuarded((function(){n(e)}))};return s.on(t,i),()=>{s.off(t,i),"function"==typeof s.destroy&&s.destroy()}}))}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}re.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:re,deps:[{token:r.Ud},{token:ee},{token:s["ɵConsole"]},{token:te,optional:!0}],target:s["ɵɵFactoryTarget"].Injectable}),re.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:re}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:re,decorators:[{type:s.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]},{type:ne,decorators:[{type:s.Inject,args:[ee]}]},{type:s["ɵConsole"]},{type:void 0,decorators:[{type:s.Optional},{type:s.Inject,args:[te]}]}]}});class se{}se.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:se,deps:[],target:s["ɵɵFactoryTarget"].NgModule}),se.ɵmod=s["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:s,type:se}),se.ɵinj=s["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:se,providers:[{provide:p,useClass:re,multi:!0,deps:[r.Ud,ee,s["ɵConsole"],[new s.Optional,te]]},{provide:ee,useClass:ne,deps:[]}]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:se,decorators:[{type:s.NgModule,args:[{providers:[{provide:p,useClass:re,multi:!0,deps:[r.Ud,ee,s["ɵConsole"],[new s.Optional,te]]},{provide:ee,useClass:ne,deps:[]}]}]}]});class ie{}function oe(e){return new ae(e.get(r.Ud))}ie.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ie,deps:[],target:s["ɵɵFactoryTarget"].Injectable}),ie.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ie,providedIn:"root",useExisting:s.forwardRef((function(){return ae}))}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ie,decorators:[{type:s.Injectable,args:[{providedIn:"root",useExisting:(0,s.forwardRef)((()=>ae))}]}]});class ae extends ie{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case s.SecurityContext.NONE:return t;case s.SecurityContext.HTML:return(0,s["ɵallowSanitizationBypassAndThrow"])(t,"HTML")?(0,s["ɵunwrapSafeValue"])(t):(0,s["ɵ_sanitizeHtml"])(this._doc,String(t)).toString();case s.SecurityContext.STYLE:return(0,s["ɵallowSanitizationBypassAndThrow"])(t,"Style")?(0,s["ɵunwrapSafeValue"])(t):t;case s.SecurityContext.SCRIPT:if((0,s["ɵallowSanitizationBypassAndThrow"])(t,"Script"))return(0,s["ɵunwrapSafeValue"])(t);throw new Error("unsafe value used in a script context");case s.SecurityContext.URL:return(0,s["ɵallowSanitizationBypassAndThrow"])(t,"URL")?(0,s["ɵunwrapSafeValue"])(t):(0,s["ɵ_sanitizeUrl"])(String(t));case s.SecurityContext.RESOURCE_URL:if((0,s["ɵallowSanitizationBypassAndThrow"])(t,"ResourceURL"))return(0,s["ɵunwrapSafeValue"])(t);throw new Error(`unsafe value used in a resource URL context (see ${s["ɵXSS_SECURITY_URL"]})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s["ɵXSS_SECURITY_URL"]})`)}}bypassSecurityTrustHtml(e){return(0,s["ɵbypassSanitizationTrustHtml"])(e)}bypassSecurityTrustStyle(e){return(0,s["ɵbypassSanitizationTrustStyle"])(e)}bypassSecurityTrustScript(e){return(0,s["ɵbypassSanitizationTrustScript"])(e)}bypassSecurityTrustUrl(e){return(0,s["ɵbypassSanitizationTrustUrl"])(e)}bypassSecurityTrustResourceUrl(e){return(0,s["ɵbypassSanitizationTrustResourceUrl"])(e)}}ae.ɵfac=s["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ae,deps:[{token:r.Ud}],target:s["ɵɵFactoryTarget"].Injectable}),ae.ɵprov=s["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ae,providedIn:"root",useFactory:oe,deps:[{token:s.Injector}]}),s["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:s,type:ae,decorators:[{type:s.Injectable,args:[{providedIn:"root",useFactory:oe,deps:[s.Injector]}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:s.Inject,args:[r.Ud]}]}]}}),new s.Version("15.0.4")},9584:(e,t,n)=>{"use strict";n.d(t,{E5:()=>Jn,qQ:()=>wr});var r=n(8676),s=n(6292),i=n(7288),o=n(928),a=n(3300),c=n(2808),l=n(84),u=n(2024),h=n(7819),p=n(3980),d=n(1944),g=n(460),m=n(1316),f=n(8888),v=n(6816),y=n(3760);function b(){return(0,v.i)((function(e,t){var n=null;e._refCount++;var r=(0,y.e)(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,s=n;n=null,!r||s&&r!==s||r.unsubscribe(),t.unsubscribe()}}));e.subscribe(r),r.closed||(n=e.connect())}))}var w=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,(0,v.e)(t)&&(r.lift=t.lift),r}return(0,m.ct)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new f.wH;var n=this.getSubject();t.add(this.source.subscribe((0,y.e)(n,void 0,(function(){e._teardown(),n.complete()}),(function(t){e._teardown(),n.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=f.wH.EMPTY)}return t},t.prototype.refCount=function(){return b()(this)},t}(d._),D=n(3588),C=n(1132),_=n(4864),S=n(8128),x=n(1544),I=n(5132),E=n(5232),T=n(6632),k=n(8376),M=n(7964),A=n(260),F=n(5972),O=n(648);function R(e){return e<=0?function(){return g.k}:(0,v.i)((function(t,n){var r=[];t.subscribe((0,y.e)(n,(function(t){r.push(t),e<r.length&&r.shift()}),(function(){var e,t;try{for(var s=(0,m.gR)(r),i=s.next();!i.done;i=s.next()){var o=i.value;n.next(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){r=null})))}))}var P=n(6080),L=n(6896),j=n(3500);function N(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,E.I)((function(t,n){return e(t,n,r)})):j.Z,R(1),n?(0,L.G)(t):(0,P._)((function(){return new a.G})))}}var U=n(7576);function V(e){return(0,v.i)((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}var $=n(844),B=n(4064);const H="primary",q=Symbol("RouteTitle");class z{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function W(e){return new z(e)}function K(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const s={};for(let t=0;t<r.length;t++){const n=r[t],i=e[t];if(n.startsWith(":"))s[n.substring(1)]=i;else if(n!==i.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function G(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let r=0;r<n.length;r++)if(s=n[r],!Z(e[s],t[s]))return!1;return!0}function Z(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every(((e,t)=>r[t]===e))}return e===t}function Y(e){return Array.prototype.concat.apply([],e)}function Q(e){return e.length>0?e[e.length-1]:null}function J(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function X(e){return(0,r["ɵisObservable"])(e)?e:(0,r["ɵisPromise"])(e)?(0,s.Q)(Promise.resolve(e)):(0,i.of)(e)}const ee="undefined"==typeof ngDevMode||ngDevMode,te={exact:function e(t,n,r){if(!ue(t.segments,n.segments))return!1;if(!oe(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!t.children[s])return!1;if(!e(t.children[s],n.children[s],r))return!1}return!0},subset:se},ne={exact:function(e,t){return G(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((n=>Z(e[n],t[n])))},ignored:()=>!0};function re(e,t,n){return te[n.paths](e.root,t.root,n.matrixParams)&&ne[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function se(e,t,n){return ie(e,t,t.segments,n)}function ie(e,t,n,r){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!!ue(s,n)&&!t.hasChildren()&&!!oe(s,n,r)}if(e.segments.length===n.length){if(!ue(e.segments,n))return!1;if(!oe(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!se(e.children[n],t.children[n],r))return!1}return!0}{const s=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!ue(e.segments,s)&&!!oe(e.segments,s,r)&&!!e.children[H]&&ie(e.children[H],t,i,r)}}function oe(e,t,n){return t.every(((t,r)=>ne[n](e[r].parameters,t.parameters)))}class ae{constructor(e=new ce([],{}),t={},n=null){if(this.root=e,this.queryParams=t,this.fragment=n,ee&&e.segments.length>0)throw new r["ɵRuntimeError"](4015,"The root `UrlSegmentGroup` should not contain `segments`. Instead, these segments belong in the `children` so they can be associated with a named outlet.")}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=W(this.queryParams)),this._queryParamMap}toString(){return de.serialize(this)}}class ce{constructor(e,t){this.segments=e,this.children=t,this.parent=null,J(t,((e,t)=>e.parent=this))}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ge(this)}}class le{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=W(this.parameters)),this._parameterMap}toString(){return De(this)}}function ue(e,t){return e.length===t.length&&e.every(((e,n)=>e.path===t[n].path))}class he{}he.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:he,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),he.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:he,providedIn:"root",useFactory:()=>new pe}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:he,decorators:[{type:r.Injectable,args:[{providedIn:"root",useFactory:()=>new pe}]}]});class pe{parse(e){const t=new Ie(e);return new ae(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${me(e.root,!0)}`,n=function(e){const t=Object.keys(e).map((t=>{const n=e[t];return Array.isArray(n)?n.map((e=>`${ve(t)}=${ve(e)}`)).join("&"):`${ve(t)}=${ve(n)}`})).filter((e=>!!e));return t.length?`?${t.join("&")}`:""}(e.queryParams);var r;return`${t}${n}${"string"==typeof e.fragment?`#${r=e.fragment,encodeURI(r)}`:""}`}}const de=new pe;function ge(e){return e.segments.map((e=>De(e))).join("/")}function me(e,t){if(!e.hasChildren())return ge(e);if(t){const t=e.children[H]?me(e.children[H],!1):"",n=[];return J(e.children,((e,t)=>{t!==H&&n.push(`${t}:${me(e,!1)}`)})),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return J(e.children,((e,r)=>{r===H&&(n=n.concat(t(e,r)))})),J(e.children,((e,r)=>{r!==H&&(n=n.concat(t(e,r)))})),n}(e,((t,n)=>n===H?[me(e.children[H],!1)]:[`${n}:${me(t,!1)}`]));return 1===Object.keys(e.children).length&&null!=e.children[H]?`${ge(e)}/${t[0]}`:`${ge(e)}/(${t.join("//")})`}}function fe(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ve(e){return fe(e).replace(/%3B/gi,";")}function ye(e){return fe(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(e){return decodeURIComponent(e)}function we(e){return be(e.replace(/\+/g,"%20"))}function De(e){return`${ye(e.path)}${t=e.parameters,Object.keys(t).map((e=>`;${ye(e)}=${ye(t[e])}`)).join("")}`;var t}const Ce=/^[^\/()?;=#]+/;function _e(e){const t=e.match(Ce);return t?t[0]:""}const Se=/^[^=?&#]+/,xe=/^[^&#]+/;class Ie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[H]=new ce(e,t)),n}parseSegment(){const e=_e(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new r["ɵRuntimeError"](4009,ee&&`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new le(be(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_e(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=_e(this.remaining);e&&(n=e,this.capture(n))}e[be(t)]=be(n)}parseQueryParam(e){const t=function(e){const t=e.match(Se);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(xe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=we(t),s=we(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_e(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new r["ɵRuntimeError"](4010,ee&&`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=H);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[H]:new ce([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new r["ɵRuntimeError"](4011,ee&&`Expected "${e}".`)}}function Ee(e){return e.segments.length>0?new ce([],{[H]:e}):e}function Te(e){const t={};for(const n of Object.keys(e.children)){const r=Te(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[H]){const t=e.children[H];return new ce(e.segments.concat(t.segments),t.children)}return e}(new ce(e.segments,t))}function ke(e){return e instanceof ae}const Me="undefined"==typeof ngDevMode||ngDevMode;function Ae(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Fe(e){return"object"==typeof e&&null!=e&&e.outlets}function Oe(e,t,n,r,s){let i,o={};r&&J(r,((e,t)=>{o[t]=Array.isArray(e)?e.map((e=>`${e}`)):`${e}`})),i=e===t?n:Re(e,t,n);const a=Ee(Te(i));return new ae(a,o,s)}function Re(e,t,n){const r={};return J(e.children,((e,s)=>{r[s]=e===t?n:Re(e,t,n)})),new ce(e.segments,r)}class Pe{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Ae(n[0]))throw new r["ɵRuntimeError"](4003,Me&&"Root segment cannot have matrix parameters");const s=n.find(Fe);if(s&&s!==Q(n))throw new r["ɵRuntimeError"](4004,Me&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}function Le(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Pe(!0,0,e);let t=0,n=!1;const r=e.reduce(((e,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return J(r.outlets,((e,n)=>{t[n]="string"==typeof e?e.split("/"):e})),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===s?(r.split("/").forEach(((r,s)=>{0==s&&"."===r||(0==s&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[...e,r]}),[]);return new Pe(n,t,r)}class je{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ne(e,t,n){let s=e,i=t,o=n;for(;o>i;){if(o-=i,s=s.parent,!s)throw new r["ɵRuntimeError"](4005,Me&&"Invalid number of '../'");i=s.segments.length}return new je(s,!1,i-o)}function Ue(e,t,n){if(e||(e=new ce([],{})),0===e.segments.length&&e.hasChildren())return Ve(e,t,n);const r=function(e,t,n){let r=0,s=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return i;const t=e.segments[s],o=n[r];if(Fe(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(s>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!qe(a,c,t))return i;r+=2}else{if(!qe(a,{},t))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new ce(e.segments.slice(0,r.pathIndex),{});return t.children[H]=new ce(e.segments.slice(r.pathIndex),e.children),Ve(t,0,s)}return r.match&&0===s.length?new ce(e.segments,{}):r.match&&!e.hasChildren()?$e(e,t,n):r.match?Ve(e,0,s):$e(e,t,n)}function Ve(e,t,n){if(0===n.length)return new ce(e.segments,{});{const r=function(e){return Fe(e[0])?e[0].outlets:{[H]:e}}(n),s={};return J(r,((n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[r]=Ue(e.children[r],t,n))})),J(e.children,((e,t)=>{void 0===r[t]&&(s[t]=e)})),new ce(e.segments,s)}}function $e(e,t,n){const r=e.segments.slice(0,t);let s=0;for(;s<n.length;){const i=n[s];if(Fe(i)){const e=Be(i.outlets);return new ce(r,e)}if(0===s&&Ae(n[0])){const i=e.segments[t];r.push(new le(i.path,He(n[0]))),s++;continue}const o=Fe(i)?i.outlets[H]:`${i}`,a=s<n.length-1?n[s+1]:null;o&&a&&Ae(a)?(r.push(new le(o,He(a))),s+=2):(r.push(new le(o,{})),s++)}return new ce(r,{})}function Be(e){const t={};return J(e,((e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=$e(new ce([],{}),0,e))})),t}function He(e){const t={};return J(e,((e,n)=>t[n]=`${e}`)),t}function qe(e,t,n){return e==n.path&&G(t,n.parameters)}class ze{constructor(e,t){this.id=e,this.url=t}}class We extends ze{constructor(e,t,n="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ke extends ze{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ge extends ze{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ze extends ze{constructor(e,t,n,r){super(e,t),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ye extends ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qe extends ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends ze{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xe extends ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et extends ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nt{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rt{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=15}toString(){const e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}}const ct="undefined"==typeof ngDevMode||ngDevMode;class lt{createUrlTree(e,t,n,r,s,i){return function(e,t,n,r,s){if(0===n.length)return Oe(t.root,t.root,t.root,r,s);const i=Le(n);return i.toRoot()?Oe(t.root,t.root,new ce([],{}),r,s):function(n){const o=function(e,t,n,r){if(e.isAbsolute)return new je(t.root,!0,0);if(-1===r){const e=n===t.root;return new je(n,e,0)}return Ne(n,r+(Ae(e.commands[0])?0:1),e.numberOfDoubleDots)}(i,t,e.snapshot?._urlSegment,n),a=o.processChildren?Ve(o.segmentGroup,o.index,i.commands):Ue(o.segmentGroup,o.index,i.commands);return Oe(t.root,o.segmentGroup,a,r,s)}(e.snapshot?._lastPathIndex)}(e||t.root,n,r,s,i)}}lt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:lt,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),lt.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:lt}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:lt,decorators:[{type:r.Injectable}]});class ut{createUrlTree(e,t,n,r,s,i){let o;try{o=function(e){let t;const n=Ee(function n(r){const s={};for(const e of r.children){const t=n(e);s[e.outlet]=t}const i=new ce(r.url,s);return r===e&&(t=i),i}(e.root));return t??n}(e?e.snapshot:t.snapshot.root)}catch(e){ct&&console.warn("The ActivatedRoute has an invalid structure. This is likely due to an incomplete mock in tests."),"string"==typeof r[0]&&r[0].startsWith("/")||(r=[]),o=n.root}return function(e,t,n,r){let s=e;for(;s.parent;)s=s.parent;if(0===t.length)return Oe(s,s,s,n,r);const i=Le(t);if(i.toRoot())return Oe(s,s,new ce([],{}),n,r);const o=function(e,t,n){if(e.isAbsolute)return new je(t,!0,0);if(!n)return new je(t,!1,NaN);if(null===n.parent)return new je(n,!0,0);const r=Ae(e.commands[0])?0:1;return Ne(n,n.segments.length-1+r,e.numberOfDoubleDots)}(i,s,e),a=o.processChildren?Ve(o.segmentGroup,o.index,i.commands):Ue(o.segmentGroup,o.index,i.commands);return Oe(s,o.segmentGroup,a,n,r)}(o,r,s,i)}}ut.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ut,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),ut.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ut}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ut,decorators:[{type:r.Injectable}]});class ht{}ht.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ht,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),ht.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ht,providedIn:"root",useClass:lt}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:ht,decorators:[{type:r.Injectable,args:[{providedIn:"root",useClass:lt}]}]});class pt{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dt(e,this._root);return t?t.children.map((e=>e.value)):[]}firstChild(e){const t=dt(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gt(e,this._root);return t.length<2?[]:t[t.length-2].children.map((e=>e.value)).filter((t=>t!==e))}pathFromRoot(e){return gt(e,this._root).map((e=>e.value))}}function dt(e,t){if(e===t.value)return t;for(const n of t.children){const t=dt(e,n);if(t)return t}return null}function gt(e,t){if(e===t.value)return[t];for(const n of t.children){const r=gt(e,n);if(r.length)return r.unshift(t),r}return[]}class mt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ft(e){const t={};return e&&e.children.forEach((e=>t[e.value.outlet]=e)),t}class vt extends pt{constructor(e,t){super(e),this.snapshot=t,_t(this,e)}toString(){return this.snapshot.toString()}}function yt(e,t){const n=function(e,t){const n=new Dt([],{},{},"",{},H,t,null,e.root,-1,{});return new Ct("",new mt(n,[]))}(e,t),r=new o.g([new le("",{})]),s=new o.g({}),i=new o.g({}),a=new o.g({}),c=new o.g(""),l=new bt(r,s,a,c,i,H,t,n.root);return l.snapshot=n.root,new vt(new mt(l,[]),n)}class bt{constructor(e,t,n,r,s,o,a,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe((0,_.k)((e=>e[q])))??(0,i.of)(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_.k)((e=>W(e))))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_.k)((e=>W(e))))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wt(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce(((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}})),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dt{constructor(e,t,n,r,s,i,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get title(){return this.data?.[q]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=W(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=W(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map((e=>e.toString())).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ct extends pt{constructor(e,t){super(t),this.url=e,_t(this,t)}toString(){return St(this._root)}}function _t(e,t){t.value._routerState=e,t.children.forEach((t=>_t(e,t)))}function St(e){const t=e.children.length>0?` { ${e.children.map(St).join(", ")} } `:"";return`${e.value}${t}`}function xt(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,G(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),G(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!G(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),G(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function It(e,t){const n=G(e.params,t.params)&&(ue(r=e.url,s=t.url)&&r.every(((e,t)=>G(e.parameters,s[t].parameters))));var r,s;const i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||It(e.parent,t.parent))}function Et(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const s=function(e,t,n){return t.children.map((t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Et(e,t,r);return Et(e,t)}))}(e,t,n);return new mt(r,s)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const r=n.route;return r.value._futureSnapshot=t.value,r.children=t.children.map((t=>Et(e,t))),r}}const n=(r=t.value,new bt(new o.g(r.url),new o.g(r.params),new o.g(r.queryParams),new o.g(r.fragment),new o.g(r.data),r.outlet,r.component,r)),s=t.children.map((t=>Et(e,t)));return new mt(n,s)}var r}const Tt="ngNavigationCancelingError";function kt(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ke(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=Mt(ngDevMode&&`Redirecting to "${e.serialize(n)}"`,0,t);return s.url=n,s.navigationBehaviorOptions=r,s}function Mt(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Tt]=!0,r.cancellationCode=t,n&&(r.url=n),r}function At(e){return Ft(e)&&ke(e.url)}function Ft(e){return e&&e[Tt]}class Ot{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rt,this.attachRef=null}}class Rt{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ot,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}Rt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Rt,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Rt.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Rt,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Rt,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});const Pt="undefined"==typeof ngDevMode||ngDevMode;class Lt{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.attachEvents=new r.EventEmitter,this.detachEvents=new r.EventEmitter,this.parentContexts=(0,r.inject)(Rt),this.location=(0,r.inject)(r.ViewContainerRef),this.changeDetector=(0,r.inject)(r.ChangeDetectorRef),this.environmentInjector=(0,r.inject)(r.EnvironmentInjector)}ngOnChanges(e){if(e.name){const{firstChange:t,previousValue:n}=e.name;if(t)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r["ɵRuntimeError"](4012,Pt&&"Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r["ɵRuntimeError"](4012,Pt&&"Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r["ɵRuntimeError"](4012,Pt&&"Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new r["ɵRuntimeError"](4013,Pt&&"Cannot activate an already activated outlet");this._activatedRoute=e;const n=this.location,s=e.snapshot.component,i=this.parentContexts.getOrCreateContext(this.name).children,o=new jt(e,i,n.injector);if(t&&t.resolveComponentFactory){const e=t.resolveComponentFactory(s);this.activated=n.createComponent(e,n.length,o)}else{const e=t??this.environmentInjector;this.activated=n.createComponent(s,{index:n.length,injector:o,environmentInjector:e})}this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}Lt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Lt,deps:[],target:r["ɵɵFactoryTarget"].Directive}),Lt.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Lt,isStandalone:!0,selector:"router-outlet",inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],usesOnChanges:!0,ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Lt,decorators:[{type:r.Directive,args:[{selector:"router-outlet",exportAs:"outlet",standalone:!0}]}],propDecorators:{name:[{type:r.Input}],activateEvents:[{type:r.Output,args:["activate"]}],deactivateEvents:[{type:r.Output,args:["deactivate"]}],attachEvents:[{type:r.Output,args:["attach"]}],detachEvents:[{type:r.Output,args:["detach"]}]}});class jt{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===bt?this.route:e===Rt?this.childContexts:this.parent.get(e,t)}}class Nt{}function Ut(e,t){return e.providers&&!e._injector&&(e._injector=(0,r.createEnvironmentInjector)(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Vt(e,t="",n=!1){for(let r=0;r<e.length;r++){const s=e[r];Bt(s,Ht(t,s),n)}}function $t(e,t){if(t&&!(0,r["ɵisStandalone"])(t))throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${e}'. The component must be standalone.`)}function Bt(e,t,n){if("undefined"==typeof ngDevMode||ngDevMode){if(!e)throw new r["ɵRuntimeError"](4014,`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.redirectTo&&!e.component&&!e.loadComponent&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==H)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&(e.component||e.loadComponent))throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': redirectTo and component/loadComponent cannot be used together`);if(e.component&&e.loadComponent)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': component and loadComponent cannot be used together`);if(e.redirectTo&&e.canActivate)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': redirectTo and canActivate cannot be used together. Redirects happen before activation so canActivate will never be executed.`);if(e.path&&e.matcher)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(!(void 0!==e.redirectTo||e.component||e.loadComponent||e.children||e.loadChildren))throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){const n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new r["ɵRuntimeError"](4014,`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. ${n}`)}n&&$t(t,e.component)}e.children&&Vt(e.children,t,n)}function Ht(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function qt(e){const t=e.children&&e.children.map(qt),n=t?{...e,children:t}:{...e};return n.component||n.loadComponent||!t&&!n.loadChildren||!n.outlet||n.outlet===H||(n.component=Nt),n}function zt(e){return e.outlet||H}function Wt(e,t){const n=e.filter((e=>zt(e)===t));return n.push(...e.filter((e=>zt(e)!==t))),n}function Kt(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}Nt.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Nt,deps:[],target:r["ɵɵFactoryTarget"].Component}),Nt.ɵcmp=r["ɵɵngDeclareComponent"]({minVersion:"14.0.0",version:"15.0.4",type:Nt,isStandalone:!0,selector:"ng-component",ngImport:r,template:"<router-outlet></router-outlet>",isInline:!0,dependencies:[{kind:"directive",type:Lt,selector:"router-outlet",inputs:["name"],outputs:["activate","deactivate","attach","detach"],exportAs:["outlet"]}]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Nt,decorators:[{type:r.Component,args:[{template:"<router-outlet></router-outlet>",imports:[Lt],standalone:!0}]}]});class Gt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),xt(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=ft(t);e.children.forEach((e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]})),J(r,((e,t)=>{this.deactivateRouteAndItsChildren(e,n)}))}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=ft(e);for(const e of Object.keys(s))this.deactivateRouteAndItsChildren(s[e],r);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=ft(e);for(const e of Object.keys(s))this.deactivateRouteAndItsChildren(s[e],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=ft(t);e.children.forEach((e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new ot(e.value.snapshot))})),e.children.length&&this.forwardEvent(new st(e.value.snapshot))}activateRoutes(e,t,n){const s=e.value,i=t?t.value:null;if(xt(s),s===i)if(s.component){const r=n.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(s.component){const t=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const n=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),t.children.onOutletReAttached(n.contexts),t.attachRef=n.componentRef,t.route=n.route.value,t.outlet&&t.outlet.attach(n.componentRef,n.route.value),xt(n.route.value),this.activateChildRoutes(e,null,t.children)}else{const n=Kt(s.snapshot),i=n?.get(r.ComponentFactoryResolver)??null;t.attachRef=null,t.route=s,t.resolver=i,t.injector=n,t.outlet&&t.outlet.activateWith(s,t.injector),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}class Zt{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Yt{constructor(e,t){this.component=e,this.route=t}}function Qt(e,t,n){const r=e._root;return Xt(r,t?t._root:null,n,[r.value])}function Jt(e,t){const n=Symbol(),s=t.get(e,n);return s===n?"function"!=typeof e||(0,r["ɵisInjectable"])(e)?t.get(e):e:s}function Xt(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=ft(t);return e.children.forEach((e=>{!function(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ue(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ue(e.url,t.url)||!G(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!It(e,t)||!G(e.queryParams,t.queryParams);default:return!It(e,t)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Zt(r)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?Xt(e,t,a?a.children:null,r,s):Xt(e,t,n,r,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Yt(a.outlet.component,o))}else o&&en(t,a,s),s.canActivateChecks.push(new Zt(r)),i.component?Xt(e,null,a?a.children:null,r,s):Xt(e,null,n,r,s)}(e,i[e.value.outlet],n,r.concat([e.value]),s),delete i[e.value.outlet]})),J(i,((e,t)=>en(e,n.getContext(t),s))),s}function en(e,t,n){const r=ft(e),s=e.value;J(r,((e,r)=>{s.component?en(e,t?t.children.getContext(r):null,n):en(e,t,n)})),s.component&&t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Yt(t.outlet.component,s)):n.canDeactivateChecks.push(new Yt(null,s))}function tn(e){return"function"==typeof e}function nn(e){return e instanceof a.G||"EmptyError"===e?.name}const rn=Symbol("INITIAL_VALUE");function sn(){return(0,S.G)((e=>(0,c.E)(e.map((e=>e.pipe((0,x.U)(1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,I.e_)(e);return(0,v.i)((function(t,r){(n?(0,l.W)(e,t,n):(0,l.W)(e,t)).subscribe(r)}))}(rn))))).pipe((0,_.k)((e=>{for(const t of e)if(!0!==t){if(t===rn)return rn;if(!1===t||t instanceof ae)return t}return!0})),(0,E.I)((e=>e!==rn)),(0,x.U)(1))))}function on(e){return(0,h.W)((0,A.y)((t=>{if(ke(t))throw kt(e,t)})),(0,_.k)((e=>!0===e)))}const an={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cn(e,t,n,r,s){const o=ln(e,t,n);return o.matched?function(e,t,n,r){const s=t.canMatch;if(!s||0===s.length)return(0,i.of)(!0);const o=s.map((r=>{const s=Jt(r,e);return X(function(e){return e&&tn(e.canMatch)}(s)?s.canMatch(t,n):e.runInContext((()=>s(t,n))))}));return(0,i.of)(o).pipe(sn(),on(r))}(r=Ut(t,r),t,n,s).pipe((0,_.k)((e=>!0===e?o:{...an}))):(0,i.of)(o)}function ln(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...an}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||K)(n,e,t);if(!r)return{...an};const s={};J(r.posParams,((e,t)=>{s[t]=e.path}));const i=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:i,positionalParamSegments:r.posParams??{}}}function un(e,t,n,r){if(n.length>0&&function(e,t,n){return n.some((n=>hn(e,t,n)&&zt(n)!==H))}(e,n,r)){const s=new ce(t,function(e,t,n,r){const s={};s[H]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const r of n)if(""===r.path&&zt(r)!==H){const n=new ce([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[zt(r)]=n}return s}(e,t,r,new ce(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((n=>hn(e,t,n)))}(e,n,r)){const s=new ce(e.segments,function(e,t,n,r,s){const i={};for(const o of r)if(hn(e,n,o)&&!s[zt(o)]){const n=new ce([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[zt(o)]=n}return{...s,...i}}(e,t,n,r,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new ce(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function hn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function pn(e,t,n,r){return!!(zt(e)===r||r!==H&&hn(t,n,e))&&("**"===e.path||ln(t,e,n).matched)}function dn(e,t,n){return 0===t.length&&!e.children[n]}const gn="undefined"==typeof ngDevMode||ngDevMode;class mn{constructor(e){this.segmentGroup=e||null}}class fn{constructor(e){this.urlTree=e}}function vn(e){return(0,p.c)(new mn(e))}function yn(e){return(0,p.c)(new fn(e))}class bn{constructor(e,t,n,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=un(this.urlTree.root,[],[],this.config).segmentGroup,t=new ce(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,H).pipe((0,_.k)((e=>this.createUrlTree(Te(e),this.urlTree.queryParams,this.urlTree.fragment)))).pipe((0,F.a)((e=>{if(e instanceof fn)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof mn)throw this.noMatchError(e);throw e})))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,H).pipe((0,_.k)((t=>this.createUrlTree(Te(t),e.queryParams,e.fragment)))).pipe((0,F.a)((e=>{if(e instanceof mn)throw this.noMatchError(e);throw e})))}noMatchError(e){return new r["ɵRuntimeError"](4002,gn&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=Ee(e);return new ae(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,_.k)((e=>new ce([],e)))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const e of Object.keys(n.children))"primary"===e?r.unshift(e):r.push(e);return(0,s.Q)(r).pipe((0,M.m)((r=>{const s=n.children[r],i=Wt(t,r);return this.expandSegmentGroup(e,i,s,r).pipe((0,_.k)((e=>({segment:e,outlet:r}))))})),(0,O.K)(((e,t)=>(e[t.outlet]=t.segment,e)),{}),N())}expandSegment(e,t,n,r,o,a){return(0,s.Q)(n).pipe((0,M.m)((s=>this.expandSegmentAgainstRoute(e,t,n,s,r,o,a).pipe((0,F.a)((e=>{if(e instanceof mn)return(0,i.of)(null);throw e}))))),(0,k.K)((e=>!!e)),(0,F.a)(((e,n)=>{if(nn(e))return dn(t,r,o)?(0,i.of)(new ce([],{})):vn(t);throw e})))}expandSegmentAgainstRoute(e,t,n,r,s,i,o){return pn(r,t,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i):vn(t):vn(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yn(s):this.lineralizeSegments(n,s).pipe((0,T.O)((n=>{const s=new ce(n,{});return this.expandSegment(e,s,t,n,r,!1)})))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){const{matched:o,consumedSegments:a,remainingSegments:c,positionalParamSegments:l}=ln(t,r,s);if(!o)return vn(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?yn(u):this.lineralizeSegments(r,u).pipe((0,T.O)((r=>this.expandSegment(e,t,n,r.concat(c),i,!1))))}matchSegmentAgainstRoute(e,t,n,r,s){return"**"===n.path?(e=Ut(n,e),n.loadChildren?(n._loadedRoutes?(0,i.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(e,n)).pipe((0,_.k)((e=>(n._loadedRoutes=e.routes,n._loadedInjector=e.injector,new ce(r,{}))))):(0,i.of)(new ce(r,{}))):cn(t,n,r,e,this.urlSerializer).pipe((0,S.G)((({matched:o,consumedSegments:a,remainingSegments:c})=>o?(e=n._injector??e,this.getChildConfig(e,n,r).pipe((0,T.O)((r=>{const o=r.injector??e,l=r.routes,{segmentGroup:u,slicedSegments:h}=un(t,a,c,l),p=new ce(u.segments,u.children);if(0===h.length&&p.hasChildren())return this.expandChildren(o,l,p).pipe((0,_.k)((e=>new ce(a,e))));if(0===l.length&&0===h.length)return(0,i.of)(new ce(a,{}));const d=zt(n)===s;return this.expandSegment(o,p,l,h,d?H:s,!0).pipe((0,_.k)((e=>new ce(a.concat(e.segments),e.children))))})))):vn(t))))}getChildConfig(e,t,n){return t.children?(0,i.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,i.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function(e,t,n,r){const s=t.canLoad;if(void 0===s||0===s.length)return(0,i.of)(!0);const o=s.map((r=>{const s=Jt(r,e);return X(function(e){return e&&tn(e.canLoad)}(s)?s.canLoad(t,n):e.runInContext((()=>s(t,n))))}));return(0,i.of)(o).pipe(sn(),on(r))}(e,t,n,this.urlSerializer).pipe((0,T.O)((n=>n?this.configLoader.loadChildren(e,t).pipe((0,A.y)((e=>{t._loadedRoutes=e.routes,t._loadedInjector=e.injector}))):function(e){return(0,p.c)(Mt(gn&&`Cannot load children because the guard of the route "path: '${e.path}'" returned false`,3))}(t)))):(0,i.of)({routes:[],injector:e})}lineralizeSegments(e,t){let n=[],s=t.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return(0,i.of)(n);if(s.numberOfChildren>1||!s.children[H])return o=e.redirectTo,(0,p.c)(new r["ɵRuntimeError"](4e3,gn&&`Only absolute redirects can have named outlets. redirectTo: '${o}'`));s=s.children[H]}var o}applyRedirectCommands(e,t,n){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreateUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new ae(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return J(e,((e,r)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[r]=t[s]}else n[r]=e})),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let i={};return J(t.children,((t,s)=>{i[s]=this.createSegmentGroup(e,t,n,r)})),new ce(s,i)}createSegments(e,t,n,r){return t.map((t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n)))}findPosParam(e,t,n){const s=n[t.path.substring(1)];if(!s)throw new r["ɵRuntimeError"](4001,gn&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}const wn="undefined"==typeof ngDevMode||!!ngDevMode;class Dn{}class Cn{constructor(e,t,n,r,s,i,o){this.injector=e,this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=i,this.urlSerializer=o}recognize(){const e=un(this.urlTree.root,[],[],this.config.filter((e=>void 0===e.redirectTo))).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,H).pipe((0,_.k)((e=>{if(null===e)return null;const t=new Dt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},H,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new mt(t,e),r=new Ct(this.url,n);return this.inheritParamsAndData(r._root),r})))}inheritParamsAndData(e){const t=e.value,n=wt(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach((e=>this.inheritParamsAndData(e)))}processSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,r)}processChildren(e,t,n){return(0,s.Q)(Object.keys(n.children)).pipe((0,M.m)((r=>{const s=n.children[r],i=Wt(t,r);return this.processSegmentGroup(e,i,s,r)})),(0,O.K)(((e,t)=>e&&t?(e.push(...t),e):null)),(i=e=>null!==e,void 0===o&&(o=!1),(0,v.i)((function(e,t){e.subscribe((0,y.e)(t,(function(e){var n=i(e,0);(n||o)&&t.next(e),!n&&t.complete()})))}))),(0,L.G)(null),N(),(0,_.k)((e=>{if(null===e)return null;const t=Sn(e);return wn&&function(e){const t={};e.forEach((e=>{const n=t[e.value.outlet];if(n){const t=n.url.map((e=>e.toString())).join("/"),s=e.value.url.map((e=>e.toString())).join("/");throw new r["ɵRuntimeError"](4006,wn&&`Two segments cannot have the same outlet name: '${t}' and '${s}'.`)}t[e.value.outlet]=e.value}))}(t),t.sort(((e,t)=>e.value.outlet===H?-1:t.value.outlet===H?1:e.value.outlet.localeCompare(t.value.outlet))),t})));var i,o}processSegment(e,t,n,r,o){return(0,s.Q)(t).pipe((0,M.m)((t=>this.processSegmentAgainstRoute(t._injector??e,t,n,r,o))),(0,k.K)((e=>!!e)),(0,F.a)((e=>{if(nn(e))return dn(n,r,o)?(0,i.of)([]):(0,i.of)(null);throw e})))}processSegmentAgainstRoute(e,t,n,r,s){if(t.redirectTo||!pn(t,n,r,s))return(0,i.of)(null);let o;if("**"===t.path){const e=r.length>0?Q(r).parameters:{},s=In(n)+r.length,a=new Dt(r,e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(t),zt(t),t.component??t._loadedComponent??null,t,xn(n),s,Tn(t));o=(0,i.of)({snapshot:a,consumedSegments:[],remainingSegments:[]})}else o=cn(n,t,r,e,this.urlSerializer).pipe((0,_.k)((({matched:e,consumedSegments:r,remainingSegments:s,parameters:i})=>{if(!e)return null;const o=In(n)+r.length;return{snapshot:new Dt(r,i,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,En(t),zt(t),t.component??t._loadedComponent??null,t,xn(n),o,Tn(t)),consumedSegments:r,remainingSegments:s}})));return o.pipe((0,S.G)((r=>{if(null===r)return(0,i.of)(null);const{snapshot:o,consumedSegments:a,remainingSegments:c}=r;e=t._injector??e;const l=t._loadedInjector??e,u=function(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:h,slicedSegments:p}=un(n,a,c,u.filter((e=>void 0===e.redirectTo)));if(0===p.length&&h.hasChildren())return this.processChildren(l,u,h).pipe((0,_.k)((e=>null===e?null:[new mt(o,e)])));if(0===u.length&&0===p.length)return(0,i.of)([new mt(o,[])]);const d=zt(t)===s;return this.processSegment(l,u,h,p,d?H:s).pipe((0,_.k)((e=>null===e?null:[new mt(o,e)])))})))}}function _n(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Sn(e){const t=[],n=new Set;for(const r of e){if(!_n(r)){t.push(r);continue}const e=t.find((e=>r.value.routeConfig===e.value.routeConfig));void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const e of n){const n=Sn(e.children);t.push(new mt(e.value,n))}return t.filter((e=>!n.has(e)))}function xn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function In(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function En(e){return e.data||{}}function Tn(e){return e.resolve||{}}function kn(e){return"string"==typeof e.title||null===e.title}function Mn(e){return(0,S.G)((t=>{const n=e(t);return n?(0,s.Q)(n).pipe((0,_.k)((()=>t))):(0,i.of)(t)}))}const An="undefined"==typeof ngDevMode||!!ngDevMode,Fn=new r.InjectionToken("ROUTES");class On{constructor(e,t){this.injector=e,this.compiler=t,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,i.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const t=X(e.loadComponent()).pipe((0,_.k)(Rn),(0,A.y)((t=>{this.onLoadEndListener&&this.onLoadEndListener(e),An&&$t(e.path??"",t),e._loadedComponent=t})),V((()=>{this.componentLoaders.delete(e)}))),n=new w(t,(()=>new D.E)).pipe(b());return this.componentLoaders.set(e,n),n}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return(0,i.of)({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactoryOrRoutes(t.loadChildren).pipe((0,_.k)((n=>{let s,i;this.onLoadEndListener&&this.onLoadEndListener(t);let o=!1;Array.isArray(n)?(i=n,o=!0):(s=n.create(e).injector,i=Y(s.get(Fn,[],r.InjectFlags.Self|r.InjectFlags.Optional)));const a=i.map(qt);return An&&Vt(a,t.path,o),{routes:a,injector:s}})),V((()=>{this.childrenLoaders.delete(t)}))),s=new w(n,(()=>new D.E)).pipe(b());return this.childrenLoaders.set(t,s),s}loadModuleFactoryOrRoutes(e){return(this.injector,null)||X(e()).pipe((0,_.k)(Rn),(0,T.O)((e=>e instanceof r.NgModuleFactory||Array.isArray(e)?(0,i.of)(e):(0,s.Q)(this.compiler.compileModuleAsync(e)))))}}function Rn(e){return(t=e)&&"object"==typeof t&&"default"in t?e.default:e;var t}On.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:On,deps:[{token:r.Injector},{token:r.Compiler}],target:r["ɵɵFactoryTarget"].Injectable}),On.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:On,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:On,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:r.Injector},{type:r.Compiler}]}});const Pn="undefined"==typeof ngDevMode||!!ngDevMode;class Ln{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new D.E,this.configLoader=(0,r.inject)(On),this.environmentInjector=(0,r.inject)(r.EnvironmentInjector),this.urlSerializer=(0,r.inject)(he),this.rootContexts=(0,r.inject)(Rt),this.navigationId=0,this.configLoader.onLoadEndListener=e=>this.events.next(new nt(e)),this.configLoader.onLoadStartListener=e=>this.events.next(new tt(e))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const t=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:t})}setupNavigations(e){return this.transitions=new o.g({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,E.I)((e=>0!==e.id)),(0,_.k)((t=>({...t,extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)}))),(0,S.G)((t=>{let n=!1,r=!1;return(0,i.of)(t).pipe((0,A.y)((e=>{this.currentNavigation={id:e.id,initialUrl:e.rawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}})),(0,S.G)((n=>{const r=e.browserUrlTree.toString(),s=!e.navigated||n.extractedUrl.toString()!==r||r!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(n.rawUrl))return jn(n.source)&&(e.browserUrlTree=n.extractedUrl),(0,i.of)(n).pipe((0,S.G)((e=>{const t=this.transitions?.getValue();return this.events.next(new We(e.id,this.urlSerializer.serialize(e.extractedUrl),e.source,e.restoredState)),t!==this.transitions?.getValue()?g.k:Promise.resolve(e)})),function(e,t,n,r){return(0,S.G)((s=>function(e,t,n,r,s){return new bn(e,t,n,r,s).apply()}(e,t,n,s.extractedUrl,r).pipe((0,_.k)((e=>({...s,urlAfterRedirects:e}))))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,A.y)((e=>{this.currentNavigation={...this.currentNavigation,finalUrl:e.urlAfterRedirects},t.urlAfterRedirects=e.urlAfterRedirects})),(o=this.environmentInjector,a=e.rootComponentType,c=e.config,l=this.urlSerializer,u=e.paramsInheritanceStrategy,(0,T.O)((e=>function(e,t,n,r,s,o,a="emptyOnly"){return new Cn(e,t,n,r,s,a,o).recognize().pipe((0,S.G)((e=>{return null===e?(t=new Dn,new d._((e=>e.error(t)))):(0,i.of)(e);var t})))}(o,a,c,e.urlAfterRedirects,l.serialize(e.urlAfterRedirects),l,u).pipe((0,_.k)((t=>({...e,targetSnapshot:t}))))))),(0,A.y)((n=>{if(t.targetSnapshot=n.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!n.extras.skipLocationChange){const t=e.urlHandlingStrategy.merge(n.urlAfterRedirects,n.rawUrl);e.setBrowserUrl(t,n)}e.browserUrlTree=n.urlAfterRedirects}const r=new Ye(n.id,this.urlSerializer.serialize(n.extractedUrl),this.urlSerializer.serialize(n.urlAfterRedirects),n.targetSnapshot);this.events.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:r,extractedUrl:s,source:o,restoredState:a,extras:c}=n,l=new We(r,this.urlSerializer.serialize(s),o,a);this.events.next(l);const u=yt(s,e.rootComponentType).snapshot;return t={...n,targetSnapshot:u,urlAfterRedirects:s,extras:{...c,skipLocationChange:!1,replaceUrl:!1}},(0,i.of)(t)}return e.rawUrlTree=n.rawUrl,n.resolve(null),g.k;var o,a,c,l,u})),(0,A.y)((e=>{const t=new Qe(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(t)})),(0,_.k)((e=>t={...e,guards:Qt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,T.O)((n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?(0,i.of)({...n,guardsResult:!0}):function(e,t,n,r){return(0,s.Q)(e).pipe((0,T.O)((e=>function(e,t,n,r,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,i.of)(!0);const a=o.map((i=>{const o=Kt(t)??s,a=Jt(i,o);return X(function(e){return e&&tn(e.canDeactivate)}(a)?a.canDeactivate(e,t,n,r):o.runInContext((()=>a(e,t,n,r)))).pipe((0,k.K)())}));return(0,i.of)(a).pipe(sn())}(e.component,e.route,n,t,r))),(0,k.K)((e=>!0!==e),!0))}(c,r,o,e).pipe((0,T.O)((n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,s.Q)(t).pipe((0,M.m)((t=>(0,l.W)(function(e,t){return null!==e&&t&&t(new rt(e)),(0,i.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new it(e)),(0,i.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map((e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e))).filter((e=>null!==e)).map((t=>(0,u.Q)((()=>{const s=t.guards.map((s=>{const i=Kt(t.node)??n,o=Jt(s,i);return X(function(e){return e&&tn(e.canActivateChild)}(o)?o.canActivateChild(r,e):i.runInContext((()=>o(r,e)))).pipe((0,k.K)())}));return(0,i.of)(s).pipe(sn())}))));return(0,i.of)(s).pipe(sn())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,i.of)(!0);const s=r.map((r=>(0,u.Q)((()=>{const s=Kt(t)??n,i=Jt(r,s);return X(function(e){return e&&tn(e.canActivate)}(i)?i.canActivate(t,e):s.runInContext((()=>i(t,e)))).pipe((0,k.K)())}))));return(0,i.of)(s).pipe(sn())}(e,t.route,n)))),(0,k.K)((e=>!0!==e),!0))}(r,a,e,t):(0,i.of)(n))),(0,_.k)((e=>({...n,guardsResult:e}))))}))}(this.environmentInjector,(e=>this.events.next(e))),(0,A.y)((e=>{if(t.guardsResult=e.guardsResult,ke(e.guardsResult))throw kt(this.urlSerializer,e.guardsResult);const n=new Je(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.events.next(n)})),(0,E.I)((t=>!!t.guardsResult||(e.restoreHistory(t),this.cancelNavigationTransition(t,"",3,e),!1))),Mn((t=>{if(t.guards.canActivateChecks.length)return(0,i.of)(t).pipe((0,A.y)((e=>{const t=new Xe(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(t)})),(0,S.G)((t=>{let n=!1;return(0,i.of)(t).pipe((r=e.paramsInheritanceStrategy,o=this.environmentInjector,(0,T.O)((e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return(0,i.of)(e);let a=0;return(0,s.Q)(n).pipe((0,M.m)((e=>function(e,t,n,r){const o=e.routeConfig,a=e._resolve;return void 0===o?.title||kn(o)||(a[q]=o.title),function(e,t,n,r){const o=(a=e,[...Object.keys(a),...Object.getOwnPropertySymbols(a)]);var a;if(0===o.length)return(0,i.of)({});const c={};return(0,s.Q)(o).pipe((0,T.O)((s=>function(e,t,n,r){const s=Kt(t)??r,i=Jt(e,s);return X(i.resolve?i.resolve(t,n):s.runInContext((()=>i(t,n))))}(e[s],t,n,r).pipe((0,k.K)(),(0,A.y)((e=>{c[s]=e}))))),R(1),(0,U.e)(c),(0,F.a)((e=>nn(e)?g.k:(0,p.c)(e))))}(a,e,t,r).pipe((0,_.k)((t=>(e._resolvedData=t,e.data=wt(e,n).resolve,o&&kn(o)&&(e.data[q]=o.title),null))))}(e.route,t,r,o))),(0,A.y)((()=>a++)),R(1),(0,T.O)((t=>a===n.length?(0,i.of)(e):g.k)))}))),(0,A.y)({next:()=>n=!0,complete:()=>{n||(e.restoreHistory(t),this.cancelNavigationTransition(t,Pn?"At least one route resolver didn't emit any value.":"",2,e))}}));var r,o})),(0,A.y)((e=>{const t=new et(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(t)})))})),Mn((e=>{const t=e=>{const n=[];e.routeConfig?.loadComponent&&!e.routeConfig._loadedComponent&&n.push(this.configLoader.loadComponent(e.routeConfig).pipe((0,A.y)((t=>{e.component=t})),(0,_.k)((()=>{}))));for(const r of e.children)n.push(...t(r));return n};return(0,c.E)(t(e.targetSnapshot.root)).pipe((0,L.G)(),(0,x.U)(1))})),Mn((()=>e.afterPreactivation())),(0,_.k)((n=>{const r=function(e,t,n){const r=Et(e,t._root,n?n._root:void 0);return new vt(r,t)}(e.routeReuseStrategy,n.targetSnapshot,n.currentRouterState);return t={...n,targetRouterState:r}})),(0,A.y)((t=>{e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(t.urlAfterRedirects,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,t),e.browserUrlTree=t.urlAfterRedirects)})),(o=this.rootContexts,a=e.routeReuseStrategy,h=e=>this.events.next(e),(0,_.k)((e=>(new Gt(a,e.targetRouterState,e.currentRouterState,h).activate(o),e)))),(0,A.y)({next:t=>{n=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Ke(t.id,this.urlSerializer.serialize(t.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(t.targetRouterState.snapshot),t.resolve(!0)},complete:()=>{n=!0}}),V((()=>{if(!n&&!r){const n=Pn?`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`:"";this.cancelNavigationTransition(t,n,1,e)}this.currentNavigation?.id===t.id&&(this.currentNavigation=null)})),(0,F.a)((n=>{if(r=!0,Ft(n)){At(n)||(e.navigated=!0,e.restoreHistory(t,!0));const r=new Ge(t.id,this.urlSerializer.serialize(t.extractedUrl),n.message,n.cancellationCode);if(this.events.next(r),At(n)){const r=e.urlHandlingStrategy.merge(n.url,e.rawUrlTree),s={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||jn(t.source)};e.scheduleNavigation(r,"imperative",null,s,{resolve:t.resolve,reject:t.reject,promise:t.promise})}else t.resolve(!1)}else{e.restoreHistory(t,!0);const r=new Ze(t.id,this.urlSerializer.serialize(t.extractedUrl),n,t.targetSnapshot??void 0);this.events.next(r);try{t.resolve(e.errorHandler(n))}catch(e){t.reject(e)}}return g.k})));var o,a,h})))}cancelNavigationTransition(e,t,n,r){const s=new Ge(e.id,this.urlSerializer.serialize(e.extractedUrl),t,n);this.events.next(s),e.resolve(!1)}}function jn(e){return"imperative"!==e}Ln.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ln,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Ln.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ln,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Ln,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Nn{buildTitle(e){let t,n=e.root;for(;void 0!==n;)t=this.getResolvedTitleForRoute(n)??t,n=n.children.find((e=>e.outlet===H));return t}getResolvedTitleForRoute(e){return e.data[q]}}Nn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Nn,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Nn.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Nn,providedIn:"root",useFactory:()=>(0,r.inject)(Un)}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Nn,decorators:[{type:r.Injectable,args:[{providedIn:"root",useFactory:()=>(0,r.inject)(Un)}]}]});class Un extends Nn{constructor(e){super(),this.title=e}updateTitle(e){const t=this.buildTitle(e);void 0!==t&&this.title.setTitle(t)}}Un.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Un,deps:[{token:B.OY}],target:r["ɵɵFactoryTarget"].Injectable}),Un.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Un,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Un,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:B.OY}]}});class Vn{}Vn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Vn,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Vn.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Vn,providedIn:"root",useFactory:()=>(0,r.inject)(Bn)}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Vn,decorators:[{type:r.Injectable,args:[{providedIn:"root",useFactory:()=>(0,r.inject)(Bn)}]}]});class $n{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}class Bn extends $n{}Bn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Bn,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),Bn.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Bn,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Bn,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});const Hn="undefined"==typeof ngDevMode||!!ngDevMode,qn=new r.InjectionToken(Hn?"router config":"",{providedIn:"root",factory:()=>({})});class zn{}zn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:zn,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),zn.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:zn,providedIn:"root",useFactory:()=>(0,r.inject)(Wn)}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:zn,decorators:[{type:r.Injectable,args:[{providedIn:"root",useFactory:()=>(0,r.inject)(Wn)}]}]});class Wn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}Wn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Wn,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Wn.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Wn,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Wn,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});const Kn="undefined"==typeof ngDevMode||!!ngDevMode;function Gn(e){throw e}function Zn(e,t,n){return t.parse("/")}const Yn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};class Jn{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,r.inject)(r["ɵConsole"]),this.isNgZoneEnabled=!1,this.options=(0,r.inject)(qn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Gn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zn,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,i.of)(void 0),this.urlHandlingStrategy=(0,r.inject)(zn),this.routeReuseStrategy=(0,r.inject)(Vn),this.urlCreationStrategy=(0,r.inject)(ht),this.titleStrategy=(0,r.inject)(Nn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Y((0,r.inject)(Fn,{optional:!0})??[]),this.navigationTransitions=(0,r.inject)(Ln),this.urlSerializer=(0,r.inject)(he),this.location=(0,r.inject)(C.oB),this.rootComponentType=null,this.isNgZoneEnabled=(0,r.inject)(r.NgZone)instanceof r.NgZone&&r.NgZone.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ae,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yt(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe((e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId}),(e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}))}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.ɵrouterPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe((e=>{const t="popstate"===e.type?"popstate":"hashchange";"popstate"===t&&setTimeout((()=>{const n={replaceUrl:!0},r=e.state?.navigationId?e.state:null;if(e.state){const t={...e.state};delete t.navigationId,delete t.ɵrouterPageId,0!==Object.keys(t).length&&(n.state=t)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,t,r,n)}),0)})))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){Kn&&Vt(e),this.config=e.map(qt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:s,queryParamsHandling:i,preserveFragment:o}=t,a=o?this.currentUrlTree.fragment:s;let c=null;switch(i){case"merge":c={...this.currentUrlTree.queryParams,...r};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(n,this.routerState,this.currentUrlTree,e,c,a??null)}navigateByUrl(e,t={skipLocationChange:!1}){("undefined"==typeof ngDevMode||ngDevMode&&this.isNgZoneEnabled&&!r.NgZone.isInAngularZone())&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ke(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new r["ɵRuntimeError"](4008,Kn&&`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?{...Yn}:!1===t?{...Qn}:t,ke(e))return re(this.currentUrlTree,e,n);const r=this.parseUrl(e);return re(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t}),{})}scheduleNavigation(e,t,n,r,s){if(this.disposed)return Promise.resolve(!1);let i,o,a,c;return s?(i=s.resolve,o=s.reject,a=s.promise):a=new Promise(((e,t)=>{i=e,o=t})),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),c=n&&n.ɵrouterPageId?n.ɵrouterPageId:r.replaceUrl||r.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):c=0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:i,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((e=>Promise.reject(e)))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r={...t.extras.state,...this.generateNgRouterState(t.id,t.targetPageId)};this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===t?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,ɵrouterPageId:t}:{navigationId:e}}}Jn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Jn,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),Jn.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Jn,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Jn,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}});class Xn{constructor(e,t,n,r,s,i){this.router=e,this.route=t,this.tabIndexAttribute=n,this.renderer=r,this.el=s,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new D.E;const o=s.nativeElement.tagName;this.isAnchorElement="A"===o||"AREA"===o,this.isAnchorElement?this.subscription=e.events.subscribe((e=>{e instanceof Ke&&this.updateHref()})):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,r["ɵcoerceToBoolean"])(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,r["ɵcoerceToBoolean"])(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,r["ɵcoerceToBoolean"])(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,t,n,r,s){if(null===this.urlTree)return!0;if(this.isAnchorElement){if(0!==e||t||n||r||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0}const i={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,i),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,r["ɵɵsanitizeUrlOrResourceUrl"])(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,t){const n=this.renderer,r=this.el.nativeElement;null!==t?n.setAttribute(r,e,t):n.removeAttribute(r,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}Xn.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Xn,deps:[{token:Jn},{token:bt},{token:"tabindex",attribute:!0},{token:r.Renderer2},{token:r.ElementRef},{token:C.Qd}],target:r["ɵɵFactoryTarget"].Directive}),Xn.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:Xn,isStandalone:!0,selector:"[routerLink]",inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},host:{listeners:{click:"onClick($event.button,$event.ctrlKey,$event.shiftKey,$event.altKey,$event.metaKey)"},properties:{"attr.target":"this.target"}},usesOnChanges:!0,ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:Xn,decorators:[{type:r.Directive,args:[{selector:"[routerLink]",standalone:!0}]}],ctorParameters:function(){return[{type:Jn},{type:bt},{type:void 0,decorators:[{type:r.Attribute,args:["tabindex"]}]},{type:r.Renderer2},{type:r.ElementRef},{type:C.Qd}]},propDecorators:{target:[{type:r.HostBinding,args:["attr.target"]},{type:r.Input}],queryParams:[{type:r.Input}],fragment:[{type:r.Input}],queryParamsHandling:[{type:r.Input}],state:[{type:r.Input}],relativeTo:[{type:r.Input}],preserveFragment:[{type:r.Input}],skipLocationChange:[{type:r.Input}],replaceUrl:[{type:r.Input}],routerLink:[{type:r.Input}],onClick:[{type:r.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.shiftKey","$event.altKey","$event.metaKey"]]}]}});class er{constructor(e,t,n,s,i){this.router=e,this.element=t,this.renderer=n,this.cdr=s,this.link=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new r.EventEmitter,this.routerEventsSubscription=e.events.subscribe((e=>{e instanceof Ke&&this.update()}))}ngAfterContentInit(){(0,i.of)(this.links.changes,(0,i.of)(null)).pipe((0,$.u)()).subscribe((e=>{this.update(),this.subscribeToEachLinkOnChanges()}))}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter((e=>!!e)).map((e=>e.onChanges));this.linkInputChangesSubscription=(0,s.Q)(e).pipe((0,$.u)()).subscribe((e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()}))}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((e=>!!e))}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){this.links&&this.router.navigated&&Promise.resolve().then((()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach((t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)})),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))}))}isLinkActive(e){const t=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>!!n.urlTree&&e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}er.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:er,deps:[{token:Jn},{token:r.ElementRef},{token:r.Renderer2},{token:r.ChangeDetectorRef},{token:Xn,optional:!0}],target:r["ɵɵFactoryTarget"].Directive}),er.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"14.0.0",version:"15.0.4",type:er,isStandalone:!0,selector:"[routerLinkActive]",inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},queries:[{propertyName:"links",predicate:Xn,descendants:!0}],exportAs:["routerLinkActive"],usesOnChanges:!0,ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:er,decorators:[{type:r.Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive",standalone:!0}]}],ctorParameters:function(){return[{type:Jn},{type:r.ElementRef},{type:r.Renderer2},{type:r.ChangeDetectorRef},{type:Xn,decorators:[{type:r.Optional}]}]},propDecorators:{links:[{type:r.ContentChildren,args:[Xn,{descendants:!0}]}],routerLinkActiveOptions:[{type:r.Input}],ariaCurrentWhenActive:[{type:r.Input}],isActiveChange:[{type:r.Output}],routerLinkActive:[{type:r.Input}]}});class tr{}class nr{preload(e,t){return t().pipe((0,F.a)((()=>(0,i.of)(null))))}}nr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:nr,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),nr.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:nr,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:nr,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});class rr{preload(e,t){return(0,i.of)(null)}}rr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:rr,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),rr.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:rr,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:rr,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});class sr{constructor(e,t,n,r,s){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe((0,E.I)((e=>e instanceof Ke)),(0,M.m)((()=>this.preload()))).subscribe((()=>{}))}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const s of t){s.providers&&!s._injector&&(s._injector=(0,r.createEnvironmentInjector)(s.providers,e,`Route: ${s.path}`));const t=s._injector??e,i=s._loadedInjector??t;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?n.push(this.preloadConfig(t,s)):(s.children||s._loadedRoutes)&&n.push(this.processRoutes(i,s.children??s._loadedRoutes))}return(0,s.Q)(n).pipe((0,$.u)())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,(()=>{let n;n=t.loadChildren&&void 0===t.canLoad?this.loader.loadChildren(e,t):(0,i.of)(null);const r=n.pipe((0,T.O)((n=>null===n?(0,i.of)(void 0):(t._loadedRoutes=n.routes,t._loadedInjector=n.injector,this.processRoutes(n.injector??e,n.routes)))));if(t.loadComponent&&!t._loadedComponent){const e=this.loader.loadComponent(t);return(0,s.Q)([r,e]).pipe((0,$.u)())}return r}))}}sr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:sr,deps:[{token:Jn},{token:r.Compiler},{token:r.EnvironmentInjector},{token:tr},{token:On}],target:r["ɵɵFactoryTarget"].Injectable}),sr.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:sr,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:sr,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Jn},{type:r.Compiler},{type:r.EnvironmentInjector},{type:tr},{type:On}]}});const ir=new r.InjectionToken("");class or{constructor(e,t,n,r,s={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=n,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe((e=>{e instanceof We?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ke&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))}))}consumeScrollEvents(){return this.transitions.events.subscribe((e=>{e instanceof at&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))}))}scheduleScrollEvent(e,t){this.zone.runOutsideAngular((()=>{setTimeout((()=>{this.zone.run((()=>{this.transitions.events.next(new at(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}))}),0)}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}or.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:or,deps:"invalid",target:r["ɵɵFactoryTarget"].Injectable}),or.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:or}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:or,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:he},{type:Ln},{type:C.YZ},{type:r.NgZone},{type:void 0}]}});const ar="undefined"==typeof ngDevMode||ngDevMode;function cr(e,t){return{ɵkind:e,ɵproviders:t}}const lr=new r.InjectionToken("",{providedIn:"root",factory:()=>!1});function ur(){const e=(0,r.inject)(r.Injector);return t=>{const n=e.get(r.ApplicationRef);if(t!==n.components[0])return;const s=e.get(Jn),i=e.get(hr);1===e.get(pr)&&s.initialNavigation(),e.get(gr,null,r.InjectFlags.Optional)?.setUpPreloading(),e.get(ir,null,r.InjectFlags.Optional)?.init(),s.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}r.ENVIRONMENT_INITIALIZER;const hr=new r.InjectionToken(ar?"bootstrap done indicator":"",{factory:()=>new D.E}),pr=new r.InjectionToken(ar?"initial navigation":"",{providedIn:"root",factory:()=>1});function dr(){let e=[];return e=ar?[{provide:r.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,r.inject)(Jn);return()=>e.events.subscribe((e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:const t=e.position?`${e.position[0]}, ${e.position[1]}`:null;return`Scroll(anchor: '${e.anchor}', position: '${t}')`}}(e)),console.log(e),console.groupEnd?.()}))}}]:[],cr(1,e)}const gr=new r.InjectionToken(ar?"router preloader":""),mr="undefined"==typeof ngDevMode||ngDevMode,fr=[Lt,Xn,er,Nt],vr=new r.InjectionToken(mr?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),yr=[C.oB,{provide:he,useClass:pe},Jn,Rt,{provide:bt,useFactory:function(e){return e.routerState.root},deps:[Jn]},On,mr?{provide:lr,useValue:!0}:[]];function br(){return new r.NgProbeToken("Router",Jn)}class wr{constructor(e){}static forRoot(e,t){return{ngModule:wr,providers:[yr,mr&&t?.enableTracing?dr().ɵproviders:[],{provide:Fn,multi:!0,useValue:e},{provide:vr,useFactory:Dr,deps:[[Jn,new r.Optional,new r.SkipSelf]]},{provide:qn,useValue:t||{}},t?.useHash?{provide:C.Qd,useClass:C.MP}:{provide:C.Qd,useClass:C.uC},{provide:ir,useFactory:()=>{const e=(0,r.inject)(C.YZ),t=(0,r.inject)(r.NgZone),n=(0,r.inject)(qn),s=(0,r.inject)(Ln),i=(0,r.inject)(he);return n.scrollOffset&&e.setOffset(n.scrollOffset),new or(i,s,e,t,n)}},t?.preloadingStrategy?(n=t.preloadingStrategy,cr(0,[{provide:gr,useExisting:sr},{provide:tr,useExisting:n}])).ɵproviders:[],{provide:r.NgProbeToken,multi:!0,useFactory:br},t?.initialNavigation?Cr(t):[],[{provide:_r,useFactory:ur},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:_r}]]};var n}static forChild(e){return{ngModule:wr,providers:[{provide:Fn,multi:!0,useValue:e}]}}}function Dr(e){if(mr&&e)throw new r["ɵRuntimeError"](4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Cr(e){return["disabled"===e.initialNavigation?cr(3,[{provide:r.APP_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,r.inject)(Jn);return()=>{e.setUpLocationChangeListener()}}},{provide:pr,useValue:2}]).ɵproviders:[],"enabledBlocking"===e.initialNavigation?cr(2,[{provide:pr,useValue:0},{provide:r.APP_INITIALIZER,multi:!0,deps:[r.Injector],useFactory:e=>{const t=e.get(C.mQ,Promise.resolve());return()=>t.then((()=>new Promise((t=>{const n=e.get(Jn),r=e.get(hr);var s;s=()=>{t(!0)},e.get(Jn).events.pipe((0,E.I)((e=>e instanceof Ke||e instanceof Ge||e instanceof Ze)),(0,_.k)((e=>e instanceof Ke||!(!(e instanceof Ge)||0!==e.code&&1!==e.code)&&null)),(0,E.I)((e=>null!==e)),(0,x.U)(1)).subscribe((()=>{s()})),n.afterPreactivation=()=>(t(!0),r.closed?(0,i.of)(void 0):r),n.initialNavigation()}))))}}]).ɵproviders:[]]}wr.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:wr,deps:[{token:vr,optional:!0}],target:r["ɵɵFactoryTarget"].NgModule}),wr.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"14.0.0",version:"15.0.4",ngImport:r,type:wr,imports:[Lt,Xn,er,Nt],exports:[Lt,Xn,er,Nt]}),wr.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:wr,imports:[Nt]}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:r,type:wr,decorators:[{type:r.NgModule,args:[{imports:fr,exports:fr}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[vr]}]}]}});const _r=new r.InjectionToken(mr?"Router Initializer":"");new r.Version("15.0.4")},6764:(e,t,n)=>{"use strict";n.d(t,{Qv:()=>Ue,i2:()=>$e,Ko:()=>Ve,oj:()=>Ne});var r=n(8676),s=n(928),i=n(3588),o=n(7168),a=n(2700),c=n(2024),l=n(7288);function u(e,t,n){return(0,c.Q)((function(){return e()?t:n}))}var h=n(6292),p=n(3980),d=n(648),g=n(5232),m=n(8728),f=n(8128),v=n(6632),y=n(2204),b=n(7964),w=n(5972),D=n(260),C=n(3012),_=n(1316),S=n(6816),x=n(3760),I=n(5448),E=n(3500),T=n(7428),k=n(5132),M=n(4864),A=n(1544),F=n(8376),O=n(7576);function R(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}"function"==typeof SuppressedError&&SuppressedError;var P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function L(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function j(e,t){return e(t={exports:{}},t.exports),t.exports}var N=j((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var r=e.locked.get(t);void 0===r?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(r.unshift(n),e.locked.set(t,r))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,r){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var r=n.pop();e.locked.set(t,n),void 0!==r&&setTimeout(r,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));L(N);var U=L(j((function(e,t){var n=P&&P.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?s(e.value):new n((function(t){t(e.value)})).then(o,a)}c((r=r.apply(e,t||[])).next())}))},r=P&&P.__generator||function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=P;Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key",o={key:function(e){return n(s,void 0,void 0,(function(){return r(this,(function(e){throw new Error("Unsupported")}))}))},getItem:function(e){return n(s,void 0,void 0,(function(){return r(this,(function(e){throw new Error("Unsupported")}))}))},clear:function(){return n(s,void 0,void 0,(function(){return r(this,(function(e){return[2,window.localStorage.clear()]}))}))},removeItem:function(e){return n(s,void 0,void 0,(function(){return r(this,(function(e){throw new Error("Unsupported")}))}))},setItem:function(e,t){return n(s,void 0,void 0,(function(){return r(this,(function(e){throw new Error("Unsupported")}))}))},keySync:function(e){return window.localStorage.key(e)},getItemSync:function(e){return window.localStorage.getItem(e)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(e){return window.localStorage.removeItem(e)},setItemSync:function(e,t){return window.localStorage.setItem(e,t)}};function a(e){return new Promise((function(t){return setTimeout(t,e)}))}function c(e){for(var t="",n=0;n<e;n++)t+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(61*Math.random())];return t}var l=function(){function e(t){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=t,void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,l,u,h,p,d,g;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+c(4),l=Date.now()+s,u=i+"-"+t,h=void 0===this.storageHandler?o:this.storageHandler,r.label=1;case 1:return Date.now()<l?[4,a(30)]:[3,8];case 2:return r.sent(),null!==h.getItemSync(u)?[3,5]:(p=this.id+"-"+t+"-"+n,[4,a(Math.floor(25*Math.random()))]);case 3:return r.sent(),h.setItemSync(u,JSON.stringify({id:this.id,iat:n,timeoutKey:p,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return r.sent(),null!==(d=h.getItemSync(u))&&(g=JSON.parse(d)).id===this.id&&g.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return e.lockCorrector(void 0===this.storageHandler?o:this.storageHandler),[4,this.waitForSomethingToChange(l)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var s=this;return r(this,(function(i){return setTimeout((function(){return n(s,void 0,void 0,(function(){var n,s,i;return r(this,(function(r){switch(r.label){case 0:return[4,N.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(n=void 0===this.storageHandler?o:this.storageHandler,null===(s=n.getItemSync(e))?(N.default().unlock(t),[2]):((i=JSON.parse(s)).timeRefreshed=Date.now(),n.setItemSync(e,JSON.stringify(i)),N.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(N.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,s=Date.now(),i=!1;function o(){if(i||(window.removeEventListener("storage",o),e.removeFromWaiting(o),clearTimeout(a),i=!0),!r){r=!0;var t=50-(Date.now()-s);t>0?setTimeout(n,t):n(null)}}window.addEventListener("storage",o),e.addToWaiting(o);var a=setTimeout(o,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,s,a,c;return r(this,(function(r){switch(r.label){case 0:return n=void 0===this.storageHandler?o:this.storageHandler,s=i+"-"+t,null===(a=n.getItemSync(s))?[2]:(c=JSON.parse(a)).id!==this.id?[3,2]:[4,N.default().lock(c.iat)];case 1:r.sent(),this.acquiredIatSet.delete(c.iat),n.removeItemSync(s),N.default().unlock(c.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(t){for(var n=Date.now()-5e3,r=t,s=[],o=0;;){var a=r.keySync(o);if(null===a)break;s.push(a),o++}for(var c=!1,l=0;l<s.length;l++){var u=s[l];if(u.includes(i)){var h=r.getItemSync(u);if(null!==h){var p=JSON.parse(h);(void 0===p.timeRefreshed&&p.timeAcquired<n||void 0!==p.timeRefreshed&&p.timeRefreshed<n)&&(r.removeItemSync(u),c=!0)}}}c&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=l})));const V={timeoutInSeconds:60},$={name:"auth0-spa-js",version:"2.1.3"},B=()=>Date.now();class H extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,H.prototype)}static fromPayload({error:e,error_description:t}){return new H(e,t)}}class q extends H{constructor(e,t,n,r=null){super(e,t),this.state=n,this.appState=r,Object.setPrototypeOf(this,q.prototype)}}class z extends H{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,z.prototype)}}class W extends z{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,W.prototype)}}class K extends H{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,K.prototype)}}class G extends H{constructor(e,t,n){super(e,t),this.mfa_token=n,Object.setPrototypeOf(this,G.prototype)}}class Z extends H{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${Y(e,["default"])}', scope: '${Y(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,Z.prototype)}}function Y(e,t=[]){return e&&!t.includes(e)?e:""}const Q=()=>window.crypto,J=()=>{let e="";return Array.from(Q().getRandomValues(new Uint8Array(43))).forEach((t=>e+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~."[t%66])),e},X=e=>btoa(e),ee=e=>{var{clientId:t}=e,n=R(e,["clientId"]);return new URLSearchParams((e=>Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]})),{}))(Object.assign({client_id:t},n))).toString()},te=e=>(e=>decodeURIComponent(atob(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),ne=async(e,t)=>{const n=await fetch(e,t);return{ok:n.ok,json:await n.json()}},re=async(e,t,n,r,s,i,o=1e4)=>s?(async(e,t,n,r,s,i,o)=>{return a={auth:{audience:t,scope:n},timeout:s,fetchUrl:e,fetchOptions:r,useFormData:o},c=i,new Promise((function(e,t){const n=new MessageChannel;n.port1.onmessage=function(r){r.data.error?t(new Error(r.data.error)):e(r.data),n.port1.close()},c.postMessage(a,[n.port2])}));var a,c})(e,t,n,r,o,s,i):(async(e,t,n)=>{const r=new AbortController;let s;return t.signal=r.signal,Promise.race([ne(e,t),new Promise(((e,t)=>{s=setTimeout((()=>{r.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((()=>{clearTimeout(s)}))})(e,r,o);async function se(e,t){var{baseUrl:n,timeout:r,audience:s,scope:i,auth0Client:o,useFormData:a}=e,c=R(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const l=a?ee(c):JSON.stringify(c);return await async function(e,t,n,r,s,i,o){let a,c=null;for(let l=0;l<3;l++)try{a=await re(e,n,r,s,i,o,t),c=null;break}catch(e){c=e}if(c)throw c;const l=a.json,{error:u,error_description:h}=l,p=R(l,["error","error_description"]),{ok:d}=a;if(!d){const t=h||`HTTP error. Unable to fetch ${e}`;if("mfa_required"===u)throw new G(u,t,p.mfa_token);if("missing_refresh_token"===u)throw new Z(n,r);throw new H(u||"request_error",t)}return p}(`${n}/oauth/token`,r,s||"default",i,{method:"POST",body:l,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(o||$))}},t,a)}const ie=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t};class oe{constructor(e,t="@@auth0spajs@@",n){this.prefix=t,this.suffix=n,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,n,r,s]=e.split("::");return new oe({clientId:n,scope:s,audience:r},t)}static fromCacheEntry(e){const{scope:t,audience:n,client_id:r}=e;return new oe({scope:t,audience:n,clientId:r})}}class ae{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith("@@auth0spajs@@")))}}class ce{constructor(){this.enclosedCache=function(){let e={};return{set(t,n){e[t]=n},get(t){const n=e[t];if(n)return n},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class le{constructor(e,t,n){this.cache=e,this.keyManifest=t,this.nowProvider=n||B}async setIdToken(e,t,n){var r;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:t,decodedToken:n}),await(null===(r=this.keyManifest)||void 0===r?void 0:r.add(s))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const t=await this.get(e);if(!t)return;if(!t.id_token||!t.decodedToken)return;return{id_token:t.id_token,decodedToken:t.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var n;let r=await this.cache.get(e.toKey());if(!r){const t=await this.getCacheKeys();if(!t)return;const n=this.matchExistingCacheKey(e,t);n&&(r=await this.cache.get(n))}if(!r)return;const s=await this.nowProvider(),i=Math.floor(s/1e3);return r.expiresAt-t<i?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},await this.cache.set(e.toKey(),r),r.body):(await this.cache.remove(e.toKey()),void await(null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey()))):r.body}async set(e){var t;const n=new oe({clientId:e.client_id,scope:e.scope,audience:e.audience}),r=await this.wrapCacheEntry(e);await this.cache.set(n.toKey(),r),await(null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey()))}async clear(e){var t;const n=await this.getCacheKeys();n&&(await n.filter((t=>!e||t.includes(e))).reduce((async(e,t)=>{await e,await this.cache.remove(t)}),Promise.resolve()),await(null===(t=this.keyManifest)||void 0===t?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?null===(e=await this.keyManifest.get())||void 0===e?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new oe({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter((t=>{var n;const r=oe.fromKey(t),s=new Set(r.scope&&r.scope.split(" ")),i=(null===(n=e.scope)||void 0===n?void 0:n.split(" "))||[],o=r.scope&&i.reduce(((e,t)=>e&&s.has(t)),!0);return"@@auth0spajs@@"===r.prefix&&r.clientId===e.clientId&&r.audience===e.audience&&o}))[0]}}class ue{constructor(e,t,n){this.storage=e,this.clientId=t,this.cookieDomain=n,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const he=e=>"number"==typeof e,pe=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var de=j((function(e,t){var n=P&&P.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function s(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(n)}function i(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,s=0;s<n.length;s++){var i=n[s].split("="),o=i.slice(1).join("=");'"'===o.charAt(0)&&(o=o.slice(1,-1));try{t[i[0].replace(r,decodeURIComponent)]=o.replace(r,decodeURIComponent)}catch(e){}}return t}function o(){return i(document.cookie)}function a(e,t,r){document.cookie=s(e,t,n({path:"/"},r))}t.__esModule=!0,t.encode=s,t.parse=i,t.getAll=o,t.get=function(e){return o()[e]},t.set=a,t.remove=function(e,t){a(e,"",n(n({},t),{expires:-1}))}}));L(de),de.encode,de.parse,de.getAll;var ge=de.get,me=de.set,fe=de.remove;const ve={get(e){const t=ge(e);if(void 0!==t)return JSON.parse(t)},save(e,t,n){let r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),(null==n?void 0:n.cookieDomain)&&(r.domain=n.cookieDomain),me(e,JSON.stringify(t),r)},remove(e,t){let n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),fe(e,n)}},ye={get:e=>ve.get(e)||ve.get(`_legacy_${e}`),save(e,t,n){let r={};"https:"===window.location.protocol&&(r={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(r.expires=n.daysUntilExpire),(null==n?void 0:n.cookieDomain)&&(r.domain=n.cookieDomain),me(`_legacy_${e}`,JSON.stringify(t),r),ve.save(e,t,n)},remove(e,t){let n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),fe(e,n),ve.remove(e,t),ve.remove(`_legacy_${e}`,t)}},be={get(e){if("undefined"==typeof sessionStorage)return;const t=sessionStorage.getItem(e);return null!=t?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};var we,De=function(e){return we=we||function(e,t,n){var r=function(e,t){var n=atob(e);return n}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo="),s=r.indexOf("\n",10)+1,i=r.substring(s)+"",o=new Blob([i],{type:"application/javascript"});return URL.createObjectURL(o)}(),new Worker(we,e)};const Ce={};class _e{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const n=new Set((null===(t=await this.cache.get(this.manifestKey))||void 0===t?void 0:t.keys)||[]);n.add(e),await this.cache.set(this.manifestKey,{keys:[...n]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const n=new Set(t.keys);return n.delete(e),n.size>0?await this.cache.set(this.manifestKey,{keys:[...n]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const Se={memory:()=>(new ce).enclosedCache,localstorage:()=>new ae},xe=e=>Se[e],Ie=e=>{const{openUrl:t,onRedirect:n}=e,r=R(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:!1===t||t?t:n})},Ee=new U;class Te{constructor(e){let t,n;if(this.userCache=(new ce).enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await Ee.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),"undefined"!=typeof window&&(()=>{if(!Q())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Q().subtle)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)n=e.cache;else{if(t=e.cacheLocation||"memory",!xe(t))throw new Error(`Invalid cache location "${t}"`);n=xe(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?ve:ye,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(e=>`auth0.${this.options.clientId}.is.authenticated`)(),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const r=e.useCookiesForTransactions?this.cookieStorage:be;var s;this.scope=ie("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new ue(r,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||B,this.cacheManager=new le(n,n.allKeys?void 0:new _e(n,this.options.clientId),this.nowProvider),this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((e,t)=>e?e.startsWith("https://")?e:`https://${e}/`:`${t}/`)(this.options.issuer,this.domainUrl),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===t&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new De)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||$)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${ee(e)}`)}async _verifyIdToken(e,t,n){const r=await this.nowProvider();return(e=>{if(!e.id_token)throw new Error("ID token is required but missing");const t=(e=>{const t=e.split("."),[n,r,s]=t;if(3!==t.length||!n||!r||!s)throw new Error("ID token could not be decoded");const i=JSON.parse(te(r)),o={__raw:e},a={};return Object.keys(i).forEach((e=>{o[e]=i[e],pe.includes(e)||(a[e]=i[e])})),{encoded:{header:n,payload:r,signature:s},header:JSON.parse(te(n)),claims:o,user:a}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!he(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(null==t.claims.exp||!he(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!he(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=e.leeway||60,r=new Date(e.now||Date.now()),s=new Date(0);if(s.setUTCSeconds(t.claims.exp+n),r>s)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${s})`);if(null!=t.claims.nbf&&he(t.claims.nbf)){const e=new Date(0);if(e.setUTCSeconds(t.claims.nbf-n),r<e)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${e}`)}if(null!=t.claims.auth_time&&he(t.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),r>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${s}`)}if(e.organization){const n=e.organization.trim();if(n.startsWith("org_")){const e=n;if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${e}", found "${t.claims.org_id}"`)}else{const e=n.toLowerCase();if(!t.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(e!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${e}", found "${t.claims.org_name}"`)}}return t})({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:n,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,"string"!=typeof s?s:parseInt(s,10)||void 0),now:r});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,n){const r=X(J()),s=X(J()),i=J(),o=(e=>{const t=new Uint8Array(e);return(e=>{const t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(e=>t[e]))})(window.btoa(String.fromCharCode(...Array.from(t))))})(await(async e=>{const t=Q().subtle.digest({name:"SHA-256"},(new TextEncoder).encode(e));return await t})(i)),a=((e,t,n,r,s,i,o,a)=>Object.assign(Object.assign(Object.assign({client_id:e.clientId},e.authorizationParams),n),{scope:ie(t,n.scope),response_type:"code",response_mode:a||"query",state:r,nonce:s,redirect_uri:o||e.authorizationParams.redirect_uri,code_challenge:i,code_challenge_method:"S256"}))(this.options,this.scope,e,r,s,o,e.redirect_uri||this.options.authorizationParams.redirect_uri||n,null==t?void 0:t.response_mode),c=this._authorizeUrl(a);return{nonce:s,code_verifier:i,scope:a.scope,audience:a.audience||"default",redirect_uri:a.redirect_uri,state:r,url:c}}async loginWithPopup(e,t){var n;if(e=e||{},!(t=t||{}).popup&&(t.popup=(e=>{const t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup",`left=${t},top=${n},width=400,height=600,resizable,scrollbars=yes,status=1`)})(),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const r=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=r.url;const s=await(e=>new Promise(((t,n)=>{let r;const s=setInterval((()=>{e.popup&&e.popup.closed&&(clearInterval(s),clearTimeout(i),window.removeEventListener("message",r,!1),n(new K(e.popup)))}),1e3),i=setTimeout((()=>{clearInterval(s),n(new W(e.popup)),window.removeEventListener("message",r,!1)}),1e3*(e.timeoutInSeconds||60));r=function(o){if(o.data&&"authorization_response"===o.data.type){if(clearTimeout(i),clearInterval(s),window.removeEventListener("message",r,!1),e.popup.close(),o.data.response.error)return n(H.fromPayload(o.data.response));t(o.data.response)}},window.addEventListener("message",r)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(r.state!==s.state)throw new H("state_mismatch","Invalid state");const i=(null===(n=e.authorizationParams)||void 0===n?void 0:n.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:r.redirect_uri},{nonceIn:r.nonce,organization:i})}async getUser(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.claims}async loginWithRedirect(e={}){var t;const n=Ie(e),{openUrl:r,fragment:s,appState:i}=n,o=R(n,["openUrl","fragment","appState"]),a=(null===(t=o.authorizationParams)||void 0===t?void 0:t.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(o.authorizationParams||{}),{url:l}=c,u=R(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},u),{appState:i}),a&&{organization:a}));const h=s?`${l}#${s}`:l;r?await r(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(0===t.length)throw new Error("There are no query params available for parsing.");const{state:n,code:r,error:s,error_description:i}=(e=>{e.indexOf("#")>-1&&(e=e.substring(0,e.indexOf("#")));const t=new URLSearchParams(e);return{state:t.get("state"),code:t.get("code")||void 0,error:t.get("error")||void 0,error_description:t.get("error_description")||void 0}})(t.join("")),o=this.transactionManager.get();if(!o)throw new H("missing_transaction","Invalid state");if(this.transactionManager.remove(),s)throw new q(s,i||s,n,o.appState);if(!o.code_verifier||o.state&&o.state!==n)throw new H("state_mismatch","Invalid state");const a=o.organization,c=o.nonce,l=o.redirect_uri;return await this._requestToken(Object.assign({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:r},l?{redirect_uri:l}:{}),{nonceIn:c,organization:a}),{appState:o.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch(e){}}async getTokenSilently(e={}){var t;const n=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ie(this.scope,null===(t=e.authorizationParams)||void 0===t?void 0:t.scope)})}),r=await((e,t)=>{let n=Ce[t];return n||(n=e().finally((()=>{delete Ce[t],n=null})),Ce[t]=n),n})((()=>this._getTokenSilently(n)),`${this.options.clientId}::${n.authorizationParams.audience}::${n.authorizationParams.scope}`);return e.detailedResponse?r:null==r?void 0:r.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,n=R(e,["cacheMode"]);if("off"!==t){const e=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId});if(e)return e}if("cache-only"!==t){if(!await(async(e,t=3)=>{for(let n=0;n<t;n++)if(await e())return!0;return!1})((()=>Ee.acquireLock("auth0.lock.getTokenSilently",5e3)),10))throw new z;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),"off"!==t){const e=await this._getEntryFromCache({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId});if(e)return e}const e=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(n):await this._getTokenFromIFrame(n),{id_token:r,access_token:s,oauthTokenScope:i,expires_in:o}=e;return Object.assign(Object.assign({id_token:r,access_token:s},i?{scope:i}:null),{expires_in:o})}finally{await Ee.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var n;const r=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ie(this.scope,null===(n=e.authorizationParams)||void 0===n?void 0:n.scope)})});return t=Object.assign(Object.assign({},V),t),await this.loginWithPopup(r,t),(await this.cacheManager.get(new oe({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){null!==e.clientId?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:n}=t,r=R(t,["federated"]),s=n?"&federated":"";return this._url(`/v2/logout?${ee(Object.assign({clientId:e.clientId},r))}`)+s}async logout(e={}){const t=Ie(e),{openUrl:n}=t,r=R(t,["openUrl"]);null===e.clientId?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const s=this._buildLogoutUrl(r);n?await n(s):!1!==n&&window.location.assign(s)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),n=this.cookieStorage.get(this.orgHintCookieName);n&&!t.organization&&(t.organization=n);const{url:r,state:s,nonce:i,code_verifier:o,redirect_uri:a,scope:c,audience:l}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new H("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const n=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,u=await((e,t,n=60)=>new Promise(((r,s)=>{const i=window.document.createElement("iframe");i.setAttribute("width","0"),i.setAttribute("height","0"),i.style.display="none";const o=()=>{window.document.body.contains(i)&&(window.document.body.removeChild(i),window.removeEventListener("message",a,!1))};let a;const c=setTimeout((()=>{s(new z),o()}),1e3*n);a=function(e){if(e.origin!=t)return;if(!e.data||"authorization_response"!==e.data.type)return;const n=e.source;n&&n.close(),e.data.response.error?s(H.fromPayload(e.data.response)):r(e.data.response),clearTimeout(c),window.removeEventListener("message",a,!1),setTimeout(o,2e3)},window.addEventListener("message",a,!1),window.document.body.appendChild(i),i.setAttribute("src",e)})))(r,this.domainUrl,n);if(s!==u.state)throw new H("state_mismatch","Invalid state");const h=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:o,code:u.code,grant_type:"authorization_code",redirect_uri:a,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:i,organization:t.organization});return Object.assign(Object.assign({},h),{scope:c,oauthTokenScope:h.scope,audience:l})}catch(e){throw"login_required"===e.error&&this.logout({openUrl:!1}),e}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new oe({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new Z(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const n=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,r="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null;try{const s=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n}),r&&{timeout:r}));return Object.assign(Object.assign({},s),{scope:e.authorizationParams.scope,oauthTokenScope:s.scope,audience:e.authorizationParams.audience||"default"})}catch(t){if((t.message.indexOf("Missing Refresh Token")>-1||t.message&&t.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw t}}async _saveEntryInCache(e){const{id_token:t,decodedToken:n}=e,r=R(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:n}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(r)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new oe({clientId:this.options.clientId,audience:e,scope:this.scope})),n=this.userCache.get("@@user@@");return t&&t.id_token===(null==n?void 0:n.id_token)?n:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:n}){const r=await this.cacheManager.get(new oe({scope:e,audience:t,clientId:n}),60);if(r&&r.access_token){const{access_token:e,oauthTokenScope:t,expires_in:n}=r,s=await this._getIdTokenFromCache();return s&&Object.assign(Object.assign({id_token:s.id_token,access_token:e},t?{scope:t}:null),{expires_in:n})}}async _requestToken(e,t){const{nonceIn:n,organization:r}=t||{},s=await se(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),i=await this._verifyIdToken(s.id_token,n,r);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},s),{decodedToken:i,scope:e.scope,audience:e.audience||"default"}),s.scope?{oauthTokenScope:s.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(r||i.claims.org_id),Object.assign(Object.assign({},s),{decodedToken:i})}}var ke=n(9584),Me=n(1132);class Ae{static createClient(e){const t=e.get();if(!t)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new Te({...t,auth0Client:{name:"@auth0/auth0-angular",version:"2.2.2",env:{"angular/core":r.VERSION.full}}})}}const Fe=new r.InjectionToken("auth0.client");function Oe(e){return"string"!=typeof e}const Re=new r.InjectionToken("auth0-angular.config");class Pe{constructor(e){e&&this.set(e)}set(e){this.config=e}get(){return this.config}}Pe.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Pe,deps:[{token:Re,optional:!0}],target:r["ɵɵFactoryTarget"].Injectable}),Pe.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Pe,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Pe,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[Re]}]}]}});class Le{constructor(e,t){this.location=e;try{this.router=t.get(ke.E5)}catch{}}navigateByUrl(e){this.router?this.router.navigateByUrl(e):this.location.replaceState(e)}}Le.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Le,deps:[{token:Me.oB},{token:r.Injector}],target:r["ɵɵFactoryTarget"].Injectable}),Le.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Le,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Le,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Me.oB},{type:r.Injector}]}});class je{constructor(e){this.auth0Client=e,this.isLoadingSubject$=new s.g(!0),this.refresh$=new i.E,this.accessToken$=new o.o(1),this.errorSubject$=new o.o(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe((0,d.K)(((e,t)=>({previous:e.current,current:t})),{current:null,previous:null}),(0,g.I)((({previous:e,current:t})=>e!==t))),this.isAuthenticatedTrigger$=this.isLoading$.pipe((0,g.I)((e=>!e)),(0,m.a)(),(0,f.G)((()=>(0,a.U)((0,c.Q)((()=>this.auth0Client.isAuthenticated())),this.accessTokenTrigger$.pipe((0,v.O)((()=>this.auth0Client.isAuthenticated()))),this.refresh$.pipe((0,v.O)((()=>this.auth0Client.isAuthenticated()))))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe((0,m.a)(),(0,y.C)(1)),this.user$=this.isAuthenticatedTrigger$.pipe((0,b.m)((e=>e?this.auth0Client.getUser():(0,l.of)(null))),(0,m.a)()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe((0,b.m)((e=>e?this.auth0Client.getIdTokenClaims():(0,l.of)(null)))),this.error$=this.errorSubject$.asObservable()}setIsLoading(e){this.isLoadingSubject$.next(e)}refresh(){this.refresh$.next()}setAccessToken(e){this.accessToken$.next(e)}setError(e){this.errorSubject$.next(e)}}je.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:je,deps:[{token:Fe}],target:r["ɵɵFactoryTarget"].Injectable}),je.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:je,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:je,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Te,decorators:[{type:r.Inject,args:[Fe]}]}]}});class Ne{constructor(e,t,n,r){this.auth0Client=e,this.configFactory=t,this.navigator=n,this.authState=r,this.appStateSubject$=new o.o(1),this.ngUnsubscribe$=new i.E,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();const s=e=>u((()=>e),this.handleRedirectCallback(),(0,c.Q)((()=>this.auth0Client.checkSession())));this.shouldHandleCallback().pipe((0,f.G)((e=>s(e).pipe((0,w.a)((e=>{const t=this.configFactory.get();return this.navigator.navigateByUrl(t.errorPath||"/"),this.authState.setError(e),(0,l.of)(void 0)}))))),(0,D.y)((()=>{this.authState.setIsLoading(!1)})),(0,C.a)(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(e){return(0,h.Q)(this.auth0Client.loginWithRedirect(e))}loginWithPopup(e,t){return(0,h.Q)(this.auth0Client.loginWithPopup(e,t).then((()=>{this.authState.refresh()})))}logout(e){return(0,h.Q)(this.auth0Client.logout(e).then((()=>{(!1===e?.openUrl||e?.openUrl)&&this.authState.refresh()})))}getAccessTokenSilently(e={}){return(0,l.of)(this.auth0Client).pipe((0,b.m)((t=>!0===e.detailedResponse?t.getTokenSilently({...e,detailedResponse:!0}):t.getTokenSilently(e))),(0,D.y)((e=>{e&&this.authState.setAccessToken("string"==typeof e?e:e.access_token)})),(0,w.a)((e=>(this.authState.setError(e),this.authState.refresh(),(0,p.c)(e)))))}getAccessTokenWithPopup(e){return(0,l.of)(this.auth0Client).pipe((0,b.m)((t=>t.getTokenWithPopup(e))),(0,D.y)((e=>{e&&this.authState.setAccessToken(e)})),(0,w.a)((e=>(this.authState.setError(e),this.authState.refresh(),(0,p.c)(e)))))}handleRedirectCallback(e){return(0,c.Q)((()=>this.auth0Client.handleRedirectCallback(e))).pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,k.yu)(e);return(0,S.i)((function(t,r){for(var s=e.length,i=new Array(s),o=e.map((function(){return!1})),a=!1,c=function(t){(0,I.Uv)(e[t]).subscribe((0,x.e)(r,(function(e){i[t]=e,a||o[t]||(o[t]=!0,(a=o.every(E.Z))&&(o=null))}),T.K))},l=0;l<s;l++)c(l);t.subscribe((0,x.e)(r,(function(e){if(a){var t=(0,_.Mt)([e],(0,_.o5)(i));r.next(n?n.apply(void 0,(0,_.Mt)([],(0,_.o5)(t))):t)}})))}))}(this.authState.isLoading$),(0,D.y)((([e,t])=>{t||this.authState.refresh();const n=e?.appState,r=n?.target??"/";n&&this.appStateSubject$.next(n),this.navigator.navigateByUrl(r)})),(0,M.k)((([e])=>e)))}shouldHandleCallback(){return(0,l.of)(location.search).pipe((0,M.k)((e=>{const t=new URLSearchParams(e);return(t.has("code")||t.has("error"))&&t.has("state")&&!this.configFactory.get().skipRedirectCallback})))}}Ne.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ne,deps:[{token:Fe},{token:Pe},{token:Le},{token:je}],target:r["ɵɵFactoryTarget"].Injectable}),Ne.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ne,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ne,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Te,decorators:[{type:r.Inject,args:[Fe]}]},{type:Pe},{type:Le},{type:je}]}});class Ue{constructor(e){this.auth=e}canLoad(e,t){return this.auth.isAuthenticated$.pipe((0,A.U)(1))}canActivate(e,t){return this.redirectIfUnauthenticated(t)}canActivateChild(e,t){return this.redirectIfUnauthenticated(t)}redirectIfUnauthenticated(e){return this.auth.isAuthenticated$.pipe((0,D.y)((t=>{t||this.auth.loginWithRedirect({appState:{target:e.url}})})))}}Ue.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ue,deps:[{token:Ne}],target:r["ɵɵFactoryTarget"].Injectable}),Ue.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ue,providedIn:"root"}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ue,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:Ne}]}});class Ve{static forRoot(e){return{ngModule:Ve,providers:[Ne,Ue,{provide:Re,useValue:e},{provide:Fe,useFactory:Ae.createClient,deps:[Pe]}]}}}Ve.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ve,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),Ve.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ve}),Ve.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ve}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:Ve,decorators:[{type:r.NgModule}]});class $e{constructor(e,t,n,r){this.configFactory=e,this.auth0Client=t,this.authState=n,this.authService=r}intercept(e,t){const n=this.configFactory.get();if(!n.httpInterceptor?.allowedList)return t.handle(e);const r=this.authService.isLoading$.pipe((0,g.I)((e=>!e)));return this.findMatchingRoute(e,n.httpInterceptor).pipe((0,b.m)((n=>{return u((()=>null!==n),(0,l.of)(n).pipe((s=r,e=>e.pipe((0,v.O)((e=>s.pipe((0,F.K)(),(0,O.e)(e)))))),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return(0,M.k)((function(t){for(var r=t,s=0;s<n;s++){var i=null==r?void 0:r[e[s]];if(void 0===i)return;r=i}return r}))}("tokenOptions"),(0,b.m)((e=>this.getAccessTokenSilently(e).pipe((0,w.a)((e=>this.allowAnonymous(n,e)?(0,l.of)(""):(this.authState.setError(e),(0,p.c)(e))))))),(0,f.G)((n=>{const r=n?e.clone({headers:e.headers.set("Authorization",`Bearer ${n}`)}):e;return t.handle(r)}))),t.handle(e));var s})))}getAccessTokenSilently(e){return(0,l.of)(this.auth0Client).pipe((0,b.m)((t=>t.getTokenSilently(e))),(0,D.y)((e=>this.authState.setAccessToken(e))),(0,w.a)((e=>(this.authState.refresh(),(0,p.c)(e)))))}stripQueryFrom(e){return e.indexOf("?")>-1&&(e=e.substr(0,e.indexOf("?"))),e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#"))),e}canAttachToken(e,t){const n=e=>!!e&&(e===this.stripQueryFrom(t.url)||e.indexOf("*")===e.length-1&&t.url.startsWith(e.substr(0,e.length-1)));return Oe(e)?(!e.httpMethod||e.httpMethod===t.method)&&(e.uri||e.uriMatcher||console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),e.uriMatcher?e.uriMatcher(t.url):n(e.uri)):n(e)}findMatchingRoute(e,t){return(0,h.Q)(t.allowedList).pipe((0,F.K)((t=>this.canAttachToken(t,e)),null))}allowAnonymous(e,t){return!!e&&Oe(e)&&!!e.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(t.error)}}$e.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:$e,deps:[{token:Pe},{token:Fe},{token:je},{token:Ne}],target:r["ɵɵFactoryTarget"].Injectable}),$e.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:$e}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.4.0",ngImport:r,type:$e,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:Pe},{type:Te,decorators:[{type:r.Inject,args:[Fe]}]},{type:je},{type:Ne}]}})},9752:(e,t,n)=>{"use strict";n.d(t,{eM:()=>U,O0:()=>$,sD:()=>V,qS:()=>N});var r=n(8676),s=n(7288),i=n(1944),o=n(3844);function a(e){return!!e&&(e instanceof i._||(0,o.m)(e.lift)&&(0,o.m)(e.subscribe))}var c=n(4324),l=n(5448),u=n(5132),h=n(3760),p=n(1632),d=n(9896),g=n(84),m=n(2024),f=n(1544),v=n(2204),y=n(4864),b=n(7964),w=n(8128);class D{}class C extends D{getTranslation(e){return(0,s.of)({})}}C.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:C,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),C.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:C}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:C,decorators:[{type:r.Injectable}]});class _{}class S{handle(e){return e.key}}function x(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;let n,r,s,i=typeof e;if(i==typeof t&&"object"==i){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(r in s=Object.create(null),e){if(!x(e[r],t[r]))return!1;s[r]=!0}for(r in t)if(!(r in s)&&void 0!==t[r])return!1;return!0}if(!Array.isArray(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!x(e[r],t[r]))return!1;return!0}}return!1}function I(e){return null!=e}function E(e){return e&&"object"==typeof e&&!Array.isArray(e)}function T(e,t){let n=Object.assign({},e);return E(e)&&E(t)&&Object.keys(t).forEach((r=>{E(t[r])?r in e?n[r]=T(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})})),n}S.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:S,deps:[],target:r["ɵɵFactoryTarget"].Injectable}),S.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:S}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:S,decorators:[{type:r.Injectable}]});class k{}class M extends k{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,t){let n;return n="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,n}getValue(e,t){let n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!I(e)||!I(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,((e,n)=>{let r=this.getValue(t,n);return I(r)?r:e})):e}}M.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:M,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),M.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:M}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:M,decorators:[{type:r.Injectable}]});class A{}class F extends A{compile(e,t){return e}compileTranslations(e,t){return e}}F.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:F,deps:null,target:r["ɵɵFactoryTarget"].Injectable}),F.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:F}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:F,decorators:[{type:r.Injectable}]});class O{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.EventEmitter,this.onLangChange=new r.EventEmitter,this.onDefaultLangChange=new r.EventEmitter}}const R=new r.InjectionToken("USE_STORE"),P=new r.InjectionToken("USE_DEFAULT_LANG"),L=new r.InjectionToken("DEFAULT_LANGUAGE"),j=new r.InjectionToken("USE_EXTEND");class N{constructor(e,t,n,s,i,o=!0,a=!1,c=!1,l){this.store=e,this.currentLoader=t,this.compiler=n,this.parser=s,this.missingTranslationHandler=i,this.useDefaultLang=o,this.isolate=a,this.extend=c,this.pending=!1,this._onTranslationChange=new r.EventEmitter,this._onLangChange=new r.EventEmitter,this._onDefaultLangChange=new r.EventEmitter,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);void 0!==t?(null==this.defaultLang&&(this.defaultLang=e),t.pipe((0,f.U)(1)).subscribe((t=>{this.changeDefaultLang(e)}))):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,s.of)(this.translations[e]);let t=this.retrieveTranslations(e);return void 0!==t?(this.currentLang||(this.currentLang=e),t.pipe((0,f.U)(1)).subscribe((t=>{this.changeLang(e)})),t):(this.changeLang(e),(0,s.of)(this.translations[e]))}retrieveTranslations(e){let t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;const t=this.currentLoader.getTranslation(e).pipe((0,v.C)(1),(0,f.U)(1));return this.loadingTranslations=t.pipe((0,y.k)((t=>this.compiler.compileTranslations(t,e))),(0,v.C)(1),(0,f.U)(1)),this.loadingTranslations.subscribe({next:t=>{this.translations[e]=this.extend&&this.translations[e]?{...t,...this.translations[e]}:t,this.updateLangs(),this.pending=!1},error:e=>{this.pending=!1}}),t}setTranslation(e,t,n=!1){t=this.compiler.compileTranslations(t,e),(n||this.extend)&&this.translations[e]?this.translations[e]=T(this.translations[e],t):this.translations[e]=t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach((e=>{-1===this.langs.indexOf(e)&&this.langs.push(e)}))}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,n){let r;if(t instanceof Array){let r={},o=!1;for(let s of t)r[s]=this.getParsedResult(e,s,n),a(r[s])&&(o=!0);return o?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,u.yu)(e),r=(0,c.Q)(e),s=r.args,o=r.keys,a=new i._((function(e){var t=s.length;if(t)for(var n=new Array(t),r=t,i=t,a=function(t){var a=!1;(0,l.Uv)(s[t]).subscribe((0,h.e)(e,(function(e){a||(a=!0,i--),n[t]=e}),(function(){return r--}),void 0,(function(){r&&a||(i||e.next(o?(0,d.q)(o,n):n),e.complete())})))},c=0;c<t;c++)a(c);else e.complete()}));return n?a.pipe((0,p.j)(n)):a}(t.map((e=>a(r[e])?r[e]:(0,s.of)(r[e])))).pipe((0,y.k)((e=>{let n={};return e.forEach(((e,r)=>{n[t[r]]=e})),n}))):r}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),n)),void 0===r){let e={key:t,translateService:this};void 0!==n&&(e.interpolateParams=n),r=this.missingTranslationHandler.handle(e)}return void 0!==r?r:t}get(e,t){if(!I(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,b.m)((n=>a(n=this.getParsedResult(n,e,t))?n:(0,s.of)(n))));{let n=this.getParsedResult(this.translations[this.currentLang],e,t);return a(n)?n:(0,s.of)(n)}}getStreamOnTranslationChange(e,t){if(!I(e)||!e.length)throw new Error('Parameter "key" required');return(0,g.W)((0,m.Q)((()=>this.get(e,t))),this.onTranslationChange.pipe((0,w.G)((n=>{const r=this.getParsedResult(n.translations,e,t);return"function"==typeof r.subscribe?r:(0,s.of)(r)}))))}stream(e,t){if(!I(e)||!e.length)throw new Error('Parameter "key" required');return(0,g.W)((0,m.Q)((()=>this.get(e,t))),this.onLangChange.pipe((0,w.G)((n=>{const r=this.getParsedResult(n.translations,e,t);return a(r)?r:(0,s.of)(r)}))))}instant(e,t){if(!I(e)||!e.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],e,t);if(a(n)){if(e instanceof Array){let t={};return e.forEach(((n,r)=>{t[e[r]]=e[r]})),t}return e}return n}set(e,t,n=this.currentLang){this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}N.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:N,deps:[{token:O},{token:D},{token:A},{token:k},{token:_},{token:P},{token:R},{token:j},{token:L}],target:r["ɵɵFactoryTarget"].Injectable}),N.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:N}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:N,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:O},{type:D},{type:A},{type:k},{type:_},{type:void 0,decorators:[{type:r.Inject,args:[P]}]},{type:void 0,decorators:[{type:r.Inject,args:[R]}]},{type:void 0,decorators:[{type:r.Inject,args:[j]}]},{type:void 0,decorators:[{type:r.Inject,args:[L]}]}]}});class U{constructor(e,t,n){this.translateService=e,this.element=t,this._ref=n,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe((e=>{e.lang===this.translateService.currentLang&&this.checkNodes(!0,e.translations)}))),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe((e=>{this.checkNodes(!0,e.translations)}))),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe((e=>{this.checkNodes(!0)})))}set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){x(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,t){let n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(let r=0;r<n.length;++r){let s=n[r];if(3===s.nodeType){let n;if(e&&(s.lastKey=null),I(s.lookupKey))n=s.lookupKey;else if(this.key)n=this.key;else{let e=this.getContent(s),t=e.trim();t.length&&(s.lookupKey=t,e!==s.currentValue?(n=t,s.originalContent=e||s.originalContent):s.originalContent?n=s.originalContent.trim():e!==s.currentValue&&(n=t,s.originalContent=e||s.originalContent))}this.updateValue(n,s,t)}}}updateValue(e,t,n){if(e){if(t.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let r=n=>{n!==e&&(t.lastKey=e),t.originalContent||(t.originalContent=this.getContent(t)),t.currentValue=I(n)?n:t.originalContent||e,this.setContent(t,this.key?t.currentValue:t.originalContent.replace(e,t.currentValue)),this._ref.markForCheck()};if(I(n)){let t=this.translateService.getParsedResult(n,e,this.currentParams);a(t)?t.subscribe({next:r}):r(t)}else this.translateService.get(e,this.currentParams).subscribe(r)}}getContent(e){return I(e.textContent)?e.textContent:e.data}setContent(e,t){I(e.textContent)?e.textContent=t:e.data=t}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}U.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:U,deps:[{token:N},{token:r.ElementRef},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Directive}),U.ɵdir=r["ɵɵngDeclareDirective"]({minVersion:"12.0.0",version:"13.0.0",type:U,selector:"[translate],[ngx-translate]",inputs:{translate:"translate",translateParams:"translateParams"},ngImport:r}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:U,decorators:[{type:r.Directive,args:[{selector:"[translate],[ngx-translate]"}]}],ctorParameters:function(){return[{type:N},{type:r.ElementRef},{type:r.ChangeDetectorRef}]},propDecorators:{translate:[{type:r.Input}],translateParams:[{type:r.Input}]}});class V{constructor(e,t){this.translate=e,this._ref=t,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,t,n){let r=t=>{this.value=void 0!==t?t:e,this.lastKey=e,this._ref.markForCheck()};if(n){let s=this.translate.getParsedResult(n,e,t);a(s.subscribe)?s.subscribe(r):r(s)}this.translate.get(e,t).subscribe(r)}transform(e,...t){if(!e||!e.length)return e;if(x(e,this.lastKey)&&x(t,this.lastParams))return this.value;let n;if(I(t[0])&&t.length)if("string"==typeof t[0]&&t[0].length){let e=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(e)}catch(e){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else"object"!=typeof t[0]||Array.isArray(t[0])||(n=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe((t=>{this.lastKey&&t.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,n,t.translations))}))),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe((t=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,n,t.translations))}))),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe((()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,n))}))),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}V.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:V,deps:[{token:N},{token:r.ChangeDetectorRef}],target:r["ɵɵFactoryTarget"].Pipe}),V.ɵpipe=r["ɵɵngDeclarePipe"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:V,name:"translate",pure:!1}),V.ɵprov=r["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:V}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:V,decorators:[{type:r.Injectable},{type:r.Pipe,args:[{name:"translate",pure:!1}]}],ctorParameters:function(){return[{type:N},{type:r.ChangeDetectorRef}]}});class ${static forRoot(e={}){return{ngModule:$,providers:[e.loader||{provide:D,useClass:C},e.compiler||{provide:A,useClass:F},e.parser||{provide:k,useClass:M},e.missingTranslationHandler||{provide:_,useClass:S},O,{provide:R,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:j,useValue:e.extend},{provide:L,useValue:e.defaultLanguage},N]}}static forChild(e={}){return{ngModule:$,providers:[e.loader||{provide:D,useClass:C},e.compiler||{provide:A,useClass:F},e.parser||{provide:k,useClass:M},e.missingTranslationHandler||{provide:_,useClass:S},{provide:R,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:j,useValue:e.extend},{provide:L,useValue:e.defaultLanguage},N]}}}$.ɵfac=r["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:$,deps:[],target:r["ɵɵFactoryTarget"].NgModule}),$.ɵmod=r["ɵɵngDeclareNgModule"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:$,declarations:[V,U],exports:[V,U]}),$.ɵinj=r["ɵɵngDeclareInjector"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:$}),r["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"13.0.0",ngImport:r,type:$,decorators:[{type:r.NgModule,args:[{declarations:[V,U],exports:[V,U]}]}]})},1316:(e,t,n)=>{"use strict";n.d(t,{KE:()=>l,Mt:()=>p,OU:()=>o,U1:()=>d,UN:()=>i,YR:()=>a,ct:()=>s,gR:()=>u,kH:()=>c,mA:()=>m,o5:()=>h,o7:()=>g});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function o(e,t){return function(n,r){t(n,r,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o}function p(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof d?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,s,(t=e[n](t)).done,t.value)}))}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,s),i.exports}s.m=n,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".bundle.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="chatwidget:",s.l=(n,r,i,o)=>{if(e[n])e[n].push(r);else{var a,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+i){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[r];var p=(t,r)=>{a.onerror=a.onload=null,clearTimeout(d);var s=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(r))),t)return t(r)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/chat",(()=>{var e={590:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,s)=>r=e[t]=[n,s]));n.push(r[2]=i);var o=s.p+s.u(t),a=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,a,c]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);c&&c(s)}for(t&&t(n);l<o.length;l++)i=o[l],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkchatwidget=self.webpackChunkchatwidget||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e;function t(e){if(":"!=e[0])return[null,e];const t=e.indexOf(":",1);if(-1===t)throw new Error(`Unsupported format "${e}" expecting ":namespace:name"`);return[e.slice(1,t),e.slice(t+1)]}function n(e){return"ng-container"===t(e)[1]}function r(e){return"ng-content"===t(e)[1]}function i(e){return null===e?null:t(e)[0]}function o(e,t){return e?`:${e}:${t}`:t}!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(e||(e={}));class a{constructor({closedByChildren:t,implicitNamespacePrefix:n,contentType:r=e.PARSABLE_DATA,closedByParent:s=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,t&&t.length>0&&t.forEach((e=>this.closedByChildren[e]=!0)),this.isVoid=i,this.closedByParent=s||i,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return"object"==typeof this.contentType?(void 0===e?void 0:this.contentType[e])??this.contentType.default:this.contentType}}let c,l;function u(t){return l||(c=new a,l={base:new a({isVoid:!0}),meta:new a({isVoid:!0}),area:new a({isVoid:!0}),embed:new a({isVoid:!0}),link:new a({isVoid:!0}),img:new a({isVoid:!0}),input:new a({isVoid:!0}),param:new a({isVoid:!0}),hr:new a({isVoid:!0}),br:new a({isVoid:!0}),source:new a({isVoid:!0}),track:new a({isVoid:!0}),wbr:new a({isVoid:!0}),p:new a({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new a({closedByChildren:["tbody","tfoot"]}),tbody:new a({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new a({closedByChildren:["tbody"],closedByParent:!0}),tr:new a({closedByChildren:["tr"],closedByParent:!0}),td:new a({closedByChildren:["td","th"],closedByParent:!0}),th:new a({closedByChildren:["td","th"],closedByParent:!0}),col:new a({isVoid:!0}),svg:new a({implicitNamespacePrefix:"svg"}),foreignObject:new a({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new a({implicitNamespacePrefix:"math"}),li:new a({closedByChildren:["li"],closedByParent:!0}),dt:new a({closedByChildren:["dt","dd"]}),dd:new a({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new a({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new a({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new a({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new a({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new a({closedByChildren:["optgroup"],closedByParent:!0}),option:new a({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new a({ignoreFirstLf:!0}),listing:new a({ignoreFirstLf:!0}),style:new a({contentType:e.RAW_TEXT}),script:new a({contentType:e.RAW_TEXT}),title:new a({contentType:{default:e.ESCAPABLE_RAW_TEXT,svg:e.PARSABLE_DATA}}),textarea:new a({contentType:e.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),l[t]??l[t.toLowerCase()]??c}const h=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class p{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){const t=[],n=(e,t)=>{t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)};let r,s=new p,i=s,o=!1;for(h.lastIndex=0;r=h.exec(e);){if(r[1]){if(o)throw new Error("Nesting :not in a selector is not allowed");o=!0,i=new p,s.notSelectors.push(i)}const e=r[2];if(e){const t=r[3];"#"===t?i.addAttribute("id",e.slice(1)):"."===t?i.addClassName(e.slice(1)):i.setElement(e)}const a=r[4];if(a&&i.addAttribute(i.unescapeAttribute(a),r[6]),r[7]&&(o=!1,i=s),r[8]){if(o)throw new Error("Multiple selectors in :not are not supported");n(t,s),s=i=new p}}return n(t,s),t}unescapeAttribute(e){let t="",n=!1;for(let r=0;r<e.length;r++){const s=e.charAt(r);if("\\"!==s){if("$"===s&&!n)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);n=!1,t+=s}else n=!0}return t}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getMatchingElementTemplate(){const e=this.element||"div",t=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let n="";for(let e=0;e<this.attrs.length;e+=2)n+=` ${this.attrs[e]}${""!==this.attrs[e+1]?`="${this.attrs[e+1]}"`:""}`;return u(e).isVoid?`<${e}${t}${n}/>`:`<${e}${t}${n}></${e}>`}getAttrs(){const e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach((t=>e+=`.${t}`)),this.attrs)for(let t=0;t<this.attrs.length;t+=2){const n=this.escapeAttribute(this.attrs[t]),r=this.attrs[t+1];e+=`[${n}${r?"="+r:""}]`}return this.notSelectors.forEach((t=>e+=`:not(${t})`)),e}}var d,g;!function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(d||(d={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(g||(g={}));const m="custom-elements",f="no-errors-schema";var v,y;function b(e){const t=function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return[e.element&&"*"!==e.element?e.element:"",...e.attrs,...t]}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map((e=>function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return e.element?[5,e.element,...e.attrs,...t]:e.attrs.length?[3,...e.attrs,...t]:e.classNames&&e.classNames.length?[9,...e.classNames]:[]}(e))):[];return t.concat(...n)}function w(e){return e?p.parse(e).map(b):[]}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(v||(v={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(y||(y={}));const D=/-+([a-z0-9])/g;function C(e,t,n){const r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function _(e){throw new Error(`Internal Error: ${e}`)}function S(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>=55296&&r<=56319&&e.length>n+1){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(n++,r=(r-55296<<10)+t-56320+65536)}r<=127?t.push(r):r<=2047?t.push(r>>6&31|192,63&r|128):r<=65535?t.push(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&t.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128)}return t}function x(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(x).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;if(!e.toString)return"object";const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const I=(()=>"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)();class E{constructor(e){this.digits=e}static zero(){return new E([0])}static one(){return new E([1])}clone(){return new E(this.digits.slice())}add(e){const t=this.clone();return t.addToSelf(e),t}addToSelf(e){const t=Math.max(this.digits.length,e.digits.length);let n=0;for(let r=0;r<t;r++){let t=n;r<this.digits.length&&(t+=this.digits[r]),r<e.digits.length&&(t+=e.digits[r]),t>=10?(this.digits[r]=t-10,n=1):(this.digits[r]=t,n=0)}n>0&&(this.digits[t]=1)}toString(){let e="";for(let t=this.digits.length-1;t>=0;t--)e+=this.digits[t];return e}}class T{constructor(e){this.powerOfTwos=[e]}getValue(){return this.powerOfTwos[0]}multiplyBy(e){const t=E.zero();return this.multiplyByAndAddTo(e,t),t}multiplyByAndAddTo(e,t){for(let n=0;0!==e;e>>>=1,n++)if(1&e){const e=this.getMultipliedByPowerOfTwo(n);t.addToSelf(e)}}getMultipliedByPowerOfTwo(e){for(let t=this.powerOfTwos.length;t<=e;t++){const e=this.powerOfTwos[t-1];this.powerOfTwos[t]=e.add(e)}return this.powerOfTwos[e]}}function k(e){return function(e){const t=S(e),n=function(e,t){const n=e.length+3>>>2,r=[];for(let s=0;s<n;s++)r[s]=z(e,4*s,t);return r}(t,U.Big),r=8*t.length,s=function(e,t){const n=[];for(let e=0;e<80;e++)n.push(undefined);return n}();let i=1732584193,o=4023233417,a=2562383102,c=271733878,l=3285377520;n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(let e=0;e<n.length;e+=16){const t=i,r=o,u=a,h=c,p=l;for(let t=0;t<80;t++){s[t]=t<16?n[e+t]:H(s[t-3]^s[t-8]^s[t-14]^s[t-16],1);const r=R(t,o,a,c),u=r[0],h=r[1],p=[H(i,5),u,l,h,s[t]].reduce(V);l=c,c=a,a=H(o,30),o=i,i=p}i=V(i,t),o=V(o,r),a=V(a,u),c=V(c,h),l=V(l,p)}return function(e){let t="";for(let n=0;n<e.length;n++){const r=q(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(function(e){return e.reduce(((e,t)=>e.concat(function(e){let t=[];for(let n=0;n<4;n++)t.push(e>>>8*(3-n)&255);return t}(t))),[])}([i,o,a,c,l]))}((t=e.nodes,t.map((e=>e.visit(F,null)))).join("")+`[${e.meaning}]`);var t}function M(e){const t=new O;return L(e.nodes.map((e=>e.visit(t,null))).join(""),e.meaning)}class A{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map((e=>e.visit(this))).join(", ")}]`}visitIcu(e,t){const n=Object.keys(e.cases).map((t=>`${t} {${e.cases[t].visit(this)}}`));return`{${e.expression}, ${e.type}, ${n.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map((e=>e.visit(this))).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}}const F=new A;class O extends A{visitIcu(e,t){let n=Object.keys(e.cases).map((t=>`${t} {${e.cases[t].visit(this)}}`));return`{${e.type}, ${n.join(", ")}}`}}function R(e,t,n,r){return e<20?[t&n|~t&r,1518500249]:e<40?[t^n^r,1859775393]:e<60?[t&n|t&r|n&r,2400959708]:[t^n^r,3395469782]}function P(e){const t=S(e);let n=j(t,0),r=j(t,102072);return 0!=n||0!=r&&1!=r||(n^=319790063,r^=-1801410264),[n,r]}function L(e,t=""){let n=P(e);if(t){const e=P(t);n=function(e,t){const n=e[0],r=e[1],s=t[0],i=$(r,t[1]),o=i[0],a=i[1];return[V(V(n,s),o),a]}(function(e,t){const n=e[0],r=e[1];return[n<<1|r>>>31,r<<1|n>>>31]}(n),e)}return function(e,t){const n=W.toThePowerOf(0).multiplyBy(t);return W.toThePowerOf(4).multiplyByAndAddTo(e,n),n.toString()}(2147483647&n[0],n[1])}function j(e,t){let n,r=2654435769,s=2654435769;const i=e.length;for(n=0;n+12<=i;n+=12){r=V(r,z(e,n,U.Little)),s=V(s,z(e,n+4,U.Little));const i=N(r,s,t=V(t,z(e,n+8,U.Little)));r=i[0],s=i[1],t=i[2]}return r=V(r,z(e,n,U.Little)),s=V(s,z(e,n+4,U.Little)),t=V(t,i),N(r,s,t=V(t,z(e,n+8,U.Little)<<8))[2]}function N(e,t,n){return e=B(e,t),e=B(e,n),e^=n>>>13,t=B(t,n),t=B(t,e),t^=e<<8,n=B(n,e),n=B(n,t),n^=t>>>13,e=B(e,t),e=B(e,n),e^=n>>>12,t=B(t,n),t=B(t,e),t^=e<<16,n=B(n,e),n=B(n,t),n^=t>>>5,e=B(e,t),e=B(e,n),e^=n>>>3,t=B(t,n),t=B(t,e),t^=e<<10,n=B(n,e),n=B(n,t),[e,t,n^=t>>>15]}var U;function V(e,t){return $(e,t)[1]}function $(e,t){const n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function B(e,t){const n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function H(e,t){return e<<t|e>>>32-t}function q(e,t){return t>=e.length?0:e[t]}function z(e,t,n){let r=0;if(n===U.Big)for(let n=0;n<4;n++)r+=q(e,t+n)<<24-8*n;else for(let n=0;n<4;n++)r+=q(e,t+n)<<8*n;return r}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(U||(U={}));const W=new class{constructor(e){this.base=e,this.exponents=[new T(E.one())]}toThePowerOf(e){for(let t=this.exponents.length;t<=e;t++){const e=this.exponents[t-1].multiplyBy(this.base);this.exponents[t]=new T(e)}return this.exponents[e]}}(256);var K,G;!function(e){e[e.None=0]="None",e[e.Const=1]="Const"}(K||(K={}));class Z{constructor(e=K.None){this.modifiers=e}hasModifier(e){return 0!=(this.modifiers&e)}}!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}(G||(G={}));class Y extends Z{constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}}class Q extends Z{constructor(e,t,n=null){super(t),this.value=e,this.typeParams=n}visitType(e,t){return e.visitExpressionType(this,t)}}const J=new Y(G.Dynamic),X=new Y(G.Inferred),ee=new Y(G.Bool),te=(new Y(G.Int),new Y(G.Number)),ne=new Y(G.String),re=(new Y(G.Function),new Y(G.None));var se,ie;function oe(e,t,n){const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(!n(e[s],t[s]))return!1;return!0}function ae(e,t){return oe(e,t,((e,t)=>e.isEquivalent(t)))}!function(e){e[e.Minus=0]="Minus",e[e.Plus=1]="Plus"}(se||(se={})),function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals",e[e.NullishCoalesce=16]="NullishCoalesce"}(ie||(ie={}));class ce{constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new Le(this,e,null,t)}key(e,t,n){return new je(this,e,t,n)}callFn(e,t,n){return new me(this,e,null,t,n)}instantiate(e,t,n){return new ve(this,e,t,n)}conditional(e,t=null,n){return new Me(this,e,t,null,n)}equals(e,t){return new Pe(ie.Equals,this,e,null,t)}notEquals(e,t){return new Pe(ie.NotEquals,this,e,null,t)}identical(e,t){return new Pe(ie.Identical,this,e,null,t)}notIdentical(e,t){return new Pe(ie.NotIdentical,this,e,null,t)}minus(e,t){return new Pe(ie.Minus,this,e,null,t)}plus(e,t){return new Pe(ie.Plus,this,e,null,t)}divide(e,t){return new Pe(ie.Divide,this,e,null,t)}multiply(e,t){return new Pe(ie.Multiply,this,e,null,t)}modulo(e,t){return new Pe(ie.Modulo,this,e,null,t)}and(e,t){return new Pe(ie.And,this,e,null,t)}bitwiseAnd(e,t,n=!0){return new Pe(ie.BitwiseAnd,this,e,null,t,n)}or(e,t){return new Pe(ie.Or,this,e,null,t)}lower(e,t){return new Pe(ie.Lower,this,e,null,t)}lowerEquals(e,t){return new Pe(ie.LowerEquals,this,e,null,t)}bigger(e,t){return new Pe(ie.Bigger,this,e,null,t)}biggerEquals(e,t){return new Pe(ie.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(Be,e)}nullishCoalesce(e,t){return new Pe(ie.NullishCoalesce,this,e,null,t)}toStmt(){return new Ze(this,null)}}class le extends ce{constructor(e,t,n){super(t,n),this.name=e}isEquivalent(e){return e instanceof le&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}set(e){return new pe(this.name,e,null,this.sourceSpan)}}class ue extends ce{constructor(e,t,n){super(t,n),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof ue&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class he extends ce{constructor(e,t,n){super(t,n),this.node=e}isEquivalent(e){return e instanceof he&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}}class pe extends ce{constructor(e,t,n,r){super(n||t.type,r),this.name=e,this.value=t}isEquivalent(e){return e instanceof pe&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}toDeclStmt(e,t){return new Ke(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(X,He.Final)}}class de extends ce{constructor(e,t,n,r,s){super(r||n.type,s),this.receiver=e,this.index=t,this.value=n}isEquivalent(e){return e instanceof de&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}}class ge extends ce{constructor(e,t,n,r,s){super(r||n.type,s),this.receiver=e,this.name=t,this.value=n}isEquivalent(e){return e instanceof ge&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}}class me extends ce{constructor(e,t,n,r,s=!1){super(n,r),this.fn=e,this.args=t,this.pure=s}isEquivalent(e){return e instanceof me&&this.fn.isEquivalent(e.fn)&&ae(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}}class fe extends ce{constructor(e,t,n,r){super(n,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof fe&&this.tag.isEquivalent(e.tag)&&oe(this.template.elements,e.template.elements,((e,t)=>e.text===t.text))&&ae(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateExpr(this,t)}}class ve extends ce{constructor(e,t,n,r){super(n,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof ve&&this.classExpr.isEquivalent(e.classExpr)&&ae(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}}class ye extends ce{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof ye&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}}class be{constructor(e,t){this.elements=e,this.expressions=t}}class we{constructor(e,t,n){this.text=e,this.sourceSpan=t,this.rawText=n??t?.toString()??Ee(Se(e))}}class De{constructor(e,t){this.text=e,this.sourceSpan=t}}class Ce{constructor(e,t,n){this.text=e,this.sourceSpan=t,this.associatedMessage=n}}class _e extends ce{constructor(e,t,n,r,s){super(ne,s),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=n,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}|${e}`),this.metaBlock.customId&&(e=`${e}@@${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach((t=>{e=`${e}␟${t}`})),Te(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){const t=this.placeHolderNames[e-1],n=this.messageParts[e];let r=t.text;return 0===t.associatedMessage?.legacyIds.length&&(r+=`@@${L(t.associatedMessage.messageString,t.associatedMessage.meaning)}`),Te(r,n.text,this.getMessagePartSourceSpan(e))}}const Se=e=>e.replace(/\\/g,"\\\\"),xe=e=>e.replace(/^:/,"\\:"),Ie=e=>e.replace(/:/g,"\\:"),Ee=e=>e.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function Te(e,t,n){return""===e?{cooked:t,raw:Ee(xe(Se(t))),range:n}:{cooked:`:${e}:${t}`,raw:Ee(`:${Ie(Se(e))}:${Se(t)}`),range:n}}class ke extends ce{constructor(e,t,n=null,r){super(t,r),this.value=e,this.typeParams=n}isEquivalent(e){return e instanceof ke&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}}class Me extends ce{constructor(e,t,n=null,r,s){super(r||t.type,s),this.condition=e,this.falseCase=n,this.trueCase=t}isEquivalent(e){return e instanceof Me&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&(t=this.falseCase,n=e.falseCase,null==t||null==n?t==n:t.isEquivalent(n));var t,n}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}}class Ae extends ce{constructor(e,t){super(ee,t),this.condition=e}isEquivalent(e){return e instanceof Ae&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}}class Fe{constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}}class Oe extends ce{constructor(e,t,n,r,s){super(n,r),this.params=e,this.statements=t,this.name=s}isEquivalent(e){return e instanceof Oe&&ae(this.params,e.params)&&ae(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new Ge(e,this.params,this.statements,this.type,t,this.sourceSpan)}}class Re extends ce{constructor(e,t,n,r,s=!0){super(n||te,r),this.operator=e,this.expr=t,this.parens=s}isEquivalent(e){return e instanceof Re&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}}class Pe extends ce{constructor(e,t,n,r,s,i=!0){super(r||t.type,s),this.operator=e,this.rhs=n,this.parens=i,this.lhs=t}isEquivalent(e){return e instanceof Pe&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}}class Le extends ce{constructor(e,t,n,r){super(n,r),this.receiver=e,this.name=t}isEquivalent(e){return e instanceof Le&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new ge(this.receiver,this.name,e,null,this.sourceSpan)}}class je extends ce{constructor(e,t,n,r){super(n,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof je&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new de(this.receiver,this.index,e,null,this.sourceSpan)}}class Ne extends ce{constructor(e,t,n){super(t,n),this.entries=e}isConstant(){return this.entries.every((e=>e.isConstant()))}isEquivalent(e){return e instanceof Ne&&ae(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}}class Ue{constructor(e,t,n){this.key=e,this.value=t,this.quoted=n}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class Ve extends ce{constructor(e,t,n){super(t,n),this.entries=e,this.valueType=null,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof Ve&&ae(this.entries,e.entries)}isConstant(){return this.entries.every((e=>e.value.isConstant()))}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}}const $e=new ye(null,null,null),Be=new ye(null,X,null);var He;!function(e){e[e.None=0]="None",e[e.Final=1]="Final",e[e.Private=2]="Private",e[e.Exported=4]="Exported",e[e.Static=8]="Static"}(He||(He={}));class qe{constructor(e,t,n){this.text=e,this.multiline=t,this.trailingNewline=n}toString(){return this.multiline?` ${this.text} `:this.text}}class ze extends qe{constructor(e){super("",!0,!0),this.tags=e}toString(){return function(e){if(0===e.length)return"";if(1===e.length&&e[0].tagName&&!e[0].text)return`*${lt(e[0])} `;let t="*\n";for(const n of e)t+=" *",t+=lt(n).replace(/\n/g,"\n * "),t+="\n";return t+=" ",t}(this.tags)}}class We{constructor(e=He.None,t=null,n){this.modifiers=e,this.sourceSpan=t,this.leadingComments=n}hasModifier(e){return 0!=(this.modifiers&e)}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}}class Ke extends We{constructor(e,t,n,r,s,i){super(r,s,i),this.name=e,this.value=t,this.type=n||t&&t.type||null}isEquivalent(e){return e instanceof Ke&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}}class Ge extends We{constructor(e,t,n,r,s,i,o){super(s,i,o),this.name=e,this.params=t,this.statements=n,this.type=r||null}isEquivalent(e){return e instanceof Ge&&ae(this.params,e.params)&&ae(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}}class Ze extends We{constructor(e,t,n){super(He.None,t,n),this.expr=e}isEquivalent(e){return e instanceof Ze&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}}class Ye extends We{constructor(e,t=null,n){super(He.None,t,n),this.value=e}isEquivalent(e){return e instanceof Ye&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}}class Qe extends We{constructor(e,t,n=[],r,s){super(He.None,r,s),this.condition=e,this.trueCase=t,this.falseCase=n}isEquivalent(e){return e instanceof Qe&&this.condition.isEquivalent(e.condition)&&ae(this.trueCase,e.trueCase)&&ae(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}}function Je(e,t,n){return new le(e,t,n)}function Xe(e,t=null,n){return new ke(e,null,t,n)}function et(e,t,n){return new Q(e,t,n)}function tt(e){return new ue(e)}function nt(e,t,n){return new Ne(e,t,n)}function rt(e,t=null){return new Ve(e.map((e=>new Ue(e.key,e.value,e.quoted))),t,null)}function st(e,t,n,r,s){return new Oe(e,t,n,r,s)}function it(e,t,n,r,s){return new Qe(e,t,n,r,s)}function ot(e,t,n,r){return new fe(e,t,n,r)}function at(e,t,n){return new ye(e,t,n)}function ct(e){return e instanceof ye&&null===e.value}function lt(e){let t="";if(e.tagName&&(t+=` @${e.tagName}`),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}const ut=Je("<unknown>"),ht={};class pt extends ce{constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===ht?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof pt&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(e){this.resolved=e,this.shared=!0}}class dt{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.nextNameIndex=0}getConstLiteral(e,t){if(e instanceof ye&&!vt(e)||e instanceof pt)return e;const n=this.keyOf(e);let r=this.literals.get(n),s=!1;if(r||(r=new pt(e),this.literals.set(n,r),s=!0),!s&&!r.shared||s&&t){const t=this.freshName();let n,s;this.isClosureCompilerEnabled&&vt(e)?(n=Je(t).set(new Oe([],[new Ye(e)])),s=Je(t).callFn([])):(n=Je(t).set(e),s=Je(t)),this.statements.push(n.toDeclStmt(X,He.Final)),r.fixup(s)}return r}getLiteralFactory(e){if(e instanceof Ne){const t=e.entries.map((e=>e.isConstant()?e:ut)),n=this.keyOf(nt(t));return this._getLiteralFactory(n,e.entries,(e=>nt(e)))}{const t=rt(e.entries.map((e=>({key:e.key,value:e.value.isConstant()?e.value:ut,quoted:e.quoted})))),n=this.keyOf(t);return this._getLiteralFactory(n,e.entries.map((e=>e.value)),(t=>rt(t.map(((t,n)=>({key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}))))))}}_getLiteralFactory(e,t,n){let r=this.literalFactories.get(e);const s=t.filter((e=>!e.isConstant()));if(!r){const s=t.map(((e,t)=>e.isConstant()?this.getConstLiteral(e,!0):Je(`a${t}`))),i=st(s.filter(ft).map((e=>new Fe(e.name,J))),[new Ye(n(s))],X),o=this.freshName();this.statements.push(Je(o).set(i).toDeclStmt(X,He.Final)),r=Je(o),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:s}}uniqueName(e){return`${e}${this.nextNameIndex++}`}freshName(){return this.uniqueName("_c")}keyOf(e){return e.visitExpression(new gt,ht)}}class gt{constructor(){this.visitWrappedNodeExpr=mt,this.visitWriteVarExpr=mt,this.visitWriteKeyExpr=mt,this.visitWritePropExpr=mt,this.visitInvokeFunctionExpr=mt,this.visitTaggedTemplateExpr=mt,this.visitInstantiateExpr=mt,this.visitConditionalExpr=mt,this.visitNotExpr=mt,this.visitAssertNotNullExpr=mt,this.visitCastExpr=mt,this.visitFunctionExpr=mt,this.visitUnaryOperatorExpr=mt,this.visitBinaryOperatorExpr=mt,this.visitReadPropExpr=mt,this.visitReadKeyExpr=mt,this.visitCommaExpr=mt,this.visitLocalizedString=mt}visitLiteralExpr(e){return`${"string"==typeof e.value?'"'+e.value+'"':e.value}`}visitLiteralArrayExpr(e,t){return`[${e.entries.map((e=>e.visitExpression(this,t))).join(",")}]`}visitLiteralMapExpr(e,t){return`{${e.entries.map((e=>`${(e=>{const t=e.quoted?'"':"";return`${t}${e.key}${t}`})(e)}:${e.value.visitExpression(this,t)}`)).join(",")}`}visitExternalExpr(e){return e.value.moduleName?`EX:${e.value.moduleName}:${e.value.name}`:`EX:${e.value.runtime.name}`}visitReadVarExpr(e){return`VAR:${e.name}`}visitTypeofExpr(e,t){return`TYPEOF:${e.expr.visitExpression(this,t)}`}}function mt(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function ft(e){return e instanceof le}function vt(e){return e instanceof ye&&"string"==typeof e.value&&e.value.length>=50}const yt="@angular/core";class bt{}bt.NEW_METHOD="factory",bt.TRANSFORM_METHOD="transform",bt.PATCH_DEPS="patchedDeps",bt.core={name:null,moduleName:yt},bt.namespaceHTML={name:"ɵɵnamespaceHTML",moduleName:yt},bt.namespaceMathML={name:"ɵɵnamespaceMathML",moduleName:yt},bt.namespaceSVG={name:"ɵɵnamespaceSVG",moduleName:yt},bt.element={name:"ɵɵelement",moduleName:yt},bt.elementStart={name:"ɵɵelementStart",moduleName:yt},bt.elementEnd={name:"ɵɵelementEnd",moduleName:yt},bt.advance={name:"ɵɵadvance",moduleName:yt},bt.syntheticHostProperty={name:"ɵɵsyntheticHostProperty",moduleName:yt},bt.syntheticHostListener={name:"ɵɵsyntheticHostListener",moduleName:yt},bt.attribute={name:"ɵɵattribute",moduleName:yt},bt.attributeInterpolate1={name:"ɵɵattributeInterpolate1",moduleName:yt},bt.attributeInterpolate2={name:"ɵɵattributeInterpolate2",moduleName:yt},bt.attributeInterpolate3={name:"ɵɵattributeInterpolate3",moduleName:yt},bt.attributeInterpolate4={name:"ɵɵattributeInterpolate4",moduleName:yt},bt.attributeInterpolate5={name:"ɵɵattributeInterpolate5",moduleName:yt},bt.attributeInterpolate6={name:"ɵɵattributeInterpolate6",moduleName:yt},bt.attributeInterpolate7={name:"ɵɵattributeInterpolate7",moduleName:yt},bt.attributeInterpolate8={name:"ɵɵattributeInterpolate8",moduleName:yt},bt.attributeInterpolateV={name:"ɵɵattributeInterpolateV",moduleName:yt},bt.classProp={name:"ɵɵclassProp",moduleName:yt},bt.elementContainerStart={name:"ɵɵelementContainerStart",moduleName:yt},bt.elementContainerEnd={name:"ɵɵelementContainerEnd",moduleName:yt},bt.elementContainer={name:"ɵɵelementContainer",moduleName:yt},bt.styleMap={name:"ɵɵstyleMap",moduleName:yt},bt.styleMapInterpolate1={name:"ɵɵstyleMapInterpolate1",moduleName:yt},bt.styleMapInterpolate2={name:"ɵɵstyleMapInterpolate2",moduleName:yt},bt.styleMapInterpolate3={name:"ɵɵstyleMapInterpolate3",moduleName:yt},bt.styleMapInterpolate4={name:"ɵɵstyleMapInterpolate4",moduleName:yt},bt.styleMapInterpolate5={name:"ɵɵstyleMapInterpolate5",moduleName:yt},bt.styleMapInterpolate6={name:"ɵɵstyleMapInterpolate6",moduleName:yt},bt.styleMapInterpolate7={name:"ɵɵstyleMapInterpolate7",moduleName:yt},bt.styleMapInterpolate8={name:"ɵɵstyleMapInterpolate8",moduleName:yt},bt.styleMapInterpolateV={name:"ɵɵstyleMapInterpolateV",moduleName:yt},bt.classMap={name:"ɵɵclassMap",moduleName:yt},bt.classMapInterpolate1={name:"ɵɵclassMapInterpolate1",moduleName:yt},bt.classMapInterpolate2={name:"ɵɵclassMapInterpolate2",moduleName:yt},bt.classMapInterpolate3={name:"ɵɵclassMapInterpolate3",moduleName:yt},bt.classMapInterpolate4={name:"ɵɵclassMapInterpolate4",moduleName:yt},bt.classMapInterpolate5={name:"ɵɵclassMapInterpolate5",moduleName:yt},bt.classMapInterpolate6={name:"ɵɵclassMapInterpolate6",moduleName:yt},bt.classMapInterpolate7={name:"ɵɵclassMapInterpolate7",moduleName:yt},bt.classMapInterpolate8={name:"ɵɵclassMapInterpolate8",moduleName:yt},bt.classMapInterpolateV={name:"ɵɵclassMapInterpolateV",moduleName:yt},bt.styleProp={name:"ɵɵstyleProp",moduleName:yt},bt.stylePropInterpolate1={name:"ɵɵstylePropInterpolate1",moduleName:yt},bt.stylePropInterpolate2={name:"ɵɵstylePropInterpolate2",moduleName:yt},bt.stylePropInterpolate3={name:"ɵɵstylePropInterpolate3",moduleName:yt},bt.stylePropInterpolate4={name:"ɵɵstylePropInterpolate4",moduleName:yt},bt.stylePropInterpolate5={name:"ɵɵstylePropInterpolate5",moduleName:yt},bt.stylePropInterpolate6={name:"ɵɵstylePropInterpolate6",moduleName:yt},bt.stylePropInterpolate7={name:"ɵɵstylePropInterpolate7",moduleName:yt},bt.stylePropInterpolate8={name:"ɵɵstylePropInterpolate8",moduleName:yt},bt.stylePropInterpolateV={name:"ɵɵstylePropInterpolateV",moduleName:yt},bt.nextContext={name:"ɵɵnextContext",moduleName:yt},bt.resetView={name:"ɵɵresetView",moduleName:yt},bt.templateCreate={name:"ɵɵtemplate",moduleName:yt},bt.text={name:"ɵɵtext",moduleName:yt},bt.enableBindings={name:"ɵɵenableBindings",moduleName:yt},bt.disableBindings={name:"ɵɵdisableBindings",moduleName:yt},bt.getCurrentView={name:"ɵɵgetCurrentView",moduleName:yt},bt.textInterpolate={name:"ɵɵtextInterpolate",moduleName:yt},bt.textInterpolate1={name:"ɵɵtextInterpolate1",moduleName:yt},bt.textInterpolate2={name:"ɵɵtextInterpolate2",moduleName:yt},bt.textInterpolate3={name:"ɵɵtextInterpolate3",moduleName:yt},bt.textInterpolate4={name:"ɵɵtextInterpolate4",moduleName:yt},bt.textInterpolate5={name:"ɵɵtextInterpolate5",moduleName:yt},bt.textInterpolate6={name:"ɵɵtextInterpolate6",moduleName:yt},bt.textInterpolate7={name:"ɵɵtextInterpolate7",moduleName:yt},bt.textInterpolate8={name:"ɵɵtextInterpolate8",moduleName:yt},bt.textInterpolateV={name:"ɵɵtextInterpolateV",moduleName:yt},bt.restoreView={name:"ɵɵrestoreView",moduleName:yt},bt.pureFunction0={name:"ɵɵpureFunction0",moduleName:yt},bt.pureFunction1={name:"ɵɵpureFunction1",moduleName:yt},bt.pureFunction2={name:"ɵɵpureFunction2",moduleName:yt},bt.pureFunction3={name:"ɵɵpureFunction3",moduleName:yt},bt.pureFunction4={name:"ɵɵpureFunction4",moduleName:yt},bt.pureFunction5={name:"ɵɵpureFunction5",moduleName:yt},bt.pureFunction6={name:"ɵɵpureFunction6",moduleName:yt},bt.pureFunction7={name:"ɵɵpureFunction7",moduleName:yt},bt.pureFunction8={name:"ɵɵpureFunction8",moduleName:yt},bt.pureFunctionV={name:"ɵɵpureFunctionV",moduleName:yt},bt.pipeBind1={name:"ɵɵpipeBind1",moduleName:yt},bt.pipeBind2={name:"ɵɵpipeBind2",moduleName:yt},bt.pipeBind3={name:"ɵɵpipeBind3",moduleName:yt},bt.pipeBind4={name:"ɵɵpipeBind4",moduleName:yt},bt.pipeBindV={name:"ɵɵpipeBindV",moduleName:yt},bt.hostProperty={name:"ɵɵhostProperty",moduleName:yt},bt.property={name:"ɵɵproperty",moduleName:yt},bt.propertyInterpolate={name:"ɵɵpropertyInterpolate",moduleName:yt},bt.propertyInterpolate1={name:"ɵɵpropertyInterpolate1",moduleName:yt},bt.propertyInterpolate2={name:"ɵɵpropertyInterpolate2",moduleName:yt},bt.propertyInterpolate3={name:"ɵɵpropertyInterpolate3",moduleName:yt},bt.propertyInterpolate4={name:"ɵɵpropertyInterpolate4",moduleName:yt},bt.propertyInterpolate5={name:"ɵɵpropertyInterpolate5",moduleName:yt},bt.propertyInterpolate6={name:"ɵɵpropertyInterpolate6",moduleName:yt},bt.propertyInterpolate7={name:"ɵɵpropertyInterpolate7",moduleName:yt},bt.propertyInterpolate8={name:"ɵɵpropertyInterpolate8",moduleName:yt},bt.propertyInterpolateV={name:"ɵɵpropertyInterpolateV",moduleName:yt},bt.i18n={name:"ɵɵi18n",moduleName:yt},bt.i18nAttributes={name:"ɵɵi18nAttributes",moduleName:yt},bt.i18nExp={name:"ɵɵi18nExp",moduleName:yt},bt.i18nStart={name:"ɵɵi18nStart",moduleName:yt},bt.i18nEnd={name:"ɵɵi18nEnd",moduleName:yt},bt.i18nApply={name:"ɵɵi18nApply",moduleName:yt},bt.i18nPostprocess={name:"ɵɵi18nPostprocess",moduleName:yt},bt.pipe={name:"ɵɵpipe",moduleName:yt},bt.projection={name:"ɵɵprojection",moduleName:yt},bt.projectionDef={name:"ɵɵprojectionDef",moduleName:yt},bt.reference={name:"ɵɵreference",moduleName:yt},bt.inject={name:"ɵɵinject",moduleName:yt},bt.injectAttribute={name:"ɵɵinjectAttribute",moduleName:yt},bt.directiveInject={name:"ɵɵdirectiveInject",moduleName:yt},bt.invalidFactory={name:"ɵɵinvalidFactory",moduleName:yt},bt.invalidFactoryDep={name:"ɵɵinvalidFactoryDep",moduleName:yt},bt.templateRefExtractor={name:"ɵɵtemplateRefExtractor",moduleName:yt},bt.forwardRef={name:"forwardRef",moduleName:yt},bt.resolveForwardRef={name:"resolveForwardRef",moduleName:yt},bt.ɵɵdefineInjectable={name:"ɵɵdefineInjectable",moduleName:yt},bt.declareInjectable={name:"ɵɵngDeclareInjectable",moduleName:yt},bt.InjectableDeclaration={name:"ɵɵInjectableDeclaration",moduleName:yt},bt.resolveWindow={name:"ɵɵresolveWindow",moduleName:yt},bt.resolveDocument={name:"ɵɵresolveDocument",moduleName:yt},bt.resolveBody={name:"ɵɵresolveBody",moduleName:yt},bt.defineComponent={name:"ɵɵdefineComponent",moduleName:yt},bt.declareComponent={name:"ɵɵngDeclareComponent",moduleName:yt},bt.setComponentScope={name:"ɵɵsetComponentScope",moduleName:yt},bt.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:yt},bt.ViewEncapsulation={name:"ViewEncapsulation",moduleName:yt},bt.ComponentDeclaration={name:"ɵɵComponentDeclaration",moduleName:yt},bt.FactoryDeclaration={name:"ɵɵFactoryDeclaration",moduleName:yt},bt.declareFactory={name:"ɵɵngDeclareFactory",moduleName:yt},bt.FactoryTarget={name:"ɵɵFactoryTarget",moduleName:yt},bt.defineDirective={name:"ɵɵdefineDirective",moduleName:yt},bt.declareDirective={name:"ɵɵngDeclareDirective",moduleName:yt},bt.DirectiveDeclaration={name:"ɵɵDirectiveDeclaration",moduleName:yt},bt.InjectorDef={name:"ɵɵInjectorDef",moduleName:yt},bt.InjectorDeclaration={name:"ɵɵInjectorDeclaration",moduleName:yt},bt.defineInjector={name:"ɵɵdefineInjector",moduleName:yt},bt.declareInjector={name:"ɵɵngDeclareInjector",moduleName:yt},bt.NgModuleDeclaration={name:"ɵɵNgModuleDeclaration",moduleName:yt},bt.ModuleWithProviders={name:"ModuleWithProviders",moduleName:yt},bt.defineNgModule={name:"ɵɵdefineNgModule",moduleName:yt},bt.declareNgModule={name:"ɵɵngDeclareNgModule",moduleName:yt},bt.setNgModuleScope={name:"ɵɵsetNgModuleScope",moduleName:yt},bt.registerNgModuleType={name:"ɵɵregisterNgModuleType",moduleName:yt},bt.PipeDeclaration={name:"ɵɵPipeDeclaration",moduleName:yt},bt.definePipe={name:"ɵɵdefinePipe",moduleName:yt},bt.declarePipe={name:"ɵɵngDeclarePipe",moduleName:yt},bt.declareClassMetadata={name:"ɵɵngDeclareClassMetadata",moduleName:yt},bt.setClassMetadata={name:"ɵsetClassMetadata",moduleName:yt},bt.queryRefresh={name:"ɵɵqueryRefresh",moduleName:yt},bt.viewQuery={name:"ɵɵviewQuery",moduleName:yt},bt.loadQuery={name:"ɵɵloadQuery",moduleName:yt},bt.contentQuery={name:"ɵɵcontentQuery",moduleName:yt},bt.NgOnChangesFeature={name:"ɵɵNgOnChangesFeature",moduleName:yt},bt.InheritDefinitionFeature={name:"ɵɵInheritDefinitionFeature",moduleName:yt},bt.CopyDefinitionFeature={name:"ɵɵCopyDefinitionFeature",moduleName:yt},bt.StandaloneFeature={name:"ɵɵStandaloneFeature",moduleName:yt},bt.ProvidersFeature={name:"ɵɵProvidersFeature",moduleName:yt},bt.HostDirectivesFeature={name:"ɵɵHostDirectivesFeature",moduleName:yt},bt.listener={name:"ɵɵlistener",moduleName:yt},bt.getInheritedFactory={name:"ɵɵgetInheritedFactory",moduleName:yt},bt.sanitizeHtml={name:"ɵɵsanitizeHtml",moduleName:yt},bt.sanitizeStyle={name:"ɵɵsanitizeStyle",moduleName:yt},bt.sanitizeResourceUrl={name:"ɵɵsanitizeResourceUrl",moduleName:yt},bt.sanitizeScript={name:"ɵɵsanitizeScript",moduleName:yt},bt.sanitizeUrl={name:"ɵɵsanitizeUrl",moduleName:yt},bt.sanitizeUrlOrResourceUrl={name:"ɵɵsanitizeUrlOrResourceUrl",moduleName:yt},bt.trustConstantHtml={name:"ɵɵtrustConstantHtml",moduleName:yt},bt.trustConstantResourceUrl={name:"ɵɵtrustConstantResourceUrl",moduleName:yt},bt.validateIframeAttribute={name:"ɵɵvalidateIframeAttribute",moduleName:yt};class wt{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const e=new Map,t=[],n=[];Array.from(this.sourcesContent.keys()).forEach(((r,s)=>{e.set(r,s),t.push(r),n.push(this.sourcesContent.get(r)||null)}));let r="",s=0,i=0,o=0,a=0;return this.lines.forEach((t=>{s=0,r+=t.map((t=>{let n=Dt(t.col0-s);return s=t.col0,null!=t.sourceUrl&&(n+=Dt(e.get(t.sourceUrl)-i),i=e.get(t.sourceUrl),n+=Dt(t.sourceLine0-o),o=t.sourceLine0,n+=Dt(t.sourceCol0-a),a=t.sourceCol0),n})).join(","),r+=";"})),r=r.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:t,sourcesContent:n,mappings:r}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){let t="";const n=S(e);for(let e=0;e<n.length;){const r=n[e++],s=e<n.length?n[e++]:null,i=e<n.length?n[e++]:null;t+=_t(r>>2),t+=_t((3&r)<<4|(null===s?0:s>>4)),t+=null===s?"=":_t((15&s)<<2|(null===i?0:i>>6)),t+=null===s||null===i?"=":_t(63&i)}return t}(JSON.stringify(this,null,0)):""}}function Dt(e){e=e<0?1+(-e<<1):e<<1;let t="";do{let n=31&e;(e>>=5)>0&&(n|=32),t+=_t(n)}while(e>0);return t}const Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function _t(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return Ct[e]}const St=/'|\\|\n|\r|\$/g,xt=/^[$A-Z_][0-9A-Z_$]*$/i;class It{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class Et{constructor(e){this._indent=e,this._lines=[new It(e)]}static createRoot(){return new Et(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return 2*this._currentLine.indent+this._currentLine.partsLength}print(e,t,n=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new It(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map((e=>e.parts.length>0?Mt(e.indent)+e.parts.join(""):"")).join("\n")}toSourceMapGenerator(e,t=0){const n=new wt(e);let r=!1;const s=()=>{r||(n.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let e=0;e<t;e++)n.addLine(),s();return this.sourceLines.forEach(((e,t)=>{n.addLine();const i=e.srcSpans,o=e.parts;let a=2*e.indent,c=0;for(;c<i.length&&!i[c];)a+=o[c].length,c++;for(c<i.length&&0===t&&0===a?r=!0:s();c<i.length;){const e=i[c],t=e.start.file,r=e.start.line,s=e.start.col;for(n.addSource(t.url,t.content).addMapping(a,t.url,r,s),a+=o[c].length,c++;c<i.length&&(e===i[c]||!i[c]);)a+=o[c].length,c++}})),n}spanOf(e,t){const n=this._lines[e];if(n){let e=t-Mt(n.indent).length;for(let t=0;t<n.parts.length;t++){const r=n.parts[t];if(r.length>e)return n.srcSpans[t];e-=r.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class Tt{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(void 0!==e.leadingComments)for(const n of e.leadingComments)n instanceof ze?t.print(e,`/*${n.toString()}*/`,n.trailingNewline):n.multiline?t.print(e,`/* ${n.text} */`,n.trailingNewline):n.text.split("\n").forEach((n=>{t.println(e,`// ${n}`)}))}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");const n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitWriteVarExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,`${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWriteKeyExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWritePropExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateExpr(e,t){e.tag.visitExpression(this,t),t.print(e,"`"+e.template.elements[0].rawText);for(let n=1;n<e.template.elements.length;n++)t.print(e,"${"),e.template.expressions[n-1].visitExpression(this,t),t.print(e,`}${e.template.elements[n].rawText}`);return t.print(e,"`"),null}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){return t.print(e,e.name),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){const n=e.value;return"string"==typeof n?t.print(e,kt(n,this._escapeDollarInStrings)):t.print(e,`${n}`),null}visitLocalizedString(e,t){const n=e.serializeI18nHead();t.print(e,"$localize `"+n.raw);for(let n=1;n<e.messageParts.length;n++)t.print(e,"${"),e.expressions[n-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(n).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let n;switch(e.operator){case se.Plus:n="+";break;case se.Minus:n="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),t.print(e,n),e.expr.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let n;switch(e.operator){case ie.Equals:n="==";break;case ie.Identical:n="===";break;case ie.NotEquals:n="!=";break;case ie.NotIdentical:n="!==";break;case ie.And:n="&&";break;case ie.BitwiseAnd:n="&";break;case ie.Or:n="||";break;case ie.Plus:n="+";break;case ie.Minus:n="-";break;case ie.Divide:n="/";break;case ie.Multiply:n="*";break;case ie.Modulo:n="%";break;case ie.Lower:n="<";break;case ie.LowerEquals:n="<=";break;case ie.Bigger:n=">";break;case ie.BiggerEquals:n=">=";break;case ie.NullishCoalesce:n="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${n} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects((n=>{t.print(e,`${kt(n.key,this._escapeDollarInStrings,n.quoted)}:`),n.value.visitExpression(this,t)}),e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,n){this.visitAllObjects((e=>e.visitExpression(this,t)),e,t,n)}visitAllObjects(e,t,n,r){let s=!1;for(let i=0;i<t.length;i++)i>0&&(n.lineLength()>80?(n.print(null,r,!0),s||(n.incIndent(),n.incIndent(),s=!0)):n.print(null,r,!1)),e(t[i]);s&&(n.decIndent(),n.decIndent())}visitAllStatements(e,t){e.forEach((e=>e.visitStatement(this,t)))}}function kt(e,t,n=!0){if(null==e)return null;const r=e.replace(St,((...e)=>"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":`\\${e[0]}`));return n||!xt.test(r)?`'${r}'`:r}function Mt(e){let t="";for(let n=0;n<e;n++)t+="  ";return t}function At(e,t){if(0===t)return et(e);const n=[];for(let e=0;e<t;e++)n.push(J);return et(e,void 0,n)}const Ft="@";function Ot(e){return`${Ft}${e}`}function Rt(e,t){const n=kt(t,!1,!1);return n!==t?`${e}[${n}]`:`${e}.${t}`}function Pt(e,t){return`animation_${e}_${t}`}function Lt(e){const t=new he(e);return{value:t,type:t}}function jt(e,t){const n=nt(e.map((e=>e.value)));return t?st([],[new Ye(n)]):n}function Nt(e,t){return{expression:e,forwardRef:t}}function Ut({expression:e,forwardRef:t}){switch(t){case 0:case 1:return e;case 2:return n=e,Xe(bt.forwardRef).callFn([st([],[new Ye(n)])])}var n}var Vt,$t;function Bt(e){const t=Je("t");let n=null;const r=zt(e)?t:new Pe(ie.Or,t,e.internalType);let s=null;null!==e.deps?"invalid"!==e.deps&&(s=new ve(r,qt(e.deps,e.target))):(n=Je(`ɵ${e.name}_BaseFactory`),s=n.callFn([r]));const i=[];let o=null;function a(e){const n=Je("r");i.push(n.set($e).toDeclStmt());const r=null!==s?n.set(s).toStmt():Xe(bt.invalidFactory).callFn([]).toStmt();return i.push(it(t,[r],[n.set(e).toStmt()])),n}if(zt(e)){const t=qt(e.delegateDeps,e.target);o=a(new(e.delegateType===Vt.Class?ve:me)(e.delegate,t))}else o=function(e){return void 0!==e.expression}(e)?a(e.expression):s;if(null===o)i.push(Xe(bt.invalidFactory).callFn([]).toStmt());else if(null!==n){const t=Xe(bt.getInheritedFactory).callFn([e.internalType]),s=new Pe(ie.Or,n,n.set(t));i.push(new Ye(s.callFn([r])))}else i.push(new Ye(o));let c=st([new Fe("t",J)],i,X,void 0,`${e.name}_Factory`);return null!==n&&(c=st([],[new Ke(n.name),new Ye(c)]).callFn([],void 0,!0)),{expression:c,statements:[],type:Ht(e)}}function Ht(e){const t=null!==e.deps&&"invalid"!==e.deps?function(e){let t=!1;const n=e.map((e=>{const n=function(e){const t=[];return null!==e.attributeNameType&&t.push({key:"attribute",value:e.attributeNameType,quoted:!1}),e.optional&&t.push({key:"optional",value:at(!0),quoted:!1}),e.host&&t.push({key:"host",value:at(!0),quoted:!1}),e.self&&t.push({key:"self",value:at(!0),quoted:!1}),e.skipSelf&&t.push({key:"skipSelf",value:at(!0),quoted:!1}),t.length>0?rt(t):null}(e);return null!==n?(t=!0,n):at(null)}));return t?et(nt(n)):re}(e.deps):re;return et(Xe(bt.FactoryDeclaration,[At(e.type.type,e.typeArgumentCount),t]))}function qt(e,t){return e.map(((e,n)=>function(e,t,n){if(null===e.token)return Xe(bt.invalidFactoryDep).callFn([at(n)]);if(null===e.attributeNameType){const n=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0)|(t===$t.Pipe?16:0);let r=0!==n||e.optional?at(n):null;const s=[e.token];r&&s.push(r);const i=function(e){switch(e){case $t.Component:case $t.Directive:case $t.Pipe:return bt.directiveInject;case $t.NgModule:case $t.Injectable:default:return bt.inject}}(t);return Xe(i).callFn(s)}return Xe(bt.injectAttribute).callFn([e.token])}(e,t,n)))}function zt(e){return void 0!==e.delegateType}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function"}(Vt||(Vt={})),function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}($t||($t={}));class Wt{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}}class Kt{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}}class Gt{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e){return e.visitBoundText(this)}}class Zt{constructor(e,t,n,r,s,i){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=s,this.i18n=i}visit(e){return e.visitTextAttribute(this)}}class Yt{constructor(e,t,n,r,s,i,o,a,c){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=s,this.sourceSpan=i,this.keySpan=o,this.valueSpan=a,this.i18n=c}static fromBoundElementProperty(e,t){if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new Yt(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}}class Qt{constructor(e,t,n,r,s,i,o,a){this.name=e,this.type=t,this.handler=n,this.target=r,this.phase=s,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=a}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new Qt(e.name,e.type,e.handler,t,n,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}}class Jt{constructor(e,t,n,r,s,i,o,a,c,l){this.name=e,this.attributes=t,this.inputs=n,this.outputs=r,this.children=s,this.references=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=c,this.i18n=l}visit(e){return e.visitElement(this)}}class Xt{constructor(e,t,n,r,s,i,o,a,c,l,u,h){this.tagName=e,this.attributes=t,this.inputs=n,this.outputs=r,this.templateAttrs=s,this.children=i,this.references=o,this.variables=a,this.sourceSpan=c,this.startSourceSpan=l,this.endSourceSpan=u,this.i18n=h}visit(e){return e.visitTemplate(this)}}class en{constructor(e,t,n,r){this.selector=e,this.attributes=t,this.sourceSpan=n,this.i18n=r,this.name="ng-content"}visit(e){return e.visitContent(this)}}class tn{constructor(e,t,n,r,s){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=s}visit(e){return e.visitVariable(this)}}class nn{constructor(e,t,n,r,s){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=s}visit(e){return e.visitReference(this)}}class rn{constructor(e,t,n,r){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitIcu(this)}}function sn(e,t){const n=[];if(e.visit)for(const n of t)e.visit(n)||n.visit(e);else for(const r of t){const t=r.visit(e);t&&n.push(t)}return n}class on{constructor(e,t,n,r,s,i){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=r,this.description=s,this.customId=i,this.id=this.customId,this.legacyIds=[],this.messageString=function(e){const t=new dn;return e.map((e=>e.visit(t))).join("")}(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}}class an{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}}class cn{constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}}class ln{constructor(e,t,n,r){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=r}visit(e,t){return e.visitIcu(this,t)}}class un{constructor(e,t,n,r,s,i,o,a,c){this.tag=e,this.attrs=t,this.startName=n,this.closeName=r,this.children=s,this.isVoid=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=c}visit(e,t){return e.visitTagPlaceholder(this,t)}}class hn{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitPlaceholder(this,t)}}class pn{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitIcuPlaceholder(this,t)}}class dn{visitText(e){return e.value}visitContainer(e){return e.children.map((e=>e.visit(this))).join("")}visitIcu(e){const t=Object.keys(e.cases).map((t=>`${t} {${e.cases[t].visit(this)}}`));return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){const t=e.children.map((e=>e.visit(this))).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}}new class{visitTag(e){const t=this._serializeAttributes(e.attrs);if(0==e.children.length)return`<${e.name}${t}/>`;const n=e.children.map((e=>e.visit(this)));return`<${e.name}${t}>${n.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){const t=Object.keys(e).map((t=>`${t}="${e[t]}"`)).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [\n${e.dtd}\n]>`}};const gn="i18n",mn="i18n-",fn="�";function vn(e){return e instanceof on}function yn(e){return vn(e)&&1===e.nodes.length&&e.nodes[0]instanceof ln}function bn(e){return!!e.i18n}function wn(e){return e.nodes[0]}function Dn(e,t=0){return`${fn}${e}${t>0?`:${t}`:""}${fn}`}function Cn(e=0){let t=e;return()=>t++}function _n(e){const t={};return e.forEach(((e,n)=>{t[n]=at(e.length>1?`[${e.join("|")}]`:e[0])})),t}function Sn(e,t,...n){const r=e.get(t)||[];r.push(...n),e.set(t,r)}function xn(e,t=0,n=0){const r=t,s=new Map,i=e instanceof on?e.nodes.find((e=>e instanceof cn)):e;return i&&i.children.filter((e=>e instanceof hn)).forEach(((e,t)=>{const i=Dn(r+t,n);Sn(s,e.name,i)})),s}function In(e={},t){const n={};return e&&Object.keys(e).length&&Object.keys(e).forEach((r=>n[En(r,t)]=e[r])),n}function En(e,t=!0){const n=e.toUpperCase().replace(/[^A-Z0-9_]/g,"_");if(!t)return n;const r=n.split("_");if(1===r.length)return e.toLowerCase();let s;/^\d+$/.test(r[r.length-1])&&(s=r.pop());let i=r.shift().toLowerCase();return r.length&&(i+=r.map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("")),s?`${i}_${s}`:i}function Tn(e){return`MSG_${e}`.toUpperCase()}function kn(e){return new Ke(e.name,void 0,X,void 0,e.sourceSpan)}const Mn=/[-.]/,An="_t",Fn="ctx",On="rf",Rn="restoredCtx",Pn=500,Ln=new Set([bt.element,bt.elementStart,bt.elementEnd,bt.elementContainer,bt.elementContainerStart,bt.elementContainerEnd,bt.i18nExp,bt.listener,bt.classProp,bt.syntheticHostListener,bt.hostProperty,bt.syntheticHostProperty,bt.property,bt.propertyInterpolate1,bt.propertyInterpolate2,bt.propertyInterpolate3,bt.propertyInterpolate4,bt.propertyInterpolate5,bt.propertyInterpolate6,bt.propertyInterpolate7,bt.propertyInterpolate8,bt.propertyInterpolateV,bt.attribute,bt.attributeInterpolate1,bt.attributeInterpolate2,bt.attributeInterpolate3,bt.attributeInterpolate4,bt.attributeInterpolate5,bt.attributeInterpolate6,bt.attributeInterpolate7,bt.attributeInterpolate8,bt.attributeInterpolateV,bt.styleProp,bt.stylePropInterpolate1,bt.stylePropInterpolate2,bt.stylePropInterpolate3,bt.stylePropInterpolate4,bt.stylePropInterpolate5,bt.stylePropInterpolate6,bt.stylePropInterpolate7,bt.stylePropInterpolate8,bt.stylePropInterpolateV,bt.textInterpolate,bt.textInterpolate1,bt.textInterpolate2,bt.textInterpolate3,bt.textInterpolate4,bt.textInterpolate5,bt.textInterpolate6,bt.textInterpolate7,bt.textInterpolate8,bt.textInterpolateV]);function jn(e,t,n){return Xe(t,null,e).callFn(n,e)}function Nn(e,t){let n=null;return()=>(n||(e.push(new Ke(An,void 0,J)),n=Je(t)),n)}function Un(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function Vn(e){return Array.isArray(e)?nt(e.map(Vn)):at(e,X)}function $n(e,t){return Object.getOwnPropertyNames(e).length>0?function(e,t){return rt(Object.getOwnPropertyNames(e).map((n=>{const r=e[n];let s,i,o,a;return Array.isArray(r)?([i,s]=r,o=n,a=i!==s):(o=s=n,i=r,a=!1),{key:o,quoted:Mn.test(o),value:t&&a?nt([Vn(i),Vn(s)]):Vn(i)}})))}(e,t):null}function Bn(e){for(;ct(e[e.length-1]);)e.pop();return e}function Hn(e,t){if(Array.isArray(e.predicate)){let n=[];return e.predicate.forEach((e=>{const t=e.split(",").map((e=>at(e.trim())));n.push(...t)})),t.getConstLiteral(nt(n),!0)}switch(e.predicate.forwardRef){case 0:case 2:return e.predicate.expression;case 1:return Xe(bt.resolveForwardRef).callFn([e.predicate.expression])}}class qn{constructor(){this.values=[]}set(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}toLiteralMap(){return rt(this.values)}}function zn(e){const{expressions:t,strings:n}=e;return 1===t.length&&2===n.length&&""===n[0]&&""===n[1]?1:t.length+n.length}function Wn(e){const t=[];let n=null,r=null,s=0;for(const i of e){const e=("function"==typeof i.paramsOrFn?i.paramsOrFn():i.paramsOrFn)??[],o=Array.isArray(e)?e:[e];s<Pn&&r===i.reference&&Ln.has(r)?(n=n.callFn(o,n.sourceSpan),s++):(null!==n&&t.push(n.toStmt()),n=jn(i.span,i.reference,o),r=i.reference,s=0)}return null!==n&&t.push(n.toStmt()),t}function Kn(e,t){let n=null;const r={name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:e.typeArgumentCount,deps:[],target:$t.Injectable};if(void 0!==e.useClass){const s=e.useClass.expression.isEquivalent(e.internalType);let i;void 0!==e.deps&&(i=e.deps),n=void 0!==i?Bt({...r,delegate:e.useClass.expression,delegateDeps:i,delegateType:Vt.Class}):s?Bt(r):{statements:[],expression:Zn(e.type.value,e.useClass.expression,t)}}else n=void 0!==e.useFactory?void 0!==e.deps?Bt({...r,delegate:e.useFactory,delegateDeps:e.deps||[],delegateType:Vt.Function}):{statements:[],expression:st([],[new Ye(e.useFactory.callFn([]))])}:void 0!==e.useValue?Bt({...r,expression:e.useValue.expression}):void 0!==e.useExisting?Bt({...r,expression:Xe(bt.inject).callFn([e.useExisting.expression])}):{statements:[],expression:Zn(e.type.value,e.internalType,t)};const s=e.internalType,i=new qn;return i.set("token",s),i.set("factory",n.expression),null!==e.providedIn.expression.value&&i.set("providedIn",Ut(e.providedIn)),{expression:Xe(bt.ɵɵdefineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:Gn(e),statements:n.statements}}function Gn(e){return new Q(Xe(bt.InjectableDeclaration,[At(e.type.type,e.typeArgumentCount)]))}function Zn(e,t,n){return e.node===t.node?t.prop("ɵfac"):Yn(n?Xe(bt.resolveForwardRef).callFn([t]):t)}function Yn(e){return st([new Fe("t",J)],[new Ye(e.prop("ɵfac").callFn([Je("t")]))])}const Qn=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];class Jn{constructor(e,t){this.start=e,this.end=t}static fromArray(e){return e?(function(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected 'interpolation' to be an array, [start, end].");if(null!=t){const e=t[0],n=t[1];Qn.forEach((t=>{if(t.test(e)||t.test(n))throw new Error(`['${e}', '${n}'] contains unusable interpolation symbol.`)}))}}(0,e),new Jn(e[0],e[1])):Xn}}const Xn=new Jn("{{","}}"),er=9,tr=10,nr=32,rr=44,sr=46,ir=47,or=58,ar=59,cr=60,lr=61,ur=62,hr=48,pr=57,dr=65,gr=90,mr=97,fr=122,vr=123,yr=125,br=160;function wr(e){return e>=er&&e<=nr||e==br}function Dr(e){return hr<=e&&e<=pr}function Cr(e){return e>=mr&&e<=fr||e>=dr&&e<=gr}function _r(e){return e===tr||13===e}function Sr(e){return hr<=e&&e<=55}function xr(e){return 39===e||34===e||96===e}class Ir{constructor(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){const t=this.file.content,n=t.length;let r=this.offset,s=this.line,i=this.col;for(;r>0&&e<0;)if(r--,e++,t.charCodeAt(r)==tr){s--;const e=t.substring(0,r-1).lastIndexOf(String.fromCharCode(tr));i=e>0?r-e:r}else i--;for(;r<n&&e>0;){const n=t.charCodeAt(r);r++,e--,n==tr?(s++,i=0):i++}return new Ir(this.file,r,s,i)}getContext(e,t){const n=this.file.content;let r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);let s=r,i=0,o=0;for(;i<e&&r>0&&(r--,i++,"\n"!=n[r]||++o!=t););for(i=0,o=0;i<e&&s<n.length-1&&(s++,i++,"\n"!=n[s]||++o!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,s+1)}}return null}}class Er{constructor(e,t){this.content=e,this.url=t}}class Tr{constructor(e,t,n=e,r=null){this.start=e,this.end=t,this.fullStart=n,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}var kr;!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(kr||(kr={}));class Mr{constructor(e,t,n=kr.ERROR){this.span=e,this.msg=t,this.level=n}contextualMessage(){const e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${kr[this.level]} ->]${e.after}")`:this.msg}toString(){const e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}}let Ar=0;function Fr(e){return e.replace(/\W/g,"_")}const Or='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})';class Rr extends Tt{constructor(){super(!1)}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitTaggedTemplateExpr(e,t){const n=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${Or}(`),t.print(e,`[${n.map((e=>kt(e.text,!1))).join(", ")}], `),t.print(e,`[${n.map((e=>kt(e.rawText,!1))).join(", ")}])`),e.template.expressions.forEach((n=>{t.print(e,", "),n.visitExpression(this,t)})),t.print(e,")"),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${Or}(`);const n=[e.serializeI18nHead()];for(let t=1;t<e.messageParts.length;t++)n.push(e.serializeI18nTemplatePart(t));return t.print(e,`[${n.map((e=>kt(e.cooked,!1))).join(", ")}], `),t.print(e,`[${n.map((e=>kt(e.raw,!1))).join(", ")}])`),e.expressions.forEach((n=>{t.print(e,", "),n.visitExpression(this,t)})),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects((e=>t.print(null,e.name)),e,t,",")}}let Pr;function Lr(...e){if(!I.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=I.eval((r=t,function(){if(void 0===Pr&&(Pr=null,I.trustedTypes))try{Pr=I.trustedTypes.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}return Pr}()?.createScript(r)||r));var r;return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(I))}class jr{evaluateStatements(e,t,n,r){const s=new Nr(n),i=Et.createRoot();return t.length>0&&!t[0].isEquivalent(at("use strict").toStmt())&&(t=[at("use strict").toStmt(),...t]),s.visitAllStatements(t,i),s.createReturnStmt(i),this.evaluateCode(e,i,s.getArgs(),r)}evaluateCode(e,t,n,r){let s=`"use strict";${t.toSource()}\n//# sourceURL=${e}`;const i=[],o=[];for(const e in n)o.push(n[e]),i.push(e);if(r){const n=Lr(...i.concat("return null;")).toString(),r=n.slice(0,n.indexOf("return null;")).split("\n").length-1;s+=`\n${t.toSourceMapGenerator(e,r).toJsComment()}`}const a=Lr(...i.concat(s));return this.executeFunction(a,o)}executeFunction(e,t){return e(...t)}}class Nr extends Rr{constructor(e){super(),this.refResolver=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new Ye(new Ve(this._evalExportedVars.map((e=>new Ue(e,Je(e),!1))))).visitStatement(this,e)}getArgs(){const e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(He.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(He.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}_emitReferenceToExternal(e,t,n){let r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);const e=function(e){if(!e||!e.reference)return null;const t=e.reference;if(t.__anonymousType)return t.__anonymousType;if(t.__forward_ref__)return"__forward_ref__";let n=x(t);return n.indexOf("(")>=0?(n="anonymous_"+Ar++,t.__anonymousType=n):n=Fr(n),n}({reference:t})||"val";this._evalArgNames.push(`jit_${e}_${r}`)}n.print(e,this._evalArgNames[r])}}function Ur(e){const t=new qn;return null!==e.providers&&t.set("providers",e.providers),e.imports.length>0&&t.set("imports",nt(e.imports)),{expression:Xe(bt.defineInjector).callFn([t.toLiteralMap()],void 0,!0),type:Vr(e),statements:[]}}function Vr(e){return new Q(Xe(bt.InjectorDeclaration,[new Q(e.type.type)]))}class $r{constructor(e){this.context=e}resolveExternalReference(e){if("@angular/core"!==e.moduleName)throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}}var Br,Hr,qr,zr;function Wr(e){const{adjacentType:t,internalType:n,bootstrap:r,declarations:s,imports:i,exports:o,schemas:a,containsForwardDecls:c,selectorScopeMode:l,id:u}=e,h=[],p=new qn;if(p.set("type",n),r.length>0&&p.set("bootstrap",jt(r,c)),l===Br.Inline)s.length>0&&p.set("declarations",jt(s,c)),i.length>0&&p.set("imports",jt(i,c)),o.length>0&&p.set("exports",jt(o,c));else if(l===Br.SideEffect){const t=function(e){const{adjacentType:t,declarations:n,imports:r,exports:s,containsForwardDecls:i}=e,o=new qn;if(n.length>0&&o.set("declarations",jt(n,i)),r.length>0&&o.set("imports",jt(r,i)),s.length>0&&o.set("exports",jt(s,i)),0===Object.keys(o.values).length)return null;const a=function(e,t){const n=new ke({name:e,moduleName:null}),r=new Pe(ie.Identical,new ue(n),at("undefined")),s=new Pe(ie.Or,r,n,void 0,void 0,!0);return new Pe(ie.And,s,t)}("ngJitMode",new me(Xe(bt.setNgModuleScope),[t,o.toLiteralMap()])),c=new Oe([],[a.toStmt()]);return new me(c,[]).toStmt()}(e);null!==t&&h.push(t)}return null!==a&&a.length>0&&p.set("schemas",nt(a.map((e=>e.value)))),null!==u&&(p.set("id",u),h.push(Xe(bt.registerNgModuleType).callFn([t,u]).toStmt())),{expression:Xe(bt.defineNgModule).callFn([p.toLiteralMap()],void 0,!0),type:Kr(e),statements:h}}function Kr({type:e,declarations:t,exports:n,imports:r,includeImportTypes:s,publicDeclarationTypes:i}){return new Q(Xe(bt.NgModuleDeclaration,[new Q(e.type),null===i?Gr(t):Zr(i),s?Gr(r):re,Gr(n)]))}function Gr(e){const t=e.map((e=>tt(e.type)));return e.length>0?et(nt(t)):re}function Zr(e){const t=e.map((e=>tt(e)));return e.length>0?et(nt(t)):re}function Yr(e){const t=[];return t.push({key:"name",value:at(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type.value,quoted:!1}),t.push({key:"pure",value:at(e.pure),quoted:!1}),e.isStandalone&&t.push({key:"standalone",value:at(!0),quoted:!1}),{expression:Xe(bt.definePipe).callFn([rt(t)],void 0,!0),type:Qr(e),statements:[]}}function Qr(e){return new Q(Xe(bt.PipeDeclaration,[At(e.type.type,e.typeArgumentCount),new Q(new ye(e.pipeName)),new Q(new ye(e.isStandalone))]))}!function(e){e[e.Inline=0]="Inline",e[e.SideEffect=1]="SideEffect",e[e.Omit=2]="Omit"}(Br||(Br={})),function(e){e[e.Directive=0]="Directive",e[e.Pipe=1]="Pipe",e[e.NgModule=2]="NgModule"}(Hr||(Hr={}));class Jr{constructor(e,t,n,r){this.input=t,this.errLocation=n,this.ctxLocation=r,this.message=`Parser Error: ${e} ${n} [${t}] in ${r}`}}class Xr{constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new Ss(e+this.start,e+this.end)}}class es{constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}}class ts extends es{constructor(e,t,n){super(e,t),this.nameSpan=n}}class ns extends es{visit(e,t=null){}}class rs extends es{visit(e,t=null){return e.visitImplicitReceiver(this,t)}}class ss extends rs{visit(e,t=null){return e.visitThisReceiver?.(this,t)}}class is extends es{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitChain(this,t)}}class os extends es{constructor(e,t,n,r,s){super(e,t),this.condition=n,this.trueExp=r,this.falseExp=s}visit(e,t=null){return e.visitConditional(this,t)}}class as extends ts{constructor(e,t,n,r,s){super(e,t,n),this.receiver=r,this.name=s}visit(e,t=null){return e.visitPropertyRead(this,t)}}class cs extends ts{constructor(e,t,n,r,s,i){super(e,t,n),this.receiver=r,this.name=s,this.value=i}visit(e,t=null){return e.visitPropertyWrite(this,t)}}class ls extends ts{constructor(e,t,n,r,s){super(e,t,n),this.receiver=r,this.name=s}visit(e,t=null){return e.visitSafePropertyRead(this,t)}}class us extends es{constructor(e,t,n,r){super(e,t),this.receiver=n,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}}class hs extends es{constructor(e,t,n,r){super(e,t),this.receiver=n,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}}class ps extends es{constructor(e,t,n,r,s){super(e,t),this.receiver=n,this.key=r,this.value=s}visit(e,t=null){return e.visitKeyedWrite(this,t)}}class ds extends ts{constructor(e,t,n,r,s,i){super(e,t,i),this.exp=n,this.name=r,this.args=s}visit(e,t=null){return e.visitPipe(this,t)}}class gs extends es{constructor(e,t,n){super(e,t),this.value=n}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}}class ms extends es{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitLiteralArray(this,t)}}class fs extends es{constructor(e,t,n,r){super(e,t),this.keys=n,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}}class vs extends es{constructor(e,t,n,r){super(e,t),this.strings=n,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}}class ys extends es{constructor(e,t,n,r,s){super(e,t),this.operation=n,this.left=r,this.right=s}visit(e,t=null){return e.visitBinary(this,t)}}class bs extends ys{constructor(e,t,n,r,s,i,o){super(e,t,s,i,o),this.operator=n,this.expr=r,this.left=null,this.right=null,this.operation=null}static createMinus(e,t,n){return new bs(e,t,"-",n,"-",new gs(e,t,0),n)}static createPlus(e,t,n){return new bs(e,t,"+",n,"-",n,new gs(e,t,0))}visit(e,t=null){return void 0!==e.visitUnary?e.visitUnary(this,t):e.visitBinary(this,t)}}class ws extends es{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitPrefixNot(this,t)}}class Ds extends es{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitNonNullAssert(this,t)}}class Cs extends es{constructor(e,t,n,r,s){super(e,t),this.receiver=n,this.args=r,this.argumentSpan=s}visit(e,t=null){return e.visitCall(this,t)}}class _s extends es{constructor(e,t,n,r,s){super(e,t),this.receiver=n,this.args=r,this.argumentSpan=s}visit(e,t=null){return e.visitSafeCall(this,t)}}class Ss{constructor(e,t){this.start=e,this.end=t}}class xs extends es{constructor(e,t,n,r,s){super(new Xr(0,null===t?0:t.length),new Ss(r,null===t?r:r+t.length)),this.ast=e,this.source=t,this.location=n,this.errors=s}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}}class Is{constructor(e,t,n){this.sourceSpan=e,this.key=t,this.value=n}}class Es{constructor(e,t,n){this.sourceSpan=e,this.key=t,this.value=n}}class Ts{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.receiver,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitAll(e,t){for(const n of e)this.visit(n,t)}}class ks{visitImplicitReceiver(e,t){return e}visitThisReceiver(e,t){return e}visitInterpolation(e,t){return new vs(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,t){return new gs(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,t){return new as(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,t){return new cs(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,t){return new ls(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitLiteralArray(e,t){return new ms(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,t){return new fs(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitUnary(e,t){switch(e.operator){case"+":return bs.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return bs.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error(`Unknown unary operator ${e.operator}`)}}visitBinary(e,t){return new ys(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,t){return new ws(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,t){return new Ds(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,t){return new os(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,t){return new ds(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,t){return new us(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}visitKeyedWrite(e,t){return new ps(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this),e.value.visit(this))}visitCall(e,t){return new Cs(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitSafeCall(e,t){return new _s(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitAll(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}visitChain(e,t){return new is(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitSafeKeyedRead(e,t){return new hs(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}}class Ms{visitImplicitReceiver(e,t){return e}visitThisReceiver(e,t){return e}visitInterpolation(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new vs(e.span,e.sourceSpan,e.strings,n):e}visitLiteralPrimitive(e,t){return e}visitPropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new as(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}visitPropertyWrite(e,t){const n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new cs(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}visitSafePropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new ls(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}visitLiteralArray(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new ms(e.span,e.sourceSpan,n):e}visitLiteralMap(e,t){const n=this.visitAll(e.values);return n!==e.values?new fs(e.span,e.sourceSpan,e.keys,n):e}visitUnary(e,t){const n=e.expr.visit(this);if(n!==e.expr)switch(e.operator){case"+":return bs.createPlus(e.span,e.sourceSpan,n);case"-":return bs.createMinus(e.span,e.sourceSpan,n);default:throw new Error(`Unknown unary operator ${e.operator}`)}return e}visitBinary(e,t){const n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new ys(e.span,e.sourceSpan,e.operation,n,r):e}visitPrefixNot(e,t){const n=e.expression.visit(this);return n!==e.expression?new ws(e.span,e.sourceSpan,n):e}visitNonNullAssert(e,t){const n=e.expression.visit(this);return n!==e.expression?new Ds(e.span,e.sourceSpan,n):e}visitConditional(e,t){const n=e.condition.visit(this),r=e.trueExp.visit(this),s=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||s!==e.falseExp?new os(e.span,e.sourceSpan,n,r,s):e}visitPipe(e,t){const n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new ds(e.span,e.sourceSpan,n,e.name,r,e.nameSpan):e}visitKeyedRead(e,t){const n=e.receiver.visit(this),r=e.key.visit(this);return n!==e.receiver||r!==e.key?new us(e.span,e.sourceSpan,n,r):e}visitKeyedWrite(e,t){const n=e.receiver.visit(this),r=e.key.visit(this),s=e.value.visit(this);return n!==e.receiver||r!==e.key||s!==e.value?new ps(e.span,e.sourceSpan,n,r,s):e}visitAll(e){const t=[];let n=!1;for(let r=0;r<e.length;++r){const s=e[r],i=s.visit(this);t[r]=i,n=n||i!==s}return n?t:e}visitChain(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new is(e.span,e.sourceSpan,n):e}visitCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new Cs(e.span,e.sourceSpan,n,r,e.argumentSpan):e}visitSafeCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new _s(e.span,e.sourceSpan,n,r,e.argumentSpan):e}visitSafeKeyedRead(e,t){const n=e.receiver.visit(this),r=e.key.visit(this);return n!==e.receiver||r!==e.key?new hs(e.span,e.sourceSpan,n,r):e}}class As{constructor(e,t,n,r,s,i){this.name=e,this.expression=t,this.type=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i,this.isLiteral=this.type===qr.LITERAL_ATTR,this.isAnimation=this.type===qr.ANIMATION}}!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(qr||(qr={}));class Fs{constructor(e,t,n,r,s,i,o){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=r,this.sourceSpan=s,this.handlerSpan=i,this.keySpan=o}}class Os{constructor(e,t,n,r,s){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=s}}class Rs{constructor(e,t,n,r,s,i,o,a){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=s,this.sourceSpan=i,this.keySpan=o,this.valueSpan=a}}class Ps{}function Ls(e,t,n,r,s,i,o){e||(e=new Zs(o));const a=function(e,t){const n=new qs(e);return t.visit(n)}({createLiteralArrayConverter:e=>e=>nt(e),createLiteralMapConverter:e=>t=>rt(e.map(((e,n)=>({key:e.key,value:t[n],quoted:e.quoted})))),createPipeConverter:e=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${e}`)}},n),c=new zs(e,t,r,!1,s,i),l=[];Ws(a.visit(c,zr.Statement),l),function(e,t,n){for(let r=e-1;r>=0;r--)n.unshift($s(t,r))}(c.temporaryCount,r,l),c.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const u=l.length-1;if(u>=0){const e=l[u];e instanceof Ze&&(l[u]=new Ye(e.expr))}return l}Ps.event=Je("$event");class js{constructor(e,t){this.stmts=e,this.currValExpr=t}}function Ns(e,t,n,r){e||(e=new Zs);const s=new zs(e,t,r,!1),i=n.visit(s,zr.Expression),o=Us(s,r);return s.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),new js(o,i)}function Us(e,t){const n=[];for(let r=0;r<e.temporaryCount;r++)n.push($s(t,r));return n}function Vs(e,t){return`tmp_${e}_${t}`}function $s(e,t){return new Ke(Vs(e,t))}function Bs(e,t){if(e!==zr.Expression)throw new Error(`Expected an expression, but saw ${t}`)}function Hs(e,t){return e===zr.Statement?t.toStmt():t}!function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(zr||(zr={}));class qs extends ks{constructor(e){super(),this._converterFactory=e}visitPipe(e,t){const n=[e.exp,...e.args].map((e=>e.visit(this,t)));return new Ys(e.span,e.sourceSpan,n,this._converterFactory.createPipeConverter(e.name,n.length))}visitLiteralArray(e,t){const n=e.expressions.map((e=>e.visit(this,t)));return new Ys(e.span,e.sourceSpan,n,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,t){const n=e.values.map((e=>e.visit(this,t)));return new Ys(e.span,e.sourceSpan,n,this._converterFactory.createLiteralMapConverter(e.keys))}}class zs{constructor(e,t,n,r,s,i){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.supportsInterpolation=r,this.baseSourceSpan=s,this.implicitReceiverAccesses=i,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitUnary(e,t){let n;switch(e.operator){case"+":n=se.Plus;break;case"-":n=se.Minus;break;default:throw new Error(`Unsupported operator ${e.operator}`)}return Hs(t,new Re(n,this._visit(e.expr,zr.Expression),void 0,this.convertSourceSpan(e.span)))}visitBinary(e,t){let n;switch(e.operation){case"+":n=ie.Plus;break;case"-":n=ie.Minus;break;case"*":n=ie.Multiply;break;case"/":n=ie.Divide;break;case"%":n=ie.Modulo;break;case"&&":n=ie.And;break;case"||":n=ie.Or;break;case"==":n=ie.Equals;break;case"!=":n=ie.NotEquals;break;case"===":n=ie.Identical;break;case"!==":n=ie.NotIdentical;break;case"<":n=ie.Lower;break;case">":n=ie.Bigger;break;case"<=":n=ie.LowerEquals;break;case">=":n=ie.BiggerEquals;break;case"??":return this.convertNullishCoalesce(e,t);default:throw new Error(`Unsupported operation ${e.operation}`)}return Hs(t,new Pe(n,this._visit(e.left,zr.Expression),this._visit(e.right,zr.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,t){return function(e,t){if(e!==zr.Statement)throw new Error(`Expected a statement, but saw ${t}`)}(t,e),this.visitAll(e.expressions,t)}visitConditional(e,t){return Hs(t,this._visit(e.condition,zr.Expression).conditional(this._visit(e.trueExp,zr.Expression),this._visit(e.falseExp,zr.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,t){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitImplicitReceiver(e,t){return Bs(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitThisReceiver(e,t){return this.visitImplicitReceiver(e,t)}visitInterpolation(e,t){if(!this.supportsInterpolation)throw new Error("Unexpected interpolation");Bs(t,e);let n=[];for(let t=0;t<e.strings.length-1;t++)n.push(at(e.strings[t])),n.push(this._visit(e.expressions[t],zr.Expression));n.push(at(e.strings[e.strings.length-1]));const r=e.strings;return 2===r.length&&""===r[0]&&""===r[1]?n=[n[1]]:e.expressions.length>=9&&(n=[nt(n)]),new Gs(n)}visitKeyedRead(e,t){const n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):Hs(t,this._visit(e.receiver,zr.Expression).key(this._visit(e.key,zr.Expression)))}visitKeyedWrite(e,t){const n=this._visit(e.receiver,zr.Expression),r=this._visit(e.key,zr.Expression),s=this._visit(e.value,zr.Expression);return n===this._implicitReceiver&&this._localResolver.maybeRestoreView(),Hs(t,n.key(r).set(s))}visitLiteralArray(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,t){const n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?X:void 0;return Hs(t,at(e.value,n,this.convertSourceSpan(e.span)))}_getLocal(e,t){return this._localResolver.globals?.has(e)&&t instanceof ss?null:this._localResolver.getLocal(e)}visitPrefixNot(e,t){return Hs(t,(n=this._visit(e.expression,zr.Expression),new Ae(n,r)));var n,r}visitNonNullAssert(e,t){return Hs(t,this._visit(e.expression,zr.Expression))}visitPropertyRead(e,t){const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{let n=null;const r=this.usesImplicitReceiver,s=this._visit(e.receiver,zr.Expression);return s===this._implicitReceiver&&(n=this._getLocal(e.name,e.receiver),n&&(this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name))),null==n&&(n=s.prop(e.name,this.convertSourceSpan(e.span))),Hs(t,n)}}visitPropertyWrite(e,t){const n=this._visit(e.receiver,zr.Expression),r=this.usesImplicitReceiver;let s=null;if(n===this._implicitReceiver){const t=this._getLocal(e.name,e.receiver);if(t){if(!(t instanceof Le)){const t=e.name,n=e.value instanceof as?e.value.name:void 0;throw new Error(`Cannot assign value "${n}" to template variable "${t}". Template variables are read-only.`)}s=t,this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name)}}return null===s&&(s=n.prop(e.name,this.convertSourceSpan(e.span))),Hs(t,s.set(this._visit(e.value,zr.Expression)))}visitSafePropertyRead(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitSafeKeyedRead(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitAll(e,t){return e.map((e=>this._visit(e,t)))}visitCall(e,t){const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);const r=this.visitAll(e.args,zr.Expression);if(e instanceof Ys)return Hs(t,e.converter(r));const s=e.receiver;if(s instanceof as&&s.receiver instanceof rs&&!(s.receiver instanceof ss)&&"$any"===s.name){if(1!==r.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${r.length||"none"}`);return Hs(t,r[0])}return Hs(t,this._visit(s,zr.Expression).callFn(r,this.convertSourceSpan(e.span)))}visitSafeCall(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}_visit(e,t){return this._resultMap.get(e)||(this._nodeMap.get(e)||e).visit(this,t)}convertSafeAccess(e,t,n){let r,s=this._visit(t.receiver,zr.Expression);this.needsTemporaryInSafeAccess(t.receiver)&&(r=this.allocateTemporary(),s=r.set(s),this._resultMap.set(t.receiver,r));const i=s.isBlank();t instanceof _s?this._nodeMap.set(t,new Cs(t.span,t.sourceSpan,t.receiver,t.args,t.argumentSpan)):t instanceof hs?this._nodeMap.set(t,new us(t.span,t.sourceSpan,t.receiver,t.key)):this._nodeMap.set(t,new as(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name));const o=this._visit(e,zr.Expression);return this._nodeMap.delete(t),r&&this.releaseTemporary(r),Hs(n,i.conditional($e,o))}convertNullishCoalesce(e,t){const n=this._visit(e.left,zr.Expression),r=this._visit(e.right,zr.Expression),s=this.allocateTemporary();return this.releaseTemporary(s),Hs(t,s.set(n).notIdentical($e).and(s.notIdentical(at(void 0))).conditional(s,r))}leftMostSafeNode(e){const t=(e,t)=>(this._nodeMap.get(t)||t).visit(e);return e.visit({visitUnary:e=>null,visitBinary:e=>null,visitChain:e=>null,visitConditional:e=>null,visitCall(e){return t(this,e.receiver)},visitSafeCall(e){return t(this,e.receiver)||e},visitImplicitReceiver:e=>null,visitThisReceiver:e=>null,visitInterpolation:e=>null,visitKeyedRead(e){return t(this,e.receiver)},visitKeyedWrite:e=>null,visitLiteralArray:e=>null,visitLiteralMap:e=>null,visitLiteralPrimitive:e=>null,visitPipe:e=>null,visitPrefixNot:e=>null,visitNonNullAssert:e=>null,visitPropertyRead(e){return t(this,e.receiver)},visitPropertyWrite:e=>null,visitSafePropertyRead(e){return t(this,e.receiver)||e},visitSafeKeyedRead(e){return t(this,e.receiver)||e}})}needsTemporaryInSafeAccess(e){const t=(e,t)=>t&&(this._nodeMap.get(t)||t).visit(e);return e.visit({visitUnary(e){return t(this,e.expr)},visitBinary(e){return t(this,e.left)||t(this,e.right)},visitChain:e=>!1,visitConditional(e){return t(this,e.condition)||t(this,e.trueExp)||t(this,e.falseExp)},visitCall:e=>!0,visitSafeCall:e=>!0,visitImplicitReceiver:e=>!1,visitThisReceiver:e=>!1,visitInterpolation(e){return((e,n)=>n.some((n=>t(e,n))))(this,e.expressions)},visitKeyedRead:e=>!1,visitKeyedWrite:e=>!1,visitLiteralArray:e=>!0,visitLiteralMap:e=>!0,visitLiteralPrimitive:e=>!1,visitPipe:e=>!0,visitPrefixNot(e){return t(this,e.expression)},visitNonNullAssert(e){return t(this,e.expression)},visitPropertyRead:e=>!1,visitPropertyWrite:e=>!1,visitSafePropertyRead:e=>!1,visitSafeKeyedRead:e=>!1})}allocateTemporary(){const e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new le(Vs(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=Vs(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){const t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end),r=this.baseSourceSpan.fullStart.moveBy(e.start);return new Tr(t,n,r)}return null}addImplicitReceiverAccess(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}}function Ws(e,t){Array.isArray(e)?e.forEach((e=>Ws(e,t))):t.push(e)}function Ks(){throw new Error("Unsupported operation")}class Gs extends ce{constructor(e){super(null,null),this.args=e,this.isConstant=Ks,this.isEquivalent=Ks,this.visitExpression=Ks}}class Zs{constructor(e){this.globals=e}notifyImplicitReceiverUse(){}maybeRestoreView(){}getLocal(e){return e===Ps.event.name?Ps.event:null}}class Ys extends Cs{constructor(e,t,n,r){super(e,t,new ns(e,t),n,null),this.converter=r}}let Qs;function Js(){return Qs||(Qs={},Xs(v.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Xs(v.STYLE,["*|style"]),Xs(v.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Xs(v.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Qs}function Xs(e,t){for(const n of t)Qs[n.toLowerCase()]=e}const ei=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function ti(e){return ei.has(e.toLowerCase())}const ni=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]);class ri{constructor(){this.strictStyling=!0,this._animationDeclarationKeyframesRe=/(^|\s+)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g}shimCssText(e,t,n=""){const r=e.match(_i)||[];return e=e.replace(Ci,""),e=this._insertDirectives(e),[this._scopeCssText(e,t,n),...r].join("\n")}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,t){const n=new Set,r=Ri(e,(e=>this._scopeLocalKeyframeDeclarations(e,t,n)));return Ri(r,(e=>this._scopeAnimationRule(e,t,n)))}_scopeLocalKeyframeDeclarations(e,t,n){return{...e,selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,((e,r,s,i,o)=>(n.add(ji(i,s)),`${r}${s}${t}_${i}${s}${o}`)))}}_scopeAnimationKeyframe(e,t,n){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,((e,r,s,i,o)=>`${r}${s}${i=`${n.has(ji(i,s))?t+"_":""}${i}`}${s}${o}`))}_scopeAnimationRule(e,t,n){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation(?:\s*):(?:\s*))([^;]+)/g,((e,r,s)=>r+s.replace(this._animationDeclarationKeyframesRe,((e,r,s="",i,o)=>i?`${r}${this._scopeAnimationKeyframe(`${s}${i}${s}`,t,n)}`:ni.has(o)?e:`${r}${this._scopeAnimationKeyframe(o,t,n)}`))));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,((e,r,s)=>`${r}${s.split(",").map((e=>this._scopeAnimationKeyframe(e,t,n))).join(",")}`)),{...e,content:r}}_insertPolyfillDirectivesInCssText(e){return e.replace(ii,(function(...e){return e[2]+"{"}))}_insertPolyfillRulesInCssText(e){return e.replace(oi,((...e)=>{const t=e[0].replace(e[1],"").replace(e[2],"");return e[4]+t}))}_scopeCssText(e,t,n){const r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeKeyframesRelatedCss(e,t),e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()}_extractUnscopedRulesFromCssText(e){let t,n="";for(ai.lastIndex=0;null!==(t=ai.exec(e));)n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n";return n}_convertColonHost(e){return e.replace(hi,((e,t,n)=>{if(t){const e=[],r=t.split(",").map((e=>e.trim()));for(const t of r){if(!t)break;const r=gi+t.replace(ci,"")+n;e.push(r)}return e.join(",")}return gi+n}))}_convertColonHostContext(e){return e.replace(pi,(e=>{const t=[[]];let n;for(;n=di.exec(e);){const r=(n[1]??"").trim().split(",").map((e=>e.trim())).filter((e=>""!==e)),s=t.length;Ni(t,r.length);for(let e=0;e<r.length;e++)for(let n=0;n<s;n++)t[n+e*s].push(r[e]);e=n[2]}return t.map((t=>function(e,t){const n=gi;bi.lastIndex=0;const r=bi.test(t);if(0===e.length)return n+t;const s=[e.pop()||""];for(;e.length>0;){const t=s.length,n=e.pop();for(let e=0;e<t;e++){const r=s[e];s[2*t+e]=r+" "+n,s[t+e]=n+" "+r,s[e]=n+r}}return s.map((e=>r?`${e}${t}`:`${e}${n}${t}, ${e} ${n}${t}`)).join(",")}(t,e))).join(", ")}))}_convertShadowDOMSelectors(e){return fi.reduce(((e,t)=>e.replace(t," ")),e)}_scopeSelectors(e,t,n){return Ri(e,(e=>{let r=e.selector,s=e.content;return"@"!==e.selector[0]?r=this._scopeSelector(e.selector,t,n,this.strictStyling):e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@document")||e.selector.startsWith("@layer")||e.selector.startsWith("@container")?s=this._scopeSelectors(e.content,t,n):(e.selector.startsWith("@font-face")||e.selector.startsWith("@page"))&&(s=this._stripScopingSelectors(e.content)),new Oi(r,s)}))}_stripScopingSelectors(e){return Ri(e,(e=>{const t=e.selector.replace(vi," ").replace(mi," ");return new Oi(t,e.content)}))}_scopeSelector(e,t,n,r){return e.split(",").map((e=>e.trim().split(vi))).map((e=>{const[s,...i]=e;return[(e=>this._selectorNeedsScoping(e,t)?r?this._applyStrictSelectorScope(e,t,n):this._applySelectorScope(e,t,n):e)(s),...i].join(" ")})).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+yi,"m")}_applySelectorScope(e,t,n){return this._applySimpleSelectorScope(e,t,n)}_applySimpleSelectorScope(e,t,n){if(bi.lastIndex=0,bi.test(e)){const r=this.strictStyling?`[${n}]`:t;return e.replace(mi,((e,t)=>t.replace(/([^:]*)(:*)(.*)/,((e,t,n,s)=>t+r+n+s)))).replace(bi,r+" ")}return t+" "+e}_applyStrictSelectorScope(e,t,n){const r="["+(t=t.replace(/\[is=([^\]]*)\]/g,((e,...t)=>t[0])))+"]",s=e=>{let s=e.trim();if(!s)return"";if(e.indexOf(gi)>-1)s=this._applySimpleSelectorScope(e,t,n);else{const t=e.replace(bi,"");if(t.length>0){const e=t.match(/([^:]*)(:*)(.*)/);e&&(s=e[1]+r+e[2]+e[3])}}return s},i=new si(e);let o,a="",c=0;const l=/( |>|\+|~(?!=))\s*/g;let u=!((e=i.content()).indexOf(gi)>-1);for(;null!==(o=l.exec(e));){const t=o[1],n=e.slice(c,o.index).trim();u=u||n.indexOf(gi)>-1,a+=`${u?s(n):n} ${t} `,c=l.lastIndex}const h=e.substring(c);return u=u||h.indexOf(gi)>-1,a+=u?s(h):h,i.restore(a)}_insertPolyfillHostInCssText(e){return e.replace(Di,li).replace(wi,ci)}}class si{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=this._escapeRegexMatches(e,/(\\.)/g),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,((e,t,n)=>{const r=`__ph-${this.index}__`;return this.placeholders.push(n),this.index++,t+r}))}restore(e){return e.replace(/__ph-(\d+)__/g,((e,t)=>this.placeholders[+t]))}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,((e,t)=>{const n=`__ph-${this.index}__`;return this.placeholders.push(t),this.index++,n}))}}const ii=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,oi=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ai=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ci="-shadowcsshost",li="-shadowcsscontext",ui="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",hi=new RegExp(ci+ui,"gim"),pi=new RegExp(li+ui,"gim"),di=new RegExp(li+ui,"im"),gi=ci+"-no-combinator",mi=/-shadowcsshost-no-combinator([^\s]*)/,fi=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],vi=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,yi="([>\\s~+[.,{:][\\s\\S]*)?$",bi=/-shadowcsshost/gim,wi=/:host/gim,Di=/:host-context/gim,Ci=/\/\*[\s\S]*?\*\//g,_i=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,Si="%BLOCK%",xi=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Ii=new Map([["{","}"]]),Ei="%COMMA_IN_PLACEHOLDER%",Ti="%SEMI_IN_PLACEHOLDER%",ki="%COLON_IN_PLACEHOLDER%",Mi=new RegExp(Ei,"g"),Ai=new RegExp(Ti,"g"),Fi=new RegExp(ki,"g");class Oi{constructor(e,t){this.selector=e,this.content=t}}function Ri(e,t){const n=function(e){let t=e,n=null;for(let e=0;e<t.length;e++){const r=t[e];if("\\"===r)e++;else if(null!==n)if(r===n)n=null;else{const n=Li[r];n&&(t=`${t.substr(0,e)}${n}${t.substr(e+1)}`,e+=n.length-1)}else"'"!==r&&'"'!==r||(n=r)}return t}(e),r=function(e,t,n){const r=[],s=[];let i,o,a=0,c=0,l=-1;for(let u=0;u<e.length;u++){const h=e[u];"\\"===h?u++:h===o?(a--,0===a&&(s.push(e.substring(l,u)),r.push(n),c=u,l=-1,i=o=void 0)):h===i?a++:0===a&&t.has(h)&&(i=h,o=t.get(h),a=1,l=u+1,r.push(e.substring(c,l)))}return-1!==l?(s.push(e.substring(l)),r.push(n)):r.push(e.substring(c)),new Pi(r.join(""),s)}(n,Ii,Si);let s=0;return function(e){let t=e.replace(Mi,",");return t=t.replace(Ai,";"),t=t.replace(Fi,":"),t}(r.escapedString.replace(xi,((...e)=>{const n=e[2];let i="",o=e[4],a="";o&&o.startsWith("{"+Si)&&(i=r.blocks[s++],o=o.substring(Si.length+1),a="{");const c=t(new Oi(n,i));return`${e[1]}${c.selector}${e[3]}${a}${c.content}${o}`})))}class Pi{constructor(e,t){this.escapedString=e,this.blocks=t}}const Li={";":Ti,",":Ei,":":ki};function ji(e,t){return t?e.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):e}function Ni(e,t){const n=e.length;for(let r=1;r<t;r++)for(let t=0;t<n;t++)e[t+r*n]=e[t].slice(0)}function Ui(e){const t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){const t=e.substring(1,e.length-1);-1==t.indexOf("'")&&-1==t.indexOf('"')&&(e=t)}return e}function Vi(e){return e.replace(/[a-z][A-Z]/g,(e=>e.charAt(0)+"-"+e.charAt(1))).toLowerCase()}const $i=2;class Bi{constructor(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(e){let t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t}registerInputBasedOnName(e,t,n){let r=null;const s=e.substring(0,6),i="style"===e||"style."===s||"style!"===s;if(i||!i&&("class"===e||"class."===s||"class!"===s)){const s="."!==e.charAt(5),o=e.slice(s?5:6);r=i?this.registerStyleInput(o,s,t,n):this.registerClassInput(o,s,t,n)}return r}registerStyleInput(e,t,n,r,s){if(Wi(n))return null;(function(e){return e.startsWith("--")})(e)||(e=Vi(e));const{property:i,hasOverrideFlag:o,suffix:a}=qi(e),c={name:i,suffix:s="string"==typeof s&&0!==s.length?s:a,value:n,sourceSpan:r,hasOverrideFlag:o};return t?this._styleMapInput=c:((this._singleStyleInputs=this._singleStyleInputs||[]).push(c),Hi(this._stylesIndex,i)),this._lastStylingInput=c,this._firstStylingInput=this._firstStylingInput||c,this._checkForPipes(n),this.hasBindings=!0,c}registerClassInput(e,t,n,r){if(Wi(n))return null;const{property:s,hasOverrideFlag:i}=qi(e),o={name:s,value:n,sourceSpan:r,hasOverrideFlag:i,suffix:null};return t?this._classMapInput=o:((this._singleClassInputs=this._singleClassInputs||[]).push(o),Hi(this._classesIndex,s)),this._lastStylingInput=o,this._firstStylingInput=this._firstStylingInput||o,this._checkForPipes(n),this.hasBindings=!0,o}_checkForPipes(e){e instanceof xs&&e.ast instanceof ds&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(e){this._initialStyleValues=function(e){const t=[];let n=0,r=0,s=0,i=0,o=0,a=null,c=!1;for(;n<e.length;)switch(e.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:c=c||i>0,0===s?s=39:39===s&&92!==e.charCodeAt(n-1)&&(s=0);break;case 34:c=c||i>0,0===s?s=34:34===s&&92!==e.charCodeAt(n-1)&&(s=0);break;case 58:a||0!==r||0!==s||(a=Vi(e.substring(o,n-1).trim()),i=n);break;case 59:if(a&&i>0&&0===r&&0===s){const r=e.substring(i,n-1).trim();t.push(a,c?Ui(r):r),o=n,i=0,a=null,c=!1}}if(a&&i){const n=e.slice(i).trim();t.push(a,c?Ui(n):n)}return t}(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(at(1));for(let t=0;t<this._initialClassValues.length;t++)e.push(at(this._initialClassValues[t]))}if(this._initialStyleValues.length){e.push(at(2));for(let t=0;t<this._initialStyleValues.length;t+=2)e.push(at(this._initialStyleValues[t]),at(this._initialStyleValues[t+1]))}}assignHostAttrs(e,t){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),t.set("hostAttrs",nt(e)))}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,t,n){let r=$i;const s=n.value.visit(e);let i;return s instanceof vs?(r+=s.expressions.length,i=t?function(e){switch(zn(e)){case 1:return bt.classMap;case 3:return bt.classMapInterpolate1;case 5:return bt.classMapInterpolate2;case 7:return bt.classMapInterpolate3;case 9:return bt.classMapInterpolate4;case 11:return bt.classMapInterpolate5;case 13:return bt.classMapInterpolate6;case 15:return bt.classMapInterpolate7;case 17:return bt.classMapInterpolate8;default:return bt.classMapInterpolateV}}(s):function(e){switch(zn(e)){case 1:return bt.styleMap;case 3:return bt.styleMapInterpolate1;case 5:return bt.styleMapInterpolate2;case 7:return bt.styleMapInterpolate3;case 9:return bt.styleMapInterpolate4;case 11:return bt.styleMapInterpolate5;case 13:return bt.styleMapInterpolate6;case 15:return bt.styleMapInterpolate7;case 17:return bt.styleMapInterpolate8;default:return bt.styleMapInterpolateV}}(s)):i=t?bt.classMap:bt.styleMap,{reference:i,calls:[{supportsInterpolation:!0,sourceSpan:n.sourceSpan,allocateBindingSlots:r,params:e=>{const t=e(s);return Array.isArray(t)?t:[t]}}]}}_buildSingleInputs(e,t,n,r,s){const i=[];return t.forEach((t=>{const o=i[i.length-1],a=t.value.visit(n);let c=e,l=$i;a instanceof vs&&(l+=a.expressions.length,r&&(c=r(a)));const u={sourceSpan:t.sourceSpan,allocateBindingSlots:l,supportsInterpolation:!!r,params:e=>{const n=[];n.push(at(t.name));const r=e(a);return Array.isArray(r)?n.push(...r):n.push(r),s||null===t.suffix||n.push(at(t.suffix)),n}};o&&o.reference===c?o.calls.push(u):i.push({reference:c,calls:[u]})})),i}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(bt.classProp,this._singleClassInputs,e,null,!0):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(bt.styleProp,this._singleStyleInputs,e,zi,!1):[]}buildUpdateLevelInstructions(e){const t=[];if(this.hasBindings){const n=this.buildStyleMapInstruction(e);n&&t.push(n);const r=this.buildClassMapInstruction(e);r&&t.push(r),t.push(...this._buildStyleInputs(e)),t.push(...this._buildClassInputs(e))}return t}}function Hi(e,t){e.has(t)||e.set(t,e.size)}function qi(e){let t=!1;const n=e.indexOf("!important");-1!==n&&(e=n>0?e.substring(0,n):"",t=!0);let r=null,s=e;const i=e.lastIndexOf(".");return i>0&&(r=e.slice(i+1),s=e.substring(0,i)),{property:s,suffix:r,hasOverrideFlag:t}}function zi(e){switch(zn(e)){case 1:return bt.styleProp;case 3:return bt.stylePropInterpolate1;case 5:return bt.stylePropInterpolate2;case 7:return bt.stylePropInterpolate3;case 9:return bt.stylePropInterpolate4;case 11:return bt.stylePropInterpolate5;case 13:return bt.stylePropInterpolate6;case 15:return bt.stylePropInterpolate7;case 17:return bt.stylePropInterpolate8;default:return bt.stylePropInterpolateV}}function Wi(e){return e instanceof xs&&(e=e.ast),e instanceof ns}var Ki;!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.PrivateIdentifier=2]="PrivateIdentifier",e[e.Keyword=3]="Keyword",e[e.String=4]="String",e[e.Operator=5]="Operator",e[e.Number=6]="Number",e[e.Error=7]="Error"}(Ki||(Ki={}));const Gi=["var","let","as","null","undefined","true","false","if","else","this"];class Zi{tokenize(e){const t=new eo(e),n=[];let r=t.scanToken();for(;null!=r;)n.push(r),r=t.scanToken();return n}}class Yi{constructor(e,t,n,r,s){this.index=e,this.end=t,this.type=n,this.numValue=r,this.strValue=s}isCharacter(e){return this.type==Ki.Character&&this.numValue==e}isNumber(){return this.type==Ki.Number}isString(){return this.type==Ki.String}isOperator(e){return this.type==Ki.Operator&&this.strValue==e}isIdentifier(){return this.type==Ki.Identifier}isPrivateIdentifier(){return this.type==Ki.PrivateIdentifier}isKeyword(){return this.type==Ki.Keyword}isKeywordLet(){return this.type==Ki.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==Ki.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==Ki.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==Ki.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==Ki.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==Ki.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==Ki.Keyword&&"this"==this.strValue}isError(){return this.type==Ki.Error}toNumber(){return this.type==Ki.Number?this.numValue:-1}toString(){switch(this.type){case Ki.Character:case Ki.Identifier:case Ki.Keyword:case Ki.Operator:case Ki.PrivateIdentifier:case Ki.String:case Ki.Error:return this.strValue;case Ki.Number:return this.numValue.toString();default:return null}}}function Qi(e,t,n){return new Yi(e,t,Ki.Character,n,String.fromCharCode(n))}function Ji(e,t,n){return new Yi(e,t,Ki.Operator,0,n)}const Xi=new Yi(-1,-1,Ki.Character,0,"");class eo{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,t=this.length;let n=this.peek,r=this.index;for(;n<=nr;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(to(n))return this.scanIdentifier();if(Dr(n))return this.scanNumber(r);const s=r;switch(n){case sr:return this.advance(),Dr(this.peek)?this.scanNumber(s):Qi(s,this.index,sr);case 40:case 41:case vr:case yr:case 91:case 93:case rr:case or:case ar:return this.scanCharacter(s,n);case 39:case 34:return this.scanString();case 35:return this.scanPrivateIdentifier();case 43:case 45:case 42:case ir:case 37:case 94:return this.scanOperator(s,String.fromCharCode(n));case 63:return this.scanQuestion(s);case cr:case ur:return this.scanComplexOperator(s,String.fromCharCode(n),lr,"=");case 33:case lr:return this.scanComplexOperator(s,String.fromCharCode(n),lr,"=",lr,"=");case 38:return this.scanComplexOperator(s,"&",38,"&");case 124:return this.scanComplexOperator(s,"|",124,"|");case br:for(;wr(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(n)}]`,0)}scanCharacter(e,t){return this.advance(),Qi(e,this.index,t)}scanOperator(e,t){return this.advance(),Ji(e,this.index,t)}scanComplexOperator(e,t,n,r,s,i){this.advance();let o=t;return this.peek==n&&(this.advance(),o+=r),null!=s&&this.peek==s&&(this.advance(),o+=i),Ji(e,this.index,o)}scanIdentifier(){const e=this.index;for(this.advance();no(this.peek);)this.advance();const t=this.input.substring(e,this.index);return Gi.indexOf(t)>-1?(n=e,r=this.index,s=t,new Yi(n,r,Ki.Keyword,0,s)):function(e,t,n){return new Yi(e,t,Ki.Identifier,0,n)}(e,this.index,t);var n,r,s}scanPrivateIdentifier(){const e=this.index;if(this.advance(),!to(this.peek))return this.error("Invalid character [#]",-1);for(;no(this.peek);)this.advance();const t=this.input.substring(e,this.index);return n=e,r=this.index,s=t,new Yi(n,r,Ki.PrivateIdentifier,0,s);var n,r,s}scanNumber(e){let t=this.index===e,n=!1;for(this.advance();;){if(Dr(this.peek));else if(95===this.peek){if(!Dr(this.input.charCodeAt(this.index-1))||!Dr(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);n=!0}else if(this.peek===sr)t=!1;else{if(101!=(r=this.peek)&&69!=r)break;if(this.advance(),ro(this.peek)&&this.advance(),!Dr(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var r;let s=this.input.substring(e,this.index);n&&(s=s.replace(/_/g,""));const i=t?function(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(s):parseFloat(s);return o=e,a=this.index,c=i,new Yi(o,a,Ki.Number,c,"");var o,a,c}scanString(){const e=this.index,t=this.peek;this.advance();let n="",r=this.index;const s=this.input;for(;this.peek!=t;)if(92==this.peek){let e;if(n+=s.substring(r,this.index),this.advance(),this.peek=this.peek,117==this.peek){const t=s.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(t))return this.error(`Invalid unicode escape [\\u${t}]`,0);e=parseInt(t,16);for(let e=0;e<5;e++)this.advance()}else e=so(this.peek),this.advance();n+=String.fromCharCode(e),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const i=s.substring(r,this.index);return this.advance(),o=e,a=this.index,c=n+i,new Yi(o,a,Ki.String,0,c);var o,a,c}scanQuestion(e){this.advance();let t="?";return 63!==this.peek&&this.peek!==sr||(t+=this.peek===sr?".":"?",this.advance()),Ji(e,this.index,t)}error(e,t){const n=this.index+t;return function(e,t,n){return new Yi(e,t,Ki.Error,0,n)}(n,this.index,`Lexer Error: ${e} at column ${n} in expression [${this.input}]`)}}function to(e){return mr<=e&&e<=fr||dr<=e&&e<=gr||95==e||36==e}function no(e){return Cr(e)||Dr(e)||95==e||36==e}function ro(e){return 45==e||43==e}function so(e){switch(e){case 110:return tr;case 102:return 12;case 114:return 13;case 116:return er;case 118:return 11;default:return e}}class io{constructor(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}}class oo{constructor(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}}class ao{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,t,n,r,s=Xn){this._checkNoInterpolation(e,n,s);const i=this._stripComments(e),o=this._lexer.tokenize(i);let a=1;t&&(a|=2);const c=new lo(e,n,r,o,a,this.errors,0).parseChain();return new xs(c,e,n,r,this.errors)}parseBinding(e,t,n,r=Xn){const s=this._parseBindingAst(e,t,n,r);return new xs(s,e,t,n,this.errors)}checkSimpleExpression(e){const t=new uo;return e.visit(t),t.errors}parseSimpleBinding(e,t,n,r=Xn){const s=this._parseBindingAst(e,t,n,r),i=this.checkSimpleExpression(s);return i.length>0&&this._reportError(`Host binding expression cannot contain ${i.join(" ")}`,e,t),new xs(s,e,t,n,this.errors)}_reportError(e,t,n,r){this.errors.push(new Jr(e,t,n,r))}_parseBindingAst(e,t,n,r){this._checkNoInterpolation(e,t,r);const s=this._stripComments(e),i=this._lexer.tokenize(s);return new lo(e,t,n,i,0,this.errors,0).parseChain()}parseTemplateBindings(e,t,n,r,s){const i=this._lexer.tokenize(t);return new lo(t,n,s,i,0,this.errors,0).parseTemplateBindings({source:e,span:new Ss(r,r+e.length)})}parseInterpolation(e,t,n,r,s=Xn){const{strings:i,expressions:o,offsets:a}=this.splitInterpolation(e,t,r,s);if(0===o.length)return null;const c=[];for(let r=0;r<o.length;++r){const s=o[r].text,i=this._stripComments(s),l=this._lexer.tokenize(i),u=new lo(e,t,n,l,0,this.errors,a[r]).parseChain();c.push(u)}return this.createInterpolationAst(i.map((e=>e.text)),c,e,t,n)}parseInterpolationExpression(e,t,n){const r=this._stripComments(e),s=this._lexer.tokenize(r),i=new lo(e,t,n,s,0,this.errors,0).parseChain();return this.createInterpolationAst(["",""],[i],e,t,n)}createInterpolationAst(e,t,n,r,s){const i=new Xr(0,n.length),o=new vs(i,i.toAbsolute(s),e,t);return new xs(o,n,r,s,this.errors)}splitInterpolation(e,t,n,r=Xn){const s=[],i=[],o=[],a=n?function(e){let t=new Map,n=0,r=0,s=0;for(;s<e.length;){const i=e[s];if(9===i.type){const[e,t]=i.parts;n+=t.length,r+=e.length}else{const e=i.parts.reduce(((e,t)=>e+t.length),0);r+=e,n+=e}t.set(r,n),s++}return t}(n):null;let c=0,l=!1,u=!1,{start:h,end:p}=r;for(;c<e.length;)if(l){const n=c,r=n+h.length,s=this._getInterpolationEndIndex(e,p,r);if(-1===s){l=!1,u=!0;break}const d=s+p.length,g=e.substring(r,s);0===g.trim().length&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${c} in`,t),i.push({text:g,start:n,end:d});const m=(a?.get(n)??n)+h.length;o.push(m),c=d,l=!1}else{const t=c;c=e.indexOf(h,c),-1===c&&(c=e.length);const n=e.substring(t,c);s.push({text:n,start:t,end:c}),l=!0}if(!l)if(u){const t=s[s.length-1];t.text+=e.substring(c),t.end=e.length}else s.push({text:e.substring(c),start:c,end:e.length});return new io(s,i,o)}wrapLiteralPrimitive(e,t,n){const r=new Xr(0,null==e?0:e.length);return new xs(new gs(r,r.toAbsolute(n),e),e,t,n,this.errors)}_stripComments(e){const t=this._commentStart(e);return null!=t?e.substring(0,t):e}_commentStart(e){let t=null;for(let n=0;n<e.length-1;n++){const r=e.charCodeAt(n),s=e.charCodeAt(n+1);if(r===ir&&s==ir&&null==t)return n;t===r?t=null:null==t&&xr(r)&&(t=r)}return null}_checkNoInterpolation(e,t,{start:n,end:r}){let s=-1,i=-1;for(const t of this._forEachUnquotedChar(e,0))if(-1===s)e.startsWith(n)&&(s=t);else if(i=this._getInterpolationEndIndex(e,r,t),i>-1)break;s>-1&&i>-1&&this._reportError(`Got interpolation (${n}${r}) where expression was expected`,e,`at column ${s} in`,t)}_getInterpolationEndIndex(e,t,n){for(const r of this._forEachUnquotedChar(e,n)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let n=null,r=0;for(let s=t;s<e.length;s++){const t=e[s];!xr(e.charCodeAt(s))||null!==n&&n!==t||r%2!=0?null===n&&(yield s):n=null===n?t:null,r="\\"===t?r+1:0}}}var co;!function(e){e[e.None=0]="None",e[e.Writable=1]="Writable"}(co||(co={}));class lo{constructor(e,t,n,r,s,i,o){this.input=e,this.location=t,this.absoluteOffset=n,this.tokens=r,this.parseFlags=s,this.errors=i,this.offset=o,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=co.None,this.sourceSpanCache=new Map,this.index=0}peek(e){const t=this.index+e;return t<this.tokens.length?this.tokens[t]:Xi}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:0===this.tokens.length?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let n=this.currentEndIndex;if(void 0!==t&&t>this.currentEndIndex&&(n=t),e>n){const t=n;n=e,e=t}return new Xr(e,n)}sourceSpan(e,t){const n=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(n)||this.sourceSpanCache.set(n,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(n)}advance(){this.index++}withContext(e,t){this.context|=e;const n=t();return this.context^=e,n}consumeOptionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Xi?"end of input":`token ${e}`}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null)}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),"")}parseChain(){const e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){const t=this.parsePipe();if(e.push(t),this.consumeOptionalCharacter(ar))for(1&this.parseFlags||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(ar););else if(this.index<this.tokens.length){const e=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===e)break}}if(0===e.length){const e=this.offset,t=this.offset+this.input.length;return new ns(this.span(e,t),this.sourceSpan(e,t))}return 1==e.length?e[0]:new is(this.span(t),this.sourceSpan(t),e)}parsePipe(){const e=this.inputIndex;let t=this.parseExpression();if(this.consumeOptionalOperator("|")){1&this.parseFlags&&this.error("Cannot have a pipe in an action expression");do{const n=this.inputIndex;let r,s,i=this.expectIdentifierOrKeyword();null!==i?r=this.sourceSpan(n):(i="",s=-1!==this.next.index?this.next.index:this.input.length+this.offset,r=new Xr(s,s).toAbsolute(this.absoluteOffset));const o=[];for(;this.consumeOptionalCharacter(or);)o.push(this.parseExpression());t=new ds(this.span(e),this.sourceSpan(e,s),t,i,o,r)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){const e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){const n=this.parsePipe();let r;if(this.consumeOptionalCharacter(or))r=this.parsePipe();else{const t=this.inputIndex,n=this.input.substring(e,t);this.error(`Conditional expression ${n} requires all 3 expressions`),r=new ns(this.span(e),this.sourceSpan(e))}return new os(this.span(e),this.sourceSpan(e),t,n,r)}return t}parseLogicalOr(){const e=this.inputIndex;let t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){const n=this.parseLogicalAnd();t=new ys(this.span(e),this.sourceSpan(e),"||",t,n)}return t}parseLogicalAnd(){const e=this.inputIndex;let t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){const n=this.parseNullishCoalescing();t=new ys(this.span(e),this.sourceSpan(e),"&&",t,n)}return t}parseNullishCoalescing(){const e=this.inputIndex;let t=this.parseEquality();for(;this.consumeOptionalOperator("??");){const n=this.parseEquality();t=new ys(this.span(e),this.sourceSpan(e),"??",t,n)}return t}parseEquality(){const e=this.inputIndex;let t=this.parseRelational();for(;this.next.type==Ki.Operator;){const n=this.next.strValue;switch(n){case"==":case"===":case"!=":case"!==":this.advance();const r=this.parseRelational();t=new ys(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parseRelational(){const e=this.inputIndex;let t=this.parseAdditive();for(;this.next.type==Ki.Operator;){const n=this.next.strValue;switch(n){case"<":case">":case"<=":case">=":this.advance();const r=this.parseAdditive();t=new ys(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parseAdditive(){const e=this.inputIndex;let t=this.parseMultiplicative();for(;this.next.type==Ki.Operator;){const n=this.next.strValue;switch(n){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new ys(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parseMultiplicative(){const e=this.inputIndex;let t=this.parsePrefix();for(;this.next.type==Ki.Operator;){const n=this.next.strValue;switch(n){case"*":case"%":case"/":this.advance();let r=this.parsePrefix();t=new ys(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parsePrefix(){if(this.next.type==Ki.Operator){const e=this.inputIndex;let t;switch(this.next.strValue){case"+":return this.advance(),t=this.parsePrefix(),bs.createPlus(this.span(e),this.sourceSpan(e),t);case"-":return this.advance(),t=this.parsePrefix(),bs.createMinus(this.span(e),this.sourceSpan(e),t);case"!":return this.advance(),t=this.parsePrefix(),new ws(this.span(e),this.sourceSpan(e),t)}}return this.parseCallChain()}parseCallChain(){const e=this.inputIndex;let t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(sr))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))t=this.consumeOptionalCharacter(40)?this.parseCall(t,e,!0):this.consumeOptionalCharacter(91)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(91))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(40))t=this.parseCall(t,e,!1);else{if(!this.consumeOptionalOperator("!"))return t;t=new Ds(this.span(e),this.sourceSpan(e),t)}}parsePrimary(){const e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new gs(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new gs(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new gs(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new gs(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new ss(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new ms(this.span(e),this.sourceSpan(e),t)}if(this.next.isCharacter(vr))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new rs(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){const t=this.next.toNumber();return this.advance(),new gs(this.span(e),this.sourceSpan(e),t)}if(this.next.isString()){const t=this.next.toString();return this.advance(),new gs(this.span(e),this.sourceSpan(e),t)}return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new ns(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new ns(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new ns(this.span(e),this.sourceSpan(e)))}parseExpressionList(e){const t=[];do{if(this.next.isCharacter(e))break;t.push(this.parsePipe())}while(this.consumeOptionalCharacter(rr));return t}parseLiteralMap(){const e=[],t=[],n=this.inputIndex;if(this.expectCharacter(vr),!this.consumeOptionalCharacter(yr)){this.rbracesExpected++;do{const n=this.inputIndex,r=this.next.isString(),s=this.expectIdentifierOrKeywordOrString();if(e.push({key:s,quoted:r}),r)this.expectCharacter(or),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(or))t.push(this.parsePipe());else{const e=this.span(n),r=this.sourceSpan(n);t.push(new as(e,r,r,new rs(e,r),s))}}while(this.consumeOptionalCharacter(rr));this.rbracesExpected--,this.expectCharacter(yr)}return new fs(this.span(n),this.sourceSpan(n),e,t)}parseAccessMember(e,t,n){const r=this.inputIndex,s=this.withContext(co.Writable,(()=>{const t=this.expectIdentifierOrKeyword()??"";return 0===t.length&&this.error("Expected identifier for property access",e.span.end),t})),i=this.sourceSpan(r);let o;if(n)this.consumeOptionalAssignment()?(this.error("The '?.' operator cannot be used in the assignment"),o=new ns(this.span(t),this.sourceSpan(t))):o=new ls(this.span(t),this.sourceSpan(t),i,e,s);else if(this.consumeOptionalAssignment()){if(!(1&this.parseFlags))return this.error("Bindings cannot contain assignments"),new ns(this.span(t),this.sourceSpan(t));const n=this.parseConditional();o=new cs(this.span(t),this.sourceSpan(t),i,e,s,n)}else o=new as(this.span(t),this.sourceSpan(t),i,e,s);return o}parseCall(e,t,n){const r=this.inputIndex;this.rparensExpected++;const s=this.parseCallArguments(),i=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(41),this.rparensExpected--;const o=this.span(t),a=this.sourceSpan(t);return n?new _s(o,a,e,s,i):new Cs(o,a,e,s,i)}consumeOptionalAssignment(){return 2&this.parseFlags&&this.next.isOperator("!")&&this.peek(1).isOperator("=")?(this.advance(),this.advance(),!0):this.consumeOptionalOperator("=")}parseCallArguments(){if(this.next.isCharacter(41))return[];const e=[];do{e.push(this.parsePipe())}while(this.consumeOptionalCharacter(rr));return e}expectTemplateBindingKey(){let e="",t=!1;const n=this.currentAbsoluteOffset;do{e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-")}while(t);return{source:e,span:new Ss(n,n+e.length)}}parseTemplateBindings(e){const t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){const n=this.parseLetBinding();if(n)t.push(n);else{const n=this.expectTemplateBindingKey(),r=this.parseAsBinding(n);r?t.push(r):(n.source=e.source+n.source.charAt(0).toUpperCase()+n.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(n)))}this.consumeStatementTerminator()}return new oo(t,[],this.errors)}parseKeyedReadOrWrite(e,t,n){return this.withContext(co.Writable,(()=>{this.rbracketsExpected++;const r=this.parsePipe();if(r instanceof ns&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(93),!this.consumeOptionalOperator("="))return n?new hs(this.span(t),this.sourceSpan(t),e,r):new us(this.span(t),this.sourceSpan(t),e,r);if(!n){const n=this.parseConditional();return new ps(this.span(t),this.sourceSpan(t),e,r,n)}return this.error("The '?.' operator cannot be used in the assignment"),new ns(this.span(t),this.sourceSpan(t))}))}parseDirectiveKeywordBindings(e){const t=[];this.consumeOptionalCharacter(or);const n=this.getDirectiveBoundTarget();let r=this.currentAbsoluteOffset;const s=this.parseAsBinding(e);s||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);const i=new Ss(e.span.start,r);return t.push(new Es(i,e,n)),s&&t.push(s),t}getDirectiveBoundTarget(){if(this.next===Xi||this.peekKeywordAs()||this.peekKeywordLet())return null;const e=this.parsePipe(),{start:t,end:n}=e.span,r=this.input.substring(t,n);return new xs(e,r,this.location,this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();const t=this.expectTemplateBindingKey();this.consumeStatementTerminator();const n=new Ss(e.span.start,this.currentAbsoluteOffset);return new Is(n,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;const e=this.currentAbsoluteOffset;this.advance();const t=this.expectTemplateBindingKey();let n=null;this.consumeOptionalOperator("=")&&(n=this.expectTemplateBindingKey()),this.consumeStatementTerminator();const r=new Ss(e,this.currentAbsoluteOffset);return new Is(r,t,n)}consumeStatementTerminator(){this.consumeOptionalCharacter(ar)||this.consumeOptionalCharacter(rr)}error(e,t=null){this.errors.push(new Jr(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return null==e&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let n=`Private identifiers are not supported. Unexpected private identifier: ${e}`;null!==t&&(n+=`, ${t}`),this.error(n)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(ar)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(yr))&&(this.rbracketsExpected<=0||!e.isCharacter(93))&&!(this.context&co.Writable&&e.isOperator("="));)this.next.isError()&&this.errors.push(new Jr(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class uo extends Ts{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}}class ho{constructor(e,t){this.sourceSpan=e,this.i18n=t}}class po extends ho{constructor(e,t,n,r){super(t,r),this.value=e,this.tokens=n}visit(e,t){return e.visitText(this,t)}}class go extends ho{constructor(e,t,n,r,s,i){super(r,i),this.switchValue=e,this.type=t,this.cases=n,this.switchValueSourceSpan=s}visit(e,t){return e.visitExpansion(this,t)}}class mo{constructor(e,t,n,r,s){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=s}visit(e,t){return e.visitExpansionCase(this,t)}}class fo extends ho{constructor(e,t,n,r,s,i,o){super(n,o),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=s,this.valueTokens=i}visit(e,t){return e.visitAttribute(this,t)}}class vo extends ho{constructor(e,t,n,r,s,i=null,o){super(r,o),this.name=e,this.attrs=t,this.children=n,this.startSourceSpan=s,this.endSourceSpan=i}visit(e,t){return e.visitElement(this,t)}}class yo{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}}function bo(e,t,n=null){const r=[],s=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach((e=>{const t=s(e);t&&r.push(t)})),r}const wo={AElig:"Æ",AMP:"&",amp:"&",Aacute:"Á",Abreve:"Ă",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",af:"⁡",Aring:"Å",angst:"Å",Ascr:"𝒜",Assign:"≔",colone:"≔",coloneq:"≔",Atilde:"Ã",Auml:"Ä",Backslash:"∖",setminus:"∖",setmn:"∖",smallsetminus:"∖",ssetmn:"∖",Barv:"⫧",Barwed:"⌆",doublebarwedge:"⌆",Bcy:"Б",Because:"∵",becaus:"∵",because:"∵",Bernoullis:"ℬ",Bscr:"ℬ",bernou:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",breve:"˘",Bumpeq:"≎",HumpDownHump:"≎",bump:"≎",CHcy:"Ч",COPY:"©",copy:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",DD:"ⅅ",Cayleys:"ℭ",Cfr:"ℭ",Ccaron:"Č",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",cedil:"¸",CenterDot:"·",centerdot:"·",middot:"·",Chi:"Χ",CircleDot:"⊙",odot:"⊙",CircleMinus:"⊖",ominus:"⊖",CirclePlus:"⊕",oplus:"⊕",CircleTimes:"⊗",otimes:"⊗",ClockwiseContourIntegral:"∲",cwconint:"∲",CloseCurlyDoubleQuote:"”",rdquo:"”",rdquor:"”",CloseCurlyQuote:"’",rsquo:"’",rsquor:"’",Colon:"∷",Proportion:"∷",Colone:"⩴",Congruent:"≡",equiv:"≡",Conint:"∯",DoubleContourIntegral:"∯",ContourIntegral:"∮",conint:"∮",oint:"∮",Copf:"ℂ",complexes:"ℂ",Coproduct:"∐",coprod:"∐",CounterClockwiseContourIntegral:"∳",awconint:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",asympeq:"≍",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",ddagger:"‡",Darr:"↡",Dashv:"⫤",DoubleLeftTee:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",nabla:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",acute:"´",DiacriticalDot:"˙",dot:"˙",DiacriticalDoubleAcute:"˝",dblac:"˝",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"˜",tilde:"˜",Diamond:"⋄",diam:"⋄",diamond:"⋄",DifferentialD:"ⅆ",dd:"ⅆ",Dopf:"𝔻",Dot:"¨",DoubleDot:"¨",die:"¨",uml:"¨",DotDot:"⃜",DotEqual:"≐",doteq:"≐",esdot:"≐",DoubleDownArrow:"⇓",Downarrow:"⇓",dArr:"⇓",DoubleLeftArrow:"⇐",Leftarrow:"⇐",lArr:"⇐",DoubleLeftRightArrow:"⇔",Leftrightarrow:"⇔",hArr:"⇔",iff:"⇔",DoubleLongLeftArrow:"⟸",Longleftarrow:"⟸",xlArr:"⟸",DoubleLongLeftRightArrow:"⟺",Longleftrightarrow:"⟺",xhArr:"⟺",DoubleLongRightArrow:"⟹",Longrightarrow:"⟹",xrArr:"⟹",DoubleRightArrow:"⇒",Implies:"⇒",Rightarrow:"⇒",rArr:"⇒",DoubleRightTee:"⊨",vDash:"⊨",DoubleUpArrow:"⇑",Uparrow:"⇑",uArr:"⇑",DoubleUpDownArrow:"⇕",Updownarrow:"⇕",vArr:"⇕",DoubleVerticalBar:"∥",par:"∥",parallel:"∥",shortparallel:"∥",spar:"∥",DownArrow:"↓",ShortDownArrow:"↓",darr:"↓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",duarr:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",leftharpoondown:"↽",lhard:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",rhard:"⇁",rightharpoondown:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",top:"⊤",DownTeeArrow:"↧",mapstodown:"↧",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ETH:"Ð",Eacute:"É",Ecaron:"Ě",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrave:"È",Element:"∈",in:"∈",isin:"∈",isinv:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",eqsim:"≂",esim:"≂",Equilibrium:"⇌",rightleftharpoons:"⇌",rlhar:"⇌",Escr:"ℰ",expectation:"ℰ",Esim:"⩳",Eta:"Η",Euml:"Ë",Exists:"∃",exist:"∃",ExponentialE:"ⅇ",ee:"ⅇ",exponentiale:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",blacksquare:"▪",squarf:"▪",squf:"▪",Fopf:"𝔽",ForAll:"∀",forall:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",gt:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",ggg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",ge:"≥",geq:"≥",GreaterEqualLess:"⋛",gel:"⋛",gtreqless:"⋛",GreaterFullEqual:"≧",gE:"≧",geqq:"≧",GreaterGreater:"⪢",GreaterLess:"≷",gl:"≷",gtrless:"≷",GreaterSlantEqual:"⩾",geqslant:"⩾",ges:"⩾",GreaterTilde:"≳",gsim:"≳",gtrsim:"≳",Gscr:"𝒢",Gt:"≫",NestedGreaterGreater:"≫",gg:"≫",HARDcy:"Ъ",Hacek:"ˇ",caron:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",Poincareplane:"ℌ",HilbertSpace:"ℋ",Hscr:"ℋ",hamilt:"ℋ",Hopf:"ℍ",quaternions:"ℍ",HorizontalLine:"─",boxh:"─",Hstrok:"Ħ",HumpEqual:"≏",bumpe:"≏",bumpeq:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"Í",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Im:"ℑ",image:"ℑ",imagpart:"ℑ",Igrave:"Ì",Imacr:"Ī",ImaginaryI:"ⅈ",ii:"ⅈ",Int:"∬",Integral:"∫",int:"∫",Intersection:"⋂",bigcap:"⋂",xcap:"⋂",InvisibleComma:"⁣",ic:"⁣",InvisibleTimes:"⁢",it:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",imagline:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",LT:"<",lt:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Lscr:"ℒ",lagran:"ℒ",Larr:"↞",twoheadleftarrow:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",lang:"⟨",langle:"⟨",LeftArrow:"←",ShortLeftArrow:"←",larr:"←",leftarrow:"←",slarr:"←",LeftArrowBar:"⇤",larrb:"⇤",LeftArrowRightArrow:"⇆",leftrightarrows:"⇆",lrarr:"⇆",LeftCeiling:"⌈",lceil:"⌈",LeftDoubleBracket:"⟦",lobrk:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",dharl:"⇃",downharpoonleft:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",lfloor:"⌊",LeftRightArrow:"↔",harr:"↔",leftrightarrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",dashv:"⊣",LeftTeeArrow:"↤",mapstoleft:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",vartriangleleft:"⊲",vltri:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",ltrie:"⊴",trianglelefteq:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",uharl:"↿",upharpoonleft:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",leftharpoonup:"↼",lharu:"↼",LeftVectorBar:"⥒",LessEqualGreater:"⋚",leg:"⋚",lesseqgtr:"⋚",LessFullEqual:"≦",lE:"≦",leqq:"≦",LessGreater:"≶",lessgtr:"≶",lg:"≶",LessLess:"⪡",LessSlantEqual:"⩽",leqslant:"⩽",les:"⩽",LessTilde:"≲",lesssim:"≲",lsim:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",lAarr:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",longleftarrow:"⟵",xlarr:"⟵",LongLeftRightArrow:"⟷",longleftrightarrow:"⟷",xharr:"⟷",LongRightArrow:"⟶",longrightarrow:"⟶",xrarr:"⟶",Lopf:"𝕃",LowerLeftArrow:"↙",swarr:"↙",swarrow:"↙",LowerRightArrow:"↘",searr:"↘",searrow:"↘",Lsh:"↰",lsh:"↰",Lstrok:"Ł",Lt:"≪",NestedLessLess:"≪",ll:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mscr:"ℳ",phmmat:"ℳ",Mfr:"𝔐",MinusPlus:"∓",mnplus:"∓",mp:"∓",Mopf:"𝕄",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",ZeroWidthSpace:"​",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",nbsp:" ",Nopf:"ℕ",naturals:"ℕ",Not:"⫬",NotCongruent:"≢",nequiv:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",npar:"∦",nparallel:"∦",nshortparallel:"∦",nspar:"∦",NotElement:"∉",notin:"∉",notinva:"∉",NotEqual:"≠",ne:"≠",NotEqualTilde:"≂̸",nesim:"≂̸",NotExists:"∄",nexist:"∄",nexists:"∄",NotGreater:"≯",ngt:"≯",ngtr:"≯",NotGreaterEqual:"≱",nge:"≱",ngeq:"≱",NotGreaterFullEqual:"≧̸",ngE:"≧̸",ngeqq:"≧̸",NotGreaterGreater:"≫̸",nGtv:"≫̸",NotGreaterLess:"≹",ntgl:"≹",NotGreaterSlantEqual:"⩾̸",ngeqslant:"⩾̸",nges:"⩾̸",NotGreaterTilde:"≵",ngsim:"≵",NotHumpDownHump:"≎̸",nbump:"≎̸",NotHumpEqual:"≏̸",nbumpe:"≏̸",NotLeftTriangle:"⋪",nltri:"⋪",ntriangleleft:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",nltrie:"⋬",ntrianglelefteq:"⋬",NotLess:"≮",nless:"≮",nlt:"≮",NotLessEqual:"≰",nle:"≰",nleq:"≰",NotLessGreater:"≸",ntlg:"≸",NotLessLess:"≪̸",nLtv:"≪̸",NotLessSlantEqual:"⩽̸",nleqslant:"⩽̸",nles:"⩽̸",NotLessTilde:"≴",nlsim:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",npr:"⊀",nprec:"⊀",NotPrecedesEqual:"⪯̸",npre:"⪯̸",npreceq:"⪯̸",NotPrecedesSlantEqual:"⋠",nprcue:"⋠",NotReverseElement:"∌",notni:"∌",notniva:"∌",NotRightTriangle:"⋫",nrtri:"⋫",ntriangleright:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",nrtrie:"⋭",ntrianglerighteq:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",nsqsube:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",nsqsupe:"⋣",NotSubset:"⊂⃒",nsubset:"⊂⃒",vnsub:"⊂⃒",NotSubsetEqual:"⊈",nsube:"⊈",nsubseteq:"⊈",NotSucceeds:"⊁",nsc:"⊁",nsucc:"⊁",NotSucceedsEqual:"⪰̸",nsce:"⪰̸",nsucceq:"⪰̸",NotSucceedsSlantEqual:"⋡",nsccue:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",nsupset:"⊃⃒",vnsup:"⊃⃒",NotSupersetEqual:"⊉",nsupe:"⊉",nsupseteq:"⊉",NotTilde:"≁",nsim:"≁",NotTildeEqual:"≄",nsime:"≄",nsimeq:"≄",NotTildeFullEqual:"≇",ncong:"≇",NotTildeTilde:"≉",nap:"≉",napprox:"≉",NotVerticalBar:"∤",nmid:"∤",nshortmid:"∤",nsmid:"∤",Nscr:"𝒩",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacute:"Ó",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",ohm:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",ldquo:"“",OpenCurlyQuote:"‘",lsquo:"‘",Or:"⩔",Oscr:"𝒪",Oslash:"Ø",Otilde:"Õ",Otimes:"⨷",Ouml:"Ö",OverBar:"‾",oline:"‾",OverBrace:"⏞",OverBracket:"⎴",tbrk:"⎴",OverParenthesis:"⏜",PartialD:"∂",part:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",plusmn:"±",pm:"±",Popf:"ℙ",primes:"ℙ",Pr:"⪻",Precedes:"≺",pr:"≺",prec:"≺",PrecedesEqual:"⪯",pre:"⪯",preceq:"⪯",PrecedesSlantEqual:"≼",prcue:"≼",preccurlyeq:"≼",PrecedesTilde:"≾",precsim:"≾",prsim:"≾",Prime:"″",Product:"∏",prod:"∏",Proportional:"∝",prop:"∝",propto:"∝",varpropto:"∝",vprop:"∝",Pscr:"𝒫",Psi:"Ψ",QUOT:'"',quot:'"',Qfr:"𝔔",Qopf:"ℚ",rationals:"ℚ",Qscr:"𝒬",RBarr:"⤐",drbkarow:"⤐",REG:"®",circledR:"®",reg:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",twoheadrightarrow:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",Rfr:"ℜ",real:"ℜ",realpart:"ℜ",ReverseElement:"∋",SuchThat:"∋",ni:"∋",niv:"∋",ReverseEquilibrium:"⇋",leftrightharpoons:"⇋",lrhar:"⇋",ReverseUpEquilibrium:"⥯",duhar:"⥯",Rho:"Ρ",RightAngleBracket:"⟩",rang:"⟩",rangle:"⟩",RightArrow:"→",ShortRightArrow:"→",rarr:"→",rightarrow:"→",srarr:"→",RightArrowBar:"⇥",rarrb:"⇥",RightArrowLeftArrow:"⇄",rightleftarrows:"⇄",rlarr:"⇄",RightCeiling:"⌉",rceil:"⌉",RightDoubleBracket:"⟧",robrk:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",dharr:"⇂",downharpoonright:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rfloor:"⌋",RightTee:"⊢",vdash:"⊢",RightTeeArrow:"↦",map:"↦",mapsto:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",vartriangleright:"⊳",vrtri:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",rtrie:"⊵",trianglerighteq:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",uharr:"↾",upharpoonright:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",rharu:"⇀",rightharpoonup:"⇀",RightVectorBar:"⥓",Ropf:"ℝ",reals:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",rAarr:"⇛",Rscr:"ℛ",realine:"ℛ",Rsh:"↱",rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortUpArrow:"↑",UpArrow:"↑",uarr:"↑",uparrow:"↑",Sigma:"Σ",SmallCircle:"∘",compfn:"∘",Sopf:"𝕊",Sqrt:"√",radic:"√",Square:"□",squ:"□",square:"□",SquareIntersection:"⊓",sqcap:"⊓",SquareSubset:"⊏",sqsub:"⊏",sqsubset:"⊏",SquareSubsetEqual:"⊑",sqsube:"⊑",sqsubseteq:"⊑",SquareSuperset:"⊐",sqsup:"⊐",sqsupset:"⊐",SquareSupersetEqual:"⊒",sqsupe:"⊒",sqsupseteq:"⊒",SquareUnion:"⊔",sqcup:"⊔",Sscr:"𝒮",Star:"⋆",sstarf:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",sube:"⊆",subseteq:"⊆",Succeeds:"≻",sc:"≻",succ:"≻",SucceedsEqual:"⪰",sce:"⪰",succeq:"⪰",SucceedsSlantEqual:"≽",sccue:"≽",succcurlyeq:"≽",SucceedsTilde:"≿",scsim:"≿",succsim:"≿",Sum:"∑",sum:"∑",Sup:"⋑",Supset:"⋑",Superset:"⊃",sup:"⊃",supset:"⊃",SupersetEqual:"⊇",supe:"⊇",supseteq:"⊇",THORN:"Þ",TRADE:"™",trade:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",there4:"∴",therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",Tilde:"∼",sim:"∼",thicksim:"∼",thksim:"∼",TildeEqual:"≃",sime:"≃",simeq:"≃",TildeFullEqual:"≅",cong:"≅",TildeTilde:"≈",ap:"≈",approx:"≈",asymp:"≈",thickapprox:"≈",thkap:"≈",Topf:"𝕋",TripleDot:"⃛",tdot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",lowbar:"_",UnderBrace:"⏟",UnderBracket:"⎵",bbrk:"⎵",UnderParenthesis:"⏝",Union:"⋃",bigcup:"⋃",xcup:"⋃",UnionPlus:"⊎",uplus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",udarr:"⇅",UpDownArrow:"↕",updownarrow:"↕",varr:"↕",UpEquilibrium:"⥮",udhar:"⥮",UpTee:"⊥",bot:"⊥",bottom:"⊥",perp:"⊥",UpTeeArrow:"↥",mapstoup:"↥",UpperLeftArrow:"↖",nwarr:"↖",nwarrow:"↖",UpperRightArrow:"↗",nearr:"↗",nearrow:"↗",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",bigvee:"⋁",xvee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",mid:"∣",shortmid:"∣",smid:"∣",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"❘",VerticalTilde:"≀",wr:"≀",wreath:"≀",VeryThinSpace:" ",hairsp:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",bigwedge:"⋀",xwedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",Zeta:"Ζ",Zfr:"ℨ",zeetrf:"ℨ",Zopf:"ℤ",integers:"ℤ",Zscr:"𝒵",aacute:"á",abreve:"ă",ac:"∾",mstpos:"∾",acE:"∾̳",acd:"∿",acirc:"â",acy:"а",aelig:"æ",afr:"𝔞",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",and:"∧",wedge:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",angle:"∠",ange:"⦤",angmsd:"∡",measuredangle:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angzarr:"⍼",aogon:"ą",aopf:"𝕒",apE:"⩰",apacir:"⩯",ape:"≊",approxeq:"≊",apid:"≋",apos:"'",aring:"å",ascr:"𝒶",ast:"*",midast:"*",atilde:"ã",auml:"ä",awint:"⨑",bNot:"⫭",backcong:"≌",bcong:"≌",backepsilon:"϶",bepsi:"϶",backprime:"‵",bprime:"‵",backsim:"∽",bsim:"∽",backsimeq:"⋍",bsime:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrktbrk:"⎶",bcy:"б",bdquo:"„",ldquor:"„",bemptyv:"⦰",beta:"β",beth:"ℶ",between:"≬",twixt:"≬",bfr:"𝔟",bigcirc:"◯",xcirc:"◯",bigodot:"⨀",xodot:"⨀",bigoplus:"⨁",xoplus:"⨁",bigotimes:"⨂",xotime:"⨂",bigsqcup:"⨆",xsqcup:"⨆",bigstar:"★",starf:"★",bigtriangledown:"▽",xdtri:"▽",bigtriangleup:"△",xutri:"△",biguplus:"⨄",xuplus:"⨄",bkarow:"⤍",rbarr:"⤍",blacklozenge:"⧫",lozf:"⧫",blacktriangle:"▴",utrif:"▴",blacktriangledown:"▾",dtrif:"▾",blacktriangleleft:"◂",ltrif:"◂",blacktriangleright:"▸",rtrif:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",minusb:"⊟",boxplus:"⊞",plusb:"⊞",boxtimes:"⊠",timesb:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bumpE:"⪮",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",ccaps:"⩍",ccaron:"č",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cemptyv:"⦲",cent:"¢",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",cire:"≗",circlearrowleft:"↺",olarr:"↺",circlearrowright:"↻",orarr:"↻",circledS:"Ⓢ",oS:"Ⓢ",circledast:"⊛",oast:"⊛",circledcirc:"⊚",ocir:"⊚",circleddash:"⊝",odash:"⊝",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",comma:",",commat:"@",comp:"∁",complement:"∁",congdot:"⩭",copf:"𝕔",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",curlyeqprec:"⋞",cuesc:"⋟",curlyeqsucc:"⋟",cularr:"↶",curvearrowleft:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curvearrowright:"↷",curarrm:"⤼",curlyvee:"⋎",cuvee:"⋎",curlywedge:"⋏",cuwed:"⋏",curren:"¤",cwint:"∱",cylcty:"⌭",dHar:"⥥",dagger:"†",daleth:"ℸ",dash:"‐",hyphen:"‐",dbkarow:"⤏",rBarr:"⤏",dcaron:"ď",dcy:"д",ddarr:"⇊",downdownarrows:"⇊",ddotseq:"⩷",eDDot:"⩷",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",diamondsuit:"♦",diams:"♦",digamma:"ϝ",gammad:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",llcorner:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",doteqdot:"≑",eDot:"≑",dotminus:"∸",minusd:"∸",dotplus:"∔",plusdo:"∔",dotsquare:"⊡",sdotb:"⊡",drcorn:"⌟",lrcorner:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",triangledown:"▿",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"≖",eqcirc:"≖",ecirc:"ê",ecolon:"≕",eqcolon:"≕",ecy:"э",edot:"ė",efDot:"≒",fallingdotseq:"≒",efr:"𝔢",eg:"⪚",egrave:"è",egs:"⪖",eqslantgtr:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",eqslantless:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",varnothing:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",straightepsilon:"ϵ",varepsilon:"ϵ",equals:"=",equest:"≟",questeq:"≟",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",risingdotseq:"≓",erarr:"⥱",escr:"ℯ",eta:"η",eth:"ð",euml:"ë",euro:"€",excl:"!",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",fork:"⋔",pitchfork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"½",half:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",sfrown:"⌢",fscr:"𝒻",gEl:"⪌",gtreqqless:"⪌",gacute:"ǵ",gamma:"γ",gap:"⪆",gtrapprox:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gimel:"ℷ",gjcy:"ѓ",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gneqq:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gnsim:"⋧",gopf:"𝕘",gscr:"ℊ",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtrdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrarr:"⥸",gvertneqq:"≩︀",gvnE:"≩︀",hardcy:"ъ",harrcir:"⥈",harrw:"↭",leftrightsquigarrow:"↭",hbar:"ℏ",hslash:"ℏ",planck:"ℏ",plankv:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",mldr:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",searhk:"⤥",hkswarow:"⤦",swarhk:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",larrhk:"↩",hookrightarrow:"↪",rarrhk:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hstrok:"ħ",hybull:"⁃",iacute:"í",icirc:"î",icy:"и",iecy:"е",iexcl:"¡",ifr:"𝔦",igrave:"ì",iiiint:"⨌",qint:"⨌",iiint:"∭",tint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",imath:"ı",inodot:"ı",imof:"⊷",imped:"Ƶ",incare:"℅",infin:"∞",infintie:"⧝",intcal:"⊺",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iquest:"¿",iscr:"𝒾",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",itilde:"ĩ",iukcy:"і",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",varkappa:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAtail:"⤛",lBarr:"⤎",lEg:"⪋",lesseqqgtr:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lambda:"λ",langd:"⦑",lap:"⪅",lessapprox:"⪅",laquo:"«",larrbfs:"⤟",larrfs:"⤝",larrlp:"↫",looparrowleft:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",leftarrowtail:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lcy:"л",ldca:"⤶",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leq:"≤",leftleftarrows:"⇇",llarr:"⇇",leftthreetimes:"⋋",lthree:"⋋",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessdot:"⋖",ltdot:"⋖",lfisht:"⥼",lfr:"𝔩",lgE:"⪑",lharul:"⥪",lhblk:"▄",ljcy:"љ",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lneqq:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lnsim:"⋦",loang:"⟬",loarr:"⇽",longmapsto:"⟼",xmap:"⟼",looparrowright:"↬",rarrlp:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",loz:"◊",lozenge:"◊",lpar:"(",lparlt:"⦓",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsime:"⪍",lsimg:"⪏",lsquor:"‚",sbquo:"‚",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",triangleleft:"◃",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"¯",strns:"¯",male:"♂",malt:"✠",maltese:"✠",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",mfr:"𝔪",mho:"℧",micro:"µ",midcir:"⫰",minus:"−",minusdu:"⨪",mlcp:"⫛",models:"⊧",mopf:"𝕞",mscr:"𝓂",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nLeftarrow:"⇍",nlArr:"⇍",nLeftrightarrow:"⇎",nhArr:"⇎",nLl:"⋘̸",nLt:"≪⃒",nRightarrow:"⇏",nrArr:"⇏",nVDash:"⊯",nVdash:"⊮",nacute:"ń",nang:"∠⃒",napE:"⩰̸",napid:"≋̸",napos:"ŉ",natur:"♮",natural:"♮",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",neArr:"⇗",nearhk:"⤤",nedot:"≐̸",nesear:"⤨",toea:"⤨",nfr:"𝔫",nharr:"↮",nleftrightarrow:"↮",nhpar:"⫲",nis:"⋼",nisd:"⋺",njcy:"њ",nlE:"≦̸",nleqq:"≦̸",nlarr:"↚",nleftarrow:"↚",nldr:"‥",nopf:"𝕟",not:"¬",notinE:"⋹̸",notindot:"⋵̸",notinvb:"⋷",notinvc:"⋶",notnivb:"⋾",notnivc:"⋽",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",nrarr:"↛",nrightarrow:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nscr:"𝓃",nsub:"⊄",nsubE:"⫅̸",nsubseteqq:"⫅̸",nsup:"⊅",nsupE:"⫆̸",nsupseteqq:"⫆̸",ntilde:"ñ",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwnear:"⤧",oacute:"ó",ocirc:"ô",ocy:"о",odblac:"ő",odiv:"⨸",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograve:"ò",ogt:"⧁",ohbar:"⦵",olcir:"⦾",olcross:"⦻",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",oopf:"𝕠",opar:"⦷",operp:"⦹",or:"∨",vee:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",oscr:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oslash:"ø",osol:"⊘",otilde:"õ",otimesas:"⨶",ouml:"ö",ovbar:"⌽",para:"¶",parsim:"⫳",parsl:"⫽",pcy:"п",percnt:"%",period:".",permil:"‰",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",straightphi:"ϕ",varphi:"ϕ",phone:"☎",pi:"π",piv:"ϖ",varpi:"ϖ",planckh:"ℎ",plus:"+",plusacir:"⨣",pluscir:"⨢",plusdu:"⨥",pluse:"⩲",plussim:"⨦",plustwo:"⨧",pointint:"⨕",popf:"𝕡",pound:"£",prE:"⪳",prap:"⪷",precapprox:"⪷",precnapprox:"⪹",prnap:"⪹",precneqq:"⪵",prnE:"⪵",precnsim:"⋨",prnsim:"⋨",prime:"′",profalar:"⌮",profline:"⌒",profsurf:"⌓",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quatint:"⨖",quest:"?",rAtail:"⤜",rHar:"⥤",race:"∽̱",racute:"ŕ",raemptyv:"⦳",rangd:"⦒",range:"⦥",raquo:"»",rarrap:"⥵",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rightarrowtail:"↣",rarrw:"↝",rightsquigarrow:"↝",ratail:"⤚",ratio:"∶",rbbrk:"❳",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdsh:"↳",rect:"▭",rfisht:"⥽",rfr:"𝔯",rharul:"⥬",rho:"ρ",rhov:"ϱ",varrho:"ϱ",rightrightarrows:"⇉",rrarr:"⇉",rightthreetimes:"⋌",rthree:"⋌",ring:"˚",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rsaquo:"›",rscr:"𝓇",rtimes:"⋊",rtri:"▹",triangleright:"▹",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",scE:"⪴",scap:"⪸",succapprox:"⪸",scaron:"š",scedil:"ş",scirc:"ŝ",scnE:"⪶",succneqq:"⪶",scnap:"⪺",succnapprox:"⪺",scnsim:"⋩",succnsim:"⋩",scpolint:"⨓",scy:"с",sdot:"⋅",sdote:"⩦",seArr:"⇘",sect:"§",semi:";",seswar:"⤩",tosa:"⤩",sext:"✶",sfr:"𝔰",sharp:"♯",shchcy:"щ",shcy:"ш",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",varsigma:"ς",simdot:"⩪",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",smashp:"⨳",smeparsl:"⧤",smile:"⌣",ssmile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",sqcaps:"⊓︀",sqcups:"⊔︀",sscr:"𝓈",star:"☆",sub:"⊂",subset:"⊂",subE:"⫅",subseteqq:"⫅",subdot:"⪽",subedot:"⫃",submult:"⫁",subnE:"⫋",subsetneqq:"⫋",subne:"⊊",subsetneq:"⊊",subplus:"⪿",subrarr:"⥹",subsim:"⫇",subsub:"⫕",subsup:"⫓",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",supE:"⫆",supseteqq:"⫆",supdot:"⪾",supdsub:"⫘",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supsetneqq:"⫌",supne:"⊋",supsetneq:"⊋",supplus:"⫀",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swnwar:"⤪",szlig:"ß",target:"⌖",tau:"τ",tcaron:"ť",tcedil:"ţ",tcy:"т",telrec:"⌕",tfr:"𝔱",theta:"θ",thetasym:"ϑ",thetav:"ϑ",vartheta:"ϑ",thorn:"þ",times:"×",timesbar:"⨱",timesd:"⨰",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tprime:"‴",triangle:"▵",utri:"▵",triangleq:"≜",trie:"≜",tridot:"◬",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",uHar:"⥣",uacute:"ú",ubrcy:"ў",ubreve:"ŭ",ucirc:"û",ucy:"у",udblac:"ű",ufisht:"⥾",ufr:"𝔲",ugrave:"ù",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uogon:"ų",uopf:"𝕦",upsi:"υ",upsilon:"υ",upuparrows:"⇈",uuarr:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",uuml:"ü",uwangle:"⦧",vBar:"⫨",vBarv:"⫩",vangrt:"⦜",varsubsetneq:"⊊︀",vsubne:"⊊︀",varsubsetneqq:"⫋︀",vsubnE:"⫋︀",varsupsetneq:"⊋︀",vsupne:"⊋︀",varsupsetneqq:"⫌︀",vsupnE:"⫌︀",vcy:"в",veebar:"⊻",veeeq:"≚",vellip:"⋮",vfr:"𝔳",vopf:"𝕧",vscr:"𝓋",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedgeq:"≙",weierp:"℘",wp:"℘",wfr:"𝔴",wopf:"𝕨",wscr:"𝓌",xfr:"𝔵",xi:"ξ",xnis:"⋻",xopf:"𝕩",xscr:"𝓍",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},Do="";wo.ngsp=Do;class Co extends Mr{constructor(e,t,n){super(n,e),this.tokenType=t}}class _o{constructor(e,t,n){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=n}}const So=/\r\n?/g;function xo(e){return`Unexpected character "${0===e?"EOF":String.fromCharCode(e)}"`}function Io(e){return`Unknown entity "${e}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}var Eo;!function(e){e.HEX="hexadecimal",e.DEC="decimal"}(Eo||(Eo={}));class To{constructor(e){this.error=e}}class ko{constructor(e,t,n){this._getTagDefinition=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||Xn,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map((e=>e.codePointAt(0)||0));const r=n.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=n.escapedString?new Lo(e,r):new Po(e,r),this._preserveLineEndings=n.preserveLineEndings||!1,this._escapedString=n.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=n.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(e){this.handleError(e)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(So,"\n")}tokenize(){for(;0!==this._cursor.peek();){const e=this._cursor.clone();try{this._attemptCharCode(cr)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(45)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(ir)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,(()=>this._isTextEnd()),(()=>this._isTagStart()))}catch(e){this.handleError(e)}}this._beginToken(24),this._endToken([])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(this._cursor.peek()!==yr&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===yr){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(null===this._currentTokenStart)throw new Co("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new Co("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const n={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}_createError(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const n=new Co(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new To(n)}handleError(e){if(e instanceof jo&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof To))throw e;this.errors.push(e.error)}_attemptCharCode(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(e){return t=e,Ro(this._cursor.peek())===Ro(t)&&(this._cursor.advance(),!0);var t}_requireCharCode(e){const t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(xo(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){const t=e.length;if(this._cursor.charsLeft()<t)return!1;const n=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){const t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(xo(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){const n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(n)<t)throw this._createError(xo(this._cursor.peek()),this._cursor.getSpan(n))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){const e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);const t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(35)){const e=this._attemptCharCode(120)||this._attemptCharCode(88),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Fo),this._cursor.peek()!=ar){this._cursor.advance();const r=e?Eo.HEX:Eo.DEC;throw this._createError((n=r,`Unable to parse entity "${this._cursor.getChars(t)}" - ${n} character reference entities must end with ";"`),this._cursor.getSpan())}const s=this._cursor.getChars(r);this._cursor.advance();try{const n=parseInt(s,e?16:10);this._endToken([String.fromCharCode(n),this._cursor.getChars(t)])}catch{throw this._createError(Io(this._cursor.getChars(t)),this._cursor.getSpan())}}else{const n=this._cursor.clone();if(this._attemptCharCodeUntilFn(Oo),this._cursor.peek()!=ar)this._beginToken(e,t),this._cursor=n,this._endToken(["&"]);else{const e=this._cursor.getChars(n);this._cursor.advance();const r=wo[e];if(!r)throw this._createError(Io(e),this._cursor.getSpan(t));this._endToken([r,`&${e};`])}}var n}_consumeRawText(e,t){this._beginToken(e?6:7);const n=[];for(;;){const r=this._cursor.clone(),s=t();if(this._cursor=r,s)break;e&&38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(n.join(""))]),n.length=0,this._consumeEntity(6),this._beginToken(6)):n.push(this._readChar())}this._endToken([this._processCarriageReturns(n.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,(()=>this._attemptStr("--\x3e"))),this._beginToken(11),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,(()=>this._attemptStr("]]>"))),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);const t=this._cursor.clone();this._attemptUntilChar(ur);const n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}_consumePrefixAndName(){const e=this._cursor.clone();let t="";for(;this._cursor.peek()!==or&&!(((n=this._cursor.peek())<mr||fr<n)&&(n<dr||gr<n)&&(n<hr||n>pr));)this._cursor.advance();var n;let r;return this._cursor.peek()===or?(t=this._cursor.getChars(e),this._cursor.advance(),r=this._cursor.clone()):r=e,this._requireCharCodeUntilFn(Ao,""===t?0:1),[t,this._cursor.getChars(r)]}_consumeTagOpen(t){let n,r,s;try{if(!Cr(this._cursor.peek()))throw this._createError(xo(this._cursor.peek()),this._cursor.getSpan(t));for(s=this._consumeTagOpenStart(t),r=s.parts[0],n=s.parts[1],this._attemptCharCodeUntilFn(Mo);this._cursor.peek()!==ir&&this._cursor.peek()!==ur&&this._cursor.peek()!==cr&&0!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(Mo),this._attemptCharCode(lr)&&(this._attemptCharCodeUntilFn(Mo),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Mo);this._consumeTagOpenEnd()}catch(e){if(e instanceof To)return void(s?s.type=4:(this._beginToken(5,t),this._endToken(["<"])));throw e}const i=this._getTagDefinition(n).getContentType(r);i===e.RAW_TEXT?this._consumeRawTextWithTagClose(r,n,!1):i===e.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(r,n,!0)}_consumeRawTextWithTagClose(e,t,n){this._consumeRawText(n,(()=>!!this._attemptCharCode(cr)&&!!this._attemptCharCode(ir)&&(this._attemptCharCodeUntilFn(Mo),!!this._attemptStrCaseInsensitive(t)&&(this._attemptCharCodeUntilFn(Mo),this._attemptCharCode(ur))))),this._beginToken(3),this._requireCharCodeUntilFn((e=>e===ur),3),this._cursor.advance(),this._endToken([e,t])}_consumeTagOpenStart(e){this._beginToken(0,e);const t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){const e=this._cursor.peek();if(39===e||34===e)throw this._createError(xo(e),this._cursor.getSpan());this._beginToken(14);const t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeValue(){if(39===this._cursor.peek()||34===this._cursor.peek()){const e=this._cursor.peek();this._consumeQuote(e);const t=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,t,t),this._consumeQuote(e)}else{const e=()=>Ao(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){const e=this._attemptCharCode(ir)?2:1;this._beginToken(e),this._requireCharCode(ur),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(Mo);const t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(Mo),this._requireCharCode(ur),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(vr),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);const e=this._readUntil(rr),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{const n=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(n)}this._requireCharCode(rr),this._attemptCharCodeUntilFn(Mo),this._beginToken(7);const n=this._readUntil(rr);this._endToken([n]),this._requireCharCode(rr),this._attemptCharCodeUntilFn(Mo)}_consumeExpansionCaseStart(){this._beginToken(20);const e=this._readUntil(vr).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Mo),this._beginToken(21),this._requireCharCode(vr),this._endToken([]),this._attemptCharCodeUntilFn(Mo),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(yr),this._endToken([]),this._attemptCharCodeUntilFn(Mo),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(yr),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,n,r){this._beginToken(e);const s=[];for(;!n();){const n=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(s.join(""))],n),s.length=0,this._consumeInterpolation(t,n,r),this._beginToken(e)):38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(e),this._beginToken(e)):s.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(s.join(""))])}_consumeInterpolation(e,t,n){const r=[];this._beginToken(e,t),r.push(this._interpolationConfig.start);const s=this._cursor.clone();let i=null,o=!1;for(;0!==this._cursor.peek()&&(null===n||!n());){const e=this._cursor.clone();if(this._isTagStart())return this._cursor=e,r.push(this._getProcessedChars(s,e)),void this._endToken(r);if(null===i){if(this._attemptStr(this._interpolationConfig.end))return r.push(this._getProcessedChars(s,e)),r.push(this._interpolationConfig.end),void this._endToken(r);this._attemptStr("//")&&(o=!0)}const t=this._cursor.peek();this._cursor.advance(),92===t?this._cursor.advance():t===i?i=null:!o&&null===i&&xr(t)&&(i=t)}r.push(this._getProcessedChars(s,this._cursor)),this._endToken(r)}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){if(this._isTagStart()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(this._cursor.peek()===yr&&this._isInExpansionCase())return!0}return!1}_isTagStart(){if(this._cursor.peek()===cr){const e=this._cursor.clone();e.advance();const t=e.peek();if(mr<=t&&t<=fr||dr<=t&&t<=gr||t===ir||33===t)return!0}return!1}_readUntil(e){const t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&21===this._expansionCaseStack[this._expansionCaseStack.length-1]}_isInExpansionForm(){return this._expansionCaseStack.length>0&&19===this._expansionCaseStack[this._expansionCaseStack.length-1]}isExpansionFormStart(){if(this._cursor.peek()!==vr)return!1;if(this._interpolationConfig){const e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}function Mo(e){return!wr(e)||0===e}function Ao(e){return wr(e)||e===ur||e===cr||e===ir||39===e||34===e||e===lr||0===e}function Fo(e){return e===ar||0===e||!function(e){return e>=mr&&e<=102||e>=dr&&e<=70||Dr(e)}(e)}function Oo(e){return e===ar||0===e||!Cr(e)}function Ro(e){return e>=mr&&e<=fr?e-mr+dr:e}class Po{constructor(e,t){if(e instanceof Po){this.file=e.file,this.input=e.input,this.end=e.end;const t=e.state;this.state={peek:t.peek,offset:t.offset,line:t.line,column:t.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new Po(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){let n=e=e||this;if(t)for(;this.diff(e)>0&&-1!==t.indexOf(e.peek());)n===e&&(e=e.clone()),e.advance();const r=this.locationFromCursor(e),s=this.locationFromCursor(this),i=n!==e?this.locationFromCursor(n):r;return new Tr(r,s,i)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new jo('Unexpected character "EOF"',this);const t=this.charAt(e.offset);t===tr?(e.line++,e.column=0):_r(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)}locationFromCursor(e){return new Ir(e.file,e.state.offset,e.state.line,e.state.column)}}class Lo extends Po{constructor(e,t){e instanceof Lo?(super(e),this.internalState={...e.internalState}):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new Lo(this)}getChars(e){const t=e.clone();let n="";for(;t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}processEscapeSequence(){const e=()=>this.internalState.peek;if(92===e())if(this.internalState={...this.state},this.advanceState(this.internalState),110===e())this.state.peek=tr;else if(114===e())this.state.peek=13;else if(118===e())this.state.peek=11;else if(116===e())this.state.peek=er;else if(98===e())this.state.peek=8;else if(102===e())this.state.peek=12;else if(117===e())if(this.advanceState(this.internalState),e()===vr){this.advanceState(this.internalState);const t=this.clone();let n=0;for(;e()!==yr;)this.advanceState(this.internalState),n++;this.state.peek=this.decodeHexDigits(t,n)}else{const e=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,4)}else if(120===e()){this.advanceState(this.internalState);const e=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,2)}else if(Sr(e())){let t="",n=0,r=this.clone();for(;Sr(e())&&n<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),n++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else _r(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){const n=this.input.slice(e.internalState.offset,e.internalState.offset+t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new jo("Invalid hexadecimal escape sequence",e);return r}}class jo{constructor(e,t){this.msg=e,this.cursor=t}}class No extends Mr{constructor(e,t,n){super(t,n),this.elementName=e}static create(e,t,n){return new No(e,t,n)}}class Uo{constructor(e,t){this.rootNodes=e,this.errors=t}}class Vo{constructor(e){this.getTagDefinition=e}parse(e,t,n){const r=function(e,t,n,r={}){const s=new ko(new Er(e,t),n,r);return s.tokenize(),new _o(function(e){const t=[];let n;for(let r=0;r<e.length;r++){const s=e[r];n&&5===n.type&&5===s.type||n&&16===n.type&&16===s.type?(n.parts[0]+=s.parts[0],n.sourceSpan.end=s.sourceSpan.end):(n=s,t.push(n))}return t}(s.tokens),s.errors,s.nonNormalizedIcuExpressions)}(e,t,this.getTagDefinition,n),s=new $o(r.tokens,this.getTagDefinition);return s.build(),new Uo(s.rootNodes,r.errors.concat(s.errors))}}class $o{constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;24!==this._peek.type;)0===this._peek.type||4===this._peek.type?this._consumeStartTag(this._advance()):3===this._peek.type?this._consumeEndTag(this._advance()):12===this._peek.type?(this._closeVoidElement(),this._consumeCdata(this._advance())):10===this._peek.type?(this._closeVoidElement(),this._consumeComment(this._advance())):5===this._peek.type||7===this._peek.type||6===this._peek.type?(this._closeVoidElement(),this._consumeText(this._advance())):19===this._peek.type?this._consumeExpansion(this._advance()):this._advance()}_advance(){const e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){const t=this._advanceIf(7);this._advanceIf(11);const n=null!=t?t.parts[0].trim():null;this._addToParent(new yo(n,e.sourceSpan))}_consumeExpansion(e){const t=this._advance(),n=this._advance(),r=[];for(;20===this._peek.type;){const e=this._parseExpansionCase();if(!e)return;r.push(e)}if(23!==this._peek.type)return void this.errors.push(No.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const s=new Tr(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new go(t.parts[0],n.parts[0],r,s,t.sourceSpan)),this._advance()}_parseExpansionCase(){const e=this._advance();if(21!==this._peek.type)return this.errors.push(No.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;const r=this._advance();n.push({type:24,parts:[],sourceSpan:r.sourceSpan});const s=new $o(n,this.getTagDefinition);if(s.build(),s.errors.length>0)return this.errors=this.errors.concat(s.errors),null;const i=new Tr(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),o=new Tr(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new mo(e.parts[0],s.rootNodes,i,e.sourceSpan,o)}_collectExpansionExpTokens(e){const t=[],n=[21];for(;;){if(19!==this._peek.type&&21!==this._peek.type||n.push(this._peek.type),22===this._peek.type){if(!Bo(n,21))return this.errors.push(No.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0===n.length)return t}if(23===this._peek.type){if(!Bo(n,19))return this.errors.push(No.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(24===this._peek.type)return this.errors.push(No.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){const t=[e],n=e.sourceSpan;let r=e.parts[0];if(r.length>0&&"\n"===r[0]){const n=this._getParentElement();null!=n&&0===n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(r=r.substring(1),t[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;8===this._peek.type||5===this._peek.type||9===this._peek.type;)e=this._advance(),t.push(e),8===e.type?r+=e.parts.join("").replace(/&([^;]+);/g,Ho):9===e.type?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){const s=e.sourceSpan;this._addToParent(new po(r,new Tr(n.start,s.end,n.fullStart,n.details),t))}}_closeVoidElement(){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}_consumeStartTag(e){const[t,n]=e.parts,r=[];for(;14===this._peek.type;)r.push(this._consumeAttr(this._advance()));const s=this._getElementFullName(t,n,this._getParentElement());let o=!1;if(2===this._peek.type){this._advance(),o=!0;const t=this.getTagDefinition(s);t.canSelfClose||null!==i(s)||t.isVoid||this.errors.push(No.create(s,e.sourceSpan,`Only void and foreign elements can be self closed "${e.parts[1]}"`))}else 1===this._peek.type&&(this._advance(),o=!1);const a=this._peek.sourceSpan.fullStart,c=new Tr(e.sourceSpan.start,a,e.sourceSpan.fullStart),l=new Tr(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new vo(s,r,[],c,l,void 0);this._pushElement(u),o?this._popElement(s,c):4===e.type&&(this._popElement(s,null),this.errors.push(No.create(s,c,`Opening tag "${s}" not terminated.`)))}_pushElement(e){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}_consumeEndTag(e){const t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this.getTagDefinition(t).isVoid)this.errors.push(No.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popElement(t,e.sourceSpan)){const n=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(No.create(t,e.sourceSpan,n))}}_popElement(e,t){let n=!1;for(let r=this._elementStack.length-1;r>=0;r--){const s=this._elementStack[r];if(s.name===e)return s.endSourceSpan=t,s.sourceSpan.end=null!==t?t.end:s.sourceSpan.end,this._elementStack.splice(r,this._elementStack.length-r),!n;this.getTagDefinition(s.name).closedByParent||(n=!0)}return!1}_consumeAttr(e){const t=o(e.parts[0],e.parts[1]);let n=e.sourceSpan.end;15===this._peek.type&&this._advance();let r="";const s=[];let i,a;if(16===this._peek.type)for(i=this._peek.sourceSpan,a=this._peek.sourceSpan.end;16===this._peek.type||17===this._peek.type||9===this._peek.type;){const e=this._advance();s.push(e),17===e.type?r+=e.parts.join("").replace(/&([^;]+);/g,Ho):9===e.type?r+=e.parts[0]:r+=e.parts.join(""),a=n=e.sourceSpan.end}15===this._peek.type&&(n=this._advance().sourceSpan.end);const c=i&&a&&new Tr(i.start,a,i.fullStart);return new fo(t,r,new Tr(e.sourceSpan.start,n,e.sourceSpan.fullStart),e.sourceSpan,c,s.length>0?s:void 0,void 0)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_addToParent(e){const t=this._getParentElement();null!=t?t.children.push(e):this.rootNodes.push(e)}_getElementFullName(e,n,r){if(""===e&&""===(e=this.getTagDefinition(n).implicitNamespacePrefix||"")&&null!=r){const n=t(r.name)[1];this.getTagDefinition(n).preventNamespaceInheritance||(e=i(r.name))}return o(e,n)}}function Bo(e,t){return e.length>0&&e[e.length-1]===t}function Ho(e,t){return void 0!==wo[t]?wo[t]||e:/^#x[a-f0-9]+$/i.test(t)?String.fromCodePoint(parseInt(t.slice(2),16)):/^#\d+$/.test(t)?String.fromCodePoint(parseInt(t.slice(1),10)):e}class qo extends Vo{constructor(){super(u)}parse(e,t,n){return super.parse(e,t,n)}}const zo="ngPreserveWhitespaces",Wo=new Set(["pre","template","textarea","script","style"]),Ko=" \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff",Go=new RegExp(`[^${Ko}]`),Zo=new RegExp(`[${Ko}]{2,}`,"g");function Yo(e){return e.replace(new RegExp(Do,"g")," ")}class Qo{visitElement(e,t){return Wo.has(e.name)||e.attrs.some((e=>e.name===zo))?new vo(e.name,bo(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new vo(e.name,e.attrs,function(e,t){const n=[];return t.forEach(((r,s)=>{const i={prev:t[s-1],next:t[s+1]},o=r.visit(e,i);o&&n.push(o)})),n}(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,t){return e.name!==zo?e:null}visitText(e,t){const n=e.value.match(Go),r=t&&(t.prev instanceof go||t.next instanceof go);if(n||r){const t=e.tokens.map((e=>5===e.type?function({type:e,parts:t,sourceSpan:n}){return{type:e,parts:[Jo(t[0])],sourceSpan:n}}(e):e)),n=Jo(e.value);return new po(n,e.sourceSpan,t,e.i18n)}return null}visitComment(e,t){return e}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}}function Jo(e){return Yo(e).replace(Zo," ")}function Xo(e,t=!1){return rt(Object.keys(e).map((n=>({key:n,quoted:t,value:e[n]}))))}class ea{}const ta=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],na=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),ra=Array.from(na).reduce(((e,[t,n])=>(e.set(t,n),e)),new Map);class sa extends ea{constructor(){super(),this._schema=new Map,this._eventSchema=new Map,ta.forEach((e=>{const t=new Map,n=new Set,[r,s]=e.split("|"),i=s.split(","),[o,a]=r.split("^");o.split(",").forEach((e=>{this._schema.set(e.toLowerCase(),t),this._eventSchema.set(e.toLowerCase(),n)}));const c=a&&this._schema.get(a.toLowerCase());if(c){for(const[e,n]of c)t.set(e,n);for(const e of this._eventSchema.get(a.toLowerCase()))n.add(e)}i.forEach((e=>{if(e.length>0)switch(e[0]){case"*":n.add(e.substring(1));break;case"!":t.set(e.substring(1),"boolean");break;case"#":t.set(e.substring(1),"number");break;case"%":t.set(e.substring(1),"object");break;default:t.set(e,"string")}}))}))}hasProperty(e,t,s){if(s.some((e=>e.name===f)))return!0;if(e.indexOf("-")>-1){if(n(e)||r(e))return!1;if(s.some((e=>e.name===m)))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(t)}hasElement(e,t){if(t.some((e=>e.name===f)))return!0;if(e.indexOf("-")>-1){if(n(e)||r(e))return!0;if(t.some((e=>e.name===m)))return!0}return this._schema.has(e.toLowerCase())}securityContext(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=Js()[e+"|"+t];return r||(r=Js()["*|"+t],r||v.NONE)}getMappedPropName(e){return na.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){const t=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(t.keys()).map((e=>ra.get(e)??e))}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return e.replace(D,((...e)=>e[1].toUpperCase()))}normalizeAnimationStyleValue(e,t,n){let r="";const s=n.toString().trim();let i=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&(i=`Please provide a CSS unit value for ${t}:${n}`)}return{error:i,value:s+r}}}const ia=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function oa(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),ia.has(e+"|"+t)||ia.has("*|"+t)}class aa{constructor(e,t,n,r){this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,t){const n=[];for(const r of Object.keys(e)){const s=e[r];"string"==typeof s?this.parsePropertyBinding(r,s,!0,t,t.start.offset,void 0,[],n,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${s}" (${typeof s})`,t)}return n}createDirectiveHostEventAsts(e,t){const n=[];for(const r of Object.keys(e)){const s=e[r];"string"==typeof s?this.parseEvent(r,s,!1,t,t,[],n,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${s}" (${typeof s})`,t)}return n}parseInterpolation(e,t,n){const r=t.start.toString(),s=t.fullStart.offset;try{const i=this._exprParser.parseInterpolation(e,r,s,n,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),i}catch(e){return this._reportError(`${e}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}parseInterpolationExpression(e,t){const n=t.start.toString(),r=t.start.offset;try{const s=this._exprParser.parseInterpolationExpression(e,n,r);return s&&this._reportExpressionParserErrors(s.errors,t),s}catch(e){return this._reportError(`${e}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInlineTemplateBinding(e,t,n,r,s,i,o,a){const c=n.start.offset+1,l=this._parseTemplateBindings(e,t,n,c,r);for(const e of l){const t=ua(n,e.sourceSpan),c=e.key.source,l=ua(n,e.key.span);if(e instanceof Is){const r=e.value?e.value.source:"$implicit",s=e.value?ua(n,e.value.span):void 0;o.push(new Os(c,r,t,l,s))}else if(e.value){const r=a?t:n,o=ua(n,e.value.ast.sourceSpan);this._parsePropertyAst(c,e.value,r,l,o,s,i)}else s.push([c,""]),this.parseLiteralAttr(c,null,l,r,void 0,s,i,l)}}_parseTemplateBindings(e,t,n,r,s){const i=n.start.toString();try{const o=this._exprParser.parseTemplateBindings(e,t,i,r,s);return this._reportExpressionParserErrors(o.errors,n),o.warnings.forEach((e=>{this._reportError(e,n,kr.WARNING)})),o.templateBindings}catch(e){return this._reportError(`${e}`,n),[]}}parseLiteralAttr(e,t,n,r,s,i,o,a){ca(e)?(e=e.substring(1),void 0!==a&&(a=ua(a,new Ss(a.start.offset+1,a.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,kr.ERROR),this._parseAnimation(e,t,n,r,a,s,i,o)):o.push(new As(e,this._exprParser.wrapLiteralPrimitive(t,"",r),qr.LITERAL_ATTR,n,a,s))}parsePropertyBinding(e,t,n,r,s,i,o,a,c){0===e.length&&this._reportError("Property name is missing in binding",r);let l=!1;e.startsWith("animate-")?(l=!0,e=e.substring(8),void 0!==c&&(c=ua(c,new Ss(c.start.offset+8,c.end.offset)))):ca(e)&&(l=!0,e=e.substring(1),void 0!==c&&(c=ua(c,new Ss(c.start.offset+1,c.end.offset)))),l?this._parseAnimation(e,t,r,s,c,i,o,a):this._parsePropertyAst(e,this._parseBinding(t,n,i||r,s),r,c,i,o,a)}parsePropertyInterpolation(e,t,n,r,s,i,o,a){const c=this.parseInterpolation(t,r||n,a);return!!c&&(this._parsePropertyAst(e,c,n,o,r,s,i),!0)}_parsePropertyAst(e,t,n,r,s,i,o){i.push([e,t.source]),o.push(new As(e,t,qr.DEFAULT,n,r,s))}_parseAnimation(e,t,n,r,s,i,o,a){0===e.length&&this._reportError("Animation trigger is missing",n);const c=this._parseBinding(t||"undefined",!1,i||n,r);o.push([e,c.source]),a.push(new As(e,c,qr.ANIMATION,n,s,i))}_parseBinding(e,t,n,r){const s=(n&&n.start||"(unknown)").toString();try{const i=t?this._exprParser.parseSimpleBinding(e,s,r,this._interpolationConfig):this._exprParser.parseBinding(e,s,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),i}catch(e){return this._reportError(`${e}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)}}createBoundElementProperty(e,t,n=!1,r=!0){if(t.isAnimation)return new Rs(t.name,4,v.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let s,i=null,a=null;const c=t.name.split(".");let l;if(c.length>1)if("attr"==c[0]){a=c.slice(1).join("."),n||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),l=la(this._schemaRegistry,e,a,!0);const r=a.indexOf(":");if(r>-1){const e=a.substring(0,r),t=a.substring(r+1);a=o(e,t)}s=1}else"class"==c[0]?(a=c[1],s=2,l=[v.NONE]):"style"==c[0]&&(i=c.length>2?c[2]:null,a=c[1],s=3,l=[v.STYLE]);if(null===a){const i=this._schemaRegistry.getMappedPropName(t.name);a=r?i:t.name,l=la(this._schemaRegistry,e,i,!1),s=0,n||this._validatePropertyOrAttributeName(i,t.sourceSpan,!1)}return new Rs(a,s,l[0],t.expression,i,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,n,r,s,i,o,a){0===e.length&&this._reportError("Event name is missing in binding",r),ca(e)?(e=e.slice(1),void 0!==a&&(a=ua(a,new Ss(a.start.offset+1,a.end.offset))),this._parseAnimationEvent(e,t,n,r,s,o,a)):this._parseRegularEvent(e,t,n,r,s,i,o,a)}calcPossibleSecurityContexts(e,t,n){const r=this._schemaRegistry.getMappedPropName(t);return la(this._schemaRegistry,e,r,n)}_parseAnimationEvent(e,t,n,r,s,i,o){const a=C(e,".",[e,""]),c=a[0],l=a[1].toLowerCase(),u=this._parseAction(t,n,s);i.push(new Fs(c,l,1,u,r,s,o)),0===c.length&&this._reportError("Animation event name is missing in binding",r),l?"start"!==l&&"done"!==l&&this._reportError(`The provided animation output phase value "${l}" for "@${c}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${c}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,t,n,r,s,i,o,a){const[c,l]=C(e,":",[null,e]),u=this._parseAction(t,n,s);i.push([e,u.source]),o.push(new Fs(l,c,0,u,r,s,a))}_parseAction(e,t,n){const r=(n&&n.start||"(unknown").toString(),s=n&&n.start?n.start.offset:0;try{const i=this._exprParser.parseAction(e,t,r,s,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),!i||i.ast instanceof ns?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)):i}catch(e){return this._reportError(`${e}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}_reportError(e,t,n=kr.ERROR){this.errors.push(new Mr(t,e,n))}_reportExpressionParserErrors(e,t){for(const n of e)this._reportError(n.message,t)}_validatePropertyOrAttributeName(e,t,n){const r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,kr.ERROR)}}function ca(e){return"@"==e[0]}function la(e,t,n,r){const s=[];return p.parse(t).forEach((t=>{const i=t.element?[t.element]:e.allKnownElementNames(),o=new Set(t.notSelectors.filter((e=>e.isElementSelector())).map((e=>e.element))),a=i.filter((e=>!o.has(e)));s.push(...a.map((t=>e.securityContext(t,n,r))))})),0===s.length?[v.NONE]:Array.from(new Set(s)).sort()}function ua(e,t){const n=t.start-e.start.offset,r=t.end-e.end.offset;return new Tr(e.start.moveBy(n),e.end.moveBy(r),e.fullStart.moveBy(n),e.details)}const ha=/^([^:/?#]+):/;function pa(e){let t=null,n=null,s=null,i=!1,o="";e.attrs.forEach((e=>{const r=e.name.toLowerCase();"select"==r?t=e.value:"href"==r?n=e.value:"rel"==r?s=e.value:"ngNonBindable"==e.name?i=!0:"ngProjectAs"==e.name&&e.value.length>0&&(o=e.value)})),t=function(e){return null===e||0===e.length?"*":e}(t);const a=e.name.toLowerCase();let c=da.OTHER;return r(a)?c=da.NG_CONTENT:"style"==a?c=da.STYLE:"script"==a?c=da.SCRIPT:"link"==a&&"stylesheet"==s&&(c=da.STYLESHEET),new ga(c,t,n,i,o)}var da;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(da||(da={}));class ga{constructor(e,t,n,r,s){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=s}}const ma=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,fa={start:"[(",end:")]"},va={start:"[",end:"]"},ya={start:"(",end:")"};class ba{constructor(e,t){this.bindingParser=e,this.options=t,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1}visitElement(e){const n=vn(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);const r=pa(e);if(r.type===da.SCRIPT)return null;if(r.type===da.STYLE){const t=1===(s=e).children.length&&s.children[0]instanceof po?s.children[0].value:null;return null!==t&&this.styles.push(t),null}if(r.type===da.STYLESHEET&&function(e){if(null==e||0===e.length||"/"==e[0])return!1;const t=e.match(ha);return null===t||"package"==t[1]||"asset"==t[1]}(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;var s;const i="ng-template"===t(e.name)[1],o=[],a=[],c=[],l=[],u=[],h={},p=[],d=[];let g=!1;for(const t of e.attrs){let e=!1;const n=Da(t.name);let r=!1;if(t.i18n&&(h[t.name]=t.i18n),n.startsWith("*")){g&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",t.sourceSpan),r=!0,g=!0;const e=t.value,s=n.substring(1),i=[],o=t.valueSpan?t.valueSpan.start.offset:t.sourceSpan.start.offset+t.name.length;this.bindingParser.parseInlineTemplateBinding(s,e,t.sourceSpan,o,[],p,i,!0),d.push(...i.map((e=>new tn(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan))))}else e=this.parseAttribute(i,t,[],o,a,c,l);e||r||u.push(this.visitAttribute(t))}const m=bo(r.nonBindable?wa:this,e.children);let f;if(r.type===da.NG_CONTENT){e.children&&!e.children.every((e=>function(e){return e instanceof po&&0==e.value.trim().length}(e)||function(e){return e instanceof yo}(e)))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);const t=r.selectAttr,n=e.attrs.map((e=>this.visitAttribute(e)));f=new en(t,n,e.sourceSpan,e.i18n),this.ngContentSelectors.push(t)}else if(i){const t=this.extractAttributes(e.name,o,h);f=new Xt(e.name,u,t.bound,a,[],m,l,c,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{const t=this.extractAttributes(e.name,o,h);f=new Jt(e.name,u,t.bound,a,m,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(g){const t=this.extractAttributes("ng-template",p,h),r=[];t.literal.forEach((e=>r.push(e))),t.bound.forEach((e=>r.push(e)));const s=f instanceof Jt?{attributes:f.attributes,inputs:f.inputs,outputs:f.outputs}:{attributes:[],inputs:[],outputs:[]},o=i&&n?void 0:e.i18n,a=f instanceof Xt?null:f.name;f=new Xt(a,s.attributes,s.inputs,s.outputs,r,[f],[],d,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,o)}return n&&(this.inI18nBlock=!1),f}visitAttribute(e){return new Zt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!vn(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);const t=e.i18n,n={},r={};return Object.keys(t.placeholders).forEach((e=>{const s=t.placeholders[e];if(e.startsWith("VAR_")){const t=e.trim(),r=this.bindingParser.parseInterpolationExpression(s.text,s.sourceSpan);n[t]=new Gt(r,s.sourceSpan)}else r[e]=this._visitTextWithInterpolation(s.text,s.sourceSpan,null)})),new rn(n,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new Wt(e.value||"",e.sourceSpan)),null}extractAttributes(e,t,n){const r=[],s=[];return t.forEach((t=>{const i=n[t.name];if(t.isLiteral)s.push(new Zt(t.name,t.expression.source||"",t.sourceSpan,t.keySpan,t.valueSpan,i));else{const n=this.bindingParser.createBoundElementProperty(e,t,!0,!1);r.push(Yt.fromBoundElementProperty(n,i))}})),{bound:r,literal:s}}parseAttribute(e,t,n,r,s,i,o){const a=Da(t.name),c=t.value,l=t.sourceSpan,u=t.valueSpan?t.valueSpan.start.offset:l.start.offset;function h(e,n,r){const s=t.name.length-a.length,i=e.start.moveBy(n.length+s),o=i.moveBy(r.length);return new Tr(i,o,i,r)}const p=a.match(ma);if(p){if(null!=p[1]){const e=p[7],s=h(l,p[1],e);this.bindingParser.parsePropertyBinding(e,c,!1,l,u,t.valueSpan,n,r,s)}else if(p[2])if(e){const e=p[7],n=h(l,p[2],e);this.parseVariable(e,c,l,n,t.valueSpan,i)}else this.reportError('"let-" is only supported on ng-template elements.',l);else if(p[3]){const e=p[7],n=h(l,p[3],e);this.parseReference(e,c,l,n,t.valueSpan,o)}else if(p[4]){const e=[],r=p[7],i=h(l,p[4],r);this.bindingParser.parseEvent(r,c,!1,l,t.valueSpan||l,n,e,i),Ca(e,s)}else if(p[5]){const e=p[7],i=h(l,p[5],e);this.bindingParser.parsePropertyBinding(e,c,!1,l,u,t.valueSpan,n,r,i),this.parseAssignmentEvent(e,c,l,t.valueSpan,n,s,i)}else if(p[6]){const e=h(l,"",a);this.bindingParser.parseLiteralAttr(a,c,l,u,t.valueSpan,n,r,e)}return!0}let d=null;if(a.startsWith(fa.start)?d=fa:a.startsWith(va.start)?d=va:a.startsWith(ya.start)&&(d=ya),null!==d&&a.endsWith(d.end)&&a.length>d.start.length+d.end.length){const e=a.substring(d.start.length,a.length-d.end.length),i=h(l,d.start,e);if(d.start===fa.start)this.bindingParser.parsePropertyBinding(e,c,!1,l,u,t.valueSpan,n,r,i),this.parseAssignmentEvent(e,c,l,t.valueSpan,n,s,i);else if(d.start===va.start)this.bindingParser.parsePropertyBinding(e,c,!1,l,u,t.valueSpan,n,r,i);else{const r=[];this.bindingParser.parseEvent(e,c,!1,l,t.valueSpan||l,n,r,i),Ca(r,s)}return!0}const g=h(l,"",a);return this.bindingParser.parsePropertyInterpolation(a,c,l,t.valueSpan,n,r,g,t.valueTokens??null)}_visitTextWithInterpolation(e,t,n,r){const s=Yo(e),i=this.bindingParser.parseInterpolation(s,t,n);return i?new Gt(i,t,r):new Kt(s,t)}parseVariable(e,t,n,r,s,i){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',n):0===e.length&&this.reportError("Variable does not have a name",n),i.push(new tn(e,t,n,r,s))}parseReference(e,t,n,r,s,i){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',n):0===e.length?this.reportError("Reference does not have a name",n):i.some((t=>t.name===e))&&this.reportError(`Reference "#${e}" is defined more than once`,n),i.push(new nn(e,t,n,r,s))}parseAssignmentEvent(e,t,n,r,s,i,o){const a=[];this.bindingParser.parseEvent(`${e}Change`,`${t} =$event`,!0,n,r||n,s,a,o),Ca(a,i)}reportError(e,t,n=kr.ERROR){this.errors.push(new Mr(t,e,n))}}const wa=new class{visitElement(e){const t=pa(e);if(t.type===da.SCRIPT||t.type===da.STYLE||t.type===da.STYLESHEET)return null;const n=bo(this,e.children,null);return new Jt(e.name,bo(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Zt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Kt(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}};function Da(e){return/^data-/i.test(e)?e.substring(5):e}function Ca(e,t){t.push(...e.map((e=>Qt.fromParsedEvent(e))))}var _a;!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE"}(_a||(_a={}));class Sa{constructor(e,t,n=0,r=null,s,i){this.index=e,this.ref=t,this.level=n,this.templateIndex=r,this.meta=s,this.registry=i,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=i||{getUniqueId:Cn(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(e,t,n,r){if(t.isVoid&&r)return;const s=t.isVoid||!r?t.startName:t.closeName,i={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r};Sn(this.placeholders,s,i)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const e=new Map;return this.placeholders.forEach(((t,n)=>e.set(n,t.map(Ta)))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,t){Sn(this._registry.icus,e,t)}appendBoundText(e){xn(e,this.bindings.size,this.id).forEach(((e,t)=>Sn(this.placeholders,t,...e)))}appendTemplate(e,t){this.appendTag(_a.TEMPLATE,e,t,!1),this.appendTag(_a.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}appendElement(e,t,n){this.appendTag(_a.ELEMENT,e,t,n)}appendProjection(e,t){this.appendTag(_a.ELEMENT,e,t,!1),this.appendTag(_a.ELEMENT,e,t,!0)}forkChildContext(e,t,n){return new Sa(e,this.ref,this.level+1,t,n,this._registry)}reconcileChildContext(e){["start","close"].forEach((t=>{const n=e.meta[`${t}Name`],r=(this.placeholders.get(n)||[]).find(Ea(this.id,e.templateIndex));r&&(r.ctx=e.id)})),e.placeholders.forEach(((t,n)=>{const r=this.placeholders.get(n);if(!r)return void this.placeholders.set(n,t);const s=r.findIndex(Ea(e.id,e.templateIndex));if(s>=0){const e=n.startsWith("CLOSE");n.endsWith("NG-TEMPLATE")?r.splice(s+(e?0:1),0,...t):(t[e?t.length-1:0].tmpl=r[s],r.splice(s,1,...t))}else r.push(...t);this.placeholders.set(n,r)})),this._unresolvedCtxCount--}}function xa(e,t,n,r){return Dn(`${r?"/":""}${e}${t}`,n)}function Ia(e,{index:t,ctx:n,isVoid:r},s){return r?xa(e,t,n)+xa(e,t,n,!0):xa(e,t,n,s)}function Ea(e,t){return n=>"object"==typeof n&&n.type===_a.TEMPLATE&&n.index===t&&n.ctx===e}function Ta(e){const t=(e,t)=>Ia("#",e,t),n=(e,t)=>Ia("*",e,t);switch(e.type){case _a.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case _a.TEMPLATE:return n(e,e.closed);default:return e}}const ka=new class{visitText(e){return e.value}visitContainer(e){return e.children.map((e=>e.visit(this))).join("")}visitIcu(e){const t=Object.keys(e.cases).map((t=>`${t} {${e.cases[t].visit(this)}}`));return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map((e=>e.visit(this))).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${En(e,!1)}}`}};function Ma(e){return e.visit(ka)}const Aa={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class Fa{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,t,n){const r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];const s=e.toUpperCase(),i=Aa[s]||`TAG_${s}`,o=this._generateUniqueName(n?i:`START_${i}`);return this._signatureToName[r]=o,o}getCloseTagPlaceholderName(e){const t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];const n=e.toUpperCase(),r=Aa[n]||`TAG_${n}`,s=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=s,s}getPlaceholderName(e,t){const n=e.toUpperCase(),r=`PH: ${n}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];const s=this._generateUniqueName(n);return this._signatureToName[r]=s,s}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}_hashTag(e,t,n){return`<${e}`+Object.keys(t).sort().map((e=>` ${e}=${t[e]}`)).join("")+(n?"/>":`></${e}>`)}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;const t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,`${e}_${t}`}}const Oa=new ao(new Zi);function Ra(e,t){return t}class Pa{constructor(e,t){this._expressionParser=e,this._interpolationConfig=t}toI18nMessage(e,t="",n="",r="",s){const i={isIcu:1==e.length&&e[0]instanceof go,icuDepth:0,placeholderRegistry:new Fa,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:s||Ra},o=bo(this,e,i);return new on(o,i.placeholderToContent,i.placeholderToMessage,t,n,r)}visitElement(e,t){const n=bo(this,e.children,t),r={};e.attrs.forEach((e=>{r[e.name]=e.value}));const s=u(e.name).isVoid,i=t.placeholderRegistry.getStartTagPlaceholderName(e.name,r,s);t.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let o="";s||(o=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[o]={text:`</${e.name}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});const a=new un(e.name,r,i,o,n,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,a)}visitAttribute(e,t){const n=void 0===e.valueTokens||1===e.valueTokens.length?new an(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}visitText(e,t){const n=1===e.tokens.length?new an(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;const n={},r=new ln(e.switchValue,e.type,n,e.sourceSpan);if(e.cases.forEach((e=>{n[e.value]=new cn(e.expression.map((e=>e.visit(this,t))),e.expSourceSpan)})),t.icuDepth--,t.isIcu||t.icuDepth>0){const n=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=n,t.placeholderToContent[n]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}const s=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);const i=new pn(r,s,e.sourceSpan);return t.visitNodeFn(e,i)}visitExpansionCase(e,t){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,t,n,r){const s=[];let i=!1;for(const t of e)switch(t.type){case 8:case 17:i=!0;const e=t.parts[1],r=e.split(La)[2]||"INTERPOLATION",o=n.placeholderRegistry.getPlaceholderName(r,e);n.placeholderToContent[o]={text:t.parts.join(""),sourceSpan:t.sourceSpan},s.push(new hn(e,o,t.sourceSpan));break;default:if(t.parts[0].length>0){const e=s[s.length-1];e instanceof an?(e.value+=t.parts[0],e.sourceSpan=new Tr(e.sourceSpan.start,t.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)):s.push(new an(t.parts[0],t.sourceSpan))}}return i?(function(e,t){if(t instanceof on&&(function(e){const t=e.nodes;if(1!==t.length||!(t[0]instanceof cn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}(t),t=t.nodes[0]),t instanceof cn){!function(e,t){if(e.length!==t.length)throw new Error("The number of i18n message children changed between first and second pass.");if(e.some(((e,n)=>t[n].constructor!==e.constructor)))throw new Error("The types of the i18n message children changed between first and second pass.")}(t.children,e);for(let n=0;n<e.length;n++)e[n].sourceSpan=t.children[n].sourceSpan}}(s,r),new cn(s,t)):s[0]}}const La=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;class ja extends Mr{constructor(e,t){super(e,t)}}const Na=(e,t)=>(e instanceof ho&&(t instanceof pn&&e.i18n instanceof on&&(t.previousMessage=e.i18n),e.i18n=t),t);class Ua{constructor(e=Xn,t=!1,n=!1){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=n,this.hasI18nMeta=!1,this._errors=[],this._createI18nMessage=function(e){const t=new Pa(Oa,e);return(e,n,r,s,i)=>t.toI18nMessage(e,n,r,s,i)}(this.interpolationConfig)}_generateI18nMessage(e,t="",n){const{meaning:r,description:s,customId:i}=this._parseMetadata(t),o=this._createI18nMessage(e,r,s,i,n);return this._setMessageId(o,t),this._setLegacyIds(o,t),o}visitAllWithErrors(e){const t=e.map((e=>e.visit(this,null)));return new Uo(t,this._errors)}visitElement(e){let t;if(function(e){return e.attrs.some((e=>{return(t=e.name)===gn||t.startsWith(mn);var t}))}(e)){this.hasI18nMeta=!0;const n=[],r={};for(const s of e.attrs)if(s.name===gn){const n=e.i18n||s.value;t=this._generateI18nMessage(e.children,n,Na),0===t.nodes.length&&(t=void 0),e.i18n=t}else if(s.name.startsWith(mn)){const t=s.name.slice(5);oa(e.name,t)?this._reportError(s,`Translating attribute '${t}' is disallowed for security reasons.`):r[t]=s.value}else n.push(s);if(Object.keys(r).length)for(const e of n){const t=r[e.name];void 0!==t&&e.value&&(e.i18n=this._generateI18nMessage([e],e.i18n||t))}this.keepI18nAttrs||(e.attrs=n)}return bo(this,e.children,t),e}visitExpansion(e,t){let n;const r=e.i18n;if(this.hasI18nMeta=!0,r instanceof pn){const s=r.name;n=this._generateI18nMessage([e],r),wn(n).name=s,null!==t&&(t.placeholderToMessage[s]=n)}else n=this._generateI18nMessage([e],t||r);return e.i18n=n,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}_parseMetadata(e){return"string"==typeof e?function(e=""){let t,n,r;if(e=e.trim()){const s=e.indexOf($a),i=e.indexOf(Va);let o;[o,t]=s>-1?[e.slice(0,s),e.slice(s+2)]:[e,""],[n,r]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:t,meaning:n,description:r}}(e):e instanceof on?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof on&&t.id||function(e){return e.id||M(e)}(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[k(e),M(e)];else if("string"!=typeof t){const n=t instanceof on?t:t instanceof pn?t.previousMessage:void 0;e.legacyIds=n?n.legacyIds:[]}}_reportError(e,t){this._errors.push(new ja(e.sourceSpan,t))}}const Va="|",$a="@@";function Ba(e,t,n,r){const s=function(e){return e.nodes.map((e=>e.visit(Ha,null))).join("")}(t),i=[at(s)];Object.keys(r).length&&(i.push(Xo(In(r,!0),!0)),i.push(Xo({original_code:rt(Object.keys(r).map((e=>({key:En(e),quoted:!0,value:t.placeholders[e]?at(t.placeholders[e].sourceSpan.toString()):at(t.placeholderToMessage[e].nodes.map((e=>e.sourceSpan.toString())).join(""))}))))})));const o=n.set(Je("goog.getMsg").callFn(i)).toConstDecl();return o.addLeadingComment(function(e){const t=[];return e.description?t.push({tagName:"desc",text:e.description}):t.push({tagName:"suppress",text:"{msgDescriptions}"}),e.meaning&&t.push({tagName:"meaning",text:e.meaning}),function(e=[]){return new ze(e)}(t)}(t)),[o,new Ze(e.set(n))]}const Ha=new class{formatPh(e){return`{$${En(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map((e=>e.visit(this))).join("")}visitIcu(e){return Ma(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map((e=>e.visit(this))).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}};function qa(e,t,n){const{messageParts:r,placeHolders:s}=function(e){const t=[],n=new za(e.placeholderToMessage,t);return e.nodes.forEach((e=>e.visit(n))),function(e){const t=[],n=[];e[0]instanceof Ce&&t.push(Wa(e[0].sourceSpan.start));for(let r=0;r<e.length;r++){const s=e[r];s instanceof De?t.push(s):(n.push(s),e[r-1]instanceof Ce&&t.push(Wa(e[r-1].sourceSpan.end)))}return e[e.length-1]instanceof Ce&&t.push(Wa(e[e.length-1].sourceSpan.end)),{messageParts:t,placeHolders:n}}(t)}(t),i=function(e){const t=e.nodes[0],n=e.nodes[e.nodes.length-1];return new Tr(t.sourceSpan.fullStart,n.sourceSpan.end,t.sourceSpan.fullStart,t.sourceSpan.details)}(t),o=s.map((e=>n[e.text])),a=function(e,t,n,r,s){return new _e(e,t,n,r,s)}(t,r,s,o,i),c=e.set(a);return[new Ze(c)]}class za{constructor(e,t){this.placeholderToMessage=e,this.pieces=t}visitText(e){if(this.pieces[this.pieces.length-1]instanceof De)this.pieces[this.pieces.length-1].text+=e.value;else{const t=new Tr(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new De(e.value,t))}}visitContainer(e){e.children.forEach((e=>e.visit(this)))}visitIcu(e){this.pieces.push(new De(Ma(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach((e=>e.visit(this))),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,t,n){return new Ce(En(e,!1),t,n)}}function Wa(e){return new De("",new Tr(e,e))}const Ka=new Set(["$event"]),Ga=new Map([["window",bt.resolveWindow],["document",bt.resolveDocument],["body",bt.resolveBody]]),Za=[" ","\n","\r","\t"];function Ya(e,t){return it(Je(On).bitwiseAnd(at(e),null,!1),t)}function Qa(e,t=null,n=null){const{type:r,name:s,target:i,phase:o,handler:a}=e;if(i&&!Ga.has(i))throw new Error(`Unexpected global target '${i}' defined for '${s}' event.\n        Supported list of global targets: ${Array.from(Ga.keys())}.`);const c="$event",l=new Set,u=null===n||0===n.bindingLevel?Je(Fn):n.getOrCreateSharedContextVar(0),h=Ls(n,u,a,"b",e.handlerSpan,l,Ka),p=[],d=n?.variableDeclarations(),g=n?.restoreViewStatement();if(d&&p.push(...d),p.push(...h),g){p.unshift(g);const e=p[p.length-1];e instanceof Ye?p[p.length-1]=new Ye(jn(e.value.sourceSpan,bt.resetView,[e.value])):p.push(new Ze(jn(null,bt.resetView,[])))}const m=1===r?function(e,t){return`${Ft}${e}.${t}`}(s,o):s,f=t&&Fr(t),v=[];l.has(c)&&v.push(new Fe(c,J));const y=st(v,p,X,null,f),b=[at(m),y];return i&&b.push(at(!1),Xe(Ga.get(i))),b}class Ja{constructor(e,t,n=0,r,s,i,o,a,c,l,u=function(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}()){this.constantPool=e,this.level=n,this.contextName=r,this.i18nContext=s,this.templateIndex=i,this.templateName=o,this._namespace=a,this.i18nUseExternalIds=l,this._constants=u,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=Un,this.visitVariable=Un,this.visitTextAttribute=Un,this.visitBoundAttribute=Un,this.visitBoundEvent=Un,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=c.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new Xa(e,(()=>this.allocateDataSlot()),(e=>this.allocatePureFunctionSlots(e)),((e,t,n,r)=>{this._bindingScope.set(this.level,t,r),this.creationInstruction(null,bt.pipe,[at(n),at(e)])}))}buildTemplateFunction(e,t,n=0,r){this._ngContentSelectorsOffset=n,this._namespace!==bt.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach((e=>this.registerContextVariables(e)));const s=this.i18nContext||vn(r)&&!yn(r)&&!(1===(i=e).length&&i[0]instanceof Jt&&e[0].i18n===r);var i;const o=dc(e);if(s&&this.i18nStart(null,r,o),sn(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach((e=>e())),0===this.level&&this._ngContentReservedSlots.length){const e=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const t=this._ngContentReservedSlots.map((e=>"*"!==e?w(e):e));e.push(this.constantPool.getConstLiteral(Vn(t),!0))}this.creationInstruction(null,bt.projectionDef,e,!0)}s&&this.i18nEnd(null,o);const a=Wn(this._creationCodeFns),c=Wn(this._updateCodeFns),l=this._bindingScope.viewSnapshotStatements(),u=this._bindingScope.variableDeclarations().concat(this._tempVariables),h=a.length>0?[Ya(1,l.concat(a))]:[],p=c.length>0?[Ya(2,u.concat(c))]:[];return st([new Fe(On,te),new Fe(Fn,null)],[...this._prefixCode,...h,...p],X,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}maybeRestoreView(){this._bindingScope.maybeRestoreView()}i18nTranslate(e,t={},n,r){const s=n||this.i18nGenerateMainBlockVar(),i=function(e,t,n,r={},s){const i=[kn(t),it(fc(),Ba(t,e,n,r),qa(t,e,In(r,!1)))];return s&&i.push(new Ze(t.set(s(t)))),i}(e,s,this.i18nGenerateClosureVar(e.id),t,r);return this._constants.prepareStatements.push(...i),s}registerContextVariables(e){const t=this._bindingScope.freshReferenceName(),n=this.level,r=Je(e.name+t);this._bindingScope.set(n,e.name,r,1,((t,s)=>{let i;if(t.bindingLevel===n)t.isListenerScope()&&t.hasRestoreViewVariable()?(i=Je(Rn),t.notifyRestoredViewContextUse()):i=Je(Fn);else{i=t.getSharedContextName(n)||nc(s)}return[r.set(i.prop(e.value||"$implicit")).toConstDecl()]}))}i18nAppendBindings(e){e.length>0&&e.forEach((e=>this.i18n.appendBinding(e)))}i18nBindProps(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(r instanceof Kt)t[n]=at(r.value);else{const e=r.value.visit(this._valueConverter);if(this.allocateBindingSlots(e),e instanceof vs){const{strings:r,expressions:s}=e,{id:i,bindings:o}=this.i18n,a=function(e,t=0,n=0){if(!e.length)return"";let r="";const s=e.length-1;for(let i=0;i<s;i++)r+=`${e[i]}${Dn(t+i,n)}`;return r+=e[s],r}(r,o.size,i);this.i18nAppendBindings(s),t[n]=at(a)}}})),t}i18nGenerateMainBlockVar(){return Je(this.constantPool.uniqueName("i18n_"))}i18nGenerateClosureVar(e){let t;const n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const r=Tn("EXTERNAL_"),s=this.constantPool.uniqueName(n);t=`${r}${Fr(e)}$$${s}`}else{const e=Tn(n);t=this.constantPool.uniqueName(e)}return Je(t)}i18nUpdateRef(e){const{icus:t,meta:n,isRoot:r,isResolved:s,isEmitted:i}=e;if(r&&s&&!i&&!yn(n)){e.isEmitted=!0;const r=e.getSerializedPlaceholders();let s,i={},o=r.size?_n(r):{};t.size&&t.forEach(((e,t)=>{if(1===e.length)o[t]=e[0];else{const n=Dn(`I18N_EXP_${t}`);o[t]=at(n),i[t]=nt(e)}})),(Array.from(r.values()).some((e=>e.length>1))||Object.keys(i).length)&&(s=e=>{const t=[e];return Object.keys(i).length&&t.push(Xo(i,!0)),jn(null,bt.i18nPostprocess,t)}),this.i18nTranslate(n,o,e.ref,s)}}i18nStart(e=null,t,n){const r=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(r,this.templateIndex,t):new Sa(r,this.i18nGenerateMainBlockVar(),0,this.templateIndex,t);const{id:s,ref:i}=this.i18n,o=[at(r),this.addToConsts(i)];s>0&&o.push(at(s)),this.creationInstruction(e,n?bt.i18n:bt.i18nStart,o)}i18nEnd(e=null,t){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:n,bindings:r}=this.i18n;if(r.size){for(const t of r)this.updateInstructionWithAdvance(this.getConstCount()-1,e,bt.i18nExp,(()=>this.convertPropertyBinding(t)));this.updateInstruction(e,bt.i18nApply,[at(n)])}t||this.creationInstruction(e,bt.i18nEnd),this.i18n=null}i18nAttributesInstruction(e,t,n){let r=!1;const s=[];if(t.forEach((t=>{const i=t.i18n,o=t.value.visit(this._valueConverter);if(this.allocateBindingSlots(o),o instanceof vs){const a=_n(xn(i));s.push(at(t.name),this.i18nTranslate(i,a)),o.expressions.forEach((t=>{r=!0,this.updateInstructionWithAdvance(e,n,bt.i18nExp,(()=>this.convertPropertyBinding(t)))}))}})),s.length>0){const e=at(this.allocateDataSlot()),t=this.addToConsts(nt(s));this.creationInstruction(n,bt.i18nAttributes,[e,t]),r&&this.updateInstruction(n,bt.i18nApply,[e])}}getNamespaceInstruction(e){switch(e){case"math":return bt.namespaceMathML;case"svg":return bt.namespaceSVG;default:return bt.namespaceHTML}}addNamespaceInstruction(e,t){this._namespace=e,this.creationInstruction(t.startSourceSpan,e)}interpolatedUpdateInstruction(e,t,n,r,s,i){this.updateInstructionWithAdvance(t,r.sourceSpan,e,(()=>[at(n),...this.getUpdateInstructionArguments(s),...i]))}visitContent(e){const t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[at(t)];this._ngContentReservedSlots.push(e.selector);const s=e.attributes.filter((e=>"select"!==e.name.toLowerCase())),i=this.getAttributeExpressions(e.name,s,[],[]);i.length>0?r.push(at(n),nt(i)):0!==n&&r.push(at(n)),this.creationInstruction(e.sourceSpan,bt.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,t)}visitElement(e){const r=this.allocateDataSlot(),s=new Bi(null);let i=!1;const o=vn(e.i18n)&&!yn(e.i18n),a=[],[c,l]=t(e.name),u=n(e.name);for(const t of e.attributes){const{name:e,value:n}=t;"ngNonBindable"===e?i=!0:"style"===e?s.registerStyleAttr(n):"class"===e?s.registerClassAttr(n):a.push(t)}const h=[at(r)];u||h.push(at(l));const p=[],d=[];e.inputs.forEach((e=>{s.registerBoundInput(e)||(0===e.type&&e.i18n?d.push(e):p.push(e))}));const g=this.getAttributeExpressions(e.name,a,p,e.outputs,s,[],d);h.push(this.addAttrsToConsts(g));const m=this.prepareRefsArray(e.references);h.push(this.addToConsts(m));const f=this._namespace,v=this.getNamespaceInstruction(c);v!==f&&this.addNamespaceInstruction(v,e),this.i18n&&this.i18n.appendElement(e.i18n,r);const y=!o&&this.i18n?!dc(e.children):e.children.length>0,b=!s.hasBindingsWithPipes&&0===e.outputs.length&&0===d.length&&!y,w=!b&&dc(e.children);if(b)this.creationInstruction(e.sourceSpan,u?bt.elementContainer:bt.element,Bn(h));else{if(this.creationInstruction(e.startSourceSpan,u?bt.elementContainerStart:bt.elementStart,Bn(h)),i&&this.creationInstruction(e.startSourceSpan,bt.disableBindings),d.length>0&&this.i18nAttributesInstruction(r,d,e.startSourceSpan??e.sourceSpan),e.outputs.length>0)for(const t of e.outputs)this.creationInstruction(t.sourceSpan,bt.listener,this.prepareListenerParameter(e.name,t,r));o&&this.i18nStart(e.startSourceSpan,e.i18n,w)}const D=s.buildUpdateLevelInstructions(this._valueConverter),C=D.length-1;for(let e=0;e<=C;e++){const t=D[e];this._bindingSlots+=this.processStylingUpdateInstruction(r,t)}const _=at(void 0),S=[],x=[];p.forEach((n=>{const s=n.type;if(4===s){const e=n.value.visit(this._valueConverter),t=!(e instanceof gs&&!e.value);this.allocateBindingSlots(e),S.push({span:n.sourceSpan,paramsOrFn:gc((()=>t?this.convertPropertyBinding(e):_),Ot(n.name))})}else{if(n.i18n)return;const i=n.value.visit(this._valueConverter);if(void 0!==i){const o=[],[a,c]=t(n.name),l=1===s;let u=uc(n.securityContext,l);if(u||"iframe"===e.name.toLowerCase()&&ti(n.name)&&(u=Xe(bt.validateIframeAttribute)),u&&o.push(u),a){const e=at(a);u?o.push(e):o.push(at(null),e)}if(this.allocateBindingSlots(i),0===s)i instanceof vs?this.interpolatedUpdateInstruction(ac(i),r,c,n,i,o):S.push({span:n.sourceSpan,paramsOrFn:gc((()=>this.convertPropertyBinding(i)),c,o)});else if(1===s)if(i instanceof vs&&zn(i)>1)this.interpolatedUpdateInstruction(function(e){switch(zn(e)){case 3:return bt.attributeInterpolate1;case 5:return bt.attributeInterpolate2;case 7:return bt.attributeInterpolate3;case 9:return bt.attributeInterpolate4;case 11:return bt.attributeInterpolate5;case 13:return bt.attributeInterpolate6;case 15:return bt.attributeInterpolate7;case 17:return bt.attributeInterpolate8;default:return bt.attributeInterpolateV}}(i),r,c,n,i,o);else{const e=i instanceof vs?i.expressions[0]:i;x.push({span:n.sourceSpan,paramsOrFn:gc((()=>this.convertPropertyBinding(e)),c,o)})}else this.updateInstructionWithAdvance(r,n.sourceSpan,bt.classProp,(()=>[at(r),at(c),this.convertPropertyBinding(i),...o]))}}}));for(const e of S)this.updateInstructionWithAdvance(r,e.span,bt.property,e.paramsOrFn);for(const e of x)this.updateInstructionWithAdvance(r,e.span,bt.attribute,e.paramsOrFn);if(sn(this,e.children),!o&&this.i18n&&this.i18n.appendElement(e.i18n,r,!0),!b){const t=e.endSourceSpan??e.sourceSpan;o&&this.i18nEnd(t,w),i&&this.creationInstruction(t,bt.enableBindings),this.creationInstruction(t,u?bt.elementContainerEnd:bt.elementEnd)}}visitTemplate(e){const n="ng-template",r=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(e.i18n,r);const s=e.tagName?t(e.tagName)[1]:e.tagName,i=`${this.contextName}${e.tagName?"_"+Fr(e.tagName):""}_${r}`,o=`${i}_Template`,a=[at(r),Je(o),at(s)],c=this.getAttributeExpressions(n,e.attributes,e.inputs,e.outputs,void 0,e.templateAttrs);if(a.push(this.addAttrsToConsts(c)),e.references&&e.references.length){const t=this.prepareRefsArray(e.references);a.push(this.addToConsts(t)),a.push(Xe(bt.templateRefExtractor))}const l=new Ja(this.constantPool,this._bindingScope,this.level+1,i,this.i18n,r,o,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push((()=>{const t=l.buildTemplateFunction(e.children,e.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,e.i18n);this.constantPool.statements.push(t.toDeclStmt(o)),l._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...l._ngContentReservedSlots)})),this.creationInstruction(e.sourceSpan,bt.templateCreate,(()=>(a.splice(2,0,at(l.getConstCount()),at(l.getVarCount())),Bn(a)))),this.templatePropertyBindings(r,e.templateAttrs),s===n){const[t,n]=function(e,t){const n=[],r=[];for(const s of e)(t(s)?n:r).push(s);return[n,r]}(e.inputs,bn);t.length>0&&this.i18nAttributesInstruction(r,t,e.startSourceSpan??e.sourceSpan),n.length>0&&this.templatePropertyBindings(r,n);for(const t of e.outputs)this.creationInstruction(t.sourceSpan,bt.listener,this.prepareListenerParameter("ng_template",t,r))}}visitBoundText(e){if(this.i18n){const t=e.value.visit(this._valueConverter);return this.allocateBindingSlots(t),void(t instanceof vs&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(t.expressions)))}const t=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,bt.text,[at(t)]);const n=e.value.visit(this._valueConverter);this.allocateBindingSlots(n),n instanceof vs?this.updateInstructionWithAdvance(t,e.sourceSpan,function(e){switch(zn(e)){case 1:return bt.textInterpolate;case 3:return bt.textInterpolate1;case 5:return bt.textInterpolate2;case 7:return bt.textInterpolate3;case 9:return bt.textInterpolate4;case 11:return bt.textInterpolate5;case 13:return bt.textInterpolate6;case 15:return bt.textInterpolate7;case 17:return bt.textInterpolate8;default:return bt.textInterpolateV}}(n),(()=>this.getUpdateInstructionArguments(n))):_("Text nodes should be interpolated and never bound directly.")}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,bt.text,[at(this.allocateDataSlot()),at(e.value)])}visitIcu(e){let t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));const n=this.i18n,r=this.i18nBindProps(e.vars),s=this.i18nBindProps(e.placeholders),i=e.i18n,o=e=>{const t=In({...r,...s},!1);return jn(null,bt.i18nPostprocess,[e,Xo(t,!0)])};if(yn(n.meta))this.i18nTranslate(i,{},n.ref,o);else{const e=this.i18nTranslate(i,{},void 0,o);n.appendIcu(wn(i).name,e)}return t&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(Vn(this._ngContentReservedSlots),!0):null}bindingContext(){return""+this._bindingContext++}templatePropertyBindings(e,t){const n=[];for(const r of t){if(!(r instanceof Yt))continue;const t=r.value.visit(this._valueConverter);if(void 0!==t)if(this.allocateBindingSlots(t),t instanceof vs){const n=[];this.interpolatedUpdateInstruction(ac(t),e,r.name,r,t,n)}else n.push({span:r.sourceSpan,paramsOrFn:gc((()=>this.convertPropertyBinding(t)),r.name)})}for(const t of n)this.updateInstructionWithAdvance(e,t.span,bt.property,t.paramsOrFn)}instructionFn(e,t,n,r,s=!1){e[s?"unshift":"push"]({span:t,reference:n,paramsOrFn:r})}processStylingUpdateInstruction(e,t){let n=0;if(t)for(const r of t.calls)n+=r.allocateBindingSlots,this.updateInstructionWithAdvance(e,r.sourceSpan,t.reference,(()=>r.params((e=>r.supportsInterpolation&&e instanceof vs?this.getUpdateInstructionArguments(e):this.convertPropertyBinding(e)))));return n}creationInstruction(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)}updateInstructionWithAdvance(e,t,n,r){this.addAdvanceInstructionIfNecessary(e,t),this.updateInstruction(t,n,r)}updateInstruction(e,t,n){this.instructionFn(this._updateCodeFns,e,t,n||[])}addAdvanceInstructionIfNecessary(e,t){if(e!==this._currentIndex){const n=e-this._currentIndex;if(n<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,t,bt.advance,[at(n)]),this._currentIndex=e}}allocatePureFunctionSlots(e){const t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}allocateBindingSlots(e){this._bindingSlots+=e instanceof vs?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?Je(Fn):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(e){const t=Ns(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),n=t.currValExpr;return this._tempVariables.push(...t.stmts),n}getUpdateInstructionArguments(e){const{args:t,stmts:n}=function(e,t,n,r){const s=new zs(e,t,r,!0),i=s.visitInterpolation(n,zr.Expression);return s.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),{stmts:Us(s,r),args:i.args}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...n),t}getAttributeExpressions(e,t,n,r,s,i=[],o=[]){const a=new Set,c=[];let l;for(const n of t)if("ngProjectAs"===n.name&&(l=n),n.i18n){const{i18nVarRefsCache:e}=this._constants;let t;e.has(n.i18n)?t=e.get(n.i18n):(t=this.i18nTranslate(n.i18n),e.set(n.i18n,t)),c.push(at(n.name),t)}else c.push(...sc(n.name),hc(e,n));function u(e,t){"string"==typeof e?a.has(e)||(c.push(...sc(e)),void 0!==t&&c.push(t),a.add(e)):c.push(at(e))}if(l&&c.push(...function(e){const t=w(e.value)[0];return[at(5),Vn(t)]}(l)),s&&s.populateInitialStylingAttrs(c),n.length||r.length){const e=c.length;for(let e=0;e<n.length;e++){const t=n[e];4!==t.type&&1!==t.type&&u(t.name)}for(let e=0;e<r.length;e++){const t=r[e];1!==t.type&&u(t.name)}c.length!==e&&c.splice(e,0,at(3))}return i.length&&(c.push(at(4)),i.forEach((e=>u(e.name)))),o.length&&(c.push(at(6)),o.forEach((e=>u(e.name)))),c}addToConsts(e){if(ct(e))return Be;const t=this._constants.constExpressions;for(let n=0;n<t.length;n++)if(t[n].isEquivalent(e))return at(n);return at(t.push(e)-1)}addAttrsToConsts(e){return e.length>0?this.addToConsts(nt(e)):Be}prepareRefsArray(e){return e&&0!==e.length?Vn(e.flatMap((e=>{const t=this.allocateDataSlot(),n=this._bindingScope.freshReferenceName(),r=this.level,s=Je(n);return this._bindingScope.set(r,e.name,s,0,((e,n)=>{const r=n>0?[nc(n).toStmt()]:[],i=s.set(Xe(bt.reference).callFn([at(t)]));return r.concat(i.toConstDecl())}),!0),[e.name,e.value]}))):Be}prepareListenerParameter(e,t,n){return()=>{const r=t.name,s=1===t.type?Pt(r,t.phase):Fr(r),i=`${this.templateName}_${e}_${s}_${n}_listener`,o=this._bindingScope.nestedScope(this._bindingScope.bindingLevel,Ka);return Qa(t,i,o)}}}class Xa extends Ms{constructor(e,t,n,r){super(),this.constantPool=e,this.allocateSlot=t,this.allocatePureFunctionSlots=n,this.definePipe=r,this._pipeBindExprs=[]}visitPipe(e,t){const n=this.allocateSlot(),r=`PIPE:${n}`,s=this.allocatePureFunctionSlots(2+e.args.length),i=new as(e.span,e.sourceSpan,e.nameSpan,new rs(e.span,e.sourceSpan),r),{identifier:o,isVarLength:a}=function(e){const t=ec[e.length];return{identifier:t||bt.pipeBindV,isVarLength:!t}}(e.args);this.definePipe(e.name,r,n,Xe(o));const c=[e.exp,...e.args],l=a?this.visitAll([new ms(e.span,e.sourceSpan,c)]):this.visitAll(c),u=new Cs(e.span,e.sourceSpan,i,[new gs(e.span,e.sourceSpan,n),new gs(e.span,e.sourceSpan,s),...l],null);return this._pipeBindExprs.push(u),u}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach((t=>{t.args[1].value+=e}))}visitLiteralArray(e,t){return new Ys(e.span,e.sourceSpan,this.visitAll(e.expressions),(e=>{const t=nt(e);return rc(this.constantPool,t,this.allocatePureFunctionSlots)}))}visitLiteralMap(e,t){return new Ys(e.span,e.sourceSpan,this.visitAll(e.values),(t=>{const n=rt(t.map(((t,n)=>({key:e.keys[n].key,value:t,quoted:e.keys[n].quoted}))));return rc(this.constantPool,n,this.allocatePureFunctionSlots)}))}}const ec=[bt.pipeBind1,bt.pipeBind2,bt.pipeBind3,bt.pipeBind4],tc=[bt.pureFunction0,bt.pureFunction1,bt.pureFunction2,bt.pureFunction3,bt.pureFunction4,bt.pureFunction5,bt.pureFunction6,bt.pureFunction7,bt.pureFunction8];function nc(e){return Xe(bt.nextContext).callFn(e>1?[at(e)]:[])}function rc(e,t,n){const{literalFactory:r,literalFactoryArguments:s}=e.getLiteralFactory(t),i=n(1+s.length),{identifier:o,isVarLength:a}=function(e){const t=tc[e.length];return{identifier:t||bt.pureFunctionV,isVarLength:!t}}(s),c=[at(i),r];return a?c.push(nt(s)):c.push(...s),Xe(o).callFn(c)}function sc(e){const[n,r]=t(e),s=at(r);return n?[at(0),at(n),s]:[s]}const ic="$$shared_ctx$$";class oc{constructor(e=0,t=null,n){if(this.bindingLevel=e,this.parent=t,this.globals=n,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,this.usesRestoredViewContext=!1,void 0!==n)for(const e of n)this.set(0,e,Je(e))}static createRootScope(){return new oc}get(e){let t=this;for(;t;){let n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView()),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}set(e,t,n,r=0,s,i){if(this.map.has(t)){if(i)return this;_(`The name ${t} is already defined in scope to be ${this.map.get(t)}`)}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:s,priority:r}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get(ic+0).declare=!0)}nestedScope(e,t){const n=new oc(e,this,t);return e>0&&n.generateSharedContextVar(0),n}getOrCreateSharedContextVar(e){const t=ic+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs}getSharedContextName(e){const t=this.map.get(ic+e);return t&&t.declare?t.lhs:null}maybeGenerateSharedContextVar(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){const t=this.map.get(ic+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){const t=Je(Fn+this.freshReferenceName());this.map.set(ic+e,{retrievalLevel:e,lhs:t,declareLocalCallback:(e,n)=>[t.set(nc(n)).toConstDecl()],declare:!1,priority:2})}getComponentProperty(e){const t=this.map.get(ic+0);return t.declare=!0,this.maybeRestoreView(),t.lhs.prop(e)}maybeRestoreView(){this.isListenerScope()&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=Je(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){if(this.restoreViewVariable){const e=jn(null,bt.restoreView,[this.restoreViewVariable]);return this.usesRestoredViewContext?Je(Rn).set(e).toConstDecl():e.toStmt()}return null}viewSnapshotStatements(){return this.restoreViewVariable?[this.restoreViewVariable.set(jn(null,bt.getCurrentView,[])).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter((e=>e.declare)).sort(((e,t)=>t.retrievalLevel-e.retrievalLevel||t.priority-e.priority)).reduce(((t,n)=>{const r=this.bindingLevel-n.retrievalLevel,s=n.declareLocalCallback(this,r-e);return e=r,t.concat(s)}),[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return"_r"+e.referenceNameIndex++}hasRestoreViewVariable(){return!!this.restoreViewVariable}notifyRestoredViewContextUse(){this.usesRestoredViewContext=!0}}function ac(e){switch(zn(e)){case 1:return bt.propertyInterpolate;case 3:return bt.propertyInterpolate1;case 5:return bt.propertyInterpolate2;case 7:return bt.propertyInterpolate3;case 9:return bt.propertyInterpolate4;case 11:return bt.propertyInterpolate5;case 13:return bt.propertyInterpolate6;case 15:return bt.propertyInterpolate7;case 17:return bt.propertyInterpolate8;default:return bt.propertyInterpolateV}}const cc=new sa;function lc(e=Xn){return new aa(new ao(new Zi),e,cc,[])}function uc(e,t){switch(e){case v.HTML:return Xe(bt.sanitizeHtml);case v.SCRIPT:return Xe(bt.sanitizeScript);case v.STYLE:return t?Xe(bt.sanitizeStyle):null;case v.URL:return Xe(bt.sanitizeUrl);case v.RESOURCE_URL:return Xe(bt.sanitizeResourceUrl);default:return null}}function hc(e,t){const n=Vn(t.value);if(!oa(e,t.name))return n;switch(cc.securityContext(e,t.name,!0)){case v.HTML:return ot(Xe(bt.trustConstantHtml),new be([new we(t.value)],[]),void 0,t.valueSpan);case v.RESOURCE_URL:return ot(Xe(bt.trustConstantResourceUrl),new be([new we(t.value)],[]),void 0,t.valueSpan);default:return n}}function pc(e){return e instanceof Kt||e instanceof Gt||e instanceof rn}function dc(e){return e.every(pc)}function gc(e,t,n){return()=>{const r=e(),s=Array.isArray(r)?r:[r];return n&&s.push(...n),t&&s.unshift(at(t)),s}}const mc="ngI18nClosureMode";function fc(){return tt(Je(mc)).notIdentical(at("undefined",ne)).and(Je(mc))}const vc=/attr\.([^\]]+)/,yc="%COMP%",bc=`_nghost-${yc}`,wc=`_ngcontent-${yc}`;function Dc(e,t,n){const r=new qn,s=w(e.selector);return r.set("type",e.internalType),s.length>0&&r.set("selectors",Vn(s)),e.queries.length>0&&r.set("contentQueries",function(e,t,n){const r=[],s=[],i=Nn(s,An);for(const n of e){r.push(Xe(bt.contentQuery).callFn([Je("dirIndex"),...Sc(n,t)]).toStmt());const e=i(),o=Xe(bt.loadQuery).callFn([]),a=Xe(bt.queryRefresh).callFn([e.set(o)]),c=Je(Fn).prop(n.propertyName).set(n.first?e.prop("first"):e);s.push(a.and(c).toStmt())}const o=n?`${n}_ContentQueries`:null;return st([new Fe(On,te),new Fe(Fn,null),new Fe("dirIndex",null)],[Ya(1,r),Ya(2,s)],X,null,o)}(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",function(e,t,n){const r=[],s=[],i=Nn(s,An);e.forEach((e=>{const n=Xe(bt.viewQuery).callFn(Sc(e,t));r.push(n.toStmt());const o=i(),a=Xe(bt.loadQuery).callFn([]),c=Xe(bt.queryRefresh).callFn([o.set(a)]),l=Je(Fn).prop(e.propertyName).set(e.first?o.prop("first"):o);s.push(c.and(l).toStmt())}));const o=n?`${n}_Query`:null;return st([new Fe(On,te),new Fe(Fn,null)],[Ya(1,r),Ya(2,s)],X,null,o)}(e.viewQueries,t,e.name)),r.set("hostBindings",function(e,t,n,r,s,i,o){const a=Je(Fn),c=new Bi(a),{styleAttr:l,classAttr:u}=e.specialAttributes;void 0!==l&&c.registerStyleAttr(l),void 0!==u&&c.registerClassAttr(u);const h=[],p=[],d=[],g=t,m=n.createDirectiveHostEventAsts(e.listeners,g);m&&m.length&&h.push(...function(e,t){const n=[],r=[],s=[];for(const s of e){let e=s.name&&Fr(s.name);const i=1===s.type?Pt(e,s.targetOrPhase):e,o=t&&e?`${t}_${i}_HostBindingHandler`:null,a=Qa(Qt.fromParsedEvent(s),o);1==s.type?r.push(a):n.push(a)}for(const e of r)s.push({reference:bt.syntheticHostListener,paramsOrFn:e,span:null});for(const e of n)s.push({reference:bt.listener,paramsOrFn:e,span:null});return s}(m,i));const f=n.createBoundHostProperties(e.properties,g),y=[];let b,w=0;f&&f.forEach((e=>{c.registerInputBasedOnName(e.name,e.expression,g)?w+=$i:(y.push(e),w++)}));const D=()=>(b||(b=new Xa(r,(()=>_("Unexpected node")),(e=>{const t=w;return w+=e,t}),(()=>_("Unexpected pipe")))),b),C=[],S=[],x=[];for(const e of y){const t=e.expression.visit(D()),r=Mc(a,t),{bindingName:i,instruction:o,isAttribute:c}=Fc(e),l=n.calcPossibleSecurityContexts(s,i,c).filter((e=>e!==v.NONE));let u=null;l.length&&(u=2===l.length&&l.indexOf(v.URL)>-1&&l.indexOf(v.RESOURCE_URL)>-1?Xe(bt.sanitizeUrlOrResourceUrl):uc(l[0],c));const h=[at(i),r.currValExpr];u?h.push(u):ti(i)&&h.push(Xe(bt.validateIframeAttribute)),d.push(...r.stmts),o===bt.hostProperty?C.push(h):o===bt.attribute?S.push(h):o===bt.syntheticHostProperty?x.push(h):p.push({reference:o,paramsOrFn:h,span:null})}for(const e of C)p.push({reference:bt.hostProperty,paramsOrFn:e,span:null});for(const e of S)p.push({reference:bt.attribute,paramsOrFn:e,span:null});for(const e of x)p.push({reference:bt.syntheticHostProperty,paramsOrFn:e,span:null});const I=function(e){const t=[];for(let n of Object.getOwnPropertyNames(e)){const r=e[n];t.push(at(n),r)}return t}(e.attributes);if(c.assignHostAttrs(I,o),c.hasBindings&&c.buildUpdateLevelInstructions(D()).forEach((e=>{for(const t of e.calls)w+=Math.max(t.allocateBindingSlots-$i,0),p.push({reference:e.reference,paramsOrFn:Ac(t,a,Mc),span:null})})),w&&o.set("hostVars",at(w)),h.length>0||p.length>0){const e=i?`${i}_HostBindings`:null,t=[];return h.length>0&&t.push(Ya(1,Wn(h))),p.length>0&&t.push(Ya(2,d.concat(Wn(p)))),st([new Fe(On,te),new Fe(Fn,null)],t,X,null,e)}return null}(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name,r)),r.set("inputs",$n(e.inputs,!0)),r.set("outputs",$n(e.outputs)),null!==e.exportAs&&r.set("exportAs",nt(e.exportAs.map((e=>at(e))))),e.isStandalone&&r.set("standalone",at(!0)),r}function Cc(e,t){const n=[],r=t.providers,s=t.viewProviders;if(r||s){const e=[r||new Ne([])];s&&e.push(s),n.push(Xe(bt.ProvidersFeature).callFn(e))}t.usesInheritance&&n.push(Xe(bt.InheritDefinitionFeature)),t.fullInheritance&&n.push(Xe(bt.CopyDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(Xe(bt.NgOnChangesFeature)),t.hasOwnProperty("template")&&t.isStandalone&&n.push(Xe(bt.StandaloneFeature)),t.hostDirectives?.length&&n.push(Xe(bt.HostDirectivesFeature).callFn([Pc(t.hostDirectives)])),n.length&&e.set("features",nt(n))}function _c(e){const t=Tc(e);return t.push(Ec(e.template.ngContentSelectors)),t.push(et(at(e.isStandalone))),t.push(Rc(e)),et(Xe(bt.ComponentDeclaration,t))}function Sc(e,t){const n=[Hn(e,t),at(xc(e))];return e.read&&n.push(e.read),n}function xc(e){return(e.descendants?1:0)|(e.static?2:0)|(e.emitDistinctChangesOnly?4:0)}function Ic(e){return rt(Object.keys(e).map((t=>({key:t,value:at(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}))))}function Ec(e){return e.length>0?et(nt(e.map((e=>at(e))))):re}function Tc(e){const t=null!==e.selector?e.selector.replace(/\n/g,""):null;return[At(e.type.type,e.typeArgumentCount),null!==t?(n=t,et(at(n))):re,null!==e.exportAs?Ec(e.exportAs):re,et(Ic(e.inputs)),et(Ic(e.outputs)),Ec(e.queries.map((e=>e.propertyName)))];var n}function kc(e){const t=Tc(e);return t.push(re),t.push(et(at(e.isStandalone))),t.push(Rc(e)),et(Xe(bt.DirectiveDeclaration,t))}function Mc(e,t){return Ns(null,e,t,"b")}function Ac(e,t,n){return e.params((e=>n(t,e).currValExpr))}function Fc(e){let t,n=e.name;const r=n.match(vc);return r?(n=r[1],t=bt.attribute):e.isAnimation?(n=Ot(n),t=bt.syntheticHostProperty):t=bt.hostProperty,{bindingName:n,instruction:t,isAttribute:!!r}}const Oc=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function Rc(e){return e.hostDirectives?.length?et(nt(e.hostDirectives.map((e=>rt([{key:"directive",value:tt(e.directive.type),quoted:!1},{key:"inputs",value:Ic(e.inputs||{}),quoted:!1},{key:"outputs",value:Ic(e.outputs||{}),quoted:!1}]))))):re}function Pc(e){const t=[];let n=!1;for(const r of e){if(r.inputs||r.outputs){const e=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){const t=Lc(r.inputs);t&&e.push({key:"inputs",value:t,quoted:!1})}if(r.outputs){const t=Lc(r.outputs);t&&e.push({key:"outputs",value:t,quoted:!1})}t.push(rt(e))}else t.push(r.directive.type);r.isForwardReference&&(n=!0)}return n?new Oe([],[new Ye(nt(t))]):nt(t)}function Lc(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(at(n),at(e[n]));return t.length>0?nt(t):null}class jc{}class Nc{constructor(e=new jr){this.jitEvaluator=e,this.FactoryTarget=$t,this.ResourceLoader=jc,this.elementSchemaRegistry=new sa}compilePipe(e,t,n){const r=Yr({name:n.name,type:Lt(n.type),internalType:new he(n.type),typeArgumentCount:0,deps:null,pipeName:n.pipeName,pure:n.pure,isStandalone:n.isStandalone});return this.jitExpression(r.expression,e,t,[])}compilePipeDeclaration(e,t,n){const r=function(e){return{name:e.type.name,type:Lt(e.type),internalType:new he(e.type),typeArgumentCount:0,pipeName:e.name,deps:null,pure:e.pure??!0,isStandalone:e.isStandalone??!1}}(n),s=Yr(r);return this.jitExpression(s.expression,e,t,[])}compileInjectable(e,t,n){const{expression:r,statements:s}=Kn({name:n.name,type:Lt(n.type),internalType:new he(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:Jc(n.providedIn),useClass:Yc(n,"useClass"),useFactory:Qc(n,"useFactory"),useValue:Yc(n,"useValue"),useExisting:Yc(n,"useExisting"),deps:n.deps?.map(Xc)},!0);return this.jitExpression(r,e,t,s)}compileInjectableDeclaration(e,t,n){const{expression:r,statements:s}=Kn({name:n.type.name,type:Lt(n.type),internalType:new he(n.type),typeArgumentCount:0,providedIn:Jc(n.providedIn),useClass:Yc(n,"useClass"),useFactory:Qc(n,"useFactory"),useValue:Yc(n,"useValue"),useExisting:Yc(n,"useExisting"),deps:n.deps?.map(el)},!0);return this.jitExpression(r,e,t,s)}compileInjector(e,t,n){const r=Ur({name:n.name,type:Lt(n.type),internalType:new he(n.type),providers:n.providers&&n.providers.length>0?new he(n.providers):null,imports:n.imports.map((e=>new he(e)))});return this.jitExpression(r.expression,e,t,[])}compileInjectorDeclaration(e,t,n){const r=function(e){return{name:e.type.name,type:Lt(e.type),internalType:new he(e.type),providers:void 0!==e.providers&&e.providers.length>0?new he(e.providers):null,imports:void 0!==e.imports?e.imports.map((e=>new he(e))):[]}}(n),s=Ur(r);return this.jitExpression(s.expression,e,t,[])}compileNgModule(e,t,n){const r=Wr({type:Lt(n.type),internalType:new he(n.type),adjacentType:new he(n.type),bootstrap:n.bootstrap.map(Lt),declarations:n.declarations.map(Lt),publicDeclarationTypes:null,imports:n.imports.map(Lt),includeImportTypes:!0,exports:n.exports.map(Lt),selectorScopeMode:Br.Inline,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(Lt):null,id:n.id?new he(n.id):null});return this.jitExpression(r.expression,e,t,[])}compileNgModuleDeclaration(e,t,n){const r=function(e){const t=new qn;return t.set("type",new he(e.type)),void 0!==e.bootstrap&&t.set("bootstrap",new he(e.bootstrap)),void 0!==e.declarations&&t.set("declarations",new he(e.declarations)),void 0!==e.imports&&t.set("imports",new he(e.imports)),void 0!==e.exports&&t.set("exports",new he(e.exports)),void 0!==e.schemas&&t.set("schemas",new he(e.schemas)),void 0!==e.id&&t.set("id",new he(e.id)),Xe(bt.defineNgModule).callFn([t.toLiteralMap()])}(n);return this.jitExpression(r,e,t,[])}compileDirective(e,t,n){const r=Bc(n);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,n){const r=Hc(n,this.createParseSourceSpan("Directive",n.type.name,t));return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveFromMeta(e,t,n){const r=new dt,s=function(e,t,n){const r=Dc(e,t,n);return Cc(r,e),{expression:Xe(bt.defineDirective).callFn([r.toLiteralMap()],void 0,!0),type:kc(e),statements:[]}}(n,r,lc());return this.jitExpression(s.expression,e,t,r.statements)}compileComponent(e,t,n){const{template:r,interpolation:s}=Zc(n.template,n.name,t,n.preserveWhitespaces,n.interpolation),i={...n,...Bc(n),selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:n.declarations.map(Kc),declarationListEmitMode:0,styles:[...n.styles,...r.styles],encapsulation:n.encapsulation,interpolation:s,changeDetection:n.changeDetection,animations:null!=n.animations?new he(n.animations):null,viewProviders:null!=n.viewProviders?new he(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0},o=`ng:///${n.name}.js`;return this.compileComponentFromMeta(e,o,i)}compileComponentDeclaration(e,t,n){const r=function(e,t,n){const{template:r,interpolation:s}=Zc(e.template,e.type.name,n,e.preserveWhitespaces??!1,e.interpolation),i=[];if(e.dependencies)for(const t of e.dependencies)switch(t.kind){case"directive":case"component":i.push(Gc(t));break;case"pipe":i.push((a=t,{kind:Hr.Pipe,name:a.name,type:new he(a.type)}))}else(e.components||e.directives||e.pipes)&&(e.components&&i.push(...e.components.map((e=>Gc(e,!0)))),e.directives&&i.push(...e.directives.map((e=>Gc(e)))),e.pipes&&i.push(...(o=e.pipes,o?Object.keys(o).map((e=>({kind:Hr.Pipe,name:e,type:new he(o[e])}))):[])));var o,a;return{...Hc(e,t),template:r,styles:e.styles??[],declarations:i,viewProviders:void 0!==e.viewProviders?new he(e.viewProviders):null,animations:void 0!==e.animations?new he(e.animations):null,changeDetection:e.changeDetection??g.Default,encapsulation:e.encapsulation??d.Emulated,interpolation:s,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0}}(n,this.createParseSourceSpan("Component",n.type.name,t),t);return this.compileComponentFromMeta(e,t,r)}compileComponentFromMeta(e,t,n){const r=new dt,s=function(e,t,n){const r=Dc(e,t,n);Cc(r,e);const s=e.selector&&p.parse(e.selector),i=s&&s[0];if(i){const e=i.getAttrs();e.length&&r.set("attrs",t.getConstLiteral(nt(e.map((e=>at(null!=e?e:void 0)))),!0))}const o=e.name,a=o?`${o}_Template`:null,c=e.changeDetection,l=e.template,u=new Ja(t,oc.createRootScope(),0,o,null,null,a,bt.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),h=u.buildTemplateFunction(l.nodes,[]),m=u.getNgContentSelectors();m&&r.set("ngContentSelectors",m),r.set("decls",at(u.getConstCount())),r.set("vars",at(u.getVarCount()));const{constExpressions:f,prepareStatements:v}=u.getConsts();if(f.length>0){let e=nt(f);v.length>0&&(e=st([],[...v,new Ye(e)])),r.set("consts",e)}if(r.set("template",h),e.declarations.length>0&&r.set("dependencies",function(e,t){switch(t){case 0:return e;case 1:return st([],[new Ye(e)]);case 2:const t=e.prop("map").callFn([Xe(bt.resolveForwardRef)]);return st([],[new Ye(t)])}}(nt(e.declarations.map((e=>e.type))),e.declarationListEmitMode)),null===e.encapsulation&&(e.encapsulation=d.Emulated),e.styles&&e.styles.length){const n=e.encapsulation==d.Emulated?function(e,t,n){const r=new ri;return e.map((e=>r.shimCssText(e,t,n)))}(e.styles,wc,bc):e.styles,s=n.reduce(((e,n)=>(n.trim().length>0&&e.push(t.getConstLiteral(at(n))),e)),[]);s.length>0&&r.set("styles",nt(s))}else e.encapsulation===d.Emulated&&(e.encapsulation=d.None);return e.encapsulation!==d.Emulated&&r.set("encapsulation",at(e.encapsulation)),null!==e.animations&&r.set("data",rt([{key:"animation",value:e.animations,quoted:!1}])),null!=c&&c!==g.Default&&r.set("changeDetection",at(c)),{expression:Xe(bt.defineComponent).callFn([r.toLiteralMap()],void 0,!0),type:_c(e),statements:[]}}(n,r,lc(n.interpolation));return this.jitExpression(s.expression,e,t,r.statements)}compileFactory(e,t,n){const r=Bt({name:n.name,type:Lt(n.type),internalType:new he(n.type),typeArgumentCount:n.typeArgumentCount,deps:(s=n.deps,null==s?null:s.map(Xc)),target:n.target});var s;return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,n){const r=Bt({name:n.type.name,type:Lt(n.type),internalType:new he(n.type),typeArgumentCount:0,deps:Array.isArray(n.deps)?n.deps.map(el):n.deps,target:n.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,n){return function(e,t,n){const r=new Er("",`in ${e} ${t} in ${n}`);return new Tr(new Ir(r,-1,-1,-1),new Ir(r,-1,-1,-1))}(e,t,n)}jitExpression(e,t,n,r){const s=[...r,new Ke("$def",e,void 0,He.Exported)];return this.jitEvaluator.evaluateStatements(n,s,new $r(t),!0).$def}}function Uc(e){return{...e,predicate:$c(e.predicate),read:e.read?new he(e.read):null,static:e.static,emitDistinctChangesOnly:e.emitDistinctChangesOnly}}function Vc(e){return{propertyName:e.propertyName,first:e.first??!1,predicate:$c(e.predicate),descendants:e.descendants??!1,read:e.read?new he(e.read):null,static:e.static??!1,emitDistinctChangesOnly:e.emitDistinctChangesOnly??!0}}function $c(e){return Array.isArray(e)?e:Nt(new he(e),1)}function Bc(e){const t=rl(e.inputs||[]),n=rl(e.outputs||[]),r=e.propMetadata,s={},i={};for(const e in r)r.hasOwnProperty(e)&&r[e].forEach((t=>{"Input"===t.ngMetadataName?s[e]=t.bindingPropertyName?[t.bindingPropertyName,e]:e:"Output"===t.ngMetadataName&&(i[e]=t.bindingPropertyName||e)}));return{...e,typeArgumentCount:0,typeSourceSpan:e.typeSourceSpan,type:Lt(e.type),internalType:new he(e.type),deps:null,host:nl(e.propMetadata,e.typeSourceSpan,e.host),inputs:{...t,...s},outputs:{...n,...i},queries:e.queries.map(Uc),providers:null!=e.providers?new he(e.providers):null,viewQueries:e.viewQueries.map(Uc),fullInheritance:!1,hostDirectives:zc(e)}}function Hc(e,t){return{name:e.type.name,type:Lt(e.type),typeSourceSpan:t,internalType:new he(e.type),selector:e.selector??null,inputs:e.inputs??{},outputs:e.outputs??{},host:qc(e.host),queries:(e.queries??[]).map(Vc),viewQueries:(e.viewQueries??[]).map(Vc),providers:void 0!==e.providers?new he(e.providers):null,exportAs:e.exportAs??null,usesInheritance:e.usesInheritance??!1,lifecycle:{usesOnChanges:e.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:e.isStandalone??!1,hostDirectives:zc(e)}}function qc(e={}){return{attributes:Wc(e.attributes??{}),listeners:e.listeners??{},properties:e.properties??{},specialAttributes:{classAttr:e.classAttribute,styleAttr:e.styleAttribute}}}function zc(e){return e.hostDirectives?.length?e.hostDirectives.map((e=>"function"==typeof e?{directive:Lt(e),inputs:null,outputs:null,isForwardReference:!1}:{directive:Lt(e.directive),isForwardReference:!1,inputs:e.inputs?rl(e.inputs):null,outputs:e.outputs?rl(e.outputs):null})):null}function Wc(e){const t={};for(const n of Object.keys(e))t[n]=new he(e[n]);return t}function Kc(e){return{...e,type:new he(e.type)}}function Gc(e,t=null){return{kind:Hr.Directive,isComponent:t||"component"===e.kind,selector:e.selector,type:new he(e.type),inputs:e.inputs??[],outputs:e.outputs??[],exportAs:e.exportAs??null}}function Zc(e,t,n,r,s){const i=s?Jn.fromArray(s):Xn,o=function(e,t,n={}){const{interpolationConfig:r,preserveWhitespaces:s,enableI18nLegacyMessageIdFormat:i}=n,o=lc(r),a=(new qo).parse(e,t,{leadingTriviaChars:Za,...n,tokenizeExpansionForms:!0});if(!n.alwaysAttemptHtmlToR3AstConversion&&a.errors&&a.errors.length>0){const e={interpolationConfig:r,preserveWhitespaces:s,errors:a.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(e.commentNodes=[]),e}let c=a.rootNodes;const l=new Ua(r,!s,i),u=l.visitAllWithErrors(c);if(!n.alwaysAttemptHtmlToR3AstConversion&&u.errors&&u.errors.length>0){const e={interpolationConfig:r,preserveWhitespaces:s,errors:u.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(e.commentNodes=[]),e}c=u.rootNodes,s||(c=bo(new Qo,c),l.hasI18nMeta&&(c=bo(new Ua(r,!1),c)));const{nodes:h,errors:p,styleUrls:d,styles:g,ngContentSelectors:m,commentNodes:f}=function(e,t,n){const r=new ba(t,n),s={nodes:bo(r,e),errors:t.errors.concat(r.errors),styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(s.commentNodes=r.commentNodes),s}(c,o,{collectCommentNodes:!!n.collectCommentNodes});p.push(...a.errors,...u.errors);const v={interpolationConfig:r,preserveWhitespaces:s,errors:p.length>0?p:null,nodes:h,styleUrls:d,styles:g,ngContentSelectors:m};return n.collectCommentNodes&&(v.commentNodes=f),v}(e,n,{preserveWhitespaces:r,interpolationConfig:i});if(null!==o.errors){const e=o.errors.map((e=>e.toString())).join(", ");throw new Error(`Errors during JIT compilation of template for ${t}: ${e}`)}return{template:o,interpolation:i}}function Yc(e,t){return e.hasOwnProperty(t)?Nt(new he(e[t]),0):void 0}function Qc(e,t){return e.hasOwnProperty(t)?new he(e[t]):void 0}function Jc(e){return Nt("function"==typeof e?new he(e):new ye(e??null),0)}function Xc(e){const t=null!=e.attribute,n=null===e.token?null:new he(e.token);return tl(t?new he(e.attribute):n,t,e.host,e.optional,e.self,e.skipSelf)}function el(e){const t=e.attribute??!1;return tl(null===e.token?null:new he(e.token),t,e.host??!1,e.optional??!1,e.self??!1,e.skipSelf??!1)}function tl(e,t,n,r,s,i){return{token:e,attributeNameType:t?at("unknown"):null,host:n,optional:r,self:s,skipSelf:i}}function nl(e,t,n){const r=function(e){const t={},n={},r={},s={};for(const i of Object.keys(e)){const o=e[i],a=i.match(Oc);if(null===a)switch(i){case"class":if("string"!=typeof o)throw new Error("Class binding must be string");s.classAttr=o;break;case"style":if("string"!=typeof o)throw new Error("Style binding must be string");s.styleAttr=o;break;default:t[i]="string"==typeof o?at(o):o}else if(null!=a[1]){if("string"!=typeof o)throw new Error("Property binding must be string");r[a[1]]=o}else if(null!=a[2]){if("string"!=typeof o)throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:t,listeners:n,properties:r,specialAttributes:s}}(n||{}),s=function(e,t){const n=lc();return n.createDirectiveHostEventAsts(e.listeners,t),n.createBoundHostProperties(e.properties,t),n.errors}(r,t);if(s.length)throw new Error(s.map((e=>e.msg)).join("\n"));for(const t in e)e.hasOwnProperty(t)&&e[t].forEach((e=>{"HostBinding"===e.ngMetadataName?r.properties[e.hostPropertyName||t]=Rt("this",t):"HostListener"===e.ngMetadataName&&(r.listeners[e.eventName||t]=`${t}(${(e.args||[]).join(",")})`)}));return r}function rl(e){return e.reduce(((e,t)=>{const[n,r]=t.split(":",2).map((e=>e.trim()));return e[n]=r||n,e}),{})}new class{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}("15.0.4");class sl{constructor({defaultEncapsulation:e=d.Emulated,useJit:t=!0,missingTranslation:n=null,preserveWhitespaces:r,strictInjectionParameters:s}={}){var i;this.defaultEncapsulation=e,this.useJit=!!t,this.missingTranslation=n,this.preserveWhitespaces=function(e,t=!1){return null===e?t:e}(void 0===(i=r)?null:i),this.strictInjectionParameters=!0===s}}var il,ol;!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(il||(il={})),new class{constructor(){this.closedByParent=!1,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return e.PARSABLE_DATA}},function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(ol||(ol={})),function(e){(e.ng||(e.ng={})).ɵcompilerFacade=new Nc}(I);var al=s(8676),cl=s(1132),ll=s(4064);new al.InjectionToken("ErrorCollector"),al.PACKAGE_ROOT_URL;const ul=[{provide:al.Compiler,useFactory:()=>new al.Compiler}];function hl(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function pl(e){const t=[];return e.forEach((e=>e&&t.push(...e))),t}const dl=(0,al.createPlatformFactory)(al.platformCore,"coreDynamic",[{provide:al.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:al.CompilerFactory,useClass:class{constructor(e){const t={useJit:!0,defaultEncapsulation:al.ViewEncapsulation.Emulated,missingTranslation:al.MissingTranslationStrategy.Warning};this._defaultOptions=[t,...e]}createCompiler(e=[]){const t={useJit:hl((n=this._defaultOptions.concat(e)).map((e=>e.useJit))),defaultEncapsulation:hl(n.map((e=>e.defaultEncapsulation))),providers:pl(n.map((e=>e.providers))),missingTranslation:hl(n.map((e=>e.missingTranslation))),preserveWhitespaces:hl(n.map((e=>e.preserveWhitespaces)))};var n;return al.Injector.create([ul,{provide:sl,useFactory:()=>new sl({useJit:t.useJit,defaultEncapsulation:t.defaultEncapsulation,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces}),deps:[]},t.providers]).get(al.Compiler)}},deps:[al.COMPILER_OPTIONS]}]);class gl extends jc{get(e){let t,n;const r=new Promise(((e,r)=>{t=e,n=r})),s=new XMLHttpRequest;return s.open("GET",e,!0),s.responseType="text",s.onload=function(){const r=s.response||s.responseText;let i=1223===s.status?204:s.status;0===i&&(i=r?200:0),200<=i&&i<=300?t(r):n(`Failed to load ${e}`)},s.onerror=function(){n(`Failed to load ${e}`)},s.send(),r}}gl.ɵfac=al["ɵɵngDeclareFactory"]({minVersion:"12.0.0",version:"15.0.4",ngImport:al,type:gl,deps:null,target:al["ɵɵFactoryTarget"].Injectable}),gl.ɵprov=al["ɵɵngDeclareInjectable"]({minVersion:"12.0.0",version:"15.0.4",ngImport:al,type:gl}),al["ɵɵngDeclareClassMetadata"]({minVersion:"12.0.0",version:"15.0.4",ngImport:al,type:gl,decorators:[{type:al.Injectable}]});const ml=[ll.eO,{provide:al.COMPILER_OPTIONS,useValue:{providers:[{provide:jc,useClass:gl,deps:[]}]},multi:!0},{provide:al.PLATFORM_ID,useValue:cl._k}];new al.Version("15.0.4");const fl=(0,al.createPlatformFactory)(dl,"browserDynamic",ml);var vl=s(1316);let yl=class{constructor(){this.title="chatwidget"}};yl=(0,vl.UN)([(0,al.Component)({selector:"chatwidget-root",templateUrl:"./app.component.html",styleUrls:["./app.component.scss"]})],yl);var bl=s(6764),wl=s(4352);let Dl=class{constructor(e,t,n){this.auth=e,this.api=t,this.doc=n,this.isAuthenticated$=this.auth.isAuthenticated$}login(){this.auth.loginWithRedirect({appState:{target:"/chat"},authorizationParams:{prompt:"login"}})}logout(){this.auth.logout({logoutParams:{returnTo:this.doc.location.origin}})}signup(){this.auth.loginWithRedirect({authorizationParams:{screen_hint:"signup"}})}};Dl=(0,vl.UN)([(0,al.Component)({selector:"chatwidget-auth",templateUrl:"./auth.component.html"}),(0,vl.OU)(2,(0,al.Inject)(cl.Ud)),(0,vl.YR)("design:paramtypes",[bl.oj,wl.W,Document])],Dl);let Cl=class{constructor(e){this.auth=e}ngOnInit(){console.log("Called back"),this.auth.handleRedirectCallback().subscribe()}};Cl=(0,vl.UN)([(0,al.Component)({selector:"chatwidget-callback",template:"<div>Logging in...</div>"}),(0,vl.YR)("design:paramtypes",[bl.oj])],Cl);var _l=s(9584),Sl=s(9752),xl=s(5552),Il=s(5144);const El=[{path:"",component:Dl},{path:"callback",component:Cl},{path:"chat",loadComponent:()=>s.e(220).then(s.bind(s,2220)).then((e=>e.ChatComponent)),canActivate:[bl.Qv]}];let Tl=class{};Tl=(0,vl.UN)([(0,al.NgModule)({declarations:[yl,Dl,Cl],imports:[ll.iE,_l.qQ.forRoot(El),bl.Ko.forRoot({domain:"dev-xmsy4k5t5v2yf225.us.auth0.com",clientId:"6D8v8qqa3okykI4CW56GH8O2NNK2XThM",authorizationParams:{redirect_uri:"http://localhost:4200/callback",audience:"https://hello-world.com"},httpInterceptor:{allowedList:["https://localhost:7183*"]}}),Sl.O0.forRoot(),xl.Yz,xl.QP,Il.SU],providers:[{provide:Il.So,useClass:bl.i2,multi:!0}],bootstrap:[yl]})],Tl),fl().bootstrapModule(Tl).catch((e=>console.error(e)))})()})();